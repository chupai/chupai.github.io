[{"content":"\rå‰è¨€ å»ºæ§‹ç¶²é ä½ˆå±€æ˜¯è£½ä½œç¶²ç«™çš„åŸºç¤ï¼Œæ—©æœŸæ’ç‰ˆæ˜¯è¨±å¤šé–‹ç™¼è€…çš„æƒ¡å¤¢ï¼Œä½†éš¨è‘— Flex å¦‚æ¯’å“èˆ¬çš„å‡ºç¾ï¼Œç”¨éå°±å›ä¸å»äº†ã€‚è¨±å¤šå‰ç«¯æ¡†æ¶ä½¿ç”¨ Flex å¯¦ç¾ Grid systemï¼Œä¾‹å¦‚ Bootstrapã€‚ä½†åŸºæ–¼ Flex çš„ Grid system éˆæ´»åº¦æœ‰æ™‚å€™é‚„æ˜¯ä¸å¤ªå¤ ï¼Œè€Œä¸”é‡åˆ°é›™å‘æ’ç‰ˆæ™‚ï¼Œæœƒä½¿ç”¨å¤§é‡çš„å·¢ç‹€çµæ§‹ã€‚\nCSS Grid çš„å‡ºç¾ï¼Œå¯ä»¥èªªæ˜¯ CSS çœŸæ­£çš„ Grid systemï¼Œç‚ºç›®å‰ CSS å”¯ä¸€çš„äºŒç¶­ä½ˆå±€ã€‚\nç€è¦½å™¨æ”¯æ´ ä¸»æµç€è¦½åŸºæœ¬ä¸Šéƒ½æ”¯æŒï¼Œè©³ç´°æ”¯æ´æƒ…æ³å¯ä»¥æŸ¥é–± can I use ã€‚\nåŸºæœ¬æ¦‚å¿µ  ç¶²æ ¼å®¹å™¨ Grid containerï¼Œç¶²æ ¼ç³»çµ±çš„å¤–å±¤æ¡†æ¶ã€‚ ç¶²æ ¼é …ç›® Grid itemï¼Œç¶²æ ¼å®¹å™¨ä¸‹çš„ç›´æ¥å­å…ƒç´ ã€‚ ç¶²æ ¼ç·š Grid lineï¼Œçµ„æˆç¶²æ ¼çš„åˆ†å‰²ç·šã€‚ ç¶²æ ¼è»Œé“ Grid trackï¼Œå…©æ¢ç¶²æ ¼ç·šä¹‹é–“çš„å€åŸŸï¼Œç¨±ç‚ºç¶²æ ¼æ¬„ Grid column æˆ–ç¶²æ ¼åˆ— Grid rowã€‚ ç¶²æ ¼å–®å…ƒæ ¼ Grid cellï¼Œç¶²æ ¼çš„æœ€å°çš„é¢ç©å–®ä½ã€‚ ç¶²æ ¼å€å¡Š Grid areaï¼Œç”±å››æ¢ç¶²æ ¼ç·šæ‰€çµ„æˆçš„çŸ©å½¢å€åŸŸã€‚  å»ºç«‹å®¹å™¨ ä½¿ç”¨ CSS Grid çš„å¿…è¦å±¬æ€§ã€‚\n1  \u0026lt;div class=\u0026#34;container\u0026#34;\u0026gt;\u0026lt;/div\u0026gt;\r  1 2 3  .container {\rdisplay: grid | inline-grid;\r}\r  å®£å‘Šä»¥å¾Œï¼Œè©²å…ƒç´ æœƒè®Šæˆ grid containerï¼Œæ‰€æœ‰ç›´æ¥å­å…ƒç´ æœƒè®Šæˆ grid itemã€‚\nç•«æ ¼å­ æ¥ä¸‹ä¾†æˆ‘å€‘ä¾†ç•«æ ¼å­ï¼Œä¹Ÿå°±æ˜¯å®šç¾©å‡ºåŸºç¤çš„ grid cellï¼Œæˆ‘å€‘å¯ä»¥ä½¿ç”¨ grid-template-rows å’Œ grid-template-columns ä¾†æ”¾ç½®ç¶²æ ¼å…§çš„ grid lineï¼Œé€™æ¨£å°±ç”¢ç”Ÿå‚ç›´èˆ‡æ°´å¹³çš„ grid trackï¼Œä¹Ÿå°±æ˜¯æ¬„èˆ‡åˆ—ï¼Œå…©è€…äº¤å‰å°±æœƒå½¢æˆä¸€æ ¼ä¸€æ ¼çš„ grid cellã€‚\n1 2 3 4 5 6 7  .container {\rgrid-template-rows: \u0026lt;track-size\u0026gt;...;\rgrid-template-columns: \u0026lt;track-size\u0026gt;...;\r/* ç°¡å¯« rows / columns */\rgrid-template: \u0026lt;track-size\u0026gt;... / \u0026lt;track-size\u0026gt;...;\r}\r  track-size æŒ‡çš„æ˜¯ grid line ä¹‹é–“çš„è·é›¢ï¼Œä¹Ÿå°±æ˜¯ grid track çš„å°ºå¯¸ã€‚\nèˆ‰ä¾‹ä¾†èªªï¼š\n1 2 3 4  .container {\rgrid-template-rows: 120px 180px;\rgrid-template-columns: 120px 120px 60px;\r}\r  ä¸Šé¢ç¨‹å¼ç¢¼çš„æ•ˆæœå¦‚ä¸‹ï¼Œ2 åˆ— 3 æ¬„æœƒå½¢æˆ 6 æ ¼ grid cellï¼š\næˆ‘å€‘å¯ä»¥é–‹å•Ÿ Chrome Devtool æŸ¥çœ‹ï¼š\næ¥è‘—æ”¾å…¥ grid itemï¼š\n1 2 3 4  .item {\rborder-radius: 12px;\rborder: 2px solid #222;\r}\r  1 2 3 4 5 6 7 8  \u0026lt;div class=\u0026#34;container\u0026#34;\u0026gt;\r\u0026lt;div class=\u0026#34;item\u0026#34;\u0026gt;\u0026lt;/div\u0026gt;\r\u0026lt;div class=\u0026#34;item\u0026#34;\u0026gt;\u0026lt;/div\u0026gt;\r\u0026lt;div class=\u0026#34;item\u0026#34;\u0026gt;\u0026lt;/div\u0026gt;\r\u0026lt;div class=\u0026#34;item\u0026#34;\u0026gt;\u0026lt;/div\u0026gt;\r\u0026lt;div class=\u0026#34;item\u0026#34;\u0026gt;\u0026lt;/div\u0026gt;\r\u0026lt;div class=\u0026#34;item\u0026#34;\u0026gt;\u0026lt;/div\u0026gt;\r\u0026lt;/div\u0026gt;\r  é è¨­çš„æƒ…æ³ä¸‹ï¼Œgrid item æœƒå„ä½”ä¸€æ ¼ grid cellã€‚\nSee the Pen CSS Grid - ç•«æ ¼å­ by CHUPAIWANG\r(@CHUPAIWANG) on CodePen.\r\r1. fr å–®ä½ å¦‚æœ grid container æœ‰å®šç¾©å¯¬é«˜ï¼š\n1 2 3 4 5  .container {\rwidth: 300px;\rheight: 300px;\rdisplay: grid;\r}\r  æˆ‘å€‘å¯ä»¥ä½¿ç”¨ CSS Grid å°ˆç”¨å–®ä½ frï¼ˆfractionï¼‰ ä¾ç…§æ¯”ä¾‹åˆ†é…å‰©é¤˜ç©ºé–“ï¼š\n1 2 3 4  .container {\rgrid-template-rows: 100px 1fr;\rgrid-template-columns: 1fr 3fr;\r}\r  ä½¿ç”¨ % éœ€è¦æ‰‹å‹•è¨ˆç®—ï¼Œè€Œ fr åªéœ€è¦è¨­ç½®å¹¾ç­‰ä»½å°±å¥½ï¼Œéå¸¸æ–¹ä¾¿ã€‚\nSee the Pen CSS Grid - fr å–®ä½ by CHUPAIWANG\r(@CHUPAIWANG) on CodePen.\r\r2. repeat() å‡½å¼ è‹¥å°ºå¯¸å€¼ç›¸åŒï¼Œå¯ä»¥ä½¿ç”¨ repeat() è¡¨ç¤ºé‡è¤‡çš„å€¼ï¼š\n1 2 3 4 5  .container {\rgrid-template-rows: repeat(3, 1fr);\r/* ç­‰åŒ */\rgrid-template-rows: 1fr 1fr 1fr;\r}\r  1 2 3 4 5  .container {\rgrid-template-rows: 10px repeat(3, 1fr) 10px;\r/* ç­‰åŒ */\rgrid-template-rows: 10px 1fr 1fr 1fr 10px;\r}\r  1 2 3 4 5  .container {\rgrid-template-rows: repeat(3, 1fr 2fr);\r/* ç­‰åŒ */\rgrid-template-rows: 1fr 2fr 1fr 2fr 1fr 2fr;\r}\r  1 2 3 4 5  .container {\rgrid-template-rows: repeat(2, 1fr) 10px repeat(2, 2fr);\r/* ç­‰åŒ */\rgrid-template-rows: 1fr 1fr 10px 2fr 2fr;\r}\r  3. æœ€å¤§æœ€å°å€¼ å¦‚æœæˆ‘å€‘çš„ grid container æœƒéš¨è‘—è¦–çª—åšè®ŠåŒ–ï¼Œç•¶ä½ ä½¿ç”¨ fr æˆ– auto ä½œç‚º track-size å¤§å°æ™‚ï¼Œè¦é¿å… grid track å¤ªå¤§æˆ–å¤ªå°ï¼Œå¯ä»¥ä½¿ç”¨ minmax() å‡½å¼å¯ä»¥å®šç¾©æœ€å°æœ€å¤§å€¼ï¼Œã€‚\nèˆ‰ä¾‹ä¾†èªªï¼Œæ¬„å¯¬æœ€å°å€¼ autoã€æœ€å¤§å€¼ä¸è¶…é 150pxï¼š\n1 2 3 4 5 6  .container {\rwidth: 100%;\rdisplay: grid;\rgrid-template-rows: 60px;\rgrid-template-columns: minmax(auto, 150px) 100px 50px;\r}\r  See the Pen CSS Grid - minmax by CHUPAIWANG\r(@CHUPAIWANG) on CodePen.\r\r4. auto-fillã€auto-fit ä½¿ç”¨ repeat() æ™‚ï¼Œè‹¥ä¸çŸ¥é“è¦é‡è¤‡çš„æ•¸é‡ï¼Œå¯ä»¥ç”¨ auto-fill æˆ– auto-fit è‡ªå‹•å°‡ grid track å¡«æ»¿å®¹å™¨ã€‚\nå…©è€…å·®ç•°åœ¨æ–¼ï¼Œauto-fit æ²’æœ‰ç”¨åˆ°çš„ grid track æœƒè¢«è¨­ç‚º 0pxã€‚\n1 2 3  \u0026lt;div class=\u0026#34;container auto-fill\u0026#34;\u0026gt;\u0026lt;/div\u0026gt;\r\u0026lt;div class=\u0026#34;container auto-fit\u0026#34;\u0026gt;\u0026lt;/div\u0026gt;\r  1 2 3 4 5 6 7 8 9 10 11 12 13 14  .container {\rbackground: #eee;\rwidth: 200px;\rdisplay: grid;\rgrid-template-rows: repeat(4, 50px);\r}\r.auto-fill {\rgrid-template-columns: repeat(auto-fill, 50px);\r}\r.auto-fit {\rgrid-template-columns: repeat(auto-fit, 50px);\r}\r  æ¥ä¸‹ä¾†æˆ‘å€‘æ”¾å…¥ grid itemï¼Œå…©è€…åŸºæœ¬ä¸Šæ²’ä»€éº¼å·®åˆ¥ã€‚\nSee the Pen CSS Grid - auto-fillã€auto-fit by CHUPAIWANG\r(@CHUPAIWANG) on CodePen.\r\rä½†å¦‚æœæˆ‘å€‘å°‡æ¬„çš„ track-size æ”¹æˆ minmax(50px, 1fr) å°±æœƒæœ‰æ˜é¡¯çš„å·®ç•°ã€‚\nSee the Pen CSS Grid - auto-fillã€auto-fit å·®ç•° by CHUPAIWANG\r(@CHUPAIWANG) on CodePen.\r\ræ”¾ç½®ç¶²æ ¼é …ç›® é è¨­çš„æƒ…æ³ä¸‹ï¼Œgrid item å„ä½”ä¸€æ ¼ grid cellã€‚ä¸éæˆ‘å€‘èƒ½åˆ†åˆ¥å®šç¾© grid item è¦ä½”çš„ç©ºé–“ï¼Œä¹Ÿå°±æ˜¯ grid areaã€‚\n1 2 3 4 5 6 7 8 9 10 11 12 13 14  .item {\rgrid-row-start: \u0026lt;name\u0026gt;;\rgrid-row-end: \u0026lt;name\u0026gt;;\rgrid-column-start: \u0026lt;name\u0026gt;;\rgrid-column-end: \u0026lt;name\u0026gt;;\r/* ç°¡å¯« start / end */\rgrid-row: \u0026lt;name\u0026gt; / \u0026lt;name\u0026gt;;\rgrid-column: \u0026lt;name\u0026gt; / \u0026lt;name\u0026gt;;\r/* ç°¡å¯« row start / column start / row end / column end*/\rgrid-area: \u0026lt;name\u0026gt; / \u0026lt;name\u0026gt; / \u0026lt;name\u0026gt; / \u0026lt;name\u0026gt;;\r}\r  start èˆ‡ end åˆ†åˆ¥è¡¨ç¤º èµ·å§‹ èˆ‡ çµæŸ çš„grid lineã€‚\nGrid line æ˜¯æœ‰åç¨±çš„ï¼Œé è¨­ç‚ºæ•¸å­—ç·¨è™Ÿï¼Œç”±å·¦è‡³å³ï¼ˆç”±ä¸Šè‡³ä¸‹ï¼‰ç‚ºæ­£å€¼ï¼Œç”±å³è‡³å·¦ï¼ˆç”±ä¸‹è‡³ä¸Šï¼‰å‰‡ç‚ºè² å€¼ã€‚\nèˆ‰ä¾‹ä¾†èªªï¼š\n1 2 3 4 5 6  .item {\rgrid-row-start: 2;\rgrid-row-end: 5;\rgrid-column-start: 2;\rgrid-column-end: 4;\r}\r  See the Pen CSS Grid - æ ¼ç·š by CHUPAIWANG\r(@CHUPAIWANG) on CodePen.\r\r1. è·¨åº¦ span é™¤äº†æŒ‡å®š grid line åç¨±ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨ è·¨åº¦ span \u0026lt;number\u0026gt; è¡¨ç¤ºè¦è·¨å¹¾æ ¼ grid cellã€‚\nèˆ‰ä¾‹ä¾†èªªï¼Œå¾ç¬¬ 5 æ¢æ°´å¹³ç·šå¾€ä¸Šè·¨ 2 æ ¼ã€å¾ç¬¬ 2 æ¢å‚ç›´ç·šå¾€å·¦è·¨ 3 æ ¼ï¼š\n1 2 3 4 5 6  .item {\rgrid-row-start: span 2;\rgrid-row-end: 5;\rgrid-column-start: 2;\rgrid-column-end: span 3;\r}\r  See the Pen CSS Grid - æ¬„ä½æ•¸ by CHUPAIWANG\r(@CHUPAIWANG) on CodePen.\r\r2. è‡ªè¨‚ç¾©åç¨± é™¤äº†é è¨­ç·¨è™Ÿï¼Œgrid line èƒ½ä½¿ç”¨è‡ªè¨‚ç¾©åç¨±ï¼š\n1 2 3 4 5 6 7  .container {\rgrid-template-rows: [name] \u0026lt;track-size\u0026gt; [name]...;\rgrid-template-columns: [name] \u0026lt;track-size\u0026gt; [name]...;\r/* ç°¡å¯« rows / columns */\rgrid-template: [name] \u0026lt;track-size\u0026gt; [name]... / [name] \u0026lt;track-size\u0026gt; [name]...;\r}\r  èˆ‰ä¾‹ä¾†èªªï¼š\n1 2 3 4 5 6 7 8 9  .container {\rgrid-template-rows: [y1] 1fr [y2] 1fr [y3] 1fr [y4] 1fr [y5] 1fr [y6];\rgrid-template-columns: [x1] 1fr [x2] 1fr [x3] 1fr [x4] 1fr [x5] 1fr [x6];\r}\r.item {\rgrid-row: y1 / y4;\rgrid-column: x1 / x5;\r}\r  See the Pen CSS Grid - è‡ªè¨‚ç¾©åç¨± by CHUPAIWANG\r(@CHUPAIWANG) on CodePen.\r\r3. é †åº ç•¶æˆ‘å€‘æ‰‹å‹•æ”¾ç½® grid item æ™‚ï¼Œå®ƒå€‘çš„ grid area å¯èƒ½æœƒæœ‰é‡ç–Šçš„éƒ¨åˆ†ï¼Œè‹¥è¦æ”¹è®Šé¡¯ç¤ºé †åºï¼Œå¯ä»¥ä½¿ç”¨ z-index åˆ†å±¤æˆ– order æ’åºã€‚\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20  .item-1 {\rbackground: rgba(255, 0, 0, 0.8);\rgrid-row: 1/ 4;\rgrid-column: 1 / 5;\rz-index: 2;\r}\r.item-2 {\rbackground: rgba(0, 255, 0, 0.8);\rgrid-row: 3 / 5;\rgrid-column: 2 / 6;\rz-index: 3;\r}\r.item-3 {\rbackground: rgba(0, 0, 255, 0.8);\rgrid-row: 2 / 6;\rgrid-column: 1 / 3;\rz-index: 1;\r}\r  See the Pen CSS Grid - è‡ªè¨‚ç¾©åç¨± by CHUPAIWANG\r(@CHUPAIWANG) on CodePen.\r\r4. auto é è¨­çš„æƒ…æ³ä¸‹ï¼Œgrid item å„ä½”ä¸€æ ¼ grid cellï¼Œå› ç‚º grid-area çš„é è¨­å€¼ç‚º autoï¼Œgrid item æœƒè¢«ä»¥é è¨­è·¨åº¦ 1 è‡ªå‹•æ”¾ç½®ã€‚\nauto æœƒè‡ªå‹•å°‹æ‰¾ä¸‹ä¸€æ¢å¯ç”¨çš„ grid lineï¼Œå¦‚æœè¦å°‡ grid item è‡ªå‹•è·¨ 2 æ¬„ grid item ä¸é‡ç–Šï¼Œåªéœ€è¦è¨­ç½® grid-column-endï¼š\n1 2 3 4  .item {\rgrid-column-start: auto: /* é è¨­å€¼ auto */\rgrid-column-end: span 2;\r}\r  See the Pen CSS Grid - auto by CHUPAIWANG\r(@CHUPAIWANG) on CodePen.\r\r5. å€å¡Š æˆ‘å€‘é‚„å¯ä»¥ä½¿ç”¨ grid-template-areas å®šç¾© grid areaï¼Œå†åˆ©ç”¨ grid-area å°æ‡‰åˆ°ç›¸å°çš„åç¨±ã€‚\n1 2 3  .container {\rgrid-template-areas: \u0026lt;string\u0026gt;;\r}\r  æ¯å€‹å­—ä¸²éƒ½ä»£è¡¨ä¸€åˆ—ï¼Œä½¿ç”¨è¦å®šç¾©çš„ grid area åç¨±åœæˆçŸ©å½¢ï¼Œæ²’æœ‰è¦ä½¿ç”¨åˆ°çš„ grid cell å¯ä»¥ä½¿ç”¨ä»»ä½•å­—å…ƒè·³éã€‚\nèˆ‰ä¾‹ä¾†èªªï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19  .container {\r/* ... */\rgrid-template-areas:\r\u0026#39;xx xx . . .\u0026#39;\r\u0026#39;xx xx . yy yy\u0026#39;\r\u0026#39;. . . yy yy\u0026#39; \u0026#39;zz zz . yy yy\u0026#39;\r\u0026#39;zz zz . . .\u0026#39;;\r}\r.item-1 {\rgrid-area: x;\r}\r.item-2 {\rgrid-area: y;\r}\r.item-3 {\rgrid-area: z;\r}\r  æ³¨æ„ï¼Œå®šç¾© grid area åªèƒ½æ˜¯çŸ©å½¢çš„ç¯„åœï¼ŒéçŸ©å½¢ç‚ºç„¡æ•ˆå®£å‘Šã€‚\nSee the Pen CSS Grid - å‘½å by CHUPAIWANG\r(@CHUPAIWANG) on CodePen.\r\ré–“è· Grid area ä¹‹é–“çš„ é–“è·ï¼ˆgutterï¼‰ã€‚\n1 2 3 4 5 6 7 8 9 10 11 12 13 14  .container {\r/* æ¨™æº– */\rrow-gap: \u0026lt;line-size\u0026gt;;\rcolumn-gap: \u0026lt;line-size\u0026gt;;\r/* ç°¡å¯« row column */\rgap: line-size\u0026gt; | \u0026lt;line-size\u0026gt; \u0026lt;line-size\u0026gt;;\r/* èˆŠèªæ³• */\rgrid-row-gap: \u0026lt;line-size\u0026gt;;\rgrid-column-gap: \u0026lt;line-size\u0026gt;;\r/* ç°¡å¯« row column */\rgrid-gap: \u0026lt;line-size\u0026gt; | \u0026lt;line-size\u0026gt; \u0026lt;line-size\u0026gt;;\r}\r  line-size åªèƒ½ä½¿ç”¨é•·åº¦å€¼æˆ–ç™¾åˆ†æ¯”ã€‚\nSee the Pen CSS Grid - é–“è· by CHUPAIWANG\r(@CHUPAIWANG) on CodePen.\r\rå°é½Š 1. content ç•¶ç¶²æ ¼ç’°å¢ƒå°æ–¼ grid content æ™‚ï¼Œå¯ä»¥ä½¿ç”¨ä»¥ä¸‹å±¬æ€§å°é½Šã€‚\njustify-content æ°´å¹³å°é½Šã€align-content å‚ç›´å°é½Šï¼š\n startï¼šé å·¦å°é½Šã€‚ endï¼šé å³å°é½Šã€‚ centerï¼šé ä¸­é–“å°é½Š stretchï¼šä¾ç…§æ¯”ä¾‹æ‹‰å¯¬åˆ°æ»¿ç‰ˆã€‚ space-aroundï¼šåœ¨å„æ ¼ç·šé–“æ”¾å…¥å¤šé¤˜çš„ç©ºç™½ï¼ŒåŒ…å«é–‹é ­å’Œçµå°¾ã€‚ space-betweenï¼šåªåœ¨å„æ ¼ç·šé–“æ”¾å…¥å¤šé¤˜çš„ç©ºç™½ã€‚ space-evenlyï¼šæ•ˆæœåŒ space-around ä½†é–‹é ­å’Œçµå°¾çš„ç©ºç™½è¼ƒå¤šã€‚  place-content æ˜¯å…©è€…çš„ç°¡å¯«ï¼Œalign-content ç‚ºç¬¬ä¸€å€‹å€¼ã€justify-content ç‚ºç¬¬äºŒå€¼ï¼Œè‹¥å…©è€…ç›¸ç­‰ï¼Œå¯ä»¥åªè¨­ç½®ä¸€å€‹å€¼ã€‚\n1 2 3 4 5 6 7 8 9 10 11  .container {\rwidth: 300px;\rheight: 300px;\rdisplay: grid;\rgrid-template-rows: 50px 50px 50px;\rgrid-template-columns: 50px 50px 50px;\rjustify-content: space-between;\ralign-content: space-between;\r}\r  See the Pen CSS Grid - å®šä½æ¨¡å¼ content by CHUPAIWANG\r(@CHUPAIWANG) on CodePen.\r\r2. items é è¨­çš„æƒ…æ³ä¸‹ï¼Œæˆ‘å€‘çš„ grid item å¤§å°æœƒç­‰æ–¼ grid areaã€‚ä½†å¦‚æœ grid item æœ‰å®šç¾©å°ºå¯¸ï¼Œå°æ–¼ grid area æ™‚ï¼Œå¯ä»¥ä½¿ç”¨ä»¥ä¸‹å±¬æ€§å°é½Šã€‚\njustify-items æ°´å¹³å°é½Šã€align-items å‚ç›´å°é½Šï¼š\n startï¼šé å·¦å°é½Šã€‚ endï¼šé å³å°é½Šã€‚ centerï¼šé ä¸­é–“å°é½Š stretchï¼šä¾ç…§æ¯”ä¾‹æ‹‰å¯¬åˆ°æ»¿ç‰ˆã€‚  place-items å‰‡æ˜¯å…©è€…çš„ç°¡å¯«ï¼Œalign-items ç‚ºç¬¬ä¸€å€‹å€¼ã€justify-items ç‚ºç¬¬äºŒå€¼ï¼Œè‹¥å…©è€…ç›¸ç­‰ï¼Œå¯ä»¥åªè¨­ç½®ä¸€å€‹å€¼ã€‚\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15  .container {\rwidth: 300px;\rheight: 300px;\rdisplay: grid;\rgrid-template-rows: 100px 100px 100px;\rgrid-template-columns: 100px 100px 100px;\rjustify-items: center;\ralign-items: center;\r}\r.item {\rwidth: 50px;\rheight: 50px;\r}\r  See the Pen CSS Grid - å®šä½æ¨¡å¼ items by CHUPAIWANG\r(@CHUPAIWANG) on CodePen.\r\r3. self å¦‚æœä½ çš„ grid item è¦å–®ç¨å°é½Šï¼Œå¯ä»¥åœ¨ grid item ä¸­ä½¿ç”¨ä»¥ä¸‹å±¬æ€§å°é½Šã€‚\njustify-self æ°´å¹³å°é½Šã€align-self å‚ç›´å°é½Šï¼š\n startï¼šé å·¦å°é½Šã€‚ endï¼šé å³å°é½Šã€‚ centerï¼šé ä¸­é–“å°é½Š stretchï¼šä¾ç…§æ¯”ä¾‹æ‹‰å¯¬åˆ°æ»¿ç‰ˆã€‚  place-self å‰‡æ˜¯å…©è€…çš„ç°¡å¯«ï¼Œalign-self ç‚ºç¬¬ä¸€å€‹å€¼ã€justify-self ç‚ºç¬¬äºŒå€¼ï¼Œè‹¥å…©è€…ç›¸ç­‰ï¼Œå¯ä»¥åªè¨­ç½®ä¸€å€‹å€¼ã€‚\néš±å¼ç¶²æ ¼ åœ¨ grid cell æœ‰é™çš„æƒ…æ³ä¸‹ï¼Œå¦‚æœ grid item éå¤šï¼Œå°±æœƒè‡ªå‹•å¢åŠ  grid trackï¼Œä¹Ÿå°±æ˜¯ éš±å¼ç¶²æ ¼ã€‚\n1. éš±å¼ç¶²æ ¼çš„å¤§å° éš±å¼ç¶²æ ¼çš„ grid track é æ¸¬ç‚ºè‡ªå‹•å¤§å°ï¼Œä½†å¯ä»¥é€é grid-auto-rows å’Œ grid-auto-columns å®šç¾©ã€‚\n1 2 3 4  .container{\rgrid-auto-rows: \u0026lt;track-size\u0026gt; ...;\rgrid-auto-columns: \u0026lt;track-size\u0026gt; ...;\r}\r  èˆ‰ä¾‹ä¾†èªªï¼Œæˆ‘å€‘åªå®šç¾© 2 æ¬„ 1 åˆ—ï¼š\n1 2 3 4 5 6  .container {\rgrid-template-rows: 60px;\rgrid-template-columns: repeat(2, 60px);\rgrid-auto-rows: 120px;\r}\r  å¦‚æœæˆ‘å€‘æ”¾ç½® 4 å€‹ grid trackï¼Œæœƒè‡ªå‹•æ–°å¢ç¬¬ 2 åˆ— grid trackã€‚\nSee the Pen CSS Grid - éš±å¼ by CHUPAIWANG\r(@CHUPAIWANG) on CodePen.\r\rç¶²æ ¼æµå‘ é è¨­çš„æƒ…æ³ä¸‹ï¼Œç¶²æ ¼æµå‘ç‚º rowï¼Œä¹Ÿå°±æ˜¯ grid item è‡ªå‹•æ”¾ç½®æ™‚ï¼Œæœƒæ°´å¹³å¾€å³æ’åˆ—ã€‚\næˆ‘å€‘å¯ä»¥ä½¿ç”¨ grid-auto-flow æ”¹è®Šç¶²æ ¼çš„æµå‘ï¼š\n1 2 3  .container {\rgrid-auto-flow: row | column | row dense | column dense;\r}\r  èˆ‰ä¾‹ä¾†èªªï¼Œå°‡æµå‘æ”¹æˆ column å‚ç›´å‘ä¸‹ï¼š\n1 2 3 4 5 6  .container {\rdisplay: grid;\rgrid-template-rows: repeat(3, 60px);\rgrid-template-columns: repeat(3, 60px);\rgrid-auto-flow: column;\r}\r  See the Pen CSS Grid - æµå‘ by CHUPAIWANG\r(@CHUPAIWANG) on CodePen.\r\rè‹¥åŠ ä¸Š denseï¼Œæœƒå˜—è©¦å°‡ grid track å¡«æ»¿ï¼Œå› æ­¤å¯èƒ½æœƒæ”¹è®Š grid item é †åºï¼Œè¦ç‰¹åˆ¥ç•™æ„ã€‚\n1 2 3 4 5 6  \u0026lt;div class=\u0026#34;container\u0026#34;\u0026gt;\r\u0026lt;div class=\u0026#34;item item-2\u0026#34;\u0026gt;\u0026lt;/div\u0026gt;\r\u0026lt;div class=\u0026#34;item item-2\u0026#34;\u0026gt;\u0026lt;/div\u0026gt;\r\u0026lt;div class=\u0026#34;item item-1\u0026#34;\u0026gt;\u0026lt;/div\u0026gt;\r\u0026lt;div class=\u0026#34;item item-1\u0026#34;\u0026gt;\u0026lt;/div\u0026gt;\r\u0026lt;/div\u0026gt;\r  1 2 3 4 5 6 7 8 9 10 11 12 13 14  .container {\rdisplay: grid;\rgrid-template-rows: repeat(3, 60px);\rgrid-template-columns: repeat(3, 60px);\rgrid-auto-flow: row dense;\r}\r.item-1 {\rgrid-column-end: span 1;\r}\r.item-2 {\rgrid-column-end: span 2;\r}\r  é è¨­çš„æƒ…æ³ä¸‹ï¼Œç¬¬ 1 åˆ—æœƒæœ‰ç©ºéš™ï¼Œä½†ä½¿ç”¨ row dense å¾Œï¼Œæœƒå°‡å¾Œé¢è¼ƒå°çš„ item-1 å¾€å‰å¡«æ»¿ã€‚\nSee the Pen CSS Grid - æµå‘ dense by CHUPAIWANG\r(@CHUPAIWANG) on CodePen.\r\rä½ˆå±€ç¯„ä¾‹ 1. è–æ¯ä½ˆå±€ 1 2 3 4 5 6 7  \u0026lt;div class=\u0026#34;container\u0026#34;\u0026gt;\r\u0026lt;header\u0026gt;Header\u0026lt;/header\u0026gt;\r\u0026lt;aside\u0026gt;Aside\u0026lt;/aside\u0026gt;\r\u0026lt;main\u0026gt;Main\u0026lt;/main\u0026gt;\r\u0026lt;aside\u0026gt;Aside\u0026lt;/aside\u0026gt;\r\u0026lt;footer\u0026gt;Footer\u0026lt;/footer\u0026gt;\r\u0026lt;/div\u0026gt;\r  1 2 3 4 5 6 7 8 9 10 11  .container {\rwidth: 100%;\rmin-width: 600px;\rdisplay: grid;\rgrid-template-columns: 100px auto 100px;\rgap: 10px;\r}\rheader, footer {\rgrid-column: 1 / 4;\r}\r  See the Pen CSS Grid - è–æ¯ä½ˆå±€ by CHUPAIWANG\r(@CHUPAIWANG) on CodePen.\r\rç§»å‹•ç«¯éŸ¿æ‡‰å¼ä½ˆå±€ï¼Œå¯ä»¥åŠ ä¸Šåª’é«”æŸ¥è©¢ï¼š\n1 2 3 4 5  @media all and (max-width: 700px) {\raside, main {\rgrid-column: 1 / 4;\r}\r}\r  See the Pen CSS Grid - è–æ¯ä½ˆå±€ éŸ¿æ‡‰å¼ by CHUPAIWANG\r(@CHUPAIWANG) on CodePen.\r\r2. 960 grid system See the Pen CSS Grid - 960 grid system by CHUPAIWANG\r(@CHUPAIWANG) on CodePen.\r","description":"CSS Grid","id":0,"section":"posts","tags":["CSS Grid","CSSæ’ç‰ˆ"],"title":"CSS Grid","uri":"https://chupai.github.io/posts/2101/css_grid/"},{"content":"Vue CLI å®‰è£ Tailwind CSS v2.0ã€‚\n\rç°¡ä»‹  Tailwind CSS\n Tailwind CSS æ˜¯ä¸€å€‹ Utility CSS æ¡†æ¶ã€‚\nå¦‚æœä½ æœ‰ç”¨é Bootstrapï¼Œä¸€å®šæœ‰ç”¨éå®ƒçš„é€šç”¨é¡åˆ¥ï¼Œè€Œ Tailwind å°±æ˜¯ 100% çš„é€šç”¨é¡åˆ¥ä¸å« UI å…ƒä»¶ï¼Œä½ å¯ä»¥æ›´åŠ è¼•é¬†çš„å®¢è£½åŒ–è‡ªå·±çš„å…ƒä»¶ã€‚\n Tailwind çš„å¯¦éš›æ¡ˆä¾‹ï¼Œå¯ä»¥åƒè€ƒ Built with Tailwindã€‚ æ›´å¤šé—œæ–¼ Tailwind çš„è³‡æºï¼Œå¯ä»¥åƒè€ƒ Awesome Tailwind CSSã€‚  2020.11.19 Tailwind å‡ç´šåˆ°äº† v2.0ï¼Œè©³ç´°çš„æ›´æ–°å…§å®¹å¯ä»¥åƒè€ƒ Tailwind CSS v2.0ã€‚\nå®‰è£ Tailwind æ˜¯ PostCSS çš„å¥—ä»¶ï¼Œä½†ä¸ä¸€å®šè¦ä½¿ç”¨ PostCSS ä½œç‚ºé è™•ç†å™¨æ‰èƒ½ä½¿ç”¨ Tailwindã€‚å¦‚æœåªæ˜¯ç°¡å–®çš„å°ˆæ¡ˆæˆ–æ˜¯é«”é©— Tailwindï¼Œå¯ä»¥ä½¿ç”¨ Tailwind CLI ä¾†ç·¨è­¯ Tailwind CSSã€‚\nè©³ç´°çš„å®‰è£æµç¨‹ï¼Œé€™è£¡å°±ä¸å¤šåŠ èªªæ˜ï¼Œå¯ä»¥åƒè€ƒ å®˜æ–¹æ–‡ä»¶ã€‚\nVue CLI Vue CLI å…§éƒ¨æœ¬ä¾†å°±ä½¿ç”¨äº† PostCSS é è¨­é–‹å•Ÿ Autoprefixerï¼Œä½ åªè¦å®‰è£ Tailwind å’Œæ–°å¢ postcss.config.jsã€tailwind.config.js è¨­å®šæª”å°±å¯ä»¥ä½¿ç”¨äº†ã€‚\nä½†æ˜¯ v2.0 ç‰ˆæœ¬çš„ Tailwind ä¾è³´æ–¼ PostCSS 8ã€‚è€Œ Vue CLI ç›®å‰ä½¿ç”¨çš„æ˜¯ PostCSS 7ï¼Œå› æ­¤åŸ·è¡Œå¾Œæœƒç¾ä¸‹åˆ—éŒ¯èª¤è¨Šæ¯ï¼š\nError: PostCSS plugin tailwindcss requires PostCSS 8.\r è§£æ±ºè¾¦æ³•å°±æ˜¯ï¼Œé‡æ–°å®‰è£å®˜æ–¹æä¾›çš„ PostCSS 7 å…¼å®¹ç‰ˆæœ¬ï¼š\nnpm uninstall tailwindcss\rnpm install tailwindcss@npm:@tailwindcss/postcss7-compat\rä½ è‹¥æ˜¯é‚„æœ‰å®‰è£ä½¿ç”¨å…¶ä»– PostCSS å¥—ä»¶ï¼Œæœ€æ–°ç‰ˆå·²ç¶“æ”¯æ´ PostCSS 8ï¼Œè¨˜å¾—é™ç‰ˆæœ¬ã€‚\n","description":"Vue CLI å®‰è£ Tailwind CSS v2.0ã€‚","id":1,"section":"posts","tags":["Vue","TailwindCSS"],"title":"Vue CLI å®‰è£ TailwindCSS v2.0","uri":"https://chupai.github.io/posts/2011/tailwindcss/"},{"content":"Vue Routerç¯‡\n\r é€™é€±æ˜¯å…­è§’é¼ å¹´éµäººè³½æœ€å¾Œä¸€é€±ï¼ŒVue ç­†è¨˜çš„ç¬¬äº”ç¯‡ã€‚\n ç«¹ç™½çš„ Vue è¨˜äº‹æœ¬ ç›®éŒ„\n Vue - Routerç¯‡ï¼š\n Vue Router - åŸºç¤ Vue Router - å‹•æ…‹è·¯ç”±åŒ¹é… Vue Router - å·¢ç‹€è·¯ç”± Vue Router - ç¨‹å¼æ§åˆ¶ Vue Router - å‘½åè·¯ç”± \u0026amp; å‘½åè¦–åœ– Vue Router - é‡æ–°å°å‘ \u0026amp; åˆ«å Vue Router - è·¯ç”±å…ƒä»¶å‚³é Vue Router - å°èˆªå®ˆè¡› Vue Router - æ¬Šé™æ§åˆ¶ Vue Router - æ»¾å‹•è¡Œç‚º Vue Router - æ¨¡çµ„åŒ–ç®¡ç†  å››åé€±é€£çºŒä¸ä¸­æ–·çš„å…­è§’é¼ å¹´éµäººè³½çµ‚æ–¼å®Œè³½äº† ğŸ˜‚ï¼Œä¸é Vue ç­†è¨˜æœƒç¹¼çºŒæ›´æ–°ã€‚\n","description":"Vue Routerç¯‡ã€‚","id":2,"section":"posts","tags":["Vue","w3HexSchool"],"title":"Vue - Router","uri":"https://chupai.github.io/posts/2011/vue_vuex/"},{"content":" ç«¹ç™½çš„ Vue è¨˜äº‹æœ¬ ç›®éŒ„\n \råŸºæœ¬çµæ§‹ è·¯ç”±é…ç½®åŸºæœ¬çµæ§‹ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37  import Vue from \u0026#39;vue\u0026#39;; import VueRouter from \u0026#39;vue-router\u0026#39;; import Home from \u0026#39;../views/Home.vue\u0026#39;; Vue.use(VueRouter); // å®šç¾©è·¯ç”± const routes = [ { path: \u0026#39;/\u0026#39;, name: \u0026#39;Home\u0026#39;, component: Home, }, { // ...  }, ]; // è¨­å®š const router = new VueRouter({ mode: \u0026#39;history\u0026#39;, routes, scrollBehavior(to, from, savedPosition) { if (savedPosition) { return savedPosition; } else { return { x: 0, y: 0 }; } }, }); // å®ˆè¡› router.beforeEach((to, from, next) =\u0026gt; { next(); }); export default router;   æ¨¡çµ„åŒ–ç®¡ç† å¦‚æœå°ˆæ¡ˆè¶Šä¾†è¶Šè¤‡é›œï¼Œè·¯ç”±éš¨ä¹‹è®Šå¾—è¶Šå¤šï¼Œå°±éœ€è¦å°‡è·¯ç”±æ‹†åˆ†ï¼Œæ–¹ä¾¿ç®¡ç†ç¶­è­·ã€‚\nçµæ§‹ï¼š\n/router â”œâ”€â”€ index.js # é…ç½®æª” â”œâ”€â”€ common.js # é€šç”¨è·¯ç”± | â””â”€â”€ /modules â”œâ”€â”€ index.js â”œâ”€â”€ home.js â”œâ”€â”€ user.js â”œâ”€â”€ ... é€šç”¨è·¯ç”±ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12  // common.js  export default [ { path: \u0026#39;/\u0026#39;, redirect: \u0026#39;/index\u0026#39;, }, { path: \u0026#39;*\u0026#39;, redirect: \u0026#39;/404\u0026#39;, }, ];   è·¯ç”±æ¨¡çµ„ï¼š\n1 2 3 4 5 6 7 8 9 10 11  // user.js  import User from \u0026#39;../../views/User.vue\u0026#39;; export default [ { path: \u0026#39;/user\u0026#39;, name: \u0026#39;user\u0026#39;, component: User, }, ];   ä½¿ç”¨ ES6 å±•é–‹é‹ç®—å­æ•´åˆåˆ°é…ç½®æª”ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13  // ...  import home from \u0026#39;./modules/home\u0026#39;; import user from \u0026#39;./modules/user\u0026#39;; import error from \u0026#39;./modules/error\u0026#39;; import common from \u0026#39;./modules/common\u0026#39;; const routes = [ ...home, ...user, ...error, ...common, ];   å»¶é²åŠ è¼‰ ç•¶æˆ‘å€‘å°ˆæ¡ˆåˆ°é”ä¸€å®šç¨‹åº¦æ™‚ï¼Œæ‰“åŒ…å¾Œçš„ JavaScript bundle æœƒè®Šå¾—éå¸¸å¤§ï¼Œä¸€æ¬¡æ€§åŠ è¼‰ï¼Œå¯èƒ½æœƒèŠ±è²»è¼ƒé•·æ™‚é–“ï¼Œå½±éŸ¿ä½¿ç”¨è€…é«”é©—ã€‚\nå¤§å¤šæ•¸æƒ…æ³ä¸‹ï¼Œä½¿ç”¨è€…è¨ªå•ç¶²ç«™æ™‚ã€‚ä¸¦ä¸éœ€è¦ç«‹å³å¾ JavaScript bundle ä¸­å–å¾—å…¨éƒ¨çš„ç¨‹å¼ç¢¼ã€‚\nå› æ­¤æˆ‘å€‘å¯ä»¥ä½¿ç”¨å»¶é²åŠ è¼‰æ‹†åˆ† bundleã€‚webpack åœ¨æ‰“åŒ…çš„éç¨‹ä¸­ï¼ŒéåŒæ­¥å¼•å…¥çš„è³‡æºæœƒè¢«æ‰“é€²å–®ç¨çš„ chunk æª”æ¡ˆï¼Œåœ¨éœ€è¦åŸ·è¡Œè©²æª”æ¡ˆæ™‚æ‰æœƒåŠ è¼‰ã€‚\nåŸæœ¬çš„å¯«æ³•ï¼š\n1  import Foo from \u0026#39;./Foo.vue\u0026#39;;   æ”¹ç”¨å»¶é²åŠ è¼‰å¯«æ³•ï¼š\n1  const Foo = () =\u0026gt; import(\u0026#39;./Foo.vue\u0026#39;);   å¦‚æœè·¯ç”±ä½¿ç”¨åˆ°å¤šå€‹å…ƒä»¶ï¼Œå¯ä»¥ä½¿ç”¨ç‰¹æ®Šçš„ç‰¹æ®Šçš„è¨»é‡‹èªæ³•\nå‘½å chunk å°‡å®ƒå€‘æ‰“åŒ…è¼‰åŒä¸€å€‹ chunk ä¸­ï¼š\n1 2 3  const Foo = () =\u0026gt; import(/* webpackChunkName: \u0026#34;group-foo\u0026#34; */ \u0026#39;./Foo.vue\u0026#39;); const Bar = () =\u0026gt; import(/* webpackChunkName: \u0026#34;group-foo\u0026#34; */ \u0026#39;./Bar.vue\u0026#39;); const Baz = () =\u0026gt; import(/* webpackChunkName: \u0026#34;group-foo\u0026#34; */ \u0026#39;./Baz.vue\u0026#39;);   ","description":"æ¨¡çµ„åŒ–ç®¡ç†ã€‚","id":3,"section":"posts","tags":["Vue","Vue Router"],"title":"Vue Router - æ¨¡çµ„åŒ–ç®¡ç†","uri":"https://chupai.github.io/posts/vue/router/module/"},{"content":" ç«¹ç™½çš„ Vue è¨˜äº‹æœ¬ ç›®éŒ„\n \ré€™å€‹åŠŸèƒ½åªåœ¨æ”¯æŒ history.pushState çš„ç€è¦½å™¨ä¸­å¯ç”¨ã€‚\r 1 2 3 4 5 6  const router = new VueRouter({ routes: [...], scrollBehavior(to, from, savedPosition) { // return {}  }, });   scrollBehavio æ–¹æ³•æ¥æ”¶åƒæ•¸ç‚ºï¼š\n toï¼šå³å°‡è¦é€²å…¥çš„ç›®æ¨™è·¯ç”±ç‰©ä»¶ã€‚ fromï¼šç•¶å‰å°èˆªæ­£è¦é›¢é–‹çš„è·¯ç”±ç‰©ä»¶ã€‚ savedPositionï¼šé€™å€‹åƒæ•¸åªæœ‰ç•¶ popstate å°èˆªï¼ˆé€éç€è¦½å™¨çš„å‰é€²ã€å¾Œé€€æŒ‰éˆ•è§¸ç™¼ï¼‰æ™‚æ‰å¯ç”¨ã€‚  é€™å€‹æ–¹æ³•éœ€è¦å›å‚³ä¸€å€‹æ»¾å‹•ä½ç½®ç‰©ä»¶ï¼Œæœ‰å…©ç¨®æ ¼å¼ï¼š\n { x: number, y: number } { selector: string, offset? : { x: number, y: number }}ï¼ˆoffset åªåœ¨ 2.6.0+ æ”¯æŒï¼‰  å¦‚æœå›å‚³ä¸€å€‹ falsy å€¼æˆ–ç©ºç‰©ä»¶ï¼Œå‰‡ä¸æœƒç™¼ç”Ÿæ»¾å‹•ã€‚\nå°æ–¼æ‰€æœ‰è·¯ç”±å°èˆªï¼Œç°¡å–®åœ°è®“é é¢æ»¾å‹•åˆ°é ‚éƒ¨ï¼š\n1 2 3  scrollBehavior(to, from, savedPosition) { return { x: 0, y: 0}; }   è‹¥æ˜¯é€éç€è¦½å™¨çš„å‰é€²ã€å¾Œé€€æŒ‰éˆ•åˆ‡æ›è·¯ç”±æ™‚ï¼Œå¯ä»¥ä½¿ç”¨ savedPosition å–å¾—ä¸Šæ¬¡ä½ç½®ï¼š\n1 2 3 4 5 6 7  scrollBehavior(to, from, savedPosition) { if (savedPosition) { return savedPosition; } else { return { x: 0, y: 0}; } }   è‹¥å¸Œæœ›è·¯ç”±åˆ‡æ›æ™‚ï¼Œè®“é é¢æ»¾å‹•åˆ°æŒ‡å®šä½ç½®ï¼Œå¯ä»¥åˆ©ç”¨ hashï¼Œæ¨¡æ“¬ã€Œæ»¾å‹•åˆ°éŒ¨é»ã€çš„è¡Œç‚ºï¼š\n\u0026lt;router-link :to=\u0026quot;{name: 'nav', hash: '#nav'}\u0026quot;\u0026gt;nav\u0026lt;/router-link\u0026gt; 1 2 3 4 5  scrollBehavior(to, from, savedPosition) { if (to.hash) { return { selector: to.hash }; } }   è‹¥æ˜¯å¸Œæœ›æ»¾å‹•ä½ç½®å¯ä»¥é ç•™ç©ºé–“ï¼Œå¯ä»¥åŠ ä¸Š offset å±¬æ€§ï¼š\n1 2 3 4 5 6 7 8  scrollBehavior(to, from, savedPosition) { if (to.hash) { return { selector: to.hash, offset: { x: 0, y: 100 }, }; } }   éåŒæ­¥æ»¾å‹• 2.8.0 æ–°å¢äº†éåŒæ­¥æ»¾å‹•ï¼Œå¯ä»¥å›å‚³ä¸€å€‹ Promise ä¾†è™•ç†\n1 2 3 4 5 6 7  scrollBehavior(to, from, savedPosition) { return new Promise((resolve, reject) =\u0026gt; { setTimeout(() =\u0026gt; { resolve({ x: 0, y: 0 }); }, 500); }); },   ","description":"æ»¾å‹•è¡Œç‚ºã€‚","id":4,"section":"posts","tags":["Vue","Vue Router"],"title":"Vue Router - æ»¾å‹•è¡Œç‚º","uri":"https://chupai.github.io/posts/vue/router/scroll/"},{"content":" ç«¹ç™½çš„ Vue è¨˜äº‹æœ¬ ç›®éŒ„\n \rMeta Fields å¦‚æœä½ çš„é é¢éœ€è¦é€šéæœƒå“¡ç™»å…¥é©—è­‰æ‰èƒ½è¨ªå•ï¼Œæˆ–è€…æ˜¯ä¸åŒè§’è‰²ï¼ˆä¾‹å¦‚ï¼šè¨ªå®¢ã€æœƒå“¡ã€ç®¡ç†å“¡ï¼‰çš„æ¬Šé™åˆ¤æ–·ï¼Œå®šç¾©è·¯ç”±æ™‚ï¼Œå¯ä»¥è¨­ç½®ä¸€å€‹ meta é¸é …ï¼Œç”¨ä¾†å„²å­˜ä¸€äº›è­˜åˆ¥ç”¨è³‡æ–™ã€‚\nèˆ‰ä¾‹ä¾†èªªï¼Œè·¯ç”± /user éœ€è¦é€šéé©—è­‰æ‰èƒ½è¨ªå•ã€‚\nå¦‚æœç›´æ¥åœ¨ beforeEach å…¨åŸŸå‰ç½®å®ˆè¡›ä¸­ç”¨è·¯å¾‘åˆ¤æ–·ï¼š\n1 2 3 4 5 6 7  beforeEach((to, from, next)=\u0026gt; { if (to.path=\u0026#34;/user\u0026#34; \u0026amp;\u0026amp; !isAuthenticated) { next({ name: \u0026#39;Login\u0026#39; }); } else { next(); } });   é€™æ¨£æœƒé‡åˆ°ä¸€äº›å•é¡Œï¼š\n /user ä¸‹çš„å­è·¯ç”±ç„¡æ³•æª¢æŸ¥ï¼› å…¶å®ƒè·¯ç”±ä¹Ÿéœ€è¦é€šéé©—è­‰æ™‚ï¼Œåˆ¤æ–·å¯«èµ·ä¾†å¾ˆéº»ç…©ã€‚  æˆ‘å€‘å¯ä»¥åœ¨ /user è·¯ç”±å®šç¾©ä¸€å€‹ metaï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20  const router = new VueRouter({ routes: [ { path: \u0026#39;/\u0026#39;, component: Home, }, { path: \u0026#39;/login\u0026#39;, name: \u0026#39;Login\u0026#39; component: Login, }, { path: \u0026#39;/user\u0026#39;, component: User, meta: { requiresAuth: true, } } ] });   é€™æ¨£æˆ‘å€‘å°±åªéœ€è¦è¨ªå•è·¯ç”±ç‰©ä»¶çš„ meta æ˜¯å¦æœ‰æˆ‘å€‘å®šç¾©å±¬æ€§ï¼Œç”¨å®ƒä¾†åˆ¤æ–·æ˜¯å¦éœ€è¦é©—è­‰ï¼š\n1 2 3 4 5 6 7  beforeEach((to, from, next)=\u0026gt; { if (to.meta.requiresAuth \u0026amp;\u0026amp; !isAuthenticated) { next({ name: \u0026#39;Login\u0026#39; }); } else { next(); } });   isAuthenticated ç‚ºé©—è­‰ç‹€æ…‹ï¼Œé€šå¸¸æœƒé€é Vuex å…¨åŸŸç®¡ç†æ§åˆ¶ã€‚ä½¿ç”¨è€…è¼¸å…¥å¸³è™Ÿå¯†ç¢¼é€šéå¾Œç«¯ä¼ºæœå™¨é©—è­‰ä¹‹å¾Œï¼Œå¾Œç«¯æœƒå›å‚³ä¸€å€‹ tokenï¼Œå‰ç«¯å¯ä»¥é€é localStorage æˆ– cookie å°‡å®ƒç·©å­˜ï¼Œæ¥ä¸‹ä¾†åªéœ€è¦é©—è­‰æ˜¯å¦å­˜åœ¨ã€éæœŸã€æ­£ç¢ºæ€§ã€‚\r å¦‚æœæœ‰å­è·¯ç”±ï¼Œä½ åˆä¸æƒ³ç‚ºæ¯å€‹å­è·¯ç”±éƒ½é‡è¤‡è¨­ç½® metaï¼Œå¯ä»¥ä½¿ç”¨ $route.matched è·¯ç”±ç´€éŒ„ä¾†åˆ¤æ–·ï¼š\n1 2 3 4 5 6 7  router.beforeEach((to, from, next) =\u0026gt; { if (to.matched.some((record) =\u0026gt; record.meta.requiresAuth) \u0026amp;\u0026amp; !isAuthenticated) { next({ name: \u0026#39;Login\u0026#39; }); } else { next(); } });   matched ç‚ºé™£åˆ—ï¼Œè£¡é¢åŒ…å«åŒ¹é…æˆåŠŸçš„è·¯ç”±ç´€éŒ„ï¼Œå› æ­¤ä½¿ç”¨ some() éæ­·æª¢æŸ¥æ˜¯å¦éœ€è¦é©—è­‰ã€‚\nCodePen Demoï¼šVue 2.x - Meta Fields ç°¡æ˜“ç¯„ä¾‹\nAddRoutes ä¸Šé¢çš„ä½œæ³•æ˜¯å‰ç«¯å¯«å¥½æ‰€æœ‰è·¯ç”±ï¼Œå¾Œç«¯åœ¨å›å‚³ç•¶å‰ä½¿ç”¨è€…çš„æ¬Šé™ï¼Œæ ¹æ“šé å…ˆå®šç¾©å¥½çš„è·¯ç”±è¦å‰‡é€²è¡Œé©—è­‰ã€‚\næ¬Šé™æ§åˆ¶çš„å¦ä¸€ç¨®ä½œæ³•å°±æ˜¯ï¼Œä¸€é–‹å§‹å‰ç«¯è¦åŠƒçš„è·¯ç”±éƒ½æ˜¯ä¸éœ€è¦é©—è­‰çš„ï¼Œè€Œéœ€è¦é©—è­‰è·¯ç”±çš„å‰‡æ˜¯å¾å¾Œç«¯å–å¾—å¾Œï¼Œä»¥å‹•æ…‹æ·»åŠ çš„æ–¹å¼åŠ è¼‰åˆ°è·¯ç”±å¯¦é«”ä¸­ã€‚\naddRoutes å‹•æ…‹æ·»åŠ æ›´å¤šçš„è·¯ç”±è¦å‰‡ï¼š\n1  router.addRoutes(routes: Array\u0026lt;RouteConfig\u0026gt;)   åƒæ•¸å¿…é ˆæ˜¯ä¸€å€‹ç¬¦åˆ routes é¸é …è¦æ±‚çš„é™£åˆ—ã€‚\n","description":"æ¬Šé™æ§åˆ¶ã€‚","id":5,"section":"posts","tags":["Vue","Vue Router"],"title":"Vue Router - æ¬Šé™æ§åˆ¶","uri":"https://chupai.github.io/posts/vue/router/accesscontrol/"},{"content":" ç«¹ç™½çš„ Vue è¨˜äº‹æœ¬ ç›®éŒ„\n \rä»€éº¼æ˜¯å°èˆªå®ˆè¡› å°èˆª æŒ‡çš„æ˜¯è·¯ç”±çš„æ”¹è®Šã€‚è·¯ç”±è·¯å¾‘æ˜¯èƒ½ä»»æ„è¼¸å…¥çš„ï¼Œç•¶æˆ‘å€‘éœ€è¦åˆ¤æ–·æ¬Šé™æˆ–ç™»éŒ„ç‹€æ…‹ä¾†æ±ºå®šä½¿ç”¨è€…ä½¿å¦èƒ½è¨ªå•è·¯ç”±æ™‚ï¼Œå°±æœƒç”¨åˆ° å°èˆªå®ˆè¡›ï¼ˆNavigation Guardsï¼‰ï¼Œåœ¨è·¯ç”±ç™¼ç”Ÿè®ŠåŒ–æ™‚ï¼Œåšå‡ºç›¸å°æ‡‰çš„è™•ç†ã€‚\nç°¡å–®ä¾†èªªï¼Œå°±æ˜¯åœ¨è·¯ç”±æ”¹è®Šçš„éç¨‹ä¸­ï¼Œæœƒæœ‰ä¸€äº›å‡½å¼é‰¤å­å¯ä»¥è®“æˆ‘å€‘ç”¨ä¾†è™•ç†ä¸€äº›äº‹æƒ…ã€‚\nå®Œæ•´çš„å°èˆªè§£ææµç¨‹ å…ˆä¾†çœ‹å®˜æ–¹æä¾›çš„å°èˆªè§£ææµç¨‹ï¼š\n å°èˆªè¢«è§¸ç™¼ã€‚ åœ¨å¤±æ´»çš„å…ƒä»¶è£¡å‘¼å« beforeRouteLeave å®ˆè¡›ã€‚ å‘¼å«å…¨åŸŸçš„ beforeEach å®ˆè¡›ã€‚ åœ¨é‡ç”¨çš„å…ƒä»¶è£¡å‘¼å« beforeRouteUpdate å®ˆè¡›ï¼ˆ2.2+ï¼‰ã€‚ åœ¨è·¯ç”±é…ç½®è£¡å‘¼å« beforeEnterã€‚ è§£æéåŒæ­¥è·¯ç”±å…ƒä»¶ã€‚ åœ¨è¢«æ¿€æ´»çš„å…ƒä»¶è£¡å‘¼å« beforeRouteEnterã€‚ å‘¼å«å…¨åŸŸçš„ beforeResolve å®ˆè¡›ï¼ˆ2.5+ï¼‰ã€‚ å°èˆªè¢«ç¢ºèªã€‚ å‘¼å«å…¨åŸŸçš„ afterEach é‰¤å­ã€‚ è§¸ç™¼ DOM æ›´æ–°ã€‚ å‘¼å« beforeRouteEnter å®ˆè¡›ä¸­å‚³çµ¦ next çš„å›å‘¼å‡½å¼ï¼Œå‰µå»ºå¥½çš„å…ƒä»¶å¯¦ä¾‹æœƒä½œç‚ºå›å‘¼å‡½å¼çš„åƒæ•¸å‚³å…¥ã€‚  å°èˆªå®ˆè¡›å¯ä»¥åˆ†æˆä¸‰ç¨®é¡å‹ï¼š\n å…¨åŸŸå®ˆè¡› è·¯ç”±ç¨äº«å®ˆè¡› å…ƒä»¶å…§å®ˆè¡›  å…¨åŸŸå®ˆè¡› å…¨åŸŸå®ˆè¡›æœƒç›£æ¸¬æ‰€æœ‰è·¯ç”±ï¼ŒæŒ‰é †åºåˆ†ç‚ºï¼š\n beforeEach beforeResolve afterEach  1. å‰ç½®å®ˆè¡› å…¨åŸŸå‰ç½®å®ˆè¡›æœƒåœ¨è·³è½‰å‰è§¸ç™¼ï¼Œå¸¸ç”¨æ–¼ç™»å…¥é©—è­‰ã€‚\nä½¿ç”¨ router ç‰©ä»¶çš„ beforeEach æ–¹æ³•è¨»å†Šï¼š\n1 2 3 4 5 6 7  // router.js  const router = new VueRouter({ ... }); router.beforeEach((to, from, next) =\u0026gt; { // ... });   å›å‘¼å‡½å¼æ¥æ”¶çš„ä¸‰å€‹åƒæ•¸åˆ†åˆ¥ç‚ºï¼š\n toï¼šå³å°‡è¦é€²å…¥çš„ç›®æ¨™è·¯ç”±ç‰©ä»¶ã€‚ fromï¼šç•¶å‰å°èˆªæ­£è¦é›¢é–‹çš„è·¯ç”±ç‰©ä»¶ã€‚ nextï¼šç‚ºä¸€å€‹å‡½å¼ï¼Œç”¨ä¾†äº¤å‡ºæ§åˆ¶æ¬Šæˆ–è€…ä¸­æ–·å°èˆªã€‚  next å‡½å¼æœƒæ ¹æ“šå‚³å…¥çš„åƒæ•¸è€Œæœ‰ä¸åŒçš„è¡Œç‚ºï¼š\n next()ï¼šä¸å‚³å…¥åƒæ•¸ï¼Œæœƒé€²å…¥ä¸‹ä¸€å€‹å®ˆè¡›ã€‚å¦‚æœå…¨éƒ¨é‰¤å­éƒ½åŸ·è¡Œå®Œï¼Œå°èˆªç‹€æ…‹å°±æ˜¯ confirmedï¼ˆç¢ºèªçš„ï¼‰ã€‚ next(false)ï¼šä¸­æ–·ç•¶å‰å°èˆªã€‚ next('/') æˆ– next({ path: '/' })ï¼šè·³è½‰è‡³æŒ‡å®šè·¯ç”±ã€‚ next(error)ï¼šå¦‚æœå‚³å…¥ä¸€å€‹ Error å¯¦é«”ï¼Œå°èˆªæœƒè¢«çµ‚æ­¢ä¸”è©²éŒ¯èª¤æœƒè¢«å‚³éçµ¦ router.onError()ã€‚  :::warning\nnext å‡½å¼ä¸€å®šè¦å‘¼å«ï¼Œå› ç‚ºå®ˆè¡›å¼éåŒæ­¥è§£æåŸ·è¡Œï¼Œæ­¤æ™‚å°èˆªåœ¨æ‰€æœ‰å®ˆè¡› resolve å®Œä¹‹å‰ä¸€ç›´è™•æ–¼ ç­‰å¾…ä¸­ã€‚ä½†è¦æ³¨æ„ï¼Œåªèƒ½å‘¼å«ä¸€æ¬¡ã€‚\n:::\n2. è§£æå®ˆè¡› åœ¨ 2.5.0 ä¹‹å¾Œçš„ç‰ˆæœ¬ï¼Œå¯ä»¥ç”¨ router.beforeResolve è¨»å†Šä¸€å€‹è§£æå®ˆè¡›\n1 2 3  router.beforeResolve((to, from, next) =\u0026gt; { // ... });   ç”¨æ³•åŸºæœ¬ä¸Šèˆ‡ beforeEach ç›¸åŒï¼Œå€åˆ¥åœ¨æ–¼è¢«å‘¼å«çš„æ™‚é–“é»ï¼šä¸€æ¨£æ˜¯åœ¨è·³è½‰å‰è§¸ç™¼ï¼Œä½†æœƒåœ¨ beforeEnter å‘¼å«ä¹‹å¾Œï¼Œä¹Ÿå°±æ˜¯ æ‰€æœ‰å…ƒä»¶å…§å®ˆè¡›å’ŒéåŒæ­¥è·¯ç”±å…ƒä»¶è¢«è§£æä¹‹å¾Œ æ‰å‘¼å«ã€‚\n3. å¾Œç½®é‰¤å­ afterEach æœƒåœ¨å°èˆªè¢«ç¢ºèªå¾Œè§¸ç™¼ï¼Œæ‰€ä»¥ç¨±ç‚º å¾Œç½®é‰¤å­ è€Œä¸æ˜¯å®ˆè¡›ã€‚\n1 2 3  router.afterEach((to, from) =\u0026gt; { // ... });   å®ƒæ²’æœ‰ next åƒæ•¸å¯ç”¨ï¼Œå› æ­¤ä¸æœƒæ”¹è®Šå°èˆªæœ¬èº«ã€‚\nè·¯ç”±ç¨äº«çš„å®ˆè¡› å¦‚æœä½ ä¸æƒ³å…¨åŸŸè¨­ç½®å®ˆè¡›ï¼Œå¯ä»¥å–®ç¨åœ¨æŒ‡å®šè·¯ç”±ä¸Šè¨­ç½®å®ˆè¡›ã€‚\nå®šç¾© beforeEnter å®ˆè¡›ï¼š\n1 2 3 4 5 6 7 8 9 10 11  const router = new VueRouter({ routes: [ { path: \u0026#39;/foo\u0026#39;, component: Foo, beforeEnter: (to, from, next) =\u0026gt; { // ...  }, }, ], });   åƒæ•¸èˆ‡ beforeEach ç›¸åŒã€‚\nå…ƒä»¶å…§çš„å®ˆè¡› åœ¨å…ƒä»¶å…§ä¹Ÿå¯ç›´æ¥å®šç¾©ä»¥ä¸‹è·¯ç”±å°èˆªå®ˆè¡›ï¼š\n beforeRouteEnter beforeRouteUpdate beforeRouteLeave  1 2 3 4 5 6 7 8 9 10 11 12  const Foo = { template: `...`, beforeRouteEnter (to, from, next) { // ...  }, beforeRouteUpdate (to, from, next) { // ...  }, beforeRouteLeave (to, from, next) { // ...  } }   1. beforeRouteEnter beforeRouteEnter å®ˆè¡›å…§ ä¸èƒ½ ä½¿ç”¨ this ç²å–å…ƒä»¶å¯¦é«”ï¼Œå› ç‚ºå®ƒæ˜¯åœ¨å°èˆª confirmï¼ˆç¢ºèªï¼‰å‰è¢«å‘¼å«ï¼Œæ–°å…ƒä»¶é‚„å°šæœªå»ºç«‹ã€‚\nä¸éï¼Œæˆ‘å€‘å¯ä»¥é€éå‚³éä¸€å€‹å›å‘¼å‡½å¼çµ¦ next ä¾†è¨ªå•å…ƒä»¶å¯¦é«”ï¼š\n1 2 3 4 5  beforeRouteEnter (to, from, next) { next(vm =\u0026gt; { // é€é vm è¨ªå•å…ƒä»¶å¯¦é«”  }) }   :::warning\nbeforeRouteEnter æ˜¯å”¯ä¸€æ”¯æŒ next å‚³éå›å‘¼å‡½å¼çš„å®ˆè¡›ã€‚å°æ–¼ beforeRouteUpdate å’Œ  beforeRouteLeave ä¾†èªªï¼Œå·²ç¶“é€é this å–å¾—å…ƒä»¶å¯¦é«”ï¼Œæ‰€ä»¥æ²’å¿…è¦ã€‚\n:::\n2. beforeRouteUpdate beforeRouteUpdate æœƒåœ¨ç•¶å‰è·¯ç”±æ”¹è®Šï¼Œä½†æ˜¯è©²å…ƒä»¶è¢«è¦†ç”¨æ™‚å‘¼å«ã€‚\nèˆ‰ä¾‹ä¾†èªªï¼Œå°æ–¼ä¸€å€‹å¸¶æœ‰å‹•æ…‹åƒæ•¸çš„è·¯å¾‘ /foo/:idï¼Œåœ¨ /foo/1 å’Œ /foo/2 ä¹‹é–“è·³è½‰çš„æ™‚å€™ï¼Œç”±æ–¼æœƒæ¸²æŸ“åŒæ¨£çš„ Foo å…ƒä»¶ï¼Œå› æ­¤å…ƒä»¶å¯¦é«”æœƒè¢«è¦†ç”¨ã€‚é€™å€‹æƒ…æ³ä¸‹çš„è®ŠåŒ–ï¼Œå°±æœƒè§¸ç™¼ Foo å…ƒä»¶çš„ beforeRouteUpdateã€‚\né€šå¸¸ç”¨æ–¼çˆ¶è·¯ç”±ç›£è½å­è·¯ç”±çš„è®ŠåŒ–ã€‚\n3. beforeRouteLeave beforeRouteLeave æœƒåœ¨å°èˆªé›¢é–‹è©²å…ƒä»¶çš„å°æ‡‰è·¯ç”±æ™‚å‘¼å«ã€‚\né€šå¸¸ç”¨æ–¼ä»¥ä¸‹æƒ…æ³ï¼šå‡è¨­ç•¶å‰è·¯ç”±ç‚ºä¸€å€‹ä¿®æ”¹é é¢ï¼Œç•¶ä½¿ç”¨è€…é‚„æœªä¿å­˜å°±çªç„¶é›¢é–‹ï¼Œæˆ‘å€‘å¯ä»¥é€é next(false) ä¾†å–æ¶ˆã€‚\n1 2 3 4 5 6 7 8 9 10 11  beforeRouteLeave (to, from, next) { if (this.isConfirmed) { next(); } else { if (confirm(\u0026#39;é‚„æœªä¿å­˜ï¼Œç¢ºå®šè¦é›¢é–‹å—\u0026#39;)) { next(); } else { next(false); } } }   ","description":"å°èˆªå®ˆè¡›ã€‚","id":6,"section":"posts","tags":["Vue","Vue Router"],"title":"Vue Router - å°èˆªå®ˆè¡›","uri":"https://chupai.github.io/posts/vue/router/navigationguards/"},{"content":" ç«¹ç™½çš„ Vue è¨˜äº‹æœ¬ ç›®éŒ„\n \rè·¯ç”±å…ƒä»¶å‚³é å¦‚æœæˆ‘å€‘ç›´æ¥åœ¨å…ƒä»¶å…§ä½¿ç”¨ $router æœƒä½¿ä¹‹èˆ‡å…¶å°æ‡‰è·¯ç”±å½¢æˆé«˜åº¦è€¦åˆï¼Œé‚£éº¼è©²å…ƒä»¶å°±åªèƒ½ç”¨æ–¼ç‰¹å®šçš„ URL ä¸Šä½¿ç”¨ï¼Œé™åˆ¶äº†å…¶éˆæ´»æ€§ã€‚\nèˆ‰ä¾‹ä¾†èªªï¼Œå¦‚æœç›´æ¥åœ¨å…ƒä»¶å…§é€é $router å–å¾—è·¯å¾‘åƒæ•¸ï¼š\n1 2 3 4 5 6 7 8 9  // component const User = { template: \u0026#39;\u0026lt;div\u0026gt;User {{ $route.params.id }}\u0026lt;/div\u0026gt;\u0026#39;, }; // router const router = new VueRouter({ routes: [{ path: \u0026#39;/user/:id\u0026#39;, component: User }], });   é‚£éº¼é€™å€‹ User å…ƒä»¶å°±åªèƒ½ç”¨æ–¼ç‰¹å®šè·¯å¾‘åƒæ•¸çš„ URLã€‚\nProps æˆ‘å€‘å¯ä»¥æ”¹ç”¨ props å‚³å…¥è·¯å¾‘åƒæ•¸ã€‚\nå¦‚æœ props é¸é …è¢«è¨­ç½®ç‚º trueï¼Œ$route.params å°‡æœƒè¢«è¨­ç½®ç‚ºå…ƒä»¶çš„å±¬æ€§ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16  // component const User = { props: [\u0026#39;id\u0026#39;], template: \u0026#39;\u0026lt;div\u0026gt;User {{ id }}\u0026lt;/div\u0026gt;\u0026#39;, }; // router const router = new VueRouter({ routes: [ { path: \u0026#39;/user/:id\u0026#39;, component: User, props: true }, ], });   é€™æ¨£å­æˆ‘çš„å…ƒä»¶çš„ id å°±ä¸ä¸€å®šåªèƒ½é€é $router å–å¾—ã€‚\nCodePen Demoï¼šVue 2.x - è·¯ç”±å…ƒä»¶å‚³é props\nå¦‚æœä½¿ç”¨å‘½åè¦–åœ–ï¼Œæœƒå°æ‡‰åˆ°å¤šå€‹å…ƒä»¶ï¼Œå› æ­¤éœ€è¦åˆ†åˆ¥è¨­ç½®ï¼š\n1 2 3 4 5 6 7 8 9  const router = new VueRouter({ routes: [ { path: \u0026#39;/user/:id\u0026#39;, components: { default: User, sidebar: Sidebar }, props: { default: true, sidebar: false }, }, ], });   1. ç‰©ä»¶æ¨¡å¼ é™¤äº†ä¸Šè¿°çš„å¸ƒæ—æ¨¡å¼ï¼Œæˆ‘å€‘ä¹Ÿå¯ä»¥å‚³éç‰©ä»¶ï¼Œå®ƒæœƒè¢«æŒ‰åŸæ¨£è¨­ç½®ç‚ºå…ƒä»¶å±¬æ€§ã€‚ç•¶ props æ˜¯éœæ…‹çš„æ™‚å€™æœ‰ç”¨ã€‚\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16  // component const Foo = { props: [\u0026#39;boo\u0026#39;], template: \u0026#39;\u0026lt;div\u0026gt;{{ boo }}\u0026lt;/div\u0026gt;\u0026#39;, }; // router const router = new VueRouter({ routes: [ { path: \u0026#39;/foo\u0026#39;, component: Foo, props: { boo: \u0026#39;boo\u0026#39; }, }, ], });   CodePen Demoï¼šVue 2.x - è·¯ç”±å…ƒä»¶å‚³é props ç‰©ä»¶æ¨¡å¼\n2. å‡½å¼æ¨¡å¼ å¦‚æœä½¿ç”¨å‡½å¼æ¨¡å¼ï¼Œæˆ‘å€‘å¯ä»¥é€éåƒæ•¸å–å¾— route ç‰©ä»¶ï¼š\n1 2 3 4 5 6 7 8 9 10 11  const router = new VueRouter({ routes: [ { path: \u0026#39;/user/:id\u0026#39;, component: User, props: (route) =\u0026gt; ({ id: route.params.id, }), }, ], });   CodePen Demoï¼šVue 2.x - è·¯ç”±å…ƒä»¶å‚³é props å‡½å¼æ¨¡å¼\n","description":"è·¯ç”±å…ƒä»¶å‚³éã€‚","id":7,"section":"posts","tags":["Vue","Vue Router"],"title":"Vue Router - è·¯ç”±å…ƒä»¶å‚³é","uri":"https://chupai.github.io/posts/vue/router/passingprops/"},{"content":" ç«¹ç™½çš„ Vue è¨˜äº‹æœ¬ ç›®éŒ„\n \ré‡æ–°å°å‘ é‡æ–°å°å‘ä¹‹å‰æœ‰ç¨å¾®æåˆ°ï¼Œä¹Ÿå°±æ˜¯å°‡ç•¶å‰è·¯ç”±è½‰å‘å…¶å®ƒæŒ‡å®šè·¯å¾‘è·¯ç”±ã€‚\nè¨­ç½® redirect é¸é …ï¼Œç•¶æˆ‘å€‘è¨ªå• /a æ™‚ï¼ŒURL å°‡æœƒè¢«æ›¿æ›æˆ /bï¼Œç„¶å¾ŒåŒ¹é…è·¯ç”±ä¹Ÿç‚º /bï¼š\n1 2 3 4 5 6 7 8 9 10  const routes = [ { path: \u0026#39;/a\u0026#39;, redirect: \u0026#39;/b\u0026#39;, }, { path: \u0026#39;/b\u0026#39;, // ...  }, ];   ç°¡å–®ä¾†èªªå°±æ˜¯ /a æœƒè¢«é‡æ–°å°å‘è‡³ /bã€‚\nCodePen Demoï¼šVue 2.x - é‡æ–°å°å‘\né™¤äº†å­—ä¸²è·¯å¾‘ï¼Œä¹Ÿå¯ä»¥å‚³éè·¯å¾‘ç‰©ä»¶ï¼š\n1  redirect: { name: \u0026#39;foo\u0026#39; }   æˆ–è€…æ˜¯å‡½å¼ï¼š\n1 2 3 4  redirect: to =\u0026gt; { // æ–¹æ³•æ¥æ”¶ ç›®æ¨™è·¯ç”± ä½œç‚ºåƒæ•¸  // return é‡å®šå‘çš„ å­—ä¸²è·¯å¾‘/è·¯å¾‘ç‰©ä»¶ }   åˆ«å ä½¿ç”¨ alias åˆ¥åæ˜¯åšä»€éº¼ç”¨çš„å‘¢ï¼Ÿ\nç•¶æˆ‘å€‘è¨ªå• /b æ™‚ï¼Œè·¯å¾‘æœƒä¿æŒ /b ä½†ï¼Œè·¯ç”±åŒ¹é…å‰‡ç‚º /aã€‚\n1 2 3 4 5 6 7  const routes = [ { path: \u0026#39;/a\u0026#39;, alias: \u0026#39;/b\u0026#39;, // ...  }, ];   é€™å€‹åŠŸèƒ½è®“ä½ å¯ä»¥è‡ªç”±åœ°å°‡ UI çµæ§‹æ˜ å°„åˆ°ä»»æ„çš„ URLï¼Œè€Œä¸æ˜¯å—é™æ–¼é…ç½®çš„å·¢ç‹€è·¯ç”±çµæ§‹ã€‚\nCodePen Demoï¼šVue 2.x - åˆ«å\n","description":"é‡æ–°å°å‘ \u0026 åˆ¥åã€‚","id":8,"section":"posts","tags":["Vue","Vue Router"],"title":"Vue Router - é‡æ–°å°å‘ \u0026 åˆ¥å","uri":"https://chupai.github.io/posts/vue/router/redirectalias/"},{"content":" ç«¹ç™½çš„ Vue è¨˜äº‹æœ¬ ç›®éŒ„\n \rå‘½åè·¯ç”± å®šç¾©è·¯ç”±é‚„å¯ä»¥ä½¿ç”¨ name å±¬æ€§ä¾†è¨­ç½®åç¨±ï¼š\n1 2 3 4 5 6 7  routes: [ { path: \u0026#39;/user/:id\u0026#39;, name: \u0026#39;user\u0026#39;, component: User } ]   to ç‰¹æ€§ä½¿ç”¨ v-bind ä¾†ç¶å®šä¸€å€‹ç‰©ä»¶å‚³å…¥è·¯ç”±åç¨±å’Œå‹•æ…‹è·¯ç”±åƒæ•¸ï¼š\n1  \u0026lt;router-link :to=\u0026#34;{ name: \u0026#39;user\u0026#39;, params: { id: \u0026#39;foo\u0026#39; } }\u0026#34;\u0026gt;User\u0026lt;/router-link\u0026gt;   ç•¶è·¯å¾‘æ¯”è¼ƒè¤‡é›œçš„æ™‚å€™ï¼Œä½¿ç”¨å‘½åè·¯ç”±ä»£æ›¿ï¼Œæœƒæ˜¯ä¸€å€‹é¸æ“‡ã€‚ä½†è¦æ³¨æ„ï¼Œpath å’Œ name ä¸å¯ä»¥æ··ç”¨ï¼Œpath æœƒè¢«ç„¡è¦–ã€‚\nCodePen Demoï¼šVue 2.x - å‘½åè·¯ç”±\nå‘½åè¦–åœ– å‡è¨­è¦åŒä¸€å€‹é é¢è¼‰å…¥å…©å€‹ä»¥ä¸Šçš„è¦–åœ–ï¼Œå°±éœ€è¦æ›¿ \u0026lt;router-view\u0026gt; å…ƒä»¶å‘½åã€‚\n1 2 3  \u0026lt;router-view\u0026gt;\u0026lt;/router-view\u0026gt; \u0026lt;router-view name=\u0026#34;a\u0026#34;\u0026gt;\u0026lt;/router-view\u0026gt; \u0026lt;router-view name=\u0026#34;b\u0026#34;\u0026gt;\u0026lt;/router-view\u0026gt;   å¤šå€‹è¦–åœ–å°±éœ€è¦å¤šå€‹å…ƒä»¶ï¼Œå› æ­¤è·¯ç”±è¨­ç½®éœ€è¦æ”¹ç”¨ componentsï¼š\n1 2 3 4 5 6 7 8 9 10  routes: [ { path: \u0026#39;/\u0026#39;, components: { default: Foo, a: Bar, b: Baz, } }, ]   \u0026lt;router-view\u0026gt; æ²’å‘½åé è¨­ç‚º defaultï¼Œå¦‚æœå…·åæœƒæ¸²æŸ“ç›¸å°è¨­å®šå…ƒä»¶ã€‚\nCodePen Demoï¼šVue 2.x - å‘½åè¦–åœ–\n","description":"ç¨‹å¼æ§åˆ¶ã€‚","id":9,"section":"posts","tags":["Vue","Vue Router"],"title":"Vue Router - å‘½åè·¯ç”± \u0026 å‘½åè¦–åœ–","uri":"https://chupai.github.io/posts/vue/router/named/"},{"content":" ç«¹ç™½çš„ Vue è¨˜äº‹æœ¬ ç›®éŒ„\n \rpush æ–¹æ³• é™¤äº†ä½¿ç”¨ \u0026lt;router-link\u0026gt; å‰µå»º a æ¨™ç±¤ä¾†å®šç¾©å°èˆªé€£çµï¼Œé‚„å¯ä»¥ä½¿ç”¨è·¯ç”±çš„å¯¦é«”æ–¹æ³•ä¾†å¯¦ä½œã€‚\n1  router.push(location, onComplete?, onAbort?);   ç•¶ä½ é»æ“Š \u0026lt;router-link\u0026gt; æ™‚ï¼Œpush æ–¹æ³•æœƒåœ¨å…§éƒ¨å‘¼å«ï¼Œæ‰€ä»¥ \u0026lt;router-link :to=\u0026quot;...\u0026quot;\u0026gt; ç­‰åŒæ–¼å‘¼å« router.push(...)ã€‚\nlocation åƒæ•¸å¯ä»¥æ˜¯å­—ä¸²æˆ–ç‰©ä»¶ï¼š\n1 2 3 4 5 6 7 8 9 10 11  // å­—ä¸² router.push(\u0026#39;home\u0026#39;); // ç‰©ä»¶ router.push({ path: \u0026#39;home\u0026#39; }); // å‘½åçš„è·¯ç”± router.push({ name: \u0026#39;user\u0026#39;, params: { userId: \u0026#39;123\u0026#39; } }); // å¸¶æŸ¥è©¢åƒæ•¸ï¼Œè®Šæˆ /register?plan=private router.push({ path: \u0026#39;register\u0026#39;, query: { plan: \u0026#39;private\u0026#39; } });   å¦‚æœæä¾›äº† pathï¼Œparams æœƒè¢«å¿½ç•¥ã€‚å»ºè­°æ”¹ç”¨ä»¥ä¸‹ä½œæ³•ï¼š\n1 2 3 4 5  // -\u0026gt; /user/123  const userId = \u0026#39;123\u0026#39;; router.push({ name: \u0026#39;user\u0026#39;, params: { userId } }); router.push({ path: `/user/${userId}` });   åŒæ¨£çš„è¦å‰‡ä¹Ÿé©ç”¨æ–¼ \u0026lt;router-link\u0026gt; å…ƒä»¶çš„ to ç‰¹æ€§ã€‚\næ›´å¤šé—œæ–¼ å‘½åçš„è·¯ç”± ä¹‹å¾Œæœƒèªªæ˜ã€‚\n1. å¯é¸åƒæ•¸ å¦å¤–å…©å€‹å¯é¸åƒæ•¸ç‚ºå›å‘¼å‡½å¼ï¼š\n onCompleteï¼šå°èˆªæˆåŠŸå®Œæˆï¼ˆåœ¨æ‰€æœ‰çš„ç•°æ­¥é‰¤å­è¢«è§£æä¹‹å¾Œï¼‰æ™‚é€²è¡Œå‘¼å«ã€‚ onAbortï¼šå°èˆªçµ‚æ­¢ï¼ˆå°èˆªåˆ°ç›¸åŒçš„è·¯ç”±ã€æˆ–åœ¨ç•¶å‰å°èˆªå®Œæˆä¹‹å‰å°èˆªåˆ°å¦ä¸€å€‹ä¸åŒçš„è·¯ç”±ï¼‰æ™‚é€²è¡Œå‘¼å«ã€‚  åœ¨ 3.1.0+ ä¹‹å¾Œï¼Œå¦‚æœçœç•¥å…©å€‹å¯é¸åƒæ•¸ï¼Œæœƒå›å‚³ Promise ç‰©ä»¶ï¼Œå¯ä»¥ä½¿ç”¨ä»¥ä¸‹ä½œæ³•ï¼š\n1  router.push(location).then(onComplete).catch(onAbort);   replace æ–¹æ³• replace æ–¹æ³•åŸºæœ¬ä¸Šèˆ‡ push æ–¹æ³• ç›¸åŒï¼Œå”¯ä¸€å·®ç•°åœ¨æ–¼å®ƒä¸æœƒå‘ history æ·»åŠ æ–°è¨˜éŒ„ã€‚\nç­‰åŒ \u0026lt;router-link\u0026gt; è¨­ç½® replace ç‰¹æ€§ã€‚\ngo æ–¹æ³• go æ–¹æ³•çš„åƒæ•¸ç‚ºæ•´æ•¸ï¼Œæ„æ€æ˜¯åœ¨ history è¨˜éŒ„ä¸­å‘å‰æˆ–è€…å¾Œé€€å¤šå°‘æ­¥ã€‚\n1  router.go(n);   èˆ‰ä¾‹ä¾†èªªï¼š\n1 2 3 4 5 6 7 8 9 10 11 12  // åœ¨ç€è¦½å™¨è¨˜éŒ„ä¸­å‰é€²ä¸€æ­¥ï¼Œç­‰åŒæ–¼ history.forward() router.go(1); // å¾Œé€€ä¸€æ­¥è¨˜éŒ„ï¼Œç­‰åŒæ–¼ history.back() router.go(-1); // å‰é€² 3 æ­¥è¨˜éŒ„ router.go(3); // å¦‚æœ history è¨˜éŒ„ä¸å¤ ç”¨ï¼Œé»˜é»˜åœ°å¤±æ•— router.go(-100); router.go(100);   å°èˆªå¤±æ•— 1 2  \u0026lt;router-link to=\u0026#34;/about\u0026#34;\u0026gt;About\u0026lt;/router-link\u0026gt; \u0026lt;button @click=\u0026#34;$router.push(\u0026#39;/about\u0026#39;)\u0026#34;\u0026gt;About\u0026lt;/button\u0026gt;   é€™è£¡è¦æ³¨æ„ï¼Œè‹¥æˆ‘å€‘ç•¶å‰è·¯å¾‘èˆ‡ç›®æ¨™è·¯å¾‘ç›¸åŒï¼Œä½¿ç”¨ \u0026lt;router-link\u0026gt; çš„ä¸¦ä¸æœƒæ‹‹å‡ºéŒ¯èª¤ï¼Œè€Œä½¿ç”¨ç¨‹å¼æ§åˆ¶çš„æœƒæ‹‹å‡ºéŒ¯èª¤ã€‚\nCodePen Demoï¼šVue 2.x - å°èˆªå¤±æ•—\nè¦å¦‚ä½•è™•ç†ï¼Œå¯ä»¥åƒè€ƒå®˜æ–¹æ–‡ä»¶èªªæ˜ Navigation Failuresã€‚\n","description":"ç¨‹å¼æ§åˆ¶ã€‚","id":10,"section":"posts","tags":["Vue","Vue Router"],"title":"Vue Router - ç¨‹å¼æ§åˆ¶","uri":"https://chupai.github.io/posts/vue/router/programmaticnavigation/"},{"content":" ç«¹ç™½çš„ Vue è¨˜äº‹æœ¬ ç›®éŒ„\n \rå·¢ç‹€è·¯ç”± å¤šå±¤å·¢ç‹€ç¯„ä¾‹ï¼š\n/user/foo/profile /user/foo/posts +------------------+ +-----------------+ | User | | User | | +--------------+ | | +-------------+ | | | Profile | | +------------\u0026gt; | | Posts | | | | | | | | | | | +--------------+ | | +-------------+ | +------------------+ +-----------------+ åœ¨å·¢ç‹€çš„å‡ºå£ä¸­æ¸²æŸ“å…ƒä»¶ï¼Œéœ€è¦åœ¨è·¯ç”±é…ç½®ä¸­ä½¿ç”¨ children å±¬æ€§ï¼Œæ¥å—ä¸€å€‹ RouteConfig é™£åˆ—ã€‚ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14  { path: \u0026#39;/user/:id\u0026#39;, component: User, children: [ { path: \u0026#39;profile\u0026#39;, component: UserpProfile, }, { path: \u0026#39;posts\u0026#39;, component: UserPosts, }, ], }   æ³¨æ„ï¼Œå·¢ç‹€æ™‚ path ä¸å¸¶ /ï¼Œå¦å‰‡æœƒè¢«ç•¶ä½œæ ¹è·¯å¾‘ã€‚\nå­è·¯ç”±æœƒè¢«æ¸²æŸ“åœ¨å…ƒä»¶ä¸­çš„ \u0026lt;router-view\u0026gt; ä½ç½®ï¼š\n1 2 3 4 5 6 7 8  const User = { template: ` \u0026lt;div\u0026gt; \u0026lt;h1\u0026gt;User\u0026lt;/h1\u0026gt; \u0026lt;router-view /\u0026gt; \u0026lt;/div\u0026gt; `, };   å¦‚æœå¸Œæœ› /user/foo æœ‰é è¨­å­è·¯ç”±ï¼Œå¯ä»¥æä¾›ä¸€å€‹ç©ºè·¯å¾‘ï¼š\n1 2 3 4 5 6 7  children: [ { path: \u0026#39;\u0026#39;, component: UserHome }, // ... ],   æˆ–è€…ï¼Œä½ å¸Œæœ›é è¨­æ˜¯å­è·¯ç”±ä¸­çš„å…¶ä¸­ä¸€å€‹ï¼Œå¯ä»¥ä½¿ç”¨ redirect è½‰å‘ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15  { path: \u0026#39;/user/:id\u0026#39;, component: User, redirect: \u0026#39;/user/:id/profile\u0026#39;, children: [ { path: \u0026#39;profile\u0026#39;, component: UserProfile, }, { path: \u0026#39;posts\u0026#39;, component: UserPosts, }, ], }   CodePen Demoï¼šVue 2.x - å·¢ç‹€è·¯ç”±\n","description":"å·¢ç‹€è·¯ç”±ã€‚","id":11,"section":"posts","tags":["Vue","Vue Router"],"title":"Vue Router - å·¢ç‹€è·¯ç”±","uri":"https://chupai.github.io/posts/vue/router/nestedroutes/"},{"content":" ç«¹ç™½çš„ Vue è¨˜äº‹æœ¬ ç›®éŒ„\n \rå‹•æ…‹è·¯ç”± å‹•æ…‹è·¯ç”±æ˜¯æŒ‡åœ¨ URL è·¯å¾‘ä¸­å«æœ‰å‹•æ…‹åƒæ•¸çš„è·¯ç”±ã€‚ä¾‹å¦‚æœ‰ä¸€å€‹ User å…ƒä»¶ï¼Œå°æ–¼æ‰€æœ‰ ID å„ä¸ç›¸åŒçš„ç”¨æˆ¶ï¼Œéƒ½è¦ä½¿ç”¨é€™å€‹å…ƒä»¶ä¾†æ¸²æŸ“ã€‚é‚£éº¼è·¯å¾‘å°±æœƒæ˜¯ /user/1ã€/user/2ã€/user/3 ç­‰ç­‰ã€‚\n1. è·¯å¾‘åƒæ•¸ params ä¸€å€‹ è·¯å¾‘åƒæ•¸ ä½¿ç”¨å†’è™Ÿ : æ¨™è¨˜ï¼š\n1 2 3 4 5 6  routes: [ { path: \u0026#39;/user/:id\u0026#39;, // å‹•æ…‹è·¯å¾‘åƒæ•¸ ä»¥å†’è™Ÿé–‹é ­  component: User }, ]   é€™æ¨£ï¼Œä»»ä½•åŒ¹é… /user/:id çš„è·¯å¾‘éƒ½æœƒæ¸²æŸ“å‡º User å…ƒä»¶ã€‚\nè·¯ç”±ç‰©ä»¶ this.$route ä¸­çš„ params å±¬æ€§è¡¨ç¤ºç•¶å‰å‹•æ…‹è·¯å¾‘åƒæ•¸å€¼ã€‚\nCodePen Demoï¼šVue 2.x - å‹•æ…‹è·¯ç”± è·¯å¾‘åƒæ•¸\n2. å¤šæ®µè·¯å¾‘åƒæ•¸ ä½ å¯ä»¥åœ¨ä¸€å€‹è·¯ç”±ä¸­è¨­ç½®å¤šæ®µ è·¯å¾‘åƒæ•¸ï¼Œå°æ‡‰çš„å€¼éƒ½æœƒè¨­ç½®åˆ° params å±¬æ€§ä¸­ã€‚ä¾‹å¦‚ï¼š\næ¨¡å¼ï¼š /user/:id /user/:username/post/:post_id åŒ¹é…è·¯å¾‘ï¼š /user/evan /user/evan/post/123 params ç‰©ä»¶ï¼š { username: 'evan' } { username: 'evan', post_id: '123' } éŸ¿æ‡‰è·¯ç”±åƒæ•¸çš„è®ŠåŒ– ç•¶ä½¿ç”¨è·¯ç”±åƒæ•¸æ™‚ï¼Œå…ƒä»¶æœƒé‡è¤‡åˆ©ç”¨ï¼Œé€™æ„å‘³è‘—å…ƒä»¶çš„ç”Ÿå‘½é€±æœŸé‰¤å­ä¸æœƒå†è¢«å‘¼å«ã€‚\nå› æ­¤ï¼Œè‹¥å…ƒä»¶æƒ³å°è·¯ç”±åƒæ•¸çš„è®ŠåŒ–ä½œå‡ºéŸ¿æ‡‰çš„è©±ï¼Œå¯ä»¥ä½¿ç”¨ watch ç›£è½ï¼š\n1 2 3 4 5 6 7 8  const User = { template: \u0026#39;...\u0026#39;, watch: { $route(to, from) { // å°è·¯ç”±è®ŠåŒ–ä½œå‡ºéŸ¿æ‡‰...  }, }, };   æˆ–è€…ä½¿ç”¨ beforeRouteUpdate() å°èˆªå®ˆè¡›ï¼š\n1 2 3 4 5 6 7  const User = { template: \u0026#39;...\u0026#39;, beforeRouteUpdate(to, from, next) { // react to route changes...  // don\u0026#39;t forget to call next()  }, };   å°±ç®—æ˜¯åˆ†é–‹å®šç¾©è·¯ç”±ï¼Œå¦‚æœä½¿ç”¨ç›¸åŒå…ƒä»¶ï¼Œä¸€æ¨£æœƒé‡è¤‡ä½¿ç”¨å…ƒä»¶ï¼Œä¾‹å¦‚ï¼š\n1 2 3 4 5 6 7 8  { path: \u0026#39;/user/1\u0026#39;, component: User }, { path: \u0026#39;/user/2\u0026#39;, component: User }   æ•ç²æ‰€æœ‰è·¯ç”±æˆ– 404 Not found è·¯ç”± é€šç”¨ç¬¦è™Ÿ * å¯ä»¥æ•ç²æ‰€æœ‰è·¯ç”±è·¯å¾‘ï¼Œé€šå¸¸ç”¨æ–¼ä¾‹å¤–è™•ç†ã€‚\nç•¶è·¯å¾‘ä¸å­˜åœ¨æ™‚ï¼Œå¯ä»¥æ¸²æŸ“ä¸€å€‹éŒ¯èª¤è­¦å‘Šï¼Œå‘ŠçŸ¥ä½¿ç”¨è€…ç•¶å‰ç¶²å€ä¸å­˜åœ¨ï¼š\n1 2 3 4  { path: \u0026#39;*\u0026#39;, component: Error, }   ä½†æ˜¯é€™æ¨£å­ä¸å­˜åœ¨çš„è·¯å¾‘æœƒä¿ç•™ï¼Œå› æ­¤ä½ å¯ä»¥ä½¿ç”¨ redirect è½‰å‘ /404ï¼š\n1 2 3 4 5 6 7 8  { path: \u0026#39;/404\u0026#39;, component: Error, }, { path: \u0026#39;*\u0026#39;, redirect: \u0026#39;/404\u0026#39;, }   ç•¶ä½¿ç”¨é€šç”¨ç¬¦è™Ÿè·¯ç”±æ™‚ï¼Œè«‹ç¢ºä¿è·¯ç”±çš„é †åºæ˜¯æ­£ç¢ºçš„ï¼Œä¹Ÿå°±æ˜¯èªªå«æœ‰é€šç”¨ç¬¦è™Ÿçš„è·¯ç”±æ‡‰è©²æ”¾åœ¨æœ€å¾Œã€‚\n1. pathMatch åƒæ•¸ ä½¿ç”¨ä¸€å€‹é€šç”¨ç¬¦è™Ÿæ™‚ï¼Œ$route.params å…§æœƒè‡ªå‹•æ·»åŠ ä¸€å€‹åç‚º pathMatch åƒæ•¸ã€‚åŒ…å«äº† URL é€šéé€šç”¨ç¬¦è™Ÿè¢«åŒ¹é…çš„éƒ¨åˆ†ã€‚\n1 2 3 4 5 6 7  // { path: \u0026#39;/user-*\u0026#39; } this.$router.push(\u0026#39;/user-admin\u0026#39;); this.$route.params.pathMatch; // \u0026#39;admin\u0026#39;  // { path: \u0026#39;*\u0026#39; } this.$router.push(\u0026#39;/non-existing\u0026#39;); this.$route.params.pathMatch; // \u0026#39;/non-existing\u0026#39;   é«˜ç´šåŒ¹é…æ¨¡å¼ Vue Router ä½¿ç”¨ path-to-regexp ä½œç‚ºè·¯å¾‘åŒ¹é…å¼•æ“ï¼Œæ‰€ä»¥å¯ä»¥ä½¿ç”¨ æ­£å‰‡è¡¨é”å¼ æ”¯æŒå¾ˆå¤šé«˜ç´šçš„åŒ¹é…æ¨¡å¼ã€‚\nå®˜æ–¹æ–‡ä»¶ç¯„ä¾‹\n1. å¯é¸è·¯ç”±åƒæ•¸ ? ç­‰åŒæ–¼ {0,1} è¡¨ç¤ºé›¶å€‹æˆ–ä¸€å€‹ï¼Œä¹Ÿå°±æ˜¯å¯é¸ã€‚\nç„¡è«–æ˜¯å¦æ·»åŠ è·¯ç”±åƒæ•¸éƒ½å°æ‡‰çš„åŒä¸€å€‹å…ƒä»¶ï¼š\n1  { path: \u0026#39;/optional-params/:foo?\u0026#39; }   1 2  \u0026lt;router-link to=\u0026#34;/optional-params\u0026#34;\u0026gt;\u0026lt;/router-link\u0026gt; \u0026lt;router-link to=\u0026#34;/optional-params/foo\u0026#34;\u0026gt;\u0026lt;/router-link\u0026gt;   å¯ä»¥åœ¨å…ƒä»¶å…§ä½¿ç”¨ v-if æ­é… $route.params æ¸²æŸ“ä¸åŒçš„å…§å®¹ã€‚\n2. ç²¾ç¢ºåŒ¹é…åƒæ•¸ ä½¿ç”¨æ­£å‰‡è¦å‰‡é©—è­‰ï¼Œåªæœ‰ç¬¦åˆçš„æ ¼å¼æ‰æœƒè·³è½‰ã€‚\nèˆ‰ä¾‹ä¾†èªªï¼Œå¿…é ˆæ˜¯æ­£æ•´æ•¸ï¼š\n1  { path: \u0026#39;/params-with-regex/:id(\\\\d+)\u0026#39; }   1  \u0026lt;router-link to=\u0026#34;/params-with-regex/123\u0026#34;\u0026gt;\u0026lt;/router-link\u0026gt;   \\d ç­‰åŒ[0-9] åŒ¹é… 0 åˆ° 9 ä¹‹é–“çš„ä»»ä¸€æ•¸å­—ã€+ ç­‰åŒæ–¼ {1,} è¡¨ç¤ºè‡³ä¸€å€‹ä»¥ä¸Šã€‚\nç´”æ•¸å­—çš„é©—è­‰é€šå¸¸ç”¨æ–¼åˆ†é ã€‚å¦å¤–ï¼Œç²¾ç¢ºåŒ¹é…é‚„å¯ä»¥ç”¨ä¾†é©—è­‰æ‰‹æ©Ÿã€ä¿¡ç®±ç­‰ç­‰è³‡æ–™æ ¼å¼çš„åƒæ•¸ï¼Œç¬¦åˆçš„æ‰å…è¨±è·³è½‰ã€‚\n3. åŒ¹é…ä»»æ„è·¯å¾‘ ä¹‹å‰æéçš„ * é€šç”¨ç¬¦è™Ÿï¼ŒåŒ¹é…ä»»æ„è·¯å¾‘ã€‚\n1  { path: \u0026#39;/asterisk/*\u0026#39; }   1 2  \u0026lt;router-link to=\u0026#34;/asterisk/foo\u0026#34;\u0026gt;\u0026lt;/router-link\u0026gt; \u0026lt;router-link to=\u0026#34;/asterisk/foo/bar\u0026#34;\u0026gt;\u0026lt;/router-link\u0026gt;   4. éƒ¨åˆ†å¯é¸åƒæ•¸ çµåˆå¯é¸è·¯ç”±åƒæ•¸å’Œç²¾ç¢ºåŒ¹é…åƒæ•¸ï¼š\n1  { path: \u0026#39;/optional-group/(foo/)?bar\u0026#39; }   1 2  \u0026lt;router-link to=\u0026#34;/optional-group/bar\u0026#34;\u0026gt;\u0026lt;/router-link\u0026gt; \u0026lt;router-link to=\u0026#34;/optional-group/foo/bar\u0026#34;\u0026gt;\u0026lt;/router-link\u0026gt;   åŒ¹é…å„ªå…ˆç´š æœ‰æ™‚å€™ï¼ŒåŒä¸€å€‹è·¯å¾‘å¯ä»¥åŒ¹é…å¤šå€‹è·¯ç”±ï¼Œæ­¤æ™‚ï¼ŒåŒ¹é…çš„å„ªå…ˆç´šå°±æŒ‰ç…§è·¯ç”±çš„å®šç¾©é †åºï¼šèª°å…ˆå®šç¾©çš„ï¼Œèª°çš„å„ªå…ˆç´šå°±æœ€é«˜ã€‚\n","description":"å‹•æ…‹è·¯ç”±æ˜¯æŒ‡åœ¨ URL è·¯å¾‘ä¸­å«æœ‰å‹•æ…‹åƒæ•¸çš„è·¯ç”±ã€‚","id":12,"section":"posts","tags":["Vue","Vue Router"],"title":"Vue Router - å‹•æ…‹è·¯ç”±åŒ¹é…","uri":"https://chupai.github.io/posts/vue/router/dynamicroutematching/"},{"content":" ç«¹ç™½çš„ Vue è¨˜äº‹æœ¬ ç›®éŒ„\n \rå‰ç«¯è·¯ç”±æ¦‚è¿°  å‰ç«¯è·¯ç”±ç‚º å–®é æ‡‰ç”¨ï¼ˆSPAï¼‰ çš„åŸºç¤æ¨™é…ã€‚\n è·¯ç”±é€™å€‹æ¦‚å¿µä¾†è‡ªå¾Œç«¯ä¼ºæœå™¨ï¼Œé€éä¸åŒçš„è·¯å¾‘ï¼Œå›å‚³ä¸åŒçš„ç¶²é å…§å®¹ï¼Œæ¯æ¬¡è«‹æ±‚éƒ½æœƒåˆ·æ–°é é¢ï¼Œå› æ­¤æœƒä¸å®šæ™‚é–“çš„ç©ºç™½ç•«é¢ã€‚\néš¨è‘— AJAX æŠ€è¡“çš„ç››è¡Œï¼Œè³‡æ–™è«‹æ±‚ä¸å†éœ€è¦åˆ·æ–°é é¢ï¼Œé–‹å§‹æœ‰å‰å¾Œç«¯åˆ†é›¢çš„é–‹ç™¼æ¨¡å¼ï¼Œå‰ç«¯åªéœ€è¦æ¥æ”¶å¾Œç«¯å‚³éçš„è³‡æ–™ï¼Œå†å°‡å…§å®¹æ¸²æŸ“å‡ºä¾†ã€‚å„ç¨® MVVM æ¡†æ¶çš„èˆˆèµ·ï¼Œå‰ç«¯ç™¼å±•é€æ¼¸èµ°å‘ SPAï¼Œç”±æ–¼åªæœ‰å–®ä¸€å€‹ htmlï¼Œä¸€ä½†åŠ è¼‰å®Œæˆï¼Œä¸¦ä¸æœƒå› ç‚ºä½¿ç”¨è€…çš„æ“ä½œè€Œé‡æ–°è¼‰å…¥æˆ–è·³è½‰ï¼Œå–è€Œä»£ä¹‹çš„æ˜¯åˆ©ç”¨ JS å‹•æ…‹åˆ‡æ›ä¸åŒçš„å…ƒä»¶ï¼Œæ”¹è®Š URL ä½†é é¢æ•´é«”ä¸åˆ·æ–°ã€‚\nå‰ç«¯è·¯ç”±æ˜¯ URL èˆ‡ç•«é¢ä¹‹é–“çš„é—œä¿‚ï¼Œæœ‰å…©ç¨®å¯¦ç¾æ–¹å¼ history å’Œ hashï¼Œè©³ç´°å¯ä»¥åƒè€ƒé€™ç¯‡æ–‡ç« ï¼šWeb å‰ç«¯è·¯ç”±åŸç†è§£æå’Œå®ç°ã€‚\nVue Router  Vue Router\n Vue Router æ˜¯ Vue.js å®˜æ–¹çš„è·¯ç”±ç®¡ç†å™¨ã€‚é é¢çš„è·¯å¾‘æ”¹è®Šå°±æ˜¯å…ƒä»¶çš„åˆ‡æ›ã€‚\n1. CDN 1  \u0026lt;script src=\u0026#34;https://cdnjs.cloudflare.com/ajax/libs/vue-router/3.4.5/vue-router.min.js\u0026#34;\u0026gt;\u0026lt;/script\u0026gt;   2. Vue CLI å°ˆæ¡ˆ å®‰è£ï¼š\n1  npm install vue-router --save   é…ç½®æª”ï¼š\n Vue CLI3 ç‚º router.js Vue CLI4 ç‚º /router/index.js  1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21  import Vue from \u0026#39;vue\u0026#39;; import Router from \u0026#39;vue-router\u0026#39;; import Home from \u0026#39;./views/Home.vue\u0026#39;; Vue.use(Router); export default new Router({ routes: [ { path: \u0026#39;/\u0026#39;, name: \u0026#39;home\u0026#39;, component: Home, }, { path: \u0026#39;/about\u0026#39;, name: \u0026#39;about\u0026#39;, component: () =\u0026gt; // è·¯ç”±æ‡¶åŠ è¼‰ lazy-loading  import(\u0026#39;./views/About.vue\u0026#39;), }, ], });   å°‡ router æ›è¼‰åˆ° Vue å¯¦é«”ï¼š\n1 2 3 4 5 6 7 8 9 10  import Vue from \u0026#39;vue\u0026#39;; import App from \u0026#39;./App.vue\u0026#39;; import router from \u0026#39;./router\u0026#39;; // å¼•å…¥é…ç½®æª”  Vue.config.productionTip = false; new Vue({ router, // è¼‰å…¥  render: h =\u0026gt; h(App), }).$mount(\u0026#39;#app\u0026#39;);   åŸºæœ¬ç¯„ä¾‹ 1 2 3 4 5 6 7 8 9 10 11 12 13  \u0026lt;script src=\u0026#34;https://cdnjs.cloudflare.com/ajax/libs/vue-router/3.4.5/vue-router.min.js\u0026#34;\u0026gt;\u0026lt;/script\u0026gt; \u0026lt;div id=\u0026#34;app\u0026#34;\u0026gt; \u0026lt;nav\u0026gt; \u0026lt;!-- å°èˆªå…ƒä»¶ --\u0026gt; \u0026lt;router-link to=\u0026#34;/\u0026#34;\u0026gt;Home\u0026lt;/router-link\u0026gt; | \u0026lt;router-link to=\u0026#34;/about\u0026#34;\u0026gt;About\u0026lt;/router-link\u0026gt; \u0026lt;/nav\u0026gt; \u0026lt;p\u0026gt;path: {{ $route.fullPath }}\u0026lt;/p\u0026gt; \u0026lt;!-- è·¯ç”±é…ç½®å…ƒä»¶ --\u0026gt; \u0026lt;router-view /\u0026gt; \u0026lt;/div\u0026gt;   \u0026lt;router-link\u0026gt; èˆ‡ \u0026lt;router-view\u0026gt; ç‚º Vue Router æä¾›çš„å…ƒä»¶ï¼š\n \u0026lt;router-link\u0026gt; é è¨­ç‚º \u0026lt;a\u0026gt;ï¼Œé€é to ç‰¹æ€§ç”¨æ–¼æŒ‡å®šè·³è½‰çš„é€£çµï¼› è€Œ \u0026lt;router-view\u0026gt; æ˜¯è² è²¬æ›è¼‰è·¯ç”±åŒ¹é…åˆ°ç•«é¢çš„å…ƒä»¶ã€‚  1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18  // è·¯ç”±å…ƒä»¶ const Home = { template: \u0026#39;\u0026lt;div\u0026gt;\u0026lt;h1\u0026gt;Home\u0026lt;/h1\u0026gt;\u0026lt;/div\u0026gt;\u0026#39; }; const About = { template: \u0026#39;\u0026lt;div\u0026gt;\u0026lt;h1\u0026gt;About\u0026lt;/h1\u0026gt;\u0026lt;/div\u0026gt;\u0026#39; }; // é…ç½®è·¯ç”± const routes = [ { path: \u0026#39;/\u0026#39;, component: Home }, { path: \u0026#39;/about\u0026#39;, component: About }, ]; // å»ºç«‹ router å¯¦é«”ï¼Œä¸¦å‚³ routes é…ç½® const router = new VueRouter({ routes }); // å»ºç«‹å¯¦é«” + æ›è¼‰ router const vm = new Vue({ el: \u0026#39;#app\u0026#39;, router, });   CodePen Demoï¼šVue 2.x - Vue Router åŸºæœ¬ç¯„ä¾‹\né…ç½®è·¯ç”± é…ç½®è·¯ç”±æ˜ å°„ï¼Œå…ƒä»¶å’Œè·¯å¾‘æ˜ å°„çš„é—œä¿‚ã€‚\nroutes ç‚ºä¸€å€‹é™£åˆ—ï¼Œåƒ…èƒ½æ¥å— RouteConfig è¨­å®šè³‡æ–™ç‰©ä»¶ï¼Œé€™å€‹ç‰©ä»¶æœ¬èº«åŒ…å«äº†ä»¥ä¸‹åŸºæœ¬å±¬æ€§ï¼š\n pathï¼šå°æ‡‰çš„è™›æ“¬è·¯å¾‘ï¼Œå¾ base é–‹å§‹ç®—ã€‚ componentï¼šè·¯ç”±é…ç½®çš„ Vue å…ƒä»¶ã€‚  1 2 3 4 5 6 7 8 9 10  const routes = [ { path: \u0026#39;/\u0026#39;, component: Home }, { path: \u0026#39;/about\u0026#39;, component: About }, ];   å…¶ä»–å±¬æ€§ä¹‹å¾Œæœƒæ…¢æ…¢æåˆ°ã€‚\nè·¯ç”±é€£çµ 1. router-link å…ƒä»¶ \u0026lt;router-link\u0026gt; å…ƒä»¶ï¼Œé è¨­æœƒè§£ææˆ HTML çš„ \u0026lt;a\u0026gt; æ¨™ç±¤ï¼Œæœ‰å…©å€‹å±¬æ€§å¯è¨­å®šï¼š\n tagï¼šæŒ‡å®šæ¨™ç±¤ã€‚ toï¼šå°å‘çš„è·¯å¾‘å­—ä¸²ã€‚  1 2  \u0026lt;router-link to=\u0026#34;/\u0026#34;\u0026gt;Home\u0026lt;/router-link\u0026gt; \u0026lt;router-link to=\u0026#34;/about\u0026#34;\u0026gt;About\u0026lt;/router-link\u0026gt;   to é™¤äº†æ¥å—è·¯å¾‘å­—ä¸²ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨ v-bind ä¾†ç¶å®šä¸€å€‹ç‰©ä»¶ã€‚é»æ“Š \u0026lt;router-link\u0026gt; æœƒåœ¨å…§éƒ¨å‘¼å«è·¯ç”±å¯¦é«” push æ–¹æ³•ï¼Œæ›´å¤šè©³ç´°ç”¨æ³•æœƒåœ¨ ç¨‹å¼æ§åˆ¶ èªªæ˜ã€‚\n2. active æ¨£å¼ å°æ‡‰çš„è·¯ç”±åŒ¹é…æˆåŠŸæ™‚ï¼Œ\u0026lt;router-link\u0026gt; æœƒè‡ªå‹•æ·»åŠ ä¸€å€‹ active-class é¡åˆ¥ã€‚\nå¯ä»¥ä½¿ç”¨ .router-link-active ä¾†å®šç¾©æ¨£å¼ï¼š\n1 2 3  .router-link-active { /* style */ }   æˆ–æ˜¯é€é active-class ç‰¹æ€§ï¼Œå„åˆ¥å¼•å…¥è‡ªå®šç¾©é¡åˆ¥åç¨±ï¼š\n1  \u0026lt;router-link to=\u0026#34;/\u0026#34; active-class=\u0026#34;is-active\u0026#34;\u0026gt;Home\u0026lt;/router-link\u0026gt;   1 2 3  .is-active { /* style */ }   å¦‚æœä¸æƒ³è¦å„åˆ¥å¼•å…¥è‡ªå®šç¾©é¡åˆ¥åç¨±ï¼Œå¯ä»¥è¨­ç½® Router çš„linkActiveClass é¸é …ï¼š\n1 2 3 4 5  // router.js export default new Router({ linkActiveClass: \u0026#39;is-active\u0026#39;, // é è¨­å€¼ \u0026#39;router-link-active\u0026#39;  // ... });   2. ç²¾ç¢ºåŒ¹é…æ¨¡å¼ è¦æ³¨æ„ï¼Œç•¶å‰è·¯ç”±çš„æ‰€æœ‰çˆ¶ç´šéƒ½æœƒæ·»åŠ  active-classï¼Œèˆ‰ä¾‹ï¼š/about å°±åŒ…å« / ä¹Ÿæ·»åŠ  active-classã€‚\nè€Œç²¾ç¢ºåŒ¹é…çš„ \u0026lt;router-link\u0026gt; é‚„æœƒæ·»åŠ ä¸€å€‹ exact-active-classï¼Œç”¨æ³•èˆ‡ active-class ç›¸åŒï¼ŒRouter é¸é …ç‚º linkExactActiveClassï¼ˆé è¨­å€¼ 'router-link-exact-active'ï¼‰ã€‚\nä½ å¯ä»¥æ”¹ç”¨ .router-link-exact-active ä¾†å®šç¾© active æ¨£å¼ï¼Œå°±å¯ä»¥é¿å…çˆ¶ç´šä¹Ÿå¥—ç”¨ active æ¨£å¼ã€‚\næˆ–è€…ä½¿ç”¨ exact ç²¾ç¢ºåŒ¹é…æ¨¡å¼ï¼š\n1  \u0026lt;router-link to=\u0026#34;/\u0026#34; exact\u0026gt;Home\u0026lt;/router-link\u0026gt;   ä½¿ç”¨ç²¾ç¢ºåŒ¹é…æ¨¡å¼ï¼Œåªæœ‰è·¯ç”±å®Œå…¨åŒ¹é…æ™‚æ‰æœƒæ·»åŠ  active-classã€‚\nCodePen Demoï¼šVue 2.x - Vue Router active class\nè·¯ç”±æ¸²æŸ“ \u0026lt;router-view\u0026gt; è·¯ç”±é…ç½®å…ƒä»¶ï¼Œæœƒæ¸²æŸ“ç•¶å‰è·¯å¾‘æŒ‡å®šçš„å…ƒä»¶ã€‚å¦‚æœè¦è¨­ç½®è¤‡æ•¸ \u0026lt;router-view\u0026gt;ï¼Œæœ‰ name ç‰¹æ€§å¯ä»¥è¨­ç½®åç¨±ã€‚\nå› ç‚ºå®ƒä¹Ÿæ˜¯å€‹å…ƒä»¶ï¼Œæ‰€ä»¥å¯ä»¥é…åˆ \u0026lt;transition\u0026gt; å’Œ \u0026lt;keep-alive\u0026gt; ä½¿ç”¨ã€‚\nè·¯ç”±å¯¦é«” \u0026amp; è·¯ç”±ç‰©ä»¶ 1. è·¯ç”±å¯¦é«” åœ¨ Vue å¯¦é«”å…§ï¼Œå¯ä»¥é€é $router ç²å–è·¯ç”±å¯¦é«”ï¼Œæˆ‘å€‘èƒ½é€éå®ƒä¾†å‘¼å«è·¯ç”±æ–¹æ³•ã€‚\n2. è·¯ç”±ç‰©ä»¶ å¦å¤–ï¼Œé‚„å¯ä»¥é€é $route ç²å–ç•¶å‰çš„è·¯ç”±è³‡è¨Šï¼ŒåŒ…å«äº†ç•¶å‰ URL è§£æå¾—åˆ°çš„è³‡è¨Šã€‚\né€™å€‹ç‰©ä»¶ å”¯è®€ï¼Œå¯ç”¨æ–¼ç›£è½è®ŠåŒ–ã€‚éƒ¨åˆ†å±¬æ€§ä¹‹å¾Œæœƒæåˆ°ï¼Œè©³ç´°å±¬æ€§å¯ä»¥å…ˆåƒè€ƒ æ–‡ä»¶ APIã€‚\n","description":"Vue Router æ˜¯ Vue.js å®˜æ–¹çš„è·¯ç”±ç®¡ç†å™¨ã€‚é é¢çš„è·¯å¾‘æ”¹è®Šå°±æ˜¯å…ƒä»¶çš„åˆ‡æ›ã€‚","id":13,"section":"posts","tags":["Vue","Vue Router"],"title":"Vue Router - åŸºç¤","uri":"https://chupai.github.io/posts/vue/router/base/"},{"content":"Vue Vuexç¯‡\n\r é€™é€±æ˜¯å…­è§’é¼ å¹´éµäººè³½ç¬¬ä¸‰åä¹é€±ï¼ŒVue ç­†è¨˜çš„ç¬¬å››ç¯‡ã€‚\n ç«¹ç™½çš„ Vue è¨˜äº‹æœ¬ ç›®éŒ„\n Vue - Vuexç¯‡ï¼š\n Vuex - èµ·æ‰‹å¼ Vuex - æ ¸å¿ƒæ¦‚å¿µ Vuex - Module Vuex - æ³¨æ„äº‹é … ","description":"Vue Vuexç¯‡ã€‚","id":14,"section":"posts","tags":["Vue","w3HexSchool"],"title":"Vue - Vuex","uri":"https://chupai.github.io/posts/2010/vue_vuex/"},{"content":" ç«¹ç™½çš„ Vue è¨˜äº‹æœ¬ ç›®éŒ„\n \rå°ˆæ¡ˆçµæ§‹ Vuex ä¸¦ä¸é™åˆ¶ç¨‹å¼ç¢¼çµæ§‹ï¼Œåªéœ€è¦éµå®ˆä»¥ä¸‹å¹¾é»è¦å‰‡ï¼š\n æ‡‰ç”¨å±¤ç´šçš„ç‹€æ…‹æ‡‰è©²é›†ä¸­åˆ°å–®å€‹ store ç‰©ä»¶ä¸­ã€‚ æäº¤ mutation æ˜¯å”¯ä¸€æ›´æ”¹ç‹€æ…‹çš„å”¯ä¸€æ–¹æ³•ï¼Œä¸”å¿…é ˆæ˜¯åŒæ­¥æ“ä½œã€‚ éåŒæ­¥æ“ä½œæ‡‰è©²å°è£åˆ° action ä¸­ã€‚  1. åŸºæœ¬çµæ§‹ å–®ä¸€å€‹ store.js æª”æ¡ˆï¼š\n1 2 3 4 5 6 7 8 9 10 11 12  import Vue from \u0026#39;vue\u0026#39;; import Vuex from \u0026#39;vuex\u0026#39;; Vue.use(Vuex); export default new Vuex.Store({ strict: process.env.NODE_ENV !== \u0026#39;production\u0026#39;, state: {}, mutations: {}, actions: {}, getters: {}, });   2. è³‡æ–™å¤¾ç®¡ç† /store â”œâ”€â”€ index.js â”œâ”€â”€ actions.js â”œâ”€â”€ mutations.js â”œâ”€â”€ ... â””â”€â”€ /modules â”œâ”€â”€ moduleA.js â””â”€â”€ moduleB.js 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20  // index.js  import Vue from \u0026#39;vue\u0026#39;; import Vuex from \u0026#39;vuex\u0026#39;; import mutations from \u0026#39;./mutations\u0026#39;; import actions from \u0026#39;./actions\u0026#39;; import getters from \u0026#39;./getters\u0026#39;; Vue.use(Vuex); export default new Vuex.Store({ state: {}, mutations, actions, getters, modules: { moduleA, moduleB, } });   å®˜æ–¹æä¾›ç¯„ä¾‹ï¼šshopping-cart\næ¨¡çµ„éƒ¨åˆ†ä¹Ÿå¯ä»¥ä½¿ç”¨è³‡æ–™å¤¾æ‹†åˆ†çš„æ›´ç´°å»ç®¡ç†ã€‚\nåš´æ ¼æ¨¡å¼ ä¸€é‚Šçš„æƒ…æ³ä¸‹ï¼Œé€²è¡Œä»¥ä¸‹éæ³•æ“ä½œï¼šä½¿ç”¨é mutation ä¿®æ”¹ç‹€æ…‹èˆ‡ä½¿ç”¨ mutation é€²è¡ŒéåŒæ­¥æ›´æ–°ç‹€æ…‹ï¼Œä¸¦ä¸æœƒæ‹‹å‡ºéŒ¯èª¤ï¼Œä½†åœ¨ devtool ä¸­ç„¡æ³•æ­£ç¢ºæ•æ‰åˆ°ç‹€æ…‹ã€‚\nå› æ­¤æˆ‘å€‘å¯ä»¥é–‹å•Ÿ åš´æ ¼æ¨¡å¼ï¼š\n1 2 3 4  const store = new Vuex.Store({ strict: true, // ... });   é€™æ¨£ç•¶æˆ‘å€‘é€²è¡Œéæ³•æ“ä½œæ™‚ï¼Œè®Šæœƒæ‹‹å‡ºéŒ¯èª¤è¨Šæ¯æç¤ºï¼Œä¿è­‰æ‰€æœ‰ç‹€æ…‹èƒ½å¤ è¢« devtool è¿½è¹¤ã€‚\n1. ç’°å¢ƒ ä½†æœ‰ä¸€é»å¿…é ˆæ³¨æ„ï¼Œå› ç‚ºåš´æ ¼æ¨¡å¼æœƒæ·±åº¦ç›£æ¸¬ç‹€æ…‹æ¨¹ï¼Œæ‰€ä»¥åœ¨ ç™¼å¸ƒç’°å¢ƒ ä¸‹é¿å…ä½¿ç”¨ï¼Œé¿å…ä¸å¿…è¦çš„æ€§èƒ½æå¤±ã€‚\nå› æ­¤æˆ‘å€‘å¯ä»¥ä½¿ç”¨ ç’°å¢ƒè®Šæ•¸ ä¾†è™•ç†ï¼š\n1 2 3  const store = new Vuex.Store({ strict: process.env.NODE_ENV !== \u0026#39;production\u0026#39;, });   v-model å¦‚æœæˆ‘å€‘è¦å°‡å–å›ä¾†çš„ç‹€æ…‹ä½¿ç”¨ v-model ç¶å®šï¼Œå°±æœƒé‡åˆ° v-model ç¶å®šè¨ˆç®—å±¬æ€§çš„å•é¡Œã€‚è¨ˆç®—å±¬æ€§é è¨­ç„¡æ³•å›å¯«ï¼ˆæœƒè·³å‡ºè­¦å‘Šï¼‰ï¼Œå†åŠ ä¸Šæœƒç›´æ¥é•å Vuex ç›´æ¥ä¿®æ”¹ç‹€æ…‹çš„è¦å‰‡ã€‚\nå› æ­¤æˆ‘å€‘éœ€è¦ç”¨åˆ°è¨ˆç®—å±¬æ€§çš„ setterï¼š\n1 2 3 4 5 6 7 8 9 10 11 12  // Component.vue  computed: { message: { get() { return this.$store.state.message; }, set(value) { this.$store.commit(\u0026#39;updateMessage\u0026#39;, value); }, }, }   1 2 3 4 5 6 7 8 9 10  // store.js  state: { message: \u0026#39;\u0026#39;, }, mutations: { updateMessage(state, message) { state.message = message; } }   CodePen Demoï¼šVue 2.x -Vuex v-model\nè§£æ±ºç‹€æ…‹ä¸Ÿå¤±çš„å•é¡Œ å¥—ä»¶ï¼š\n vuex-persist vuex-along ","description":"Vuex æ³¨æ„äº‹é …ã€‚","id":15,"section":"posts","tags":["Vue","Vuex"],"title":"Vuex - æ³¨æ„äº‹é …","uri":"https://chupai.github.io/posts/vue/vuex/warning/"},{"content":" ç«¹ç™½çš„ Vue è¨˜äº‹æœ¬ ç›®éŒ„\n \ræ¨¡çµ„åŒ– å¦‚æœæ‰€æœ‰ç‹€æ…‹è³‡æ–™éƒ½é›†ä¸­åœ¨ä¸€å€‹æ¯”è¼ƒå¤§çš„ç‰©ä»¶ï¼Œæœƒé‡åˆ°ä¸€å€‹å•é¡Œï¼šç•¶æ‡‰ç”¨è®Šå¾—éå¸¸è¤‡é›œæ™‚ï¼Œstore ç‰©ä»¶å°±æœ‰å¯èƒ½è®Šå¾—ç›¸ç•¶é›£ä»¥ç¶­è­·ã€‚\nç‚ºäº†è§£æ±ºä»¥ä¸Šå•é¡Œï¼ŒVuex å…è¨±æˆ‘å€‘å°‡ store åˆ†å‰²æˆæ¨¡çµ„ï¼ˆmoduleï¼‰ã€‚\nåˆ†å‰² æ¯å€‹æ¨¡çµ„å°±æ˜¯ä¸€å€‹å°å‹çš„ storeï¼Œæ“æœ‰è‡ªå·±çš„ stateã€mutationsã€actionsã€gettersã€ç”šè‡³æ˜¯å·¢ç‹€å­æ¨¡çµ„ã€‚\nå…©ç¨®æ¨¡çµ„çµæ§‹åƒè€ƒï¼š\n1 2 3 4 5 6 7 8 9 10 11  // moduleA.js  export default { namespaced: true, state: () =\u0026gt; ({ a1: \u0026#39;aaa\u0026#39;, }), mutations: {}, actions: {}, getters: {}, };   1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16  // moduleB.js  const state = () =\u0026gt; ({ b1: \u0026#39;bbb\u0026#39;, }); const getters = {}; const actions = {}; const mutations = {}; export default { state, getters, actions, mutations, };   ç‚ºäº†é¿å…æ¨¡çµ„é‡ç”¨æ™‚ï¼Œç‹€æ…‹ç‰©ä»¶é€šéå¼•ç”¨è¢«å…±äº«ï¼Œæ‰€ä»¥æœƒä½¿ç”¨å‡½å¼å‹å¼ä¾†å®£å‘Šæ¨¡çµ„çš„ç‹€æ…‹ã€‚\nå¼•å…¥ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19  // store.js  import Vuex from \u0026#39;vuex\u0026#39;; import moduleA from \u0026#39;./modules/modulesA\u0026#39;; import moduleB from \u0026#39;./modules/modulesB\u0026#39;; export default new Vuex.Store({ state: {}, mutations: {}, actions: {}, modules: { moduleA: moduleA, moduleB: moduleB, // æˆ–æ˜¯ä½¿ç”¨ç°¡å¯«  // moduleA,  // moduleB,  }, });   1. å–å¾—æ¨¡çµ„ç‹€æ…‹ æ¨¡çµ„çš„çš„ state ç‰©ä»¶å°‡è¢«å„²å­˜åœ¨ moduleAã€ moduleB ä¸­ï¼š\n1 2  store.state.moduleA; // { \u0026#34;a1\u0026#34;: \u0026#39;aaa\u0026#39; } store.state.moduleB; // { \u0026#34;b1\u0026#34;: \u0026#39;bbb\u0026#39; }   CodePen Demoï¼šVue 2.x -Vuex Module\næ¨¡çµ„çš„å€åŸŸç‹€æ…‹ å°æ–¼æ¨¡çµ„å…§çš„ mutationã€getterã€actionï¼Œé€éåƒæ•¸å–å¾—çš„ç‹€æ…‹ç‚ºæ¨¡çµ„å…§éƒ¨çš„å€åŸŸç‹€æ…‹ã€‚\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19  const moduleA = { state: () =\u0026gt; ({ text: \u0026#39;å€åŸŸ\u0026#39; }), mutations: { print(state) { console.log(state.text); }, }, }; const store = new Vuex.Store({ state: { text: \u0026#39;å…¨åŸŸ\u0026#39;, }, modules: { a: moduleA, }, });   1  store.commit(\u0026#39;print\u0026#39;); // \u0026#39;å€åŸŸ\u0026#39;   CodePen Demoï¼šVue 2.x -Vuex Module å€åŸŸç‹€æ…‹\nè‹¥è¦å–çš„æ ¹  stateï¼Œgetter å‡½å¼å¯ä»¥ä½¿ç”¨ç¬¬ä¸‰å€‹åƒæ•¸ rootStateï¼Œaction å‡½å¼ä¹Ÿå¯ä»¥é€é context.rootState å–å¾—ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13  const moduleA = { // ...  getters: { foo(state, getters, rootState) { // ...  }, }, actions: { boo({ rootState }) { // ...  }, }, }   å¦å¤–ï¼Œé‚„æœ‰ rootGetters å¯ä»¥å–å¾—æ ¹ gettersã€‚\nå‘½åç©ºé–“ å¾ä¸Šé¢å¯çŸ¥ï¼Œé è¨­æƒ…æ³ä¸‹æ¨¡çµ„å…§çš„ actionã€mutation å’Œ getter æ˜¯è¨»å†Šåœ¨å…¨åŸŸç©ºé–“ä¸‹ã€‚å¦‚æœå…¨åŸŸã€å€åŸŸæœ‰ç›¸åŒçš„åç¨±çš„å‡½å¼éƒ½æœƒåŸ·è¡Œã€‚\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24  const moduleA = { state: () =\u0026gt; ({ text: \u0026#39;å€åŸŸ\u0026#39; }), mutations: { print(state) { console.log(state.text); }, }, }; const store = new Vuex.Store({ state: { text: \u0026#39;å…¨åŸŸ\u0026#39;, }, mutations: { print(state) { console.log(state.text); }, }, modules: { a: moduleA, }, });   1 2 3  store.commit(\u0026#39;print\u0026#39;); // \u0026#39;å…¨åŸŸ\u0026#39; // \u0026#39;å€åŸŸ\u0026#39;   CodePen Demoï¼šVue 2.x -Vuex Module ç›¸åŒåç¨±\nå› æ­¤ï¼Œå¦‚æœä½ å¸Œæœ›æ¨¡çµ„å…·æœ‰æ›´é«˜åº¦çš„å°è£æ€§ï¼Œåªè®“å®ƒå€‘åœ¨å…§éƒ¨æœ‰ä½œç”¨ï¼Œå¯ä»¥è¨­ç½® namespaced: true ä½¿å…¶æˆç‚ºå¸¶å‘½åç©ºé–“çš„æ¨¡çµ„ã€‚\n1 2 3 4  const moduleA = { namespaced: true, // ... };   å•Ÿç”¨å‘½åç©ºé–“å¾Œï¼Œå¦‚æœè¦å‘¼å«æ¨¡çµ„å…§çš„ mutation å°±éœ€è¦åŠ ä¸Šè·¯å¾‘ï¼š\n1 2 3 4 5 6  store.commit(\u0026#39;moduleA/print\u0026#39;); // \u0026#39;å€åŸŸ\u0026#39;  // å‘¼å«ç›¸åŒåç¨±çš„å…¨åŸŸ mutation ä¹Ÿä¸æœƒè§¸ç™¼æ¨¡çµ„å…§çš„å‡½å¼ store.commit(\u0026#39;print\u0026#39;); // \u0026#39;å…¨åŸŸ\u0026#39;   getter å’Œ action ä¹Ÿä¸€æ¨£è¦åŠ ä¸Šè·¯å¾‘ï¼š\n1 2 3 4  // getter store.getters[\u0026#39;moduleA/xxxx\u0026#39;]; // action store.dispatch(\u0026#39;moduleA/xxxx\u0026#39;);   CodePen Demoï¼šVue 2.x -Vuex Module å‘½åç©ºé–“\n1. è¨ªå•å…¨åŸŸå…§å®¹ ä½¿ç”¨å‘½åç©ºé–“å¾Œï¼Œåœ¨æ¨¡çµ„å…§å‘¼å«çš„ mutation å’Œ action éƒ½æœƒæ˜¯å€åŸŸçš„ã€‚ä½†å¦‚æœæˆ‘å€‘è¦åœ¨æ¨¡çµ„å…§æ“ä½œå…¨åŸŸçš„ mutation å’Œ action è©²æ€éº¼åšå‘¢ï¼Ÿ\nä½ å¯ä»¥å°‡ { root: true } ä½œç‚º dispatch æˆ– commit æ–¹æ³•çš„ç¬¬ä¸‰åƒæ•¸å‚³å…¥ï¼š\n1 2  dispatch(\u0026#39;someOtherAction\u0026#39;, null, { root: true }); commit(\u0026#39;someMutation\u0026#39;, null, { root: true });   CodePen Demoï¼šVue 2.x -Vuex Module è¨ªå•å…¨åŸŸå…§å®¹\n2. åœ¨å‘½åç©ºé–“çš„æ¨¡çµ„ä¸‹å…¨åŸŸè¨»å†Š è‹¥ä½ å¸Œæœ›åœ¨å‘½åç©ºé–“çš„æ¨¡çµ„ä¸Šï¼ŒæŸå€‹å‡½å¼å…¨åŸŸè¨»å†Šï¼Œä½ å¯ä»¥ä½¿ç”¨ç‰©ä»¶çš„å½¢å¼å®šç¾©ï¼Œä¸¦åŠ ä¸Š root: true\n1 2 3 4 5 6 7 8 9 10 11  const moduleA = { namespaced: true, actions: { foo: { root: true, handler (context, payload) { // ...  }, } }, };   3. è¼”åŠ©å‡½å¼ å¦‚æœè¦ä½¿ç”¨è¼”åŠ©å‡½å¼å¼•å…¥æ¨¡çµ„çš„å…§å®¹ï¼Œå¯«èµ·ä¾†æœƒæœ‰é»ç¹ç‘£ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14  // Component.vue  computed: { ...mapState({ a1: (state) =\u0026gt; state.moduleA.a1, a2: (state) =\u0026gt; state.moduleA.a2, }) }, methods: { ...mapActions({ foo: \u0026#39;moduleA/foo\u0026#39;, boo: \u0026#39;moduleA/boo\u0026#39;, }), }   CodePen Demoï¼šVue 2.x -Vuex Module è¼”åŠ©å‡½å¼\nä½ å¯ä»¥å°‡æ¨¡çµ„çš„ç©ºé–“åç¨±ä½œç‚ºç¬¬ä¸€å€‹åƒæ•¸å‚³å…¥è¼”åŠ©å‡½å¼ï¼Œé€™æ¨£æ‰€æœ‰ç¶å®šæœƒè‡ªå‹•å°‡è©²æ¨¡çµ„ä½œç‚ºä¸Šä¸‹æ–‡ï¼Œé€™æ¨£å°±èƒ½ä½¿ç”¨é™£åˆ—å‹å¼æ˜ å°„å…§å®¹ï¼Œç°¡åŒ–ä¸Šè¿°ç¹ç‘£çš„ç¨‹å¼ç¢¼ï¼š\n1 2 3 4 5 6 7 8  // Component.vue  computed: { ... mapState(\u0026#39;moduleA\u0026#39;, [\u0026#39;a1\u0026#39;, \u0026#39;a2\u0026#39;]), }, methods: { ... mapActions(\u0026#39;moduleA\u0026#39;, [\u0026#39;foo\u0026#39;, \u0026#39;boo\u0026#39;]), }   CodePen Demoï¼šVue 2.x -Vuex Module è¼”åŠ©å‡½å¼ - æ¨¡çµ„å‘½ååƒæ•¸\næˆ–è€…é€é createNamespacedHelpers å»ºç«‹åŸºæ–¼æ¨¡çµ„å‘½åç©ºé–“çš„è¼”åŠ©å‡½å¼ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12  // Component.vue import { createNamespacedHelpers } from \u0026#39;vuex\u0026#39;; const { mapState, mapActions } = createNamespacedHelpers(\u0026#39;moduleA\u0026#39;); export default { computed: { ... mapState([\u0026#39;a1\u0026#39;, \u0026#39;a2\u0026#39;]), }, methods: { ... mapActions([\u0026#39;foo\u0026#39;, \u0026#39;boo\u0026#39;]), } }   CodePen Demoï¼šVue 2.x -Vuex Module è¼”åŠ©å‡½å¼ - createNamespacedHelpers\n","description":"Vuex æ¨¡çµ„åŒ–ã€‚","id":16,"section":"posts","tags":["Vue","Vuex"],"title":"Vuex - Module","uri":"https://chupai.github.io/posts/vue/vuex/module/"},{"content":" ç«¹ç™½çš„ Vue è¨˜äº‹æœ¬ ç›®éŒ„\n \ræ ¸å¿ƒæ¦‚å¿µ ä¸€èˆ¬å…ƒä»¶ä¸Šï¼Œæˆ‘å€‘æœƒç”¨ data å„²å­˜ç‹€æ…‹è³‡æ–™ã€ç”¨ method æ“ä½œç‹€æ…‹è³‡æ–™ï¼Œé‚„æœƒç”¨ computed è¡ç”Ÿç‹€æ…‹è³‡æ–™ã€‚\nè€Œåœ¨ Vuex å‰‡æ˜¯é€éä»¥ä¸‹é¸é …ä¾†ç®¡ç†ç‹€æ…‹è³‡æ–™ï¼š\n Stateï¼šå„²å­˜ç‹€æ…‹è³‡æ–™ï¼Œé¡ä¼¼å…¨åŸŸçš„ dataã€‚ Mutationsï¼šæ›´æ–°æ…‹çš„æ–¹æ³•ï¼Œåªèƒ½åŒæ­¥æ“ä½œã€‚ Actionsï¼šé€²è¡ŒéåŒæ­¥ç‹€æ…‹æ›´æ–°æ“ä½œï¼Œé¡ä¼¼å…¨åŸŸçš„ methodã€‚ Gettersï¼šè¡ç”Ÿç‹€æ…‹è³‡æ–™ï¼Œé¡ä¼¼å…¨åŸŸçš„ computedã€‚  State State å°±æ˜¯ç”¨ä¾†å­˜æ”¾å…±äº«ç‹€æ…‹è³‡æ–™çš„å€‰åº«ã€‚\nå®šç¾© state ï¼š\n1 2 3 4 5  // store.js  state: { count: 0, }   èˆ‡ data ä¸€æ¨£éœ€è¦éµå®ˆ Vue çš„éŸ¿æ‡‰è¦å‰‡ã€‚\n1. è¨ªå•ç‹€æ…‹ åœ¨å…ƒä»¶å…§ï¼Œæˆ‘å€‘å¯ä»¥é€é $storeï¼ˆStore å¯¦é«”ï¼‰è¨ªå•åˆ°é€™å€‹ state ç‰©ä»¶ã€‚\n1  $store.state   é€šå¸¸æœƒä½¿ç”¨è¨ˆç®—å±¬æ€§å›å‚³ç‹€æ…‹ï¼š\n1 2 3 4 5 6 7  // Component.vue  computed: { count() { return this.$store.state.count; }, }   CodePen Demoï¼šVue 2.x - Vuex State\næ³¨æ„ï¼Œstate ç‰©ä»¶ï¼Œåªèƒ½é€é Mutations æ›´æ–°ã€‚\r 2. å¤šå€‹ç‹€æ…‹ ç•¶ä¸€å€‹å…ƒä»¶éœ€è¦ç²å–å¤šå€‹ç‹€æ…‹æ™‚å€™ï¼Œå°‡é€™äº›ç‹€æ…‹éƒ½å®£å‘Šç‚ºè¨ˆç®—å±¬æ€§æœƒæœ‰äº›é‡è¤‡å’Œå†—é¤˜ã€‚å› æ­¤æˆ‘å€‘å¯ä»¥ä½¿ç”¨ mapState è¼”åŠ©å‡½å¼ ï¼Œå–å¾—å¤šå€‹ state è£¡é¢çš„ç‹€æ…‹è³‡æ–™ã€‚\nå‡è¨­ state ç‰©ä»¶å…§æœ‰å¤šç­†ç‹€æ…‹è³‡æ–™ï¼š\n1 2 3 4 5 6  // store.js  state: { count: 0, total: 0, }   é¦–å…ˆæˆ‘å€‘å¿…é ˆåœ¨å…ƒä»¶ä¸­å¼•å…¥ mapState è¼”åŠ©å‡½å¼ï¼š\n1 2 3  // Component.vue  import { mapState } from \u0026#39;vuex\u0026#39;;   mapState è¼”åŠ©å‡½å¼å¯ä»¥å‚³å…¥ç‰©ä»¶æˆ–é™£åˆ—ã€‚å¦‚æœå‚³å…¥ä¸€å€‹ç‰©ä»¶æœ‰ä¸‰ç¨®å¯«æ³•ï¼š\n ç®­é ­å‡½å¼ï¼Œå¯ä»¥ä½¿ç¨‹å¼ç¢¼æ›´ç°¡æ½”ã€‚ å­—ä¸²ï¼Œç­‰åŒä½¿ç”¨ç®­é ­å‡½å¼ã€‚ å¦‚æœè¦ä½¿ç”¨ this ç²å–å€åŸŸç‹€æ…‹ï¼Œéœ€è¦æ”¹ç”¨ä¸€èˆ¬çš„å‡½å¼ã€‚  1 2 3 4 5 6 7 8 9 10 11 12  // Component.vue  computed: mapState({ // ç®­é ­å‡½å¼  count: state =\u0026gt; state.count, // å­—ä¸²  total: \u0026#39;total\u0026#39;, // ä¸€èˆ¬çš„å‡½å¼  countPlusLocalState(state) { return state.count + this.localCount; }, })   ç•¶æ˜ å°„çš„è¨ˆç®—å±¬æ€§çš„åç¨±èˆ‡ state åç¨±ç›¸åŒæ™‚ï¼Œæˆ‘å€‘ä¹Ÿå¯ä»¥çµ¦ mapState è¼”åŠ©å‡½å¼å‚³ä¸€å€‹å­—ä¸²é™£åˆ—ã€‚\n1 2 3  // Component.vue  computed: mapState([\u0026#39;count\u0026#39;, \u0026#39;total\u0026#39;]),   3. å€åŸŸç‹€æ…‹ ä½¿ç”¨ Vuex ä¸¦ä¸æ„å‘³è‘—ä½ éœ€è¦å°‡æ‰€æœ‰çš„ç‹€æ…‹æ”¾å…¥ Vuexã€‚å¦‚æœæœ‰äº›ç‹€æ…‹åš´æ ¼å±¬æ–¼å–®å€‹å…ƒä»¶ï¼Œæœ€å¥½é‚„æ˜¯ä½œç‚ºå…ƒä»¶çš„å€åŸŸç‹€æ…‹ã€‚\nå¦å¤–ï¼Œå¦‚æœæˆ‘å€‘æœ‰å€åŸŸè¨ˆç®—å±¬æ€§è¦ç”¨ï¼Œå¯ä»¥ä½¿ç”¨ ... å±•é–‹é‹ç®—å­å°‡ mapState è¼”åŠ©å‡½å¼åˆä½µï¼š\n1 2 3 4 5 6 7 8 9  // Component.vue  computed: { localComputed () { // ...  }, // å±•é–‹å›å‚³çš„ç‰©ä»¶ï¼Œå°‡å®ƒæ··å…¥åˆ° computed ç‰©ä»¶ä¸­  ...mapState([\u0026#39;count\u0026#39;, \u0026#39;total\u0026#39;]) }   CodePen Demoï¼šVue 2.x - Vuex mapState \nMutations å‰é¢æœ‰æåˆ°ï¼Œstate ç‹€æ…‹ä¸èƒ½ç›´æ¥æ”¹è®Šã€‚\nèˆ‰ä¾‹ä¾†èªªï¼š\n1  \u0026lt;button @click=\u0026#34;$store.state.count += 1\u0026#34;\u0026gt;++\u0026lt;/button\u0026gt;   é›–ç„¶é€™æ¨£ä¸æœƒæ‹‹å‡ºéŒ¯èª¤ï¼Œä¹Ÿä¸æœƒè·³å‡ºè­¦å‘Šï¼Œä½†é€™æ˜¯éŒ¯èª¤çš„éæ³•æ“ä½œã€‚\nå¦‚æœæƒ³è¦ç‹€æ…‹é mutation å‡½å¼å¼•èµ·çš„æ›´æ–°æ‹‹å‡ºéŒ¯èª¤ï¼Œå¯ä»¥ä½¿ç”¨ åš´æ ¼æ¨¡å¼ã€‚\r æˆ‘å€‘åªèƒ½é€é Vuex ä¸­çš„ mutation ä¾†æ›´æ–° stateã€‚é›–ç„¶é€™ç¨®æ“ä½œè¼ƒç¹ç‘£ï¼Œä½†å¯ä»¥é›†ä¸­ç›£æ§ç‹€æ…‹çš„è®ŠåŒ–ï¼Œé¿å…ä¸å¯é æœŸæƒ…æ³ç™¼ç”Ÿã€‚\nå®šç¾© mutationï¼š\n1 2 3 4 5 6 7  // store.js  mutations: { increment(state) { state.count += 1; // è®Šæ›´ç‹€æ…‹  } }   1. æäº¤ Mutation mutation é¡ä¼¼äº‹ä»¶ç›£è½å™¨ï¼Œç„¡æ³•ç›´æ¥å‘¼å«ï¼Œæˆ‘å€‘å¿…é ˆé€é store.commit æ–¹æ³•ä¾†å‘¼å«ã€‚\n1 2 3 4 5 6 7  // Component.vue  methods: { increment() { this.$store.commit(\u0026#39;increment\u0026#39;); }, }   CodePen Demoï¼šVue 2.x -Vuex Mutations\n2. Payload å¯ä»¥å‘ store.commit å‚³å…¥é¡å¤–çš„åƒæ•¸ï¼Œå³ mutation çš„ç¬¬äºŒå€‹åƒæ•¸ payloadï¼š\n1 2 3 4 5 6 7  // store.js  mutations: { increment(state, n) { state.count += n } }   1  $store.commit(\u0026#39;increment\u0026#39;, 10);   åœ¨å¤§å¤šæ•¸æƒ…æ³ä¸‹ï¼Œpayload æ‡‰è©²æ˜¯ä¸€å€‹ç‰©ä»¶ï¼Œé€™æ¨£å¯ä»¥åŒ…å«å¤šå€‹å­—æ®µä¸¦ä¸”è¨˜éŒ„çš„ mutation æœƒæ›´æ˜“è®€ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14  // store  mutations: { increment(state, payload) { state.count += payload.amount; } } // æˆ–æ˜¯ä½¿ç”¨è§£æ§‹è³¦å€¼ mutations: { increment(state, { amount }) { state.count += amount; } }   1  $store.commit(\u0026#39;increment\u0026#39;, {amount: 10});   CodePen Demoï¼šVue 2.x -Vuex Mutations Payload\n3. ç‰©ä»¶é¢¨æ ¼çš„æäº¤æ–¹å¼ æäº¤ mutation çš„å¦ä¸€ç¨®æ–¹å¼æ˜¯ç›´æ¥ä½¿ç”¨åŒ…å« type å±¬æ€§çš„ç‰©ä»¶ï¼š\n1 2 3 4  $store.commit({ type: \u0026#39;increment\u0026#39;, amount: 10 });   4. mapMutations mutation ä¸€æ¨£æœ‰ mapMutations è¼”åŠ©å‡½å¼å¯ä»¥ä½¿ç”¨ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15  // Component.vue  import { mapMutations } from \u0026#39;vuex\u0026#39;; // ç‰©ä»¶ methods: { ...mapMutations({ increment: \u0026#39;increment\u0026#39;, }), } // é™£åˆ— methods: { ...mapMutations([\u0026#39;increment\u0026#39;]), }   mapMutations è¼”åŠ©å‡½å¼ä¹Ÿæ”¯æŒ payloadï¼Œåªéœ€è¦åœ¨å‘¼å«çš„åœ°æ–¹å‚³å…¥åƒæ•¸ï¼Œæœƒè‡ªå‹•å‚³éï¼š\n1  \u0026lt;button @click=\u0026#34;decrement(10)\u0026#34;\u0026gt;++\u0026lt;/button\u0026gt;   CodePen Demoï¼šVue 2.x -Vuex mapMutations\n5. ä½¿ç”¨å¸¸æ•¸æ›¿ä»£ Mutation é¡å‹ ç•¶ Vuex ç®¡ç†çš„ç‹€æ…‹è¶Šå¤šï¼Œæˆ‘å€‘å°±æœƒéœ€è¦ç”¨åˆ°å¤§é‡çš„ mutation å»æ›´æ–°ï¼Œä½ ä¸å¯èƒ½è¨˜ä½å…¨éƒ¨ï¼Œå› æ­¤å¯èƒ½æœƒåè¦†æŸ¥çœ‹ã€‚\nç‚ºäº†è§£æ±ºä¸Šè¿°å•é¡Œï¼Œä½¿ç”¨å¸¸æ•¸æ›¿ä»£ mutation é¡å‹äº‹æœ€å¸¸è¦‹çš„æ–¹æ¡ˆä¹‹ä¸€ï¼Œå¯ä»¥ä½¿ mutation æ›´å®¹æ˜“è­˜åˆ¥ã€‚\n1 2 3  // mutation-types.js export const EDIT_TASK = \u0026#39;EDIT_TASK\u0026#39;; ...   1 2 3 4 5 6 7 8 9 10 11 12 13 14 15  // store.js  import Vuex from \u0026#39;vuex\u0026#39;; import { EDIT_TASK } from \u0026#39;./mutation-types\u0026#39;; export default new Vuex.Store({ state: { task: \u0026#39;\u0026#39;; }, mutations: { [EDIT_TASK](state, { value }) { state.task = value; }, }, });   1 2 3 4 5 6 7 8 9 10  // Component.vue  import { EDIT_TASK } from \u0026#39;../mutation-types\u0026#39;; // ... methods: { [EDIT_TASK]() { this.$store.commit(EDIT_TASK, {}); }, }   è‹¥è¦ä¸€æ¬¡æ€§å°å…¥ï¼Œå¯ä»¥æ”¹æˆï¼š\n1 2 3 4  import * as types from \u0026#39;./mutation-types\u0026#39;; // mutationsã€€... [types.EDIT_TASK](state) {}   6. éŸ¿æ‡‰è¦å‰‡ ä¹‹å‰æåˆ°ï¼Œstore èˆ‡ data ä¸€æ¨£éœ€è¦éµå®ˆ Vue çš„éŸ¿æ‡‰è¦å‰‡ã€‚\nå› æ­¤ç‰©ä»¶æ–°å¢å±¬æ€§æ™‚ï¼Œéœ€è¦ä½¿ç”¨ Vue.set() ä¾†è™•ç†ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12  // store.js import Vue from \u0026#39;vue\u0026#39;; // ... state: { obj: {}; }, mutations: { ADD_OBJ(state, { prop, value }) { Vue.set(state.obj, prop, value); } }   æˆ–è€…é‹ç”¨å±•é–‹é‹ç®—å­æ›¿æ›èˆŠç‰©ä»¶ï¼š\n1 2 3 4 5  mutations: { ADD_OBJ(state, { value }) { state.obj = { ...state.obj, newProp: \u0026#39;value\u0026#39; }; } }   é™£åˆ—ä¿®æ”¹ä¹Ÿä¸€æ¨£ï¼Œä¹Ÿéœ€è¦ä½¿ç”¨ Vue.set() ä¾†è™•ç†ï¼š\n1 2 3 4 5 6 7 8  state: { list: [\u0026#39;a\u0026#39;, \u0026#39;b\u0026#39;, \u0026#39;c\u0026#39;, \u0026#39;d\u0026#39;], }, mutations: { EDIT_LIST(state, { index, value }) { Vue.set(state.list, index, value); } }   è©³ç´°å¯ä»¥åƒè€ƒ æ·±å…¥éŸ¿æ‡‰å¼åŸç†ã€‚\n7. éåŒæ­¥è™•ç† ç•¶æˆ‘å€‘ä½¿ç”¨ mutation æ›´æ–°ç‹€æ…‹æ™‚ï¼Œå¿…é ˆæ˜¯åŒæ­¥è™•ç†ï¼Œå¦å‰‡ devtool å·¥å…·å°‡ç„¡æ³•è¿½è¹¤åˆ°ç‹€æ…‹çš„æ”¹è®Šã€‚\nActions å¦‚æœæˆ‘å€‘è¦éåŒæ­¥è™•ç†ç‹€æ…‹è³‡æ–™ï¼Œå°±ç„¡æ³•ç›´æ¥ä½¿ç”¨ mutationï¼Œè€Œå¿…é ˆé€é action é–“æ¥çš„æäº¤ mutation ä¾†è®Šæ›´ç‹€æ…‹è³‡æ–™ã€‚\nå®šç¾©ä¸€å€‹ç°¡å–®çš„éåŒæ­¥è™•ç†æ“ä½œçš„ actionï¼š\n1 2 3 4 5 6 7 8 9  // store.js  actions: { incrementAsync(context) { setTimeout(() =\u0026gt; { context.commit(\u0026#39;increment\u0026#39;); }, 1000); } }   actions å‡½å¼æ¥å—ä¸€å€‹èˆ‡ store å¯¦é«”å…·æœ‰ç›¸åŒæ–¹æ³•å’Œå±¬æ€§çš„ context ç‰©ä»¶ï¼ŒåŒ…å«ä»¥ä¸‹å±¬æ€§ï¼š\n1 2 3 4 5 6 7 8  { state, // ç­‰åŒæ–¼ store.stateï¼Œè‹¥åœ¨æ¨¡çµ„ä¸­å‰‡ç‚ºå€åŸŸç‹€æ…‹  rootState, // ç­‰åŒæ–¼ store.stateï¼Œåªå­˜åœ¨æ–¼æ¨¡çµ„ä¸­  commit, // ç­‰åŒæ–¼ store.commit  dispatch, // ç­‰åŒæ–¼ store.dispatch  getters, // ç­‰åŒæ–¼ store.getters  rootGetters // ç­‰åŒæ–¼ store.gettersï¼Œåªå­˜åœ¨æ–¼æ¨¡çµ„ä¸­ }   å› æ­¤æˆ‘å€‘å¯ä»¥ç”¨ä¾†å‘¼å« context.commit æäº¤ä¸€å€‹ mutationï¼Œæˆ–è€…é€é context.state å’Œ context.getters ä¾†ç²å– state å’Œ getters ç‰©ä»¶ã€‚\nå¯ä»¥ä½¿ç”¨ ES6 è§£æ§‹è³¦å€¼ä¾†ç°¡åŒ–ç¨‹å¼ç¢¼ï¼š\n1 2 3 4 5 6 7 8 9  // store.js  actions: { incrementAsync({ commit }) { setTimeout(() =\u0026gt; { commit(\u0026#39;increment\u0026#39;); }, 1000); }, }   1. èª¿åº¦ Action action æ˜¯é€é store.dispatch æ–¹æ³•ä¾†å‘¼å«ï¼š\n1 2 3 4 5 6 7  // Component.vue  methods: { incrementAsync() { this.$store.dispatch(\u0026#39;incrementAsync\u0026#39;); }, }   CodePen Demoï¼šVue 2.x -Vuex Actions\naction åŒæ¨£æœ‰ payload åƒæ•¸å’Œç‰©ä»¶é¢¨æ ¼ï¼Œä¹Ÿæœ‰ mapActions è¼”åŠ©å‡½å¼å¯ä»¥ä½¿ç”¨ï¼Œç”¨æ³•èˆ‡ mutation å·®ä¸å¤šï¼Œé€™è£¡å°±ä¸å¤šåŠ èªªæ˜ã€‚\n2. çµ„åˆ Action å› ç‚º action é€šå¸¸ç”¨ä¾†è™•ç†éåŒæ­¥æ“ä½œï¼Œæ‰€ä»¥æˆ‘å€‘å¯ä»¥å›å‚³ Promiseï¼Œç”¨ä¾†è™•ç†æ›´ä½³è¤‡é›œçš„éåŒæ­¥æµç¨‹ã€‚\n1 2 3 4 5 6 7 8 9 10 11 12  // store.js  actions: { actionA({ commit }) { return new Promise((resolve, reject) =\u0026gt; { setTimeout(() =\u0026gt; { commit(\u0026#39;someMutation\u0026#39;); resolve(); }, 1000); }); }, }   Getters ä½ å¯ä»¥å°‡ Getters çœ‹æˆå…¨åŸŸçš„è¨ˆç®—å±¬æ€§ã€‚\næœ‰æ™‚å€™æˆ‘å€‘éœ€è¦å¾ State ä¸­è¡ç”Ÿä¸€äº›ç‹€æ…‹ï¼Œä¾‹å¦‚å°é™£åˆ—éæ¿¾ï¼Œå‡è¨­æœ‰å¾ˆå¤šå…ƒä»¶éƒ½æœƒç”¨åˆ°ï¼Œé‚£éº¼æˆ‘å€‘å°±å®šç¾© getterï¼Œå®ƒèˆ‡è¨ˆç®—å±¬æ€§ä¸€æ¨£æœƒç·©å­˜çµæœï¼Œåªæœ‰ç•¶å®ƒçš„ä¾è³´å€¼ç™¼ç”Ÿäº†æ”¹è®Šæ‰æœƒè¢«é‡æ–°è¨ˆç®—ã€‚\n1 2 3 4 5 6 7 8 9 10  // store.js  state: { numbers: [1, 2, 3, 4, 5, 6, 7, 8], }, getters: { even(state) { return state.numbers.filter((n) =\u0026gt; n % 2 === 0); }, }   getter å‡½å¼çš„ç¬¬ä¸€å€‹åƒæ•¸ç‚º state ç‰©ä»¶ï¼Œè‹¥å¸Œæœ›å‚³å…¥å…¶ä»– getterï¼Œå¯ä»¥ä½¿ç”¨ç¬¬äºŒå€‹åƒæ•¸ getters ç‰©ä»¶ï¼š\n1 2 3 4 5 6 7 8 9 10  // store.js  getters: { even(state) { // ...  }, evenCount(state, getters) { return getters.even.length; }, }   1. è¨ªå• è¦åœ¨å…ƒä»¶ä¸­è¨ªå• getter ä¸€æ¨£å¯ä»¥é€é $stroe å¯¦é«”ï¼š\n1 2 3 4 5 6 7  // Component.vue  computed: { even() { return this.$store.getters.even; } }   CodePen Demoï¼šVuex Getters\næˆ–è€…ä½¿ç”¨ mapGetters è¼”åŠ©å‡½æ•¸ï¼š\n1 2 3 4 5 6  // Component.vue  import { mapGetters } from \u0026#39;vuex\u0026#39;; //... computed: {...mapGetters([\u0026#39;even\u0026#39;]) },   ","description":"Vuex æ ¸å¿ƒæ¦‚å¿µã€‚","id":17,"section":"posts","tags":["Vue","Vuex"],"title":"Vuex - æ ¸å¿ƒæ¦‚å¿µ","uri":"https://chupai.github.io/posts/vue/vuex/coreconcepts/"},{"content":" ç«¹ç™½çš„ Vue è¨˜äº‹æœ¬ ç›®éŒ„\n \rä»€éº¼æ˜¯ Vuex å®˜æ–¹èªªæ˜ï¼š\n Vuex æ˜¯ä¸€å€‹å°ˆç‚º Vue.js æ‡‰ç”¨ç¨‹å¼é–‹ç™¼çš„ç‹€æ…‹ç®¡ç†æ¨¡å¼ã€‚å®ƒæ¡ç”¨é›†ä¸­å¼å­˜å„²ç®¡ç†æ‡‰ç”¨çš„æ‰€æœ‰å…ƒä»¶çš„ç‹€æ…‹ï¼Œä¸¦ä»¥ç›¸æ‡‰çš„è¦å‰‡ä¿è­‰ç‹€æ…‹ä»¥ä¸€ç¨®å¯é æ¸¬çš„æ–¹å¼ç™¼ç”Ÿè®ŠåŒ–ã€‚\n ç°¡å–®ä¾†èªªï¼ŒVuex å°±æ˜¯ä¸€å€‹ç‹€æ…‹å€‰åº«ï¼Œå°‡å„å€‹å…ƒä»¶å…¬ç”¨çš„ç‹€æ…‹æ”¾åˆ°è£¡é¢é€²è¡Œå…¨åŸŸçµ±ä¸€ç®¡ç†ï¼Œåªè¦å€‰åº«å…§çš„ç‹€æ…‹ç™¼ç”Ÿè®ŠåŒ–ï¼Œå¼•ç”¨å®ƒçš„å…ƒä»¶éƒ½æœƒè‡ªå‹•æ›´æ–°ã€‚\nç‚ºä»€éº¼è¦ç”¨ Vuex 1. å…ƒä»¶ä¹‹é–“ç‹€æ…‹è³‡æ–™å‚³éçš„æ–¹å¼ å…ƒä»¶ä¹‹é–“çš„ç‹€æ…‹è³‡æ–™å‚³éï¼š\n çˆ¶å…ƒä»¶å‚³å­å…ƒä»¶ï¼šProps å­å…ƒä»¶å‚³çˆ¶å…ƒä»¶ï¼šEvents å…„å¼Ÿå…ƒä»¶ä¹‹é–“çš„å‚³éï¼šEventBus  ä½†ç•¶æˆ‘å€‘é‡åˆ°å¤šå€‹å…ƒä»¶å…±äº«ç›¸åŒç‹€æ…‹è³‡æ–™ï¼Œæˆ–è€…å¤§ç¯„åœçš„å‚³éï¼Œç‹€æ…‹è³‡æ–™çš„å‚³éèˆ‡ç¶­è­·å°±æœƒè®Šå¾—ç›¸ç•¶éº»ç…©ã€‚\n2. Vuex ç”¨è™• Vuex å°‡å…ƒä»¶çš„å…±äº«ç‹€æ…‹æŠ½å–å‡ºä¾†ï¼Œå°‡ç‹€æ…‹è®Šæˆå…¨åŸŸçš„ï¼Œæ–¹ä¾¿é›†ä¸­ç®¡ç†ã€‚åœ¨é€™ç¨®æ¨¡å¼ä¸‹ï¼Œæˆ‘å€‘çš„å…ƒä»¶æ¨¹æ§‹æˆäº†ä¸€å€‹å·¨å¤§çš„ã€Œè¦–åœ–ã€ï¼Œä¸ç®¡åœ¨æ¨¹çš„å“ªå€‹ä½ç½®ï¼Œä»»ä½•å…ƒä»¶éƒ½èƒ½ç²å–ç‹€æ…‹æˆ–è€…è§¸ç™¼è¡Œç‚ºã€‚\nç•¶å°ˆæ¡ˆè¦æ¨¡åˆ°é”ä¸€å®šç¨‹åº¦æ™‚ï¼Œæ‰é©åˆä½¿ç”¨ Vuexï¼Œå¦å‰‡å¯èƒ½æ˜¯ç¹ç‘£å†—é¤˜çš„ã€‚\r 3. Fluxã€Reduxã€MobX Vuex æ˜¯ Vue.js å°ˆç”¨çš„ç‹€æ…‹ç®¡ç†æ¨¡å¼ï¼Œå…¶æ¦‚å¿µæ˜¯ä¾†è‡ª Flux æ¶æ§‹æ€æƒ³ï¼Œä½¿ç”¨é¡ä¼¼æ¦‚å¿µçš„é‚„æœ‰ MobX å’Œå¸¸ç”¨æ–¼ React.js çš„ Reduxã€‚\né€™è£¡å°±ä¸å¤šåšèªªæ˜ï¼Œæœ‰èˆˆè¶£çš„å¯ä»¥åƒè€ƒä»¥ä¸‹æ–‡ç« ï¼š\n Vuexã€Fluxã€Reduxã€Redux-sagaã€Dvaã€MobX Fluxã€Reduxã€Vuexã€MobX ç¸½çµ - æ¦‚å¿µç¯‡  Vue CLI å°ˆæ¡ˆ å®‰è£ï¼š\nnpm install vuex --save å°å…¥ã€å»ºç«‹ store ç‰©ä»¶ï¼š\n1 2 3 4 5 6 7 8 9 10 11  // store.js import Vue from \u0026#39;vue\u0026#39;; import Vuex from \u0026#39;vuex\u0026#39;; Vue.use(Vuex); export default new Vuex.Store({ state: {}, mutations: {}, actions: {}, });   ç•¶å°ˆæ¡ˆæ›´è¤‡é›œæ™‚ï¼Œé€šå¸¸æœƒæ”¹ç”¨è³‡æ–™å¤¾çµæ§‹ç®¡ç†ï¼Œä¹‹å¾Œæœƒæåˆ°ã€‚\nå°‡ store ç‰©ä»¶æ›è¼‰åˆ° Vue å¯¦é«”ï¼š\n1 2 3 4 5 6 7 8 9 10 11  // main.js import Vue from \u0026#39;vue\u0026#39;; import App from \u0026#39;./App.vue\u0026#39;; import store from \u0026#39;./store\u0026#39;; Vue.config.productionTip = false; new Vue({ store, render: h =\u0026gt; h(App), }).$mount(\u0026#39;#app\u0026#39;);   Promise Vuex ä¾è³´ Promiseã€‚å¦‚æœä½ æ”¯æŒçš„ç€è¦½å™¨ä¸¦æ²’æœ‰å¯¦ç¾ Promiseï¼ˆæ¯”å¦‚ IEï¼‰ï¼Œé‚£éº¼ä½ å¯ä»¥ä½¿ç”¨ä¸€å€‹ polyfill çš„åº«ï¼Œä¾‹å¦‚ es6-promiseã€‚\n","description":"Vuex æ˜¯ä¸€å€‹å°ˆç‚º Vue.js æ‡‰ç”¨ç¨‹å¼é–‹ç™¼çš„ç‹€æ…‹ç®¡ç†æ¨¡å¼ã€‚","id":18,"section":"posts","tags":["Vue","Vuex"],"title":"Vuex - èµ·æ‰‹å¼","uri":"https://chupai.github.io/posts/vue/vuex/introduction/"},{"content":"Vue å…ƒä»¶ç¯‡\n\r é€™é€±æ˜¯å…­è§’é¼ å¹´éµäººè³½ç¬¬ä¸‰åå…«é€±ï¼ŒVue ç­†è¨˜çš„ç¬¬ä¸‰ç¯‡ã€‚\n ç«¹ç™½çš„ Vue è¨˜äº‹æœ¬ ç›®éŒ„\n Vue - æŒ‡ä»¤ç¯‡ï¼š\n å…ƒä»¶åŸºç¤ Prop è‡ªå®šç¾©äº‹ä»¶ Slot æ’æ§½ ","description":"Vue å…ƒä»¶ç¯‡ã€‚","id":19,"section":"posts","tags":["Vue","w3HexSchool"],"title":"Vue - å…ƒä»¶","uri":"https://chupai.github.io/posts/2010/vue_component/"},{"content":" ç«¹ç™½çš„ Vue è¨˜äº‹æœ¬ ç›®éŒ„\n \rSlot æ’æ§½ å…ƒä»¶å°±æ˜¯ç”¨ä¾†é‡è¤‡ä½¿ç”¨çš„ï¼Œä½†ä¸å¯èƒ½æ¯æ¬¡ä½¿ç”¨éƒ½ç”¨åŒæ¨£çš„æ¨¡æ¿ã€‚è€Œ \u0026lt;slot\u0026gt; æ’æ§½ å¯ä»¥ä½¿æˆ‘å€‘çš„å…ƒä»¶æ›´ä½³å½ˆæ€§ï¼Œèƒ½å¾å¤–å±¤å°‡æ¨¡æ¿æ”¾ç½®æŒ‡å®šä½ç½®ä¸Šã€‚\nåŒ¿åæ’æ§½ é¦–å…ˆï¼Œé€™æ˜¯æ²’æœ‰ \u0026lt;slot\u0026gt; çš„å…ƒä»¶ï¼š\n1 2 3 4 5 6 7  Vue.component(\u0026#39;c-demo\u0026#39;, { template: ` \u0026lt;div\u0026gt; \u0026lt;p\u0026gt;Demo\u0026lt;/p\u0026gt; \u0026lt;/div\u0026gt; `, });   å› æ­¤å¦‚æœæˆ‘å€‘ç›´æ¥åœ¨å…ƒä»¶ tag æ”¾ç½®å…§å®¹æ˜¯æ²’æœ‰æ„ç¾©çš„ã€‚\n1 2 3 4  \u0026lt;c-demo\u0026gt;\u0026lt;p\u0026gt;123\u0026lt;/p\u0026gt;\u0026lt;/c-demo\u0026gt; \u0026lt;!-- æ¸²æŸ“ --\u0026gt; \u0026lt;div\u0026gt;\u0026lt;p\u0026gt;Demo\u0026lt;/p\u0026gt;\u0026lt;/div\u0026gt;   æƒ³è¦æ–°å¢çš„å…§å®¹ä¸¦ä¸æœƒè¢«æ¸²æŸ“å‡ºä¾†ã€‚\né€™è£¡è¦ä½¿ç”¨æ’æ§½ï¼Œéœ€è¦åœ¨å…ƒä»¶æ¨¡æ¿åŠ ä¸Š \u0026lt;slot\u0026gt;ï¼š\n1 2 3 4 5 6 7 8  Vue.component(\u0026#39;c-demo\u0026#39;, { template: ` \u0026lt;div\u0026gt; \u0026lt;p\u0026gt;Demo\u0026lt;/p\u0026gt; \u0026lt;slot\u0026gt;\u0026lt;/slot\u0026gt; \u0026lt;/div\u0026gt; `, });   1 2 3 4 5 6 7  \u0026lt;c-demo\u0026gt;\u0026lt;p\u0026gt;123\u0026lt;/p\u0026gt;\u0026lt;/c-demo\u0026gt; \u0026lt;!-- æ¸²æŸ“ --\u0026gt; \u0026lt;div\u0026gt; \u0026lt;p\u0026gt;Demo\u0026lt;/p\u0026gt; \u0026lt;p\u0026gt;123\u0026lt;/p\u0026gt; \u0026lt;/div\u0026gt;   åŸæœ¬ \u0026lt;slot\u0026gt; çš„ä½ç½®å°±æœƒè¢«æ›¿æ›æˆæ·»åŠ çš„å…ƒç´ ã€‚\nCodePen Demoï¼šVue 2.x - åŒ¿åæ’æ§½\nå¦‚æœä½ è¨­ç½®å¤šå€‹ \u0026lt;slot\u0026gt;ï¼Œå…§å®¹å°±æœƒé‡è¤‡ï¼š\n1 2 3 4 5 6 7 8 9 10  Vue.component(\u0026#39;c-demo\u0026#39;, { template: ` \u0026lt;div\u0026gt; \u0026lt;p\u0026gt;Demo\u0026lt;/p\u0026gt; \u0026lt;slot\u0026gt;\u0026lt;/slot\u0026gt; \u0026lt;slot\u0026gt;\u0026lt;/slot\u0026gt; \u0026lt;slot\u0026gt;\u0026lt;/slot\u0026gt; \u0026lt;/div\u0026gt; `, });   1 2 3 4 5 6 7 8 9  \u0026lt;c-demo\u0026gt;\u0026lt;p\u0026gt;123\u0026lt;/p\u0026gt;\u0026lt;/c-demo\u0026gt; \u0026lt;!-- æ¸²æŸ“ --\u0026gt; \u0026lt;div\u0026gt; \u0026lt;p\u0026gt;Demo\u0026lt;/p\u0026gt; \u0026lt;p\u0026gt;123\u0026lt;/p\u0026gt; \u0026lt;p\u0026gt;123\u0026lt;/p\u0026gt; \u0026lt;p\u0026gt;123\u0026lt;/p\u0026gt; \u0026lt;/div\u0026gt;   å¦å¤–ï¼Œ\u0026lt;slot\u0026gt; å…§å¯ä»¥åŠ ä¸Šé è¨­å…ƒç´ ï¼š\n1 2 3 4 5 6 7 8 9 10  Vue.component(\u0026#39;c-demo\u0026#39;, { template: ` \u0026lt;div\u0026gt; \u0026lt;p\u0026gt;Demo\u0026lt;/p\u0026gt; \u0026lt;slot\u0026gt; \u0026lt;p\u0026gt;é è¨­å…§å®¹\u0026lt;/p\u0026gt; \u0026lt;/slot\u0026gt; \u0026lt;/div\u0026gt; `, });   å¦‚æœæ²’æœ‰æ·»åŠ å…ƒç´ ï¼Œå°±æœƒé¡¯ç¤ºé è¨­å…ƒç´ ã€‚\nå…·åæ’æ§½ slot ç‰¹æ€§èªæ³•åœ¨ 2.6.0 èµ·è¢«å»¢æ£„ï¼Œç”± v-slot æŒ‡ä»¤å–ä»£ï¼Œæœ‰èˆˆè¶£å¯ä»¥åƒè€ƒ å®˜æ–¹æ–‡ä»¶ã€‚\r 1. åŸºæœ¬ç¯„ä¾‹ å¦‚æœæˆ‘å€‘æœ‰å¤šå€‹æ’æ§½çš„éœ€æ±‚ï¼Œå°±éœ€è¦ç‚ºæ¯å€‹ \u0026lt;slot\u0026gt; åŠ ä¸Š name ç‰¹æ€§ï¼Œä¹Ÿå°±æ˜¯å…·åæ’æ§½ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15  Vue.component(\u0026#39;c-demo\u0026#39;, { template: ` \u0026lt;div\u0026gt; \u0026lt;h1\u0026gt; \u0026lt;slot name=\u0026#34;title\u0026#34;\u0026gt;\u0026lt;/slot\u0026gt; \u0026lt;/h1\u0026gt; \u0026lt;main\u0026gt; \u0026lt;slot name=\u0026#34;content\u0026#34;\u0026gt;\u0026lt;/slot\u0026gt; \u0026lt;/main\u0026gt; \u0026lt;footer\u0026gt; \u0026lt;slot name=\u0026#34;footer\u0026#34;\u0026gt;\u0026lt;/slot\u0026gt; \u0026lt;/footer\u0026gt; \u0026lt;/div\u0026gt; `, });   åœ¨å¤–å±¤æ’å…¥å…ƒç´ æ™‚ï¼Œå¿…é ˆåœ¨ \u0026lt;template\u0026gt; å…ƒç´ ä¸Šä½¿ç”¨ v-slot æŒ‡ä»¤ï¼ŒæŒ‡å®šå…ƒç´ æ’å…¥çš„ä½ç½®ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20  \u0026lt;c-demo\u0026gt; \u0026lt;template v-slot:title\u0026gt; Title \u0026lt;/template\u0026gt; \u0026lt;template v-slot:content\u0026gt; \u0026lt;p\u0026gt;123456\u0026lt;/p\u0026gt; \u0026lt;/template\u0026gt; \u0026lt;template v-slot:footer\u0026gt; end \u0026lt;/template\u0026gt; \u0026lt;/c-demo\u0026gt; \u0026lt;!-- æ¸²æŸ“ --\u0026gt; \u0026lt;div\u0026gt; \u0026lt;h1\u0026gt;Title\u0026lt;/h1\u0026gt; \u0026lt;main\u0026gt; \u0026lt;p\u0026gt;123456\u0026lt;/p\u0026gt; \u0026lt;/main\u0026gt; \u0026lt;footer\u0026gt;end\u0026lt;/footer\u0026gt; \u0026lt;/div\u0026gt;   CodePen Demoï¼šVue 2.x - å…·åæ’æ§½\n2. æ··ç”¨ å¦‚æœä½¿ç”¨å…·åæ’æ§½åˆä½¿ç”¨åŒ¿åæ’æ§½ï¼š\n1 2 3 4 5 6 7 8  Vue.component(\u0026#39;c-demo\u0026#39;, { template: ` \u0026lt;div\u0026gt; \u0026lt;slot\u0026gt;\u0026lt;/slot\u0026gt; \u0026lt;slot name=\u0026#34;content\u0026#34;\u0026gt;\u0026lt;/slot\u0026gt; \u0026lt;/div\u0026gt; `, });   1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20  \u0026lt;c-demo\u0026gt; \u0026lt;p\u0026gt;111\u0026lt;/p\u0026gt; \u0026lt;template v-slot:content\u0026gt; \u0026lt;p\u0026gt;222\u0026lt;/p\u0026gt; \u0026lt;/template\u0026gt; \u0026lt;p\u0026gt;333\u0026lt;/p\u0026gt; \u0026lt;template\u0026gt; \u0026lt;p\u0026gt;444\u0026lt;/p\u0026gt; \u0026lt;/template\u0026gt; \u0026lt;p\u0026gt;555\u0026lt;/p\u0026gt; \u0026lt;/c-demo\u0026gt; \u0026lt;!-- æ¸²æŸ“ --\u0026gt; \u0026lt;div\u0026gt; \u0026lt;p\u0026gt;111\u0026lt;/p\u0026gt; \u0026lt;p\u0026gt;333\u0026lt;/p\u0026gt; \u0026lt;p\u0026gt;444\u0026lt;/p\u0026gt; \u0026lt;p\u0026gt;555\u0026lt;/p\u0026gt; \u0026lt;p\u0026gt;222\u0026lt;/p\u0026gt; \u0026lt;/div\u0026gt;   ä»»ä½•æ²’æœ‰è¢«åŒ…è£¹åœ¨å¸¶æœ‰ v-slot çš„ \u0026lt;template\u0026gt; çš„å…§å®¹éƒ½æœƒè¢«æ”¾é€²åŒ¿åæ’æ§½ä¸­ã€‚\nCodePen Demoï¼šVue 2.x - Slot æ’æ§½æ¸¬è©¦\nåŒ¿åæ’æ§½é è¨­ name ç‰¹æ€§åç¨±ç‚º defaultï¼Œå› æ­¤å¦‚æœæˆ‘å€‘ä½¿ç”¨ \u0026lt;template v-slot:default\u0026gt; æ™‚ï¼Œé€™è£¡çš„å…§å®¹å°‡è¢«æ”¾ç½®åœ¨åŒ¿åæ’æ§½ä¸­ï¼Œè€Œä¸”ä»»ä½•æ²’æœ‰è¢«åŒ…è£¹åœ¨å¸¶æœ‰ v-slot çš„ \u0026lt;template\u0026gt; çš„å…§å®¹éƒ½å°‡ç„¡æ•ˆï¼š\n1 2 3 4 5 6 7 8 9 10 11 12  \u0026lt;c-demo\u0026gt; \u0026lt;p\u0026gt;1111\u0026lt;/p\u0026gt; \u0026lt;template v-slot:default\u0026gt; \u0026lt;p\u0026gt;222\u0026lt;/p\u0026gt; \u0026lt;/template\u0026gt; \u0026lt;template\u0026gt; \u0026lt;p\u0026gt;333\u0026lt;/p\u0026gt; \u0026lt;/template\u0026gt; \u0026lt;/c-demo\u0026gt; \u0026lt;!-- æ¸²æŸ“ --\u0026gt; \u0026lt;p\u0026gt;222\u0026lt;/p\u0026gt;   CodePen Demoï¼šVue 2.x - Slot æ’æ§½æ¸¬è©¦2\n3. ç¸®å¯« å¦å¤– v-slot æŒ‡ä»¤ä¹Ÿæœ‰ç¸®å¯« #ï¼š\n1 2 3 4  \u0026lt;template v-slot:#title\u0026gt;\u0026lt;/template\u0026gt; \u0026lt;!-- ç­‰åŒ --\u0026gt; \u0026lt;template #title\u0026gt;\u0026lt;/template\u0026gt;   èˆ‡å…¶ä»–ç¸®å¯«ä¸€æ¨£ï¼Œåªæœ‰åœ¨æœ‰åƒæ•¸æ™‚ï¼Œæ‰èƒ½ä½¿ç”¨ã€‚\nä½œç”¨åŸŸæ’æ§½ å…ƒä»¶ tag ä½æ–¼çˆ¶å±¤ï¼Œå¦‚æœå¸Œæœ›æ’æ§½è¨ªå•å…ƒä»¶çš„è³‡æ–™ï¼Œä½ å¯ä»¥é€™æ¨£åšã€‚\nåœ¨è¨­ç½®æ’æ§½æ™‚ï¼Œå¯ä»¥ç¶å®š æ’æ§½ propï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15  Vue.component(\u0026#39;c-demo\u0026#39;, { template: ` \u0026lt;div\u0026gt; \u0026lt;slot :obj=\u0026#34;abc\u0026#34;\u0026gt;\u0026lt;/slot\u0026gt; \u0026lt;/div\u0026gt; `, data() { return { abc: { a: \u0026#39;aaa\u0026#39;, b: \u0026#39;bbb\u0026#39;, }, }; }, });   obj ç‚ºæˆ‘å€‘å®šç¾©çš„ æ’æ§½ propï¼Œabc ç‚ºç¶å®šçš„è³‡æ–™ã€‚\næ¥ä¸‹ä¾†ï¼Œæˆ‘å€‘å°±èƒ½åœ¨çˆ¶å±¤ä½¿ç”¨ v-slot æŒ‡ä»¤ï¼Œå¯ä»¥å–å¾—ä¸€å€‹ç‰©ä»¶ï¼ˆå¯ä»¥ä»»æ„å‘½åï¼‰ï¼Œé€™å€‹ç‰©ä»¶æœƒåŒ…å« \u0026lt;solt\u0026gt; ä¸Šæ‰€æœ‰ç¶å®šçš„ æ’æ§½ propï¼š\n1 2 3 4 5  \u0026lt;c-demo \u0026gt; \u0026lt;template v-slot=\u0026#34;myData\u0026#34;\u0026gt; {{ myData.obj.a }} \u0026lt;/template\u0026gt; \u0026lt;/c-demo\u0026gt;   CodePen Demoï¼šVue 2.x - ä½œç”¨åŸŸæ’æ§½\nä½†è¦æ³¨æ„ï¼Œä¸Šé¢ v-slot=\u0026quot;myData\u0026quot; å±¬æ–¼åŒ¿åæ’æ§½çš„ç¸®å¯«ï¼Œç•¶ä½ æœ‰ä½¿ç”¨å…¶å®ƒå…·åæ’æ§½æ™‚ï¼Œä¸èƒ½èˆ‡åŒ¿åæ’æ§½çš„ç¸®å¯«æ··ç”¨ï¼Œæœƒå°è‡´ä½œç”¨åŸŸä¸æ˜ç¢ºï¼Œæ‡‰è©²è¦æ­£ç¢ºä½¿ç”¨åŸæœ¬æ‡‰è©²è¦æœ‰çš„èªæ³• v-slot:default=\u0026quot;myData\u0026quot;ã€‚\r å¦å¤–ï¼Œæˆ‘å€‘é‚„å¯ä»¥è§£æ§‹æ’æ§½ï¼Œä¾‹å¦‚å°‡ä¸Šé¢ç¨‹å¼ç¢¼æ”¹æˆé€™æ¨£ï¼š\n1 2 3 4 5  \u0026lt;c-demo \u0026gt; \u0026lt;template v-slot=\u0026#34;{ obj }\u0026#34;\u0026gt; {{ obj.a }} \u0026lt;/template\u0026gt; \u0026lt;/c-demo\u0026gt;   ç”šè‡³å¯ä»¥å®šç¾©é è¨­å€¼ï¼š\n1 2 3 4 5  \u0026lt;c-demo \u0026gt; \u0026lt;template v-slot=\u0026#34;{ obj = { a: \u0026#39;a\u0026#39;} }\u0026#34;\u0026gt; {{ obj.a }} \u0026lt;/template\u0026gt; \u0026lt;/c-demo\u0026gt;   ","description":"Vue å…ƒä»¶ Slot æ’æ§½ã€‚","id":20,"section":"posts","tags":["Vue","Vueå…ƒä»¶"],"title":"Vueå…ƒä»¶ - Slot æ’æ§½","uri":"https://chupai.github.io/posts/vue/component/slot/"},{"content":" ç«¹ç™½çš„ Vue è¨˜äº‹æœ¬ ç›®éŒ„\n \rè‡ªå®šç¾©äº‹ä»¶ åœ¨é–‹ç™¼å…ƒä»¶æ™‚ï¼Œæœ‰æ™‚å€™åŠŸèƒ½é‚„æ˜¯éœ€è¦èˆ‡å¤–å±¤åšæºé€šï¼Œä½† prop æ˜¯å–®å‘çš„ã€‚å› æ­¤ Vue å¯¦é«”æä¾›äº†ä¸€å€‹ è‡ªå®šç¾©äº‹ä»¶ çš„ç³»çµ±ä¾†è§£æ±ºé€™å€‹å•é¡Œï¼Œä½¿ç”¨äº‹ä»¶ä¾†å›æ‡‰å¤–å±¤è³‡æ–™ã€‚\n1. åŸºæœ¬ç¯„ä¾‹ èˆ‰å€‹ç°¡å–®çš„ç¯„ä¾‹ï¼Œæˆ‘å€‘è¦è®“å…ƒä»¶ c-button èƒ½å¤ åŸ·è¡Œå¤–å±¤çš„æ–¹æ³•ã€‚\né¦–å…ˆè¨­å®šå…ƒä»¶æœƒå¦‚ä½•è§¸ç™¼ç›£è½æ–¹æ³•ï¼Œåœ¨ç›£è½æ–¹æ³•å…§é€é $emit æ–¹æ³•å‚³å…¥è‡ªå®šç¾©äº‹ä»¶åç¨±ã€‚\n1 2 3 4 5 6 7 8  Vue.component(\u0026#39;c-btn\u0026#39;, { methods: { clickHandler() { this.$emit(\u0026#39;my-event\u0026#39;); }, }, template: `\u0026lt;button @click=\u0026#34;clickHandler\u0026#34;\u0026gt;add\u0026lt;/button\u0026gt;`, });   ä½¿ç”¨ v-on ç›£è½è‡ªå®šç¾©äº‹ä»¶ my-eventï¼Œä¸¦æŒ‡å®šè¦åŸ·è¡Œäº‹æƒ…ï¼š\n1 2 3 4  \u0026lt;div id=\u0026#34;app\u0026#34;\u0026gt; \u0026lt;p\u0026gt;{{ counter }}\u0026lt;/p\u0026gt; \u0026lt;c-btn @my-event=\u0026#34;addCounter\u0026#34;\u0026gt;\u0026lt;/c-btn\u0026gt; \u0026lt;/div\u0026gt;   1 2 3 4 5 6 7 8 9 10 11  const vm = new Vue({ el: \u0026#39;#app\u0026#39;, data: { counter: 0, }, methods: { addCounter() { this.counter += 1; }, }, });   See the Pen Vue 2.x - Emit by CHUPAIWANG (@CHUPAIWANG) on CodePen.  2. ä½¿ç”¨äº‹ä»¶æ‹‹å‡ºä¸€å€‹å€¼ $emit çš„ç¬¬äºŒå€‹åƒæ•¸èƒ½å¤ å°‡å€¼æ‹‹å‡ºï¼Œé€™å€‹å€¼å°‡æœƒä½œç‚ºç¬¬ä¸€å€‹åƒæ•¸å‚³å…¥å¤–å±¤æ–¹æ³•ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20  Vue.component(\u0026#39;c-btn\u0026#39;, { methods: { clickHandler() { this.$emit(\u0026#39;my-event\u0026#39;, 3); }, }, template: `\u0026lt;button @click=\u0026#34;clickHandler\u0026#34;\u0026gt;add\u0026lt;/button\u0026gt;`, }); const vm = new Vue({ el: \u0026#39;#app\u0026#39;, data: { counter: 0, }, methods: { addCounter(val) { this.counter += val; }, }, });   See the Pen Vue 2.x - æ‹‹å‡ºä¸€å€‹å€¼ by CHUPAIWANG (@CHUPAIWANG) on CodePen.  è‡ªå®šç¾©äº‹ä»¶åç¨± ä¸åŒæ–¼å…ƒä»¶å’Œ propï¼Œäº‹ä»¶åç¨±ç„¡æ³•è‡ªå‹•åŒ–çš„å¤§å°å¯«è½‰æ›ã€‚åœ¨ HTML ä¸­ä½¿ç”¨è‡ªå®šç¾©äº‹ä»¶æ™‚ï¼Œéœ€è¦å®Œå…¨åŒ¹é…åç¨±ã€‚\nå¦‚æœè§¸ç™¼ä¸€å€‹ camelCase é¢¨æ ¼å‘½åçš„äº‹ä»¶ï¼š\n1  this.$emit(\u0026#39;myEvent\u0026#39;);   ç›£è½é€™å€‹åå­—çš„ kebab-case ç‰ˆæœ¬æ˜¯ä¸æœƒæœ‰ä»»ä½•æ•ˆæœçš„ï¼š\n1 2  \u0026lt;!-- æ²’æœ‰æ•ˆæœ --\u0026gt; \u0026lt;c-demo @my-event=\u0026#34;doSomething\u0026#34;\u0026gt;\u0026lt;/c-demo\u0026gt;   å®˜æ–¹æ¨è–¦å§‹çµ‚ä½¿ç”¨ kebab-case é¢¨æ ¼å‘½åè‡ªå®šç¾©äº‹ä»¶ã€‚\nåœ¨å…ƒä»¶ä¸Šä½¿ç”¨ v-model v-model å¯ä»¥åœ¨è¡¨å–®å…ƒç´ ä¸Šå¯¦ç¾é›™å‘ç¶å®šï¼Œä¹Ÿå¯ä»¥ç”¨åœ¨å…ƒä»¶ä¸Šã€‚\n1. åŸºæœ¬ç¯„ä¾‹ è«‹è€ƒæ…®ä»¥ä¸‹æƒ…æ³ï¼Œå‡è¨­æœ‰ä¸€å€‹è¼¸å…¥å…ƒä»¶ï¼Œæˆ‘å€‘æƒ³è¦å¯¦ç¾è³‡æ–™é›™å‘ç¶å®šï¼š\n1 2 3 4 5 6 7  Vue.component(\u0026#39;c-demo\u0026#39;, { template: ` \u0026lt;div\u0026gt; \u0026lt;input type=\u0026#34;text\u0026#34; /\u0026gt; \u0026lt;/div\u0026gt; `, });   ä½ å¯èƒ½éœ€è¦å…ˆç”¨ prop å‚³éçµ¦å…ƒä»¶ï¼Œå†ä½¿ç”¨ $emit æ‹‹å€¼çµ¦çˆ¶å±¤ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34  Vue.component(\u0026#39;c-demo\u0026#39;, { props: [\u0026#39;inputText\u0026#39;], data() { return { text: this.inputText, }; }, methods: { inputHandler(event) { this.text = event.target.value; this.$emit(\u0026#39;my-event\u0026#39;, this.text); }, }, template: ` \u0026lt;div\u0026gt; \u0026lt;input type=\u0026#34;text\u0026#34; :value=\u0026#34;text\u0026#34; @input=\u0026#34;inputHandler\u0026#34; /\u0026gt; \u0026lt;/div\u0026gt; `, }); const vm = new Vue({ el: \u0026#39;#app\u0026#39;, data: { text: \u0026#39;hello\u0026#39;, }, methods: { demoHandler(value) { this.text = value; }, }, });   1 2 3 4  \u0026lt;div id=\u0026#34;app\u0026#34;\u0026gt; \u0026lt;p\u0026gt;{{ text }}\u0026lt;/p\u0026gt; \u0026lt;c-demo :input-text=\u0026#34;text\u0026#34; @my-event=\u0026#34;demoHandler\u0026#34;\u0026gt;\u0026lt;/c-demo\u0026gt; \u0026lt;/div\u0026gt;   CodePen Demoï¼šVue 2.x - å…ƒä»¶é›™å‘ç¶å®š\né€™æ¨£å­çš„ä½œæ³•éå¸¸éº»ç…©ä¸”è¤‡é›œï¼Œæˆ‘å€‘å¯ä»¥æ”¹ç”¨ v-model é›™å‘ç¶å®šè³‡æ–™ï¼š\n1 2 3 4  \u0026lt;div id=\u0026#34;app\u0026#34;\u0026gt; \u0026lt;p\u0026gt;{{ text }}\u0026lt;/p\u0026gt; \u0026lt;c-demo v-model=\u0026#34;text\u0026#34;\u0026gt;\u0026lt;/c-demo\u0026gt; \u0026lt;/div\u0026gt;   1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18  Vue.component(\u0026#39;c-demo\u0026#39;, { props: [\u0026#39;value\u0026#39;], template: ` \u0026lt;div\u0026gt; \u0026lt;input :value=\u0026#34;value\u0026#34; @input=\u0026#34;$emit(\u0026#39;input\u0026#39;, $event.target.value)\u0026#34; type=\u0026#34;text\u0026#34; /\u0026gt; \u0026lt;/div\u0026gt; `, }); const vm = new Vue({ el: \u0026#39;#app\u0026#39;, data: { text: \u0026#39;hello\u0026#39;, }, });   æˆ‘å€‘éœ€è¦å°‡ value ç‰¹æ€§ç¶å®šåˆ°ä¸€å€‹åå« value çš„ prop ä¸Šï¼Œä¸¦åœ¨äº‹ä»¶è¢«è§¸ç™¼æ™‚ï¼Œå°‡æ–°çš„å€¼é€éè‡ªå®šç¾©çš„ input äº‹ä»¶æ‹‹å‡ºã€‚\nCodePen Demoï¼šVue 2.x - åœ¨å…ƒä»¶ä¸Šä½¿ç”¨ v-model\n2. model é¸é … ä¸€å€‹å…ƒä»¶ä¸Šçš„ v-model é è¨­æœƒåˆ©ç”¨åç‚º value çš„ prop å’Œåç‚º input çš„è‡ªå®šç¾©äº‹ä»¶ã€‚\né™¤äº†é è¨­å€¼å¤–ï¼Œæˆ‘å€‘å¯ä»¥ä½¿ç”¨ model é¸é …ä¾†è¨­å®š prop å’Œ eventï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17  Vue.component(\u0026#39;c-checkbox\u0026#39;, { model: { prop: \u0026#39;checked\u0026#39;, event: \u0026#39;my-event\u0026#39;, }, props: { checked: Boolean, }, template: ` \u0026lt;div\u0026gt; \u0026lt;input :checked=\u0026#34;checked\u0026#34; @change=\u0026#34;$emit(\u0026#39;my-event\u0026#39;, $event.target.checked)\u0026#34; type=\u0026#34;checkbox\u0026#34; /\u0026gt; \u0026lt;/div\u0026gt; `, });   CodePen Demoï¼šVue 2.x - model é¸é …\né€™æ¨£å­å¯ä»¥æœ‰æ•ˆé¿å…ä¸åŒçš„å…ƒä»¶ä¸Šçš„èªæ„è¡çªã€‚\nç¶å®šåŸç”Ÿäº‹ä»¶ 1. åŸºæœ¬ç¯„ä¾‹ åœ¨å…ƒä»¶ tag ä¸Šä½¿ç”¨äº‹ä»¶ç¶å®šï¼Œå…¨éƒ½å±¬æ–¼è‡ªå®šç¾©äº‹ä»¶ï¼Œå› æ­¤è‹¥è¦ä½¿ç”¨åŸç”Ÿäº‹ä»¶ï¼Œä½ å¯èƒ½æœƒé€™æ¨£åšï¼š\n1  \u0026lt;c-button @my-event=\u0026#34;clickHandler\u0026#34;\u0026gt;\u0026lt;/c-button\u0026gt;   1 2 3 4 5 6 7 8 9 10 11 12 13 14  Vue.component(\u0026#39;c-button\u0026#39;, { template: ` \u0026lt;button @click=\u0026#34;$emit(\u0026#39;my-event\u0026#39;)\u0026#34;\u0026gt;add\u0026lt;/button\u0026gt; `, }); const vm = new Vue({ el: \u0026#39;#app\u0026#39;, methods: { clickHandler() { // ...  }, }, });   é€™è£¡æˆ‘å€‘å¯ä»¥æ”¹ç”¨äº‹ä»¶ä¿®é£¾ç¬¦è™Ÿ .nativeï¼Œé€™æ¨£å…ƒä»¶ tag å°±èƒ½ä½¿ç”¨å…ƒç”Ÿäº‹ä»¶ clickï¼Œæœƒç¶å®šåœ¨æ ¹å…ƒç´ ä¸Šï¼š\n1  \u0026lt;c-button @click.native=\u0026#34;clickHandler\u0026#34;\u0026gt;\u0026lt;/c-button\u0026gt;   1 2 3 4 5 6 7 8 9 10 11 12  Vue.component(\u0026#39;c-button\u0026#39;, { template: \u0026#39;\u0026lt;button\u0026gt;add\u0026lt;/button\u0026gt;\u0026#39;, }); const vm = new Vue({ el: \u0026#39;#app\u0026#39;, methods: { clickHandler() { // ...  }, }, });   CodePen Demoï¼šVue 2.x - ç¶å®šåŸç”Ÿäº‹ä»¶\n2. æ ¹å…ƒç´ éç›£è½å…ƒç´  ä½†æ˜¯ï¼Œé€™ç¨®æ–¹å¼åªèƒ½åœ¨ç”¨åœ¨æ ¹å…ƒç´ å‰›å¥½æ˜¯è¦ç›£è½çš„å…ƒç´ ã€‚\nå¦‚æœæˆ‘å€‘çš„å…ƒä»¶é•·é€™æ¨£ï¼š\n1 2 3 4 5 6 7 8  Vue.component(\u0026#39;c-button\u0026#39;, { template: ` \u0026lt;div\u0026gt; \u0026lt;button\u0026gt;add\u0026lt;/button\u0026gt; \u0026lt;button\u0026gt;+1\u0026lt;/button\u0026gt; \u0026lt;/div\u0026gt; `, });   å°±éœ€è¦ç”¨åˆ° Vue æä¾›çš„ $listeners å±¬æ€§ï¼Œå®ƒæ˜¯ä¸€å€‹ç‰©ä»¶ï¼Œè£¡é¢åŒ…å«äº†ä½œç”¨åœ¨é€™å€‹å…ƒä»¶ä¸Šçš„æ‰€æœ‰ç›£è½å™¨ï¼ˆä¸å«ä½¿ç”¨ .native çš„äº‹ä»¶ï¼‰ã€‚\nå› æ­¤æˆ‘å€‘è¦å…ˆå°‡ inheritAttrs: falseï¼Œä¸¦é…åˆ v-on=\u0026quot;$listeners\u0026quot; å°‡æ‰€æœ‰çš„äº‹ä»¶ç›£è½å™¨æŒ‡å‘æŒ‡å®šçš„å…ƒç´ ã€‚\n1 2 3 4 5 6 7 8 9  Vue.component(\u0026#39;c-button\u0026#39;, { inheritAttrs: false, template: ` \u0026lt;div\u0026gt; \u0026lt;button v-on=\u0026#34;$listeners\u0026#34;\u0026gt;add\u0026lt;/button\u0026gt; \u0026lt;button\u0026gt;+1\u0026lt;/button\u0026gt; \u0026lt;/div\u0026gt; `, });   1 2 3 4  \u0026lt;div id=\u0026#34;app\u0026#34;\u0026gt; \u0026lt;p\u0026gt;{{ counter }}\u0026lt;/p\u0026gt; \u0026lt;c-button @click=\u0026#34;clickHandler\u0026#34;\u0026gt;\u0026lt;/c-button\u0026gt; \u0026lt;/div\u0026gt;   CodePen Demoï¼šVue 2.x - æ ¹å…ƒç´ éç›£è½å…ƒç´ \nv-on=\u0026quot;$listeners\u0026quot; é€™è£¡ä¸èƒ½ä½¿ç”¨ç¸®å¯« @ï¼Œï¼Œå› ç‚ºæ²’ç¶å®šäº‹ä»¶ã€‚\r sync ä¿®é£¾ç¬¦è™Ÿ è‹¥å¸Œæœ›é”åˆ°çˆ¶å­å…ƒä»¶ä¹‹é–“çš„ prop é€²è¡Œé›™å‘ç¶å®šå¿…é ˆè‡ªè¡Œå¯¦ä½œå…©å€‹æ­¥é©Ÿï¼š\n å¾çˆ¶å…ƒä»¶åˆ©ç”¨ prop å‚³å€¼åˆ°å­å…ƒä»¶ï¼› çˆ¶å…ƒä»¶ç›£è½è‡ªè¨‚çš„äº‹ä»¶ã€‚ç•¶å­å…ƒä»¶ç™¼ç”Ÿè®Šæ›´æ™‚ï¼Œä½¿ç”¨ $emit('event', value) å°‡è®Šå‹•é€šçŸ¥çˆ¶å…ƒä»¶ï¼Œä¸¦æ–¼çˆ¶å…ƒä»¶ä¸­è‡ªè¡Œæ›´æ”¹å€¼ã€‚  1 2 3 4 5 6 7  \u0026lt;div id=\u0026#34;app\u0026#34;\u0026gt; \u0026lt;p\u0026gt;{{ counter }}\u0026lt;/p\u0026gt; \u0026lt;c-button :counter=\u0026#34;counter\u0026#34; @counter-update=\u0026#34;updateCounter\u0026#34; \u0026gt;\u0026lt;/c-button\u0026gt; \u0026lt;/div\u0026gt;   1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22  Vue.component(\u0026#39;CButton\u0026#39;, { props: [\u0026#39;counter\u0026#39;], methods: { clickHandler() { const newCounter = this.counter + 1; this.$emit(\u0026#39;counter-update\u0026#39;, newCounter); }, }, template: \u0026#39;\u0026lt;button @click=\u0026#34;clickHandler\u0026#34;\u0026gt;add\u0026lt;/button\u0026gt;\u0026#39;, }); const vm = new Vue({ el: \u0026#39;#app\u0026#39;, data: { counter: 0, }, methods: { updateCounter(val) { this.counter = val; }, }, });   CodePen Demoï¼šVue 2.x - é›™å‘ç¶å®š\nVue æ›¿é€™ç¨®æ¨¡å¼æä¾›ä¸€å€‹æ–¹ä¾¿çš„ç¸®å¯«ï¼Œå³ .sync ä¿®é£¾ç¬¦è™Ÿï¼š\n1 2 3 4  \u0026lt;div id=\u0026#34;app\u0026#34;\u0026gt; \u0026lt;p\u0026gt;{{ counter }}\u0026lt;/p\u0026gt; \u0026lt;c-button :counter.sync=\u0026#34;counter\u0026#34;\u0026gt;\u0026lt;/c-button\u0026gt; \u0026lt;/div\u0026gt;   1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17  Vue.component(\u0026#39;CButton\u0026#39;, { props: [\u0026#39;counter\u0026#39;], methods: { clickHandler() { const newCounter = this.counter + 1; this.$emit(\u0026#39;update:counter\u0026#39;, newCounter); }, }, template: \u0026#39;\u0026lt;button @click=\u0026#34;clickHandler\u0026#34;\u0026gt;add\u0026lt;/button\u0026gt;\u0026#39;, }); const vm = new Vue({ el: \u0026#39;#app\u0026#39;, data: { counter: 0, }, });   ä½¿ç”¨ update:myPropName å–ä»£å¤–å±¤çš„æ›´æ–°äº‹ä»¶ï¼Œçœç•¥éå¸¸å¤šç¨‹å¼ç¢¼ã€‚\nCodePen Demoï¼šVue 2.x - .sync ä¿®é£¾ç¬¦è™Ÿ\nä½†é€™è£¡è¦å°å¿ƒï¼Œ.sync ä¸èƒ½å’Œè¡¨é”å¼ä¸€èµ·ä½¿ç”¨ï¼Œå› ç‚ºä½ æ˜¯è¦é›™å‘ç¶å®šè³‡æ–™ã€‚\r å¦å¤–ï¼Œå¦‚æœä½¿ç”¨ä¸€å€‹ç‰©ä»¶åŒæ™‚è¨­ç½®å¤šå€‹ prop æ™‚ï¼Œä¸¦ä¸”éœ€è¦é›™å‘ç¶å®šï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨ .syncã€‚\nCodePen Demoï¼šVue 2.x - .sync ä¿®é£¾ç¬¦è™Ÿ - ç‰©ä»¶\nå¦‚æœåªæœ‰ä¸€å€‹ prop éœ€è¦é›™å‘ç¶å®šï¼Œå¯ä»¥é¸ç”¨ v-modelï¼Œè‹¥éœ€è¦é›™å‘ç¶å®šå¤šå€‹ prop æ‰ä½¿ç”¨ .syncã€‚\n","description":"Vue å…ƒä»¶è‡ªå®šç¾©äº‹ä»¶ã€‚","id":21,"section":"posts","tags":["Vue","Vueå…ƒä»¶"],"title":"Vueå…ƒä»¶ - è‡ªå®šç¾©äº‹ä»¶","uri":"https://chupai.github.io/posts/vue/component/emit/"},{"content":" ç«¹ç™½çš„ Vue è¨˜äº‹æœ¬ ç›®éŒ„\n \rProp ç”±æ–¼å…ƒä»¶èˆ‡å¤–å±¤ï¼ˆVue å¯¦é«”æˆ–çˆ¶å…ƒä»¶ï¼‰å±¬æ–¼ä¸åŒçš„å¯¦é«”ï¼Œå› æ­¤ä¸èƒ½ç›´æ¥åœ¨å…ƒä»¶ä¸Šæ“ä½œå¤–å±¤è³‡æ–™ç‹€æ…‹ï¼Œé€™æ™‚å°±éœ€è¦é€é props é¸é …å±¬æ€§ï¼Œå°‡è³‡æ–™å¾å¤–å±¤å‚³éçµ¦å…ƒä»¶ã€‚\n1. åŸºæœ¬ç¯„ä¾‹ å‡è¨­ Vue å¯¦é«”æœ‰ä¸€å€‹è³‡æ–™å±¬æ€§ url ï¼Œè¦å°‡å®ƒå‚³çµ¦ c-img å…ƒä»¶ä½¿ç”¨ã€‚\n1 2 3 4 5 6  const vm = new Vue({ el: \u0026#39;#app\u0026#39;, data: { url: \u0026#39;https://picsum.photos/200\u0026#39;, }, });   é¦–å…ˆï¼Œåœ¨å…ƒä»¶çš„ props é¸é …å®šç¾©ä¸€å€‹ propï¼š\n1 2 3  Vue.component(\u0026#39;c-img\u0026#39;, { props: [\u0026#39;imgUrl\u0026#39;], });   å‚³éæ–¹å¼ç‚ºï¼Œåœ¨ HTML ä¸Šä½¿ç”¨è‡ªå®šç¾©ç‰¹æ€§ï¼š\n1  \u0026lt;c-img :img-url=\u0026#34;url\u0026#34;\u0026gt;\u0026lt;/c-img\u0026gt;   é€™æ¨£æˆ‘å€‘å°±èƒ½åœ¨å…ƒä»¶å¯¦é«”ä¸Šä½¿ç”¨é€™ç­†è³‡æ–™ï¼š\n1 2 3 4  Vue.component(\u0026#39;c-img\u0026#39;, { props: [\u0026#39;imgUrl\u0026#39;], template: \u0026#39;\u0026lt;img :src=\u0026#34;imgUrl\u0026#34; alt=\u0026#34;\u0026#34;\u0026gt;\u0026#39;, });   See the Pen Vue 2.x - å…ƒä»¶ Prop by CHUPAIWANG (@CHUPAIWANG) on CodePen.  Prop çš„å‘½å HTML ä¸­çš„ç‰¹æ€§æ˜¯å¤§å°å¯«ä¸æ•æ„Ÿçš„ï¼Œå› æ­¤å¦‚æœ Prop çš„å‘½åæ˜¯ camelCaseï¼Œåœ¨ HTML ä¸­è¦è½‰æˆ kebab-caseã€‚\n1  props: [\u0026#39;imgUrl\u0026#39;]   1  \u0026lt;photo img-url=\u0026#34;https://picsum.photos/200\u0026#34;\u0026gt;\u0026lt;/photo\u0026gt;   ä½†å¦‚æœæ˜¯ Prop çš„å‘½åæ˜¯ kebab-caseï¼Œè¡¨é”å¼å…§è¦è½‰æˆ camelCaseï¼š\n1 2  props: [\u0026#39;img-url\u0026#39;], template: \u0026#39;\u0026lt;img :src=\u0026#34;imgUrl\u0026#34; alt=\u0026#34;\u0026#34;\u0026gt;\u0026#39;,   Prop å‹åˆ¥æª¢æŸ¥ 1. ç‰©ä»¶å½¢å¼ åŸºæœ¬ç¯„ä¾‹çš„ props é¸é …æ˜¯ä»¥å­—ä¸²é™£åˆ—çš„å½¢å¼å®šç¾© propï¼š\n1  props: [\u0026#39;propA\u0026#39;, \u0026#39;propB\u0026#39;, \u0026#39;propC\u0026#39;]   æˆ‘å€‘å¯ä»¥å¯ä»¥ä½¿ç”¨ç‰©ä»¶å½¢å¼å®šç¾© propï¼Œé€™æ¨£èƒ½å¤ æŒ‡å®š prop çš„å‹åˆ¥é™åˆ¶ï¼š\n1 2 3 4 5 6  props: { // åŸºç¤çš„å‹åˆ¥æª¢æŸ¥  propA: String, // å¤šå€‹å¯èƒ½çš„å‹åˆ¥  propB: [String, Number], }   é€™è£¡çš„å‹åˆ¥ä¸æ˜¯åªæœ‰ JS å…§å»ºå‹åˆ¥çš„ä¸ƒå€‹å‹åˆ¥ï¼Œè€Œæ˜¯åªè¦æœ‰åŸç”Ÿå»ºæ§‹å‡½å¼éƒ½å¯ä»¥æª¢æŸ¥ï¼Œä¾‹å¦‚ Dateã€Promise ç­‰ç­‰ã€‚\nè‹¥æ˜¯å‚³å…¥ä¸ç¬¦åˆçš„å‹åˆ¥ï¼Œé–‹ç™¼ç’°å¢ƒæ§‹å»ºç‰ˆæœ¬çš„ Vue æœƒåœ¨ Console è·³å‡ºè­¦å‘Šã€‚é€™åœ¨é–‹ç™¼ç¬¬ä¸‰æ–¹å…ƒä»¶æ™‚éå¸¸æœ‰ç”¨ã€‚\nä½†è¦æ³¨æ„ï¼Œnull å’Œ undefined æœƒç¬¦åˆæ‰€æœ‰å‹åˆ¥æŸ¥ï¼Œä¸æœƒè·³å‡ºè­¦å‘Šã€‚\r 2. Prop é©—è­‰ ä¸Šé¢çš„å¯«æ³•åªèƒ½æª¢æŸ¥å‹åˆ¥ï¼Œprop é‚„èƒ½ä½¿ç”¨ç‰©ä»¶çš„æ–¹å¼ä¾†å®šç¾©ã€‚\nç‰©ä»¶è¦å‰‡èªªæ˜å¦‚ä¸‹ï¼š\n typeï¼šè³‡æ–™å‹åˆ¥ï¼Œå¯ä»¥æ˜¯åŸç”Ÿå»ºæ§‹å‡½å¼ä¸­çš„ä¸€å€‹ï¼Œæˆ–æ˜¯è‡ªå®šç¾©çš„å»ºæ§‹å‡½å¼ã€‚ defaultï¼šé è¨­å€¼ã€‚ requiredï¼šè©²å±¬æ€§æ˜¯å¦ç‚ºå¿…è¦ã€‚ validatorï¼šè‡ªå®šç¾©é©—è­‰å‡½å¼ï¼Œæª¢é©—å±¬æ€§è³‡æ–™æ˜¯å¦æœ‰æ•ˆã€‚  1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30  props: { // ä¸€å®šè¦æœ‰å€¼ï¼Œè€Œä¸”è¦æ˜¯å­—ä¸²  propA: { type: String, required: true }, // å¸¶æœ‰é è¨­å€¼  propB: { type: Number, default: 100 }, // ç‰©ä»¶æˆ–é™£åˆ—é è¨­å€¼å¿…é ˆå¾ä¸€å€‹å·¥å» å‡½å¼ç²å–  propC: { type: Object, default() { return { message: \u0026#39;hello\u0026#39; } } }, // è‡ªå®šç¾©é©—è­‰å‡½å¼  propD: { validator(value) { // é€™å€‹å€¼å¿…é ˆåŒ¹é…ä¸‹åˆ—å­—ä¸²ä¸­çš„ä¸€å€‹  return [\u0026#39;success\u0026#39;, \u0026#39;warning\u0026#39;, \u0026#39;danger\u0026#39;].indexOf(value) !== -1 } } }   prop é©—è­‰æœƒåœ¨å¯¦é«”å»ºç«‹å‰åŸ·è¡Œï¼Œå› æ­¤ default å’Œ validator éƒ½ä¸å¯ä»¥ä½¿ç”¨å¯¦é«”è³‡æ–™ç‹€æ…‹ï¼ˆå¦‚ dataã€computed ç­‰ï¼‰ã€‚\r å‚³ééœæ…‹æˆ–å‹•æ…‹è³‡æ–™ prop å¯ä»¥å‚³å…¥ä¸€å€‹éœæ…‹çš„å€¼ï¼Œä¹Ÿå¯ä»¥é€é v-bind å‹•æ…‹è³¦å€¼ã€‚\nä½†è¦æ³¨æ„ï¼Œéœæ…‹è³¦å€¼å‚³å…¥çš„çµæœå€¼ç‚ºå­—ä¸²ï¼Œå¦‚æœè¦å‚³æ•¸å€¼ã€å¸ƒæ—å€¼ã€é™£åˆ—ã€ç‰©ä»¶ç­‰ç­‰ï¼Œéœ€è¦ç”¨åˆ° v-bind æ‰æœƒæ˜¯ JS è¡¨é”å¼ã€‚\nèˆ‰ä¾‹ä¾†èªªï¼Œå‚³å…¥ä¸€å€‹æ•¸å€¼ï¼š\n1 2 3 4 5  \u0026lt;!-- éœæ…‹ --\u0026gt; \u0026lt;text-component text-content=\u0026#34;42\u0026#34;\u0026gt;\u0026lt;/text-component\u0026gt; \u0026lt;!-- å‹•æ…‹ --\u0026gt; \u0026lt;text-component v-bind:text-content=\u0026#34;42\u0026#34;\u0026gt;\u0026lt;/text-component\u0026gt;   éœæ…‹å‚³å…¥çš„ 42 æ˜¯å­—ä¸²ï¼Œä¸æ˜¯æ•¸å€¼ï¼Œå¿…é ˆä½¿ç”¨ v-bind å‹•æ…‹å‚³å…¥ã€‚\n1. å‚³å…¥ä¸€å€‹å¸ƒæ—å€¼ å¦‚æœæŒ‡å®šä¸€å€‹ prop æ˜¯å¸ƒæ—å€¼ï¼š\n é‚£éº¼å°±ç®— prop ç‰¹æ€§æ²’çµ¦å€¼çš„æƒ…æ³ä¸‹ï¼Œå®ƒä¹Ÿæœƒå‚³ trueï¼› è‹¥æ˜¯æ²’æœ‰è¨­å®šç‰¹æ€§ï¼Œå‰‡æœƒå‚³ falseã€‚  1 2 3  \u0026lt;div id=\u0026#34;app\u0026#34;\u0026gt; \u0026lt;c-demo b\u0026gt;\u0026lt;/c-demo\u0026gt; \u0026lt;/div\u0026gt;   1 2 3 4 5 6 7 8 9 10 11 12 13 14 15  Vue.component(\u0026#39;c-demo\u0026#39;, { props: { a: Boolean, b: Boolean, }, created() { console.log(this.a); // false  console.log(this.b); // true  }, }); const vm = new Vue({ el: \u0026#39;#app\u0026#39;, data: {}, });   CodePen Demoï¼šVue 2.x - å‚³å…¥ä¸€å€‹å¸ƒæ—å€¼\n2. å‚³å…¥ä¸€å€‹ç‰©ä»¶çš„æ‰€æœ‰å±¬æ€§ å¦‚æœè¦å‚³å…¥ä¸€å€‹ç‰©ä»¶çš„æ‰€æœ‰å±¬æ€§ï¼Œå¯ä»¥ä½¿ç”¨ä¸å¸¶åƒæ•¸çš„ v-bindã€‚\nèˆ‰ä¾‹ä¾†èªªï¼Œå‡è¨­è¦å°‡ä¸€å€‹ç‰©ä»¶ obj ä¸­çš„æ‰€æœ‰å±¬æ€§ï¼Œåˆ†åˆ¥å‚³éçµ¦ä¸€å€‹å…ƒä»¶ï¼Œéœ€è¦åœ¨å…ƒä»¶ props å®šç¾©å°æ‡‰çš„å±¬æ€§ï¼š\n1 2 3 4 5 6 7 8 9 10  // å¤–å±¤è³‡æ–™ data: { obj: { aaa: \u0026#39;a\u0026#39;, bbb: \u0026#39;b\u0026#39;, }, } // å…ƒä»¶ prop props: [\u0026#39;aaa\u0026#39;, \u0026#39;bbb\u0026#39;]   ä¸¦ä¸”å°‡å°æ‡‰çš„ç‰©ä»¶å±¬æ€§å‚³å…¥å…ƒä»¶ï¼š\n1 2 3  \u0026lt;c-demo v-bind:aaa=\u0026#34;obj.aaa\u0026#34; v-bind:bbb=\u0026#34;obj.bbb\u0026#34;\u0026gt;\u0026lt;/c-demo\u0026gt;   å¯ä»¥ä½¿ç”¨ä¸å¸¶åƒæ•¸çš„ v-bind å‚³å…¥ç‰©ä»¶ï¼Œæœƒè‡ªå‹•å°‡ç‰©ä»¶è§£æ§‹å‚³å…¥ï¼Œç­‰åŒä¸Šé¢å‚³å…¥æ“ä½œï¼š\n1  \u0026lt;c-demo v-bind=\u0026#34;obj\u0026#34;\u0026gt;\u0026lt;/c-demo\u0026gt;   CodePen Demoï¼šVue 2.x - å‚³å…¥ä¸€å€‹ç‰©ä»¶çš„æ‰€æœ‰å±¬æ€§\nè¦æ³¨æ„ï¼Œv-bind é€™è£¡ä¸èƒ½ä½¿ç”¨ç¸®å¯«ï¼Œå› ç‚ºæ²’ç¶å®šç‰¹æ€§ã€‚\r å–®å‘è³‡æ–™æµï¼ˆOne-Way Data Flowï¼‰ å…ƒä»¶çš„ prop æ˜¯å–®å‘ç¶å®šçš„ï¼Œå¯ç”±å¤–å‘å…§å‚³éè³‡æ–™ï¼Œä½†ä¸æœƒåéä¾†ã€‚ä¸»è¦æ˜¯ç‚ºäº†é¿å…å­å…ƒä»¶ä»»æ„æ›´æ”¹çˆ¶ç´šçš„ç‹€æ…‹ï¼Œå¾è€Œå°è‡´ä½ çš„æ‡‰ç”¨ç¨‹å¼çš„è³‡æ–™æµå‘é›£ä»¥ç†è§£ã€‚\nå¦‚æœç›´æ¥å»æ”¹è®Š propï¼Œé–‹ç™¼ç’°å¢ƒç‰ˆæœ¬çš„ Vue æœƒåœ¨ Console è·³å‡ºè­¦å‘Šã€‚\r è‹¥æˆ‘å€‘æœ‰æ”¹è®Šè³‡æ–™çš„éœ€æ±‚ï¼Œå°±å¿…é ˆä½¿ç”¨ data æˆ– computed å„²å­˜å®ƒï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14  props: [\u0026#39;initialCounter\u0026#39;], data() { return { counter: this.initialCounter } } // or props: [\u0026#39;size\u0026#39;], computed: { normalizedSize() { return this.size.trim().toLowerCase() } }   å¦‚æœå¤–å±¤å‚³å…¥çš„è³‡æ–™æ˜¯ç‰©ä»¶å‹åˆ¥ï¼ˆç‰©ä»¶ã€é™£åˆ—ï¼‰ï¼Œé‚„æ˜¯æœƒå› ç‚ºå‚³å€çš„ç‰¹æ€§ï¼Œä¸å°å¿ƒæ›´å‹•åˆ°çˆ¶ç´šçš„è³‡æ–™ç‹€æ…‹ã€‚å› æ­¤ç›¡é‡é¿å…å‚³å…¥ç‰©ä»¶å‹åˆ¥çš„è³‡æ–™ï¼Œç¢ºä¿è³‡æ–™çš„æµå‘ã€‚\r é Prop çš„ç‰¹æ€§ ä¸€å€‹é prop çš„ç‰¹æ€§ï¼ŒæŒ‡çš„æ˜¯å…ƒä»¶æœªå®šç¾©çš„ prop çš„å®šæ€§ã€‚\n1. æ›¿æ›/åˆä½µ å¦‚æœåœ¨å…ƒä»¶ tag ä¸Šä½¿ç”¨é prop çš„ç‰¹æ€§ï¼Œå®ƒå°‡è¢«åŠ åˆ°æ ¹å…ƒç´ ä¸Šã€‚\nå°æ–¼å¤§éƒ¨åˆ†çš„ç‰¹æ€§ä¾†èªªï¼Œè‹¥æ˜¯å…ƒä»¶æ ¹å…ƒç´ å·²ç¶“æœ‰ç›¸åŒçš„ç‰¹æ€§ï¼Œç‰¹æ€§å€¼å°‡æœƒè¢«æ›¿æ›æ‰ï¼š\n1 2 3 4  Vue.component(\u0026#39;c-demo\u0026#39;, { props: [], template: \u0026#39;\u0026lt;div data-text=\u0026#34;5\u0026#34;\u0026gt;demo\u0026lt;/div\u0026gt;\u0026#39; });   1 2 3 4  \u0026lt;c-demo data-text=\u0026#34;10\u0026#34;\u0026gt;\u0026lt;/c-demo\u0026gt; \u0026lt;!-- å°‡è¢«æ¸²æŸ“æˆ --\u0026gt; \u0026lt;div data-text=\u0026#34;10\u0026#34;\u0026gt;demo\u0026lt;/div\u0026gt;   ä½†å°æ–¼æ¨£å¼ç‰¹æ€§ï¼š\n class æœƒæ™ºèƒ½çš„åˆä½µï¼Œä¸æœƒå‡ºç¾é‡è¤‡æˆ–è¦†è“‹é¡åˆ¥ï¼› style ä¹Ÿæœƒåˆä½µï¼ˆæ ¹å…ƒç´ ä¸Šçš„æ¨£å¼å†å‰ï¼‰ï¼Œä½†å¦‚æœæœ‰é‡è¤‡çš„ CSS æ¨£å¼ï¼Œæ ¹å…ƒç´ ä¸Šçš„æ¨£å¼æœƒè¢«è¦†è“‹ã€‚  2. ç¦ç”¨ç¹¼æ‰¿ è«‹è€ƒæ…®ä»¥ä¸‹æƒ…æ³ã€‚\nå»ºç«‹ä¸€å€‹ checkbox å…ƒä»¶ï¼Œä½†æ ¹å…ƒç´ é€šå¸¸ä¸æœƒæ˜¯ \u0026lt;input\u0026gt; å…ƒç´ ã€‚å¦‚æœåœ¨å…ƒä»¶ tag ä¸Šä½¿ç”¨ checked=\u0026quot;checked\u0026quot; ä¸€å®šç„¡æ³•ä½œç”¨ï¼š\n1 2 3 4 5 6 7 8  Vue.component(\u0026#39;c-checkbox\u0026#39;, { template: ` \u0026lt;div\u0026gt; \u0026lt;input type=\u0026#34;checkbox\u0026#34; id=\u0026#34;checkbox\u0026#34;\u0026gt; \u0026lt;label\u0026gt;è¦ä¸è¦\u0026lt;/label\u0026gt; \u0026lt;/div\u0026gt; `, });   å› æ­¤ï¼Œæˆ‘å€‘è¦é—œæ‰æ ¹å…ƒç´ ç¹¼æ‰¿ç‰¹æ€§ï¼Œéœ€è¦åœ¨å…ƒä»¶é¸é …ä¸­è¨­ç½® inheritAttrs: falseï¼š\n1 2 3 4  Vue.component(\u0026#39;c-demo\u0026#39;, { inheritAttrs: false, // ... });   æ³¨æ„ inheritAttrs: false é¸é …ä¸æœƒå½±éŸ¿ style å’Œ class çš„ç¶å®šã€‚\r è¨­ç½®å®Œ inheritAttrs: false å¾Œï¼Œè¦æ­é… $attrs ä½¿ç”¨ï¼Œå®ƒæ˜¯ä¸€å€‹ç‰©ä»¶ï¼ŒåŒ…å«å…ƒä»¶ tag ä¸Šæ‰€æœ‰é Prop çš„ç‰¹æ€§ï¼ˆstyle å’Œ class é™¤å¤–ï¼‰ã€‚\nä½¿ç”¨ v-bind æ‰‹å‹•å°‡å®ƒç¶å®šè¦ä½œç”¨çš„å…ƒç´ ä¸Šï¼š\n1 2 3 4 5 6 7 8 9  Vue.component(\u0026#39;c-checkbox\u0026#39;, { template: ` \u0026lt;div\u0026gt; \u0026lt;input type=\u0026#34;checkbox\u0026#34; id=\u0026#34;checkbox\u0026#34; v-bind=\u0026#34;$attrs\u0026#34;\u0026gt; \u0026lt;label\u0026gt;è¦ä¸è¦\u0026lt;/label\u0026gt; \u0026lt;/div\u0026gt; `, inheritAttrs: false, });   1 2 3  \u0026lt;div id=\u0026#34;app\u0026#34;\u0026gt; \u0026lt;c-checkbox checked=\u0026#34;checked\u0026#34;\u0026gt;\u0026lt;/c-checkbox\u0026gt; \u0026lt;/div\u0026gt;   CodePen Demoï¼šVue 2.x - é Prop çš„ç‰¹æ€§\næ³¨æ„ï¼Œchecked=\u0026quot;checked\u0026quot; æœ‰æ™‚æœƒç°¡å¯«æˆ checkedã€‚ä½†é—œé–‰ç¹¼æ‰¿å¾Œï¼Œåœ¨ $attrs ç‰©ä»¶å…§ checked æœƒå¾—åˆ°ç©ºå­—ä¸²ï¼ˆå› ç‚ºæ²’çµ¦å€¼ï¼‰ï¼Œä¹Ÿå°±æ˜¯èªªæœƒè®Šæˆä¸å‹¾é¸ç‹€æ…‹ã€‚å› æ­¤åœ¨ä½¿ç”¨è¡¨å–®å…ƒç´ ç›¸é—œç‰¹æ€§æ™‚ï¼Œè¦å¤šåŠ ç•™æ„ã€‚\r","description":"Vue å…ƒä»¶çš„ç‹€æ…‹è³‡æ–™å‚³éã€‚","id":22,"section":"posts","tags":["Vue","Vueå…ƒä»¶"],"title":"Vueå…ƒä»¶ - Prop","uri":"https://chupai.github.io/posts/vue/component/prop/"},{"content":" ç«¹ç™½çš„ Vue è¨˜äº‹æœ¬ ç›®éŒ„\n \rå…ƒä»¶ å…ƒä»¶çš„æ¦‚å¿µå°±æ˜¯å°‡æ•´å€‹é é¢æ‹†åˆ†æˆä¸€å€‹ä¸€å€‹çš„å°å€å¡Šï¼Œç„¶å¾Œåƒç©æœ¨ä¸€æ¨£æŠŠé é¢çµ„åˆèµ·ä¾†ã€‚\næ‹†åˆ†æˆå…ƒä»¶çš„å„ªé»ï¼š\n åªéœ€è¦ç¶­è­·è‡ªå·±ä¾è³´çš„ CSSã€JSï¼› å…ƒä»¶å¯ä»¥é€²è¡Œä»»æ„æ¬¡æ•¸çš„å¾©ç”¨ï¼› ç¨ç«‹çš„ dataã€computedã€watchã€methods ç­‰ç­‰ã€‚  æ³¨æ„äº‹é …ï¼š\n data å¿…é ˆä½¿ç”¨ function å‡½å¼ï¼› éœ€è¨»å†Šæ‰èƒ½ä½¿ç”¨ã€‚  å…ƒä»¶ä¸­ data å¿…é ˆæ˜¯å‡½å¼çš„åŸå› æ˜¯ï¼Œå…ƒä»¶æ˜¯å¯ä»¥é‡è¤‡åˆ©ç”¨çš„ï¼Œåœ¨æ­£å¸¸çš„æƒ…æ³ä¸‹ï¼Œå®ƒæœƒä½¿ç”¨ä¸åŒçš„è³‡æ–™ã€‚ä½¿ç”¨å‡½å¼å»ºæ§‹è³‡æ–™ï¼Œåœ¨å»ºç«‹æ–°çš„å…ƒä»¶æ™‚ï¼Œéƒ½æœƒå›å‚³ä¸€å€‹æ–°çš„ç‰©ä»¶ã€‚\nè¨»å†Š è¨»å†Šå…ƒä»¶çš„æ–¹å¼æœ‰å…©ç¨®ï¼š\n å…¨åŸŸï¼ˆGlobalï¼‰è¨»å†Š å€åŸŸï¼ˆLocalï¼‰è¨»å†Š  ä¸è«–å…¨åŸŸè¨»å†Šæˆ–æ˜¯å€åŸŸè¨»å†Šï¼Œéƒ½å¿…é ˆåœ¨ Vue å¯¦é«”ä¹‹å‰å®Œæˆã€‚\n1. å…¨åŸŸè¨»å†Š å¦‚æœæœ‰å…ƒä»¶å…±ç”¨çš„éœ€æ±‚ï¼Œæˆ‘å€‘æœƒä½¿ç”¨ Vue.component() ä¾†å…¨åŸŸè¨»å†Šä¸€å€‹å…ƒä»¶ã€‚\nèªæ³•ï¼š\n1  Vue.component(id, options);    idï¼šå…ƒä»¶åç¨± optionsï¼šé¸é …ç‰©ä»¶  èˆ‰ä¾‹ä¾†èªªï¼Œå®šç¾©ä¸€å€‹åç‚º c-layout çš„å…ƒä»¶ï¼š\n1 2 3 4 5 6 7 8 9  Vue.component(\u0026#39;c-layout\u0026#39;, { // æ³¨æ„ï¼Œå…ƒä»¶å¿…é ˆä½¿ç”¨ function  data() { return { text: \u0026#39;å…¨åŸŸè¨»å†Š\u0026#39;, }; }, template: \u0026#39;\u0026lt;div\u0026gt;{{ text }}\u0026lt;/div\u0026gt;\u0026#39;, });   å…¨åŸŸè¨»å†Šå¾Œï¼Œå°±å¯ä»¥åœ¨ä»»ä½• Vue å¯¦é«”ä¸­ä½¿ç”¨ï¼š\n1 2 3  \u0026lt;div id=\u0026#34;app\u0026#34;\u0026gt; \u0026lt;c-layout\u0026gt;\u0026lt;/c-layout\u0026gt; \u0026lt;/div\u0026gt;   1 2 3  const vm = new Vue({ el: \u0026#39;#app\u0026#39;, });   See the Pen Vue 2.x - å…ƒä»¶å…¨åŸŸè¨»å†Š by CHUPAIWANG (@CHUPAIWANG) on CodePen.  2. å€åŸŸè¨»å†Š ä½¿ç”¨å…¨åŸŸè¨»å†Šçš„ç¼ºé»æ˜¯ï¼Œä¸è«–æ˜¯å¦æœ‰ä½¿ç”¨åˆ°éƒ½æœƒè¼‰å…¥ï¼Œå› æ­¤å¦‚æœè¼‰å…¥å¤§é‡ç”¨ä¸åˆ°çš„å…ƒä»¶ï¼Œå°ç¶²é æ•´é«”ä¾†èªªè¼ƒä¸ä½³ï¼Œæœƒæ‹–æ…¢è¼‰å…¥é€Ÿåº¦ã€‚\nå› æ­¤å¯ä»¥ä½¿ç”¨ components é¸é …ä¾†å€åŸŸè¨»å†Šå…ƒä»¶ï¼Œé€™å€‹å…ƒä»¶åªèƒ½è¨»å†Šçš„ Vue å¯¦é«”ä¸Šä½¿ç”¨ã€‚\nå®šç¾©å…ƒä»¶çš„é¸é …ç‰©ä»¶ï¼š\n1 2 3 4 5 6 7 8  const Clayout = { data() { return { text: \u0026#39;å€åŸŸè¨»å†Š\u0026#39;, } }, template: \u0026#39;\u0026lt;div\u0026gt;{{ text }}\u0026lt;/div\u0026gt;\u0026#39;, };   åœ¨ component é¸é …ä¸­è¼‰å…¥ï¼š\n1 2 3 4 5 6  const vm = new Vue({ el: \u0026#39;#app\u0026#39;, components: { \u0026#39;c-layout\u0026#39;: Clayout, }, });   See the Pen Vue 2.x - å…ƒä»¶å€åŸŸè¨»å†Š by CHUPAIWANG (@CHUPAIWANG) on CodePen.  å‘½åè¦å‰‡ 1. å‘½åé™åˆ¶ å…ƒä»¶çš„å‘½åé™åˆ¶ï¼š\n ä¸ä½¿ç”¨éæ³•çš„ tag å­—å…ƒï¼› ä¸èˆ‡ HTML å…ƒç´ æˆ– SVG å…ƒç´ é‡åï¼› ä¸ä½¿ç”¨ Vue ä¿ç•™çš„ slot å’Œ componentï¼› é¿å…èˆ‡ Vue å…§å»ºçš„ KeepAliveã€Transitionã€TransitionGroup ä¸‰å€‹å…ƒä»¶é‡åã€‚  2. kebab-case å‘½åå…ƒä»¶æ™‚ï¼Œå¯ä»¥ä½¿ç”¨ kebab-case æˆ– camelCaseï¼š\n1 2  // kebab-case Vue.component(\u0026#39;text-component\u0026#39;, {...});   1 2  // camelCase Vue.component(\u0026#39;textComponent\u0026#39;, {...});   ä½†æ˜¯ç€è¦½å™¨åœ¨è§£æ HTML tag æ™‚ï¼Œç„¡å¤§å°å¯«ä¹‹åˆ†ï¼Œå› æ­¤åœ¨ä½¿ç”¨å…ƒä»¶æ™‚ï¼Œå¿…é ˆè¦æ”¹æˆ kebab-caseï¼š\n1  \u0026lt;text-component\u0026gt;\u0026lt;/text-component\u0026gt;   å› æ­¤è¦æ³¨æ„ï¼Œçµ±ä¸€å‘½åå¯«æ³•åˆ¥æ··ç”¨ï¼Œé¿å…é‡è¤‡å‘½åå…ƒä»¶ã€‚\n:::success\nè‹¥æ˜¯åœ¨ .vue å–®ä¸€å…ƒä»¶æª”çš„ \u0026lt;template\u0026gt; ä¸­ä½¿ç”¨å…ƒä»¶ï¼ŒHTML tag å‰‡ç„¡å¤§å°å¯«é™åˆ¶ã€‚\n:::\n3. é¢¨æ ¼æŒ‡å— åœ¨ å®˜æ–¹çš„é¢¨æ ¼æŒ‡å— æœ‰è¨±å¤šé—œæ–¼å…ƒä»¶å‘½åçš„å»ºè­°ã€‚\nTemplates 1. å»ºç«‹å…ƒä»¶æ¨¡æ¿ å®šç¾©å…ƒä»¶çš„ Templates æœ‰å…©ç¨®ä½œæ³•ï¼š\n String Template DOM Template  ä¸Šé¢çš„ç¯„ä¾‹å°±æ˜¯ä½¿ç”¨ String Templateï¼Œç›´æ¥åˆ©ç”¨å­—ä¸²å®šç¾©å…ƒä»¶çš„ template é¸é …ã€‚ä½†æ˜¯é€™å€‹åšæ³•çš„ç¼ºé»å¾ˆæ˜é¡¯ï¼Œå‡å¦‚ä»‹é¢éå¸¸è¤‡é›œï¼Œæœƒè®“ç¨‹å¼è®Šçš„é›£ä»¥é–±è®€åŠç¶­è­·ã€‚\nå› æ­¤å¯ä»¥æ”¹ç”¨ DOM Templateï¼Œä¸»è¦æ˜¯é€é \u0026lt;script type=\u0026quot;text/x-template\u0026quot;\u0026gt; ä¾†å»ºç«‹ã€‚\n1 2 3 4 5 6 7  \u0026lt;div id=\u0026#34;app\u0026#34;\u0026gt; \u0026lt;c-layout\u0026gt;\u0026lt;/c-layout\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;script type=\u0026#34;text/x-template\u0026#34; id=\u0026#34;cLayoutTemplate\u0026#34;\u0026gt; \u0026lt;div\u0026gt;{{text}}\u0026lt;/div\u0026gt; \u0026lt;/script\u0026gt;   1 2 3 4 5 6 7 8 9 10 11 12 13 14 15  const Clayout = { data() { return { text: \u0026#39;DOM Template\u0026#39;, } }, template: \u0026#39;#componentLayoutTemplate\u0026#39;, }; const vm = new Vue({ el: \u0026#39;#app\u0026#39;, components: { \u0026#39;c-layout\u0026#39;: Clayout, }, });   See the Pen Vue 2.x - å»ºç«‹å…ƒä»¶æ¨¡æ¿ by CHUPAIWANG (@CHUPAIWANG) on CodePen.  2. è§£æ DOM æ¨¡æ¿çš„æ³¨æ„äº‹é … åœ¨ HTML ä¸­ï¼Œ\u0026lt;ul\u0026gt;ã€\u0026lt;ol\u0026gt;ã€\u0026lt;table\u0026gt;ã€\u0026lt;select\u0026gt; ç­‰ tag åº•ä¸‹ä¸èƒ½éš¨ä¾¿å¡å…¥å…¶ä»– tagã€‚æ ¼å¼ä¸åˆæ³•çš„è©±ï¼Œä¸åŒç€è¦½å™¨æœƒæœ‰ä¸åŒçš„è§£æçµæœï¼Œæœ‰çš„æœƒç›´æ¥åˆªé™¤æˆ–æ˜¯ç§»åˆ°å¤–å±¤ã€‚\nè«‹è€ƒæ…®ä»¥ä¸‹ç¨‹å¼ç¢¼ï¼š\n1 2 3 4 5 6 7  Vue.component(\u0026#39;c-layout\u0026#39;, { template: ` \u0026lt;tr\u0026gt; \u0026lt;td\u0026gt;TEST\u0026lt;/td\u0026gt; \u0026lt;/tr\u0026gt; `, });   1 2 3 4 5 6 7 8 9 10 11 12 13  \u0026lt;div id=\u0026#34;app\u0026#34;\u0026gt; \u0026lt;table\u0026gt; \u0026lt;c-layout\u0026gt;\u0026lt;/c-layout\u0026gt; \u0026lt;/table\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;!-- æ¸²æŸ“æˆ --\u0026gt; \u0026lt;div id=\u0026#34;app\u0026#34;\u0026gt; \u0026lt;tr\u0026gt; \u0026lt;td\u0026gt;TEST\u0026lt;/td\u0026gt; \u0026lt;/tr\u0026gt; \u0026lt;table\u0026gt;\u0026lt;/table\u0026gt; \u0026lt;/div\u0026gt;   å› ç‚ºæˆ‘å€‘åœ¨ \u0026lt;table\u0026gt; å…§æ”¾äº† \u0026lt;c-layout\u0026gt;ï¼Œè¢«ç€è¦½å™¨èªç‚ºå¼éæ³• tagï¼Œæ‰€ä»¥è¢«ç§»åˆ°å¤–å±¤ã€‚\nå› æ­¤ Vue æä¾›äº† is ç‰¹æ€§çš„èªæ³•ï¼Œå¯ç”¨ä¾†å¼•å…¥å…ƒä»¶ã€‚\nå°‡ä¸Šè¿°ç¨‹å¼ç¢¼æ”¹æˆï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16  \u0026lt;div id=\u0026#34;app\u0026#34;\u0026gt; \u0026lt;table\u0026gt; \u0026lt;tr is=\u0026#34;c-layout\u0026#34;\u0026gt;\u0026lt;/tr\u0026gt; \u0026lt;/table\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;!-- æ¸²æŸ“æˆ --\u0026gt; \u0026lt;div id=\u0026#34;app\u0026#34;\u0026gt; \u0026lt;table\u0026gt; \u0026lt;tbody\u0026gt; \u0026lt;tr\u0026gt; \u0026lt;td\u0026gt;TEST\u0026lt;/td\u0026gt; \u0026lt;/tr\u0026gt; \u0026lt;/tbody\u0026gt; \u0026lt;/table\u0026gt; \u0026lt;/div\u0026gt;   ä½†æ˜¯å¦‚æœæˆ‘å€‘æ˜¯åœ¨ä»¥ä¸‹ Template ä¾†æºä¸­ä½¿ç”¨å…ƒä»¶ï¼Œé€™æ¢é™åˆ¶æ˜¯ä¸å­˜åœ¨çš„ï¼š\n å­—ä¸² å–®ä¸€å…ƒä»¶æª”.vue \u0026lt;script type=\u0026quot;text/x-template\u0026quot;\u0026gt;  èˆ‰ä¾‹ä¾†èªªï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15  Vue.component(\u0026#39;c-layout\u0026#39;, { template: ` \u0026lt;table\u0026gt; \u0026lt;c-layout2\u0026gt;\u0026lt;/c-layout2\u0026gt; \u0026lt;/table\u0026gt; `, }); Vue.component(\u0026#39;c-layout2\u0026#39;, { template: ` \u0026lt;tr\u0026gt; \u0026lt;td\u0026gt;TEST\u0026lt;/td\u0026gt; \u0026lt;/tr\u0026gt; `, });   1 2 3 4 5 6 7 8 9 10 11 12  \u0026lt;div id=\u0026#34;app\u0026#34;\u0026gt; \u0026lt;c-layout\u0026gt;\u0026lt;/c-layout\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;!-- æ¸²æŸ“æˆ --\u0026gt; \u0026lt;div id=\u0026#34;app\u0026#34;\u0026gt; \u0026lt;table\u0026gt; \u0026lt;tr\u0026gt; \u0026lt;td\u0026gt;TEST\u0026lt;/td\u0026gt; \u0026lt;/tr\u0026gt; \u0026lt;/table\u0026gt; \u0026lt;/div\u0026gt;   3. å¤–å±¤æ ¹å…ƒç´  Template ä¸€å®šè¦æœ‰ä¸€å€‹å¤–å±¤çš„æ ¹å…ƒç´ ï¼ˆRoot elementï¼‰ï¼Œä¸ç„¶æ²’è¾¦æ³•çŸ¥é“é€™å€‹å…ƒä»¶çš„é‚Šç•Œåœ¨å“ªã€‚\nèˆ‰ä¾‹ä¾†èªªï¼Œä¸èƒ½å°‡å¯«æˆé€™æ¨£ï¼š\n1 2 3 4 5 6 7 8 9  \u0026lt;!-- éŒ¯èª¤ç¤ºç¯„1 --\u0026gt; \u0026lt;p\u0026gt;text\u0026lt;/p\u0026gt; \u0026lt;span\u0026gt;123\u0026lt;/span\u0026gt; \u0026lt;!-- éŒ¯èª¤ç¤ºç¯„2 --\u0026gt; \u0026lt;template\u0026gt; \u0026lt;p\u0026gt;text\u0026lt;/p\u0026gt; \u0026lt;span\u0026gt;123\u0026lt;/span\u0026gt; \u0026lt;/template\u0026gt;   ä»¥ä¸Šçš†æœƒæ‹‹å‡ºéŒ¯èª¤ã€‚\nå¿…é ˆè¦æœ‰ä¸€å€‹æ ¹å…ƒç´ å°‡å®ƒåŒ…èµ·ä¾†ï¼š\n1 2 3 4  \u0026lt;div\u0026gt; \u0026lt;p\u0026gt;text\u0026lt;/p\u0026gt; \u0026lt;span\u0026gt;123\u0026lt;/span\u0026gt; \u0026lt;/div\u0026gt;   å‹•æ…‹åˆ‡æ› æˆ‘å€‘å¯ä»¥é€é \u0026lt;component\u0026gt; å’Œ is ç‰¹æ€§ï¼Œå‹•æ…‹åˆ‡æ›ä¸åŒçš„å…ƒä»¶ã€‚\né€™è£¡æœ‰ä¸‰å€‹ä¸åŒçš„å…ƒä»¶ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16  Vue.component(\u0026#39;c-aaa\u0026#39;, { template: \u0026#39;\u0026lt;p\u0026gt;component A\u0026lt;/p\u0026gt;\u0026#39;, }); Vue.component(\u0026#39;c-bbb\u0026#39;, { template: \u0026#39;\u0026lt;p\u0026gt;component B\u0026lt;/p\u0026gt;\u0026#39;, }); Vue.component(\u0026#39;c-ccc\u0026#39;, { template: \u0026#39;\u0026lt;p\u0026gt;component C\u0026lt;/p\u0026gt;\u0026#39;, }); const vm = new Vue({ el: \u0026#39;#app\u0026#39;, data: { current: \u0026#39;c-aaa\u0026#39;, }, });   ä½¿ç”¨ v-bind:is ä¾†å‹•æ…‹åˆ‡æ›å…ƒä»¶ï¼š\n1 2 3 4 5 6  \u0026lt;div id=\u0026#34;app\u0026#34;\u0026gt; \u0026lt;button @click=\u0026#34;current = \u0026#39;c-aaa\u0026#39;\u0026#34;\u0026gt;A\u0026lt;/button\u0026gt; \u0026lt;button @click=\u0026#34;current = \u0026#39;c-bbb\u0026#39;\u0026#34;\u0026gt;B\u0026lt;/button\u0026gt; \u0026lt;button @click=\u0026#34;current = \u0026#39;c-ccc\u0026#39;\u0026#34;\u0026gt;C\u0026lt;/button\u0026gt; \u0026lt;component\u0026gt; v-bind:is=\u0026#34;current\u0026#34;\u0026gt;\u0026lt;/component\u0026gt; \u0026lt;/div\u0026gt;   ç¶­æŒå…ƒä»¶ç”Ÿå‘½é€±æœŸ åˆ‡æ›å…ƒä»¶æ™‚ï¼Œå¯èƒ½æœƒé‡åˆ°ä¸€å€‹å•é¡Œï¼ŒVue æœƒç›´æ¥æŠŠ DOM ä¸Šçš„å…ƒä»¶æ¶ˆæ»…å†é‡æ¸²æŸ“ä¸€ä»½ã€‚å¦‚æœä½ æœ‰ä¿ç•™ç‹€æ…‹çš„éœ€æ±‚ï¼Œå¯ä»¥åœ¨å¤–å±¤åŒ…ä¸€å±¤ Vue å…§å»ºå…ƒä»¶ \u0026lt;keep-alive\u0026gt;ã€‚\nè«‹è€ƒæ…®ä»¥ä¸‹ç¨‹å¼ç¢¼ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19  Vue.component(\u0026#39;c-counter\u0026#39;, { data() { return { count: 0, }; }, template: ` \u0026lt;div\u0026gt; \u0026lt;button @click=\u0026#34;count += 1\u0026#34;\u0026gt;+1\u0026lt;/button\u0026gt; \u0026lt;p\u0026gt;{{ count }}\u0026lt;/p\u0026gt; \u0026lt;/div\u0026gt;`, }); const vm = new Vue({ el: \u0026#39;#app\u0026#39;, data: { show: false, }, });   1 2 3 4  \u0026lt;div id=\u0026#34;app\u0026#34;\u0026gt; \u0026lt;button @click=\u0026#34;show = !show\u0026#34;\u0026gt;show Counter\u0026lt;/button\u0026gt; \u0026lt;c-counter v-if=\u0026#34;show\u0026#34;\u0026gt;\u0026lt;/counter\u0026gt; \u0026lt;/div\u0026gt;   v-if æœƒå¸è¼‰ DOM å…ƒç´ ï¼Œå› æ­¤å¦‚æœæˆ‘å€‘éš±è—å…ƒä»¶å¾Œå†æ‰“é–‹ï¼Œè¨ˆæ•¸åˆæœƒé‡ 0 é–‹å§‹ã€‚\nå› æ­¤æˆ‘å€‘å¯ä»¥ç”¨ \u0026lt;keep-alive\u0026gt; å°‡å…ƒä»¶åŒ…èµ·ä¾†ï¼š\n1 2 3  \u0026lt;keep-alive\u0026gt; \u0026lt;c-counter v-if=\u0026#34;show\u0026#34;\u0026gt;\u0026lt;/counter\u0026gt; \u0026lt;/keep-alive\u0026gt;   See the Pen Vue 2.x - ç¶­æŒå…ƒä»¶ç”Ÿå‘½é€±æœŸ by CHUPAIWANG (@CHUPAIWANG) on CodePen. ","description":"Vue å…ƒä»¶åŸºç¤ã€‚","id":23,"section":"posts","tags":["Vue","Vueå…ƒä»¶"],"title":"Vueå…ƒä»¶ - åŸºç¤","uri":"https://chupai.github.io/posts/vue/component/component/"},{"content":"Vue æŒ‡ä»¤ç¯‡\n\r é€™é€±æ˜¯å…­è§’é¼ å¹´éµäººè³½ç¬¬ä¸‰åä¸ƒé€±ï¼ŒVue ç­†è¨˜çš„ç¬¬äºŒç¯‡ã€‚\n ç«¹ç™½çš„ Vue è¨˜äº‹æœ¬ ç›®éŒ„\n Vue - æŒ‡ä»¤ç¯‡ï¼š\n æŒ‡ä»¤æ¦‚è¿° ç‰¹æ€§ç¶å®š æ¢ä»¶æ¸²æŸ“ \u0026amp; åˆ—è¡¨æ¸²æŸ“ äº‹ä»¶ç¶å®š è¡¨å–®è³‡æ–™çš„é›™å‘ç¶å®š ","description":"Vue æŒ‡ä»¤ç¯‡ã€‚","id":24,"section":"posts","tags":["Vue","w3HexSchool"],"title":"Vue - æŒ‡ä»¤","uri":"https://chupai.github.io/posts/2010/vue_directives/"},{"content":" ç«¹ç™½çš„ Vue è¨˜äº‹æœ¬ ç›®éŒ„\n \rè¡¨å–®ç¶å®š åœ¨è¡¨å–®å…ƒç´ ä¸­ï¼Œè¦ç›£è½ä½¿ç”¨è€…è¼¸å…¥çš„è³‡æ–™ä¸¦æ›´æ–°ç•«é¢ï¼Œéœ€è¦åŒæ™‚åšå…©ä»¶äº‹ã€‚\nè«‹è€ƒæ…®ä¸‹é¢ç¨‹å¼ç¢¼ï¼š\n1 2  \u0026lt;input type=\u0026#34;text\u0026#34; :value=\u0026#34;message\u0026#34; @input=\u0026#34;onInput\u0026#34; /\u0026gt; \u0026lt;p\u0026gt;Message is : {{ message }}\u0026lt;/p\u0026gt;   1 2 3 4 5 6 7 8  data: { message: \u0026#39;\u0026#39; }, methods: { onInput(event) { this.message = event.target.value; } }    å°‡ \u0026lt;input\u0026gt; çš„ value ç‰¹æ€§ç¶å®š messageï¼› ä¸¦ç›£è½ \u0026lt;input\u0026gt;ï¼Œç•¶äº‹ä»¶è§¸ç™¼æ™‚ï¼Œæ›´æ–° messageã€‚  Vue æä¾›äº† v-model èªæ³•ç³–ï¼Œç°¡åŒ–äº†ä¸Šè¿°è¡¨å–®é›™å‘ç¶å®šçš„æ“ä½œã€‚\n1 2  \u0026lt;input type=\u0026#34;text\u0026#34; v-model=\u0026#34;message\u0026#34;\u0026gt; \u0026lt;p\u0026gt;Message is : {{ message }}\u0026lt;/p\u0026gt;   1 2 3  data: { message: \u0026#39;\u0026#39; }   ç•¶è¼¸å…¥æ–‡å­—æ¡†å…§çš„å…§å®¹æ”¹è®Šæ™‚ï¼Œå°±æœƒåŒæ­¥æ›´æ–° messageã€‚\nSee the Pen è¡¨å–®è³‡æ–™çš„é›™å‘ç¶å®š v-model by CHUPAIWANG (@CHUPAIWANG) on CodePen.  v-model v-model æŒ‡ä»¤å¯ä»¥åœ¨è¡¨å–®å…ƒç´ ä¸Šé€²è¡Œè³‡æ–™çš„é›™å‘ç¶å®šã€‚\næœƒæ ¹æ“šè¡¨å–®æ§åˆ¶é¡å‹ä½¿ç”¨ä¸åŒçš„ç‰¹æ€§ä¸¦æ‹‹å‡ºä¸åŒçš„äº‹ä»¶ï¼š\n text å’Œ textarea å…ƒç´ ä½¿ç”¨ value ç‰¹æ€§å’Œ input äº‹ä»¶ï¼› checkbox å’Œ radio ä½¿ç”¨ checked ç‰¹æ€§å’Œ change äº‹ä»¶ï¼› select å°‡ value ä½œç‚º prop ä¸¦å°‡ change ä½œç‚ºäº‹ä»¶ã€‚  å¦å¤–ï¼Œæ‰€æœ‰è¡¨å–®å…ƒç´ åªè¦æœ‰ç¶å®š v-modelï¼Œå°±æœƒå¿½ç•¥ valueã€checkedã€selected ç­‰ç‰¹æ€§çš„è¨­å®šã€‚é è¨­ç‹€æ…‹æœƒæ ¹æ“šç¶å®šè³‡æ–™çš„é è¨­å€¼é¡¯ç¤ºã€‚\nå°æ–¼éœ€è¦ä½¿ç”¨è¼¸å…¥æ³•ç·¨è¼¯å™¨ï¼ˆInput Method Editor, IMEï¼‰çš„èªè¨€ï¼ˆå¦‚ä¸­æ–‡ã€æ—¥æ–‡ã€éŸ“æ–‡ç­‰ï¼‰ï¼Œä½ æœƒç™¼ç¾ v-model ä¸æœƒåœ¨è¼¸å…¥æ³•çµ„åˆæ–‡å­—éç¨‹ä¸­å¾—åˆ°æ›´æ–°ã€‚å› ç‚º Vue æœ‰ä½¿ç”¨ Composition Event é€²è¡Œè™•ç†ï¼Œä½ å¯ä»¥åœ¨ åŸå§‹ç¢¼ ä¸­çœ‹åˆ°ã€‚\r è¼¸å…¥æ–‡å­—æ¡†  \u0026lt;input type=\u0026quot;text\u0026quot;\u0026gt;ï¼šå–®è¡Œè¼¸å…¥æ–‡å­—æ¡† \u0026lt;textarea\u0026gt;ï¼šå¤šè¡Œè¼¸å…¥æ–‡å­—æ¡†  å–®è¡Œè¼¸å…¥æ–‡å­—æ¡†å°±å¦‚é–‹é ­çš„ç¯„ä¾‹æ‰€ç¤ºï¼Œå¤šè¡Œè¼¸å…¥æ–‡å­—æ¡†å‰‡èˆ‡å®ƒä¸€æ¨¡ä¸€æ¨£ï¼š\n1 2  \u0026lt;textarea v-model=\u0026#34;message\u0026#34; \u0026gt;\u0026lt;/textarea\u0026gt; \u0026lt;p\u0026gt;Message is : {{ message }}\u0026lt;/p\u0026gt;   1 2 3  data: { message: \u0026#39;\u0026#39; }   å–®é¸çš„æŒ‰éˆ•æ¬„ä½ radio radio åªèƒ½å–®é¸ï¼Œç¶å®šçš„è³‡æ–™ç‚ºå­—ä¸²ã€‚\n1 2 3 4 5 6 7 8 9 10  \u0026lt;input id=\u0026#34;a\u0026#34; v-model=\u0026#34;picked\u0026#34; type=\u0026#34;radio\u0026#34; value=\u0026#34;a\u0026#34; /\u0026gt; \u0026lt;label for=\u0026#34;a\u0026#34;\u0026gt;A\u0026lt;/label\u0026gt; \u0026lt;br /\u0026gt; \u0026lt;input id=\u0026#34;b\u0026#34; v-model=\u0026#34;picked\u0026#34; type=\u0026#34;radio\u0026#34; value=\u0026#34;b\u0026#34; /\u0026gt; \u0026lt;label for=\u0026#34;b\u0026#34;\u0026gt;B\u0026lt;/label\u0026gt; \u0026lt;br /\u0026gt; \u0026lt;input id=\u0026#34;c\u0026#34; v-model=\u0026#34;picked\u0026#34; type=\u0026#34;radio\u0026#34; value=\u0026#34;c\u0026#34; /\u0026gt; \u0026lt;label for=\u0026#34;c\u0026#34;\u0026gt;C\u0026lt;/label\u0026gt; \u0026lt;br /\u0026gt; \u0026lt;p\u0026gt;Picked: {{ picked }}\u0026lt;/p\u0026gt;   1 2 3  data: { picked: \u0026#39;a\u0026#39; },   See the Pen è¡¨å–®è³‡æ–™çš„é›™å‘ç¶å®š v-model é¸é … by CHUPAIWANG (@CHUPAIWANG) on CodePen.  å¯è¤‡é¸çš„æ ¸å–æ–¹å¡Šæ¬„ checkbox checkbox ç¶å®šçš„è³‡æ–™ç‚ºå¸ƒæ—å€¼æˆ–é™£åˆ—ã€‚\n1. å¸ƒæ—å€¼ checkbox å–®ç¨ä½¿ç”¨æ™‚ï¼Œv-model æœƒç¶å®šä¸€å€‹å¸ƒæ—å€¼ï¼š\n1 2  \u0026lt;input id=\u0026#34;checkbox\u0026#34; v-model=\u0026#34;checked\u0026#34; type=\u0026#34;checkbox\u0026#34; /\u0026gt; \u0026lt;label for=\u0026#34;checkbox\u0026#34;\u0026gt;{{ checked }}\u0026lt;/label\u0026gt;   1 2 3  data: { checkbox: true },    ç•¶è³‡æ–™é è¨­å€¼ç‚º true æ™‚ï¼Œcheckbox æœƒæ˜¯å‹¾é¸ç‹€æ…‹ï¼Œåä¹‹ false å‰‡ç‚ºæœªå‹¾é¸ç‹€æ…‹ï¼› ç•¶æ”¹è®Š checkbox å‹¾é¸ç‹€æ…‹æ™‚ï¼Œè³‡æ–™æœƒéš¨è‘—å‹¾é¸ç‹€æ…‹æ”¹è®Šæˆ true æˆ– falseï¼›  See the Pen è¡¨å–®è³‡æ–™çš„é›™å‘ç¶å®š v-model - checkbox by CHUPAIWANG (@CHUPAIWANG) on CodePen.  2. é™£åˆ— å¦‚æœæ˜¯å¤šå€‹ checkbox è¤‡é¸æ¬„ï¼Œv-model è¦ç¶å®šä¸€å€‹é™£åˆ—ï¼š\n1 2 3 4 5 6 7 8  \u0026lt;input id=\u0026#34;jack\u0026#34; v-model=\u0026#34;checkedNames\u0026#34; type=\u0026#34;checkbox\u0026#34; value=\u0026#34;Jack\u0026#34; /\u0026gt; \u0026lt;label for=\u0026#34;jack\u0026#34;\u0026gt;Jack\u0026lt;/label\u0026gt; \u0026lt;input id=\u0026#34;john\u0026#34; v-model=\u0026#34;checkedNames\u0026#34; type=\u0026#34;checkbox\u0026#34; value=\u0026#34;John\u0026#34; /\u0026gt; \u0026lt;label for=\u0026#34;john\u0026#34;\u0026gt;John\u0026lt;/label\u0026gt; \u0026lt;input id=\u0026#34;mike\u0026#34; v-model=\u0026#34;checkedNames\u0026#34; type=\u0026#34;checkbox\u0026#34; value=\u0026#34;Mike\u0026#34; /\u0026gt; \u0026lt;label for=\u0026#34;mike\u0026#34;\u0026gt;Mike\u0026lt;/label\u0026gt; \u0026lt;br /\u0026gt; \u0026lt;p\u0026gt;{{ checkedNames }}\u0026lt;/p\u0026gt;   1 2 3  data: { checkedNames: [], },   å‹¾é¸æ™‚ï¼Œæœƒæ ¹æ“šå‹¾é¸é †åºï¼Œå°‡è©²å€¼åŠ å…¥åˆ°é™£åˆ—ä¸­ã€‚\nSee the Pen è¡¨å–®è³‡æ–™çš„é›™å‘ç¶å®š v-model - checkbox by CHUPAIWANG (@CHUPAIWANG) on CodePen.  3. å€¼ç¶å®š å–®ç¨ä½¿ç”¨ä¸€å€‹ checkbox æ™‚ï¼Œå¦‚æœè¦è‡ªå®šç¾©å‹¾é¸èˆ‡æœªå‹¾é¸æ™‚çš„è³‡æ–™å€¼ï¼Œå¯ä»¥ç”¨ true-value åŠ false-value ç‰¹æ€§ï¼š\n1 2  \u0026lt;input id=\u0026#34;checkbox\u0026#34; v-model=\u0026#34;checked\u0026#34; type=\u0026#34;checkbox\u0026#34; true-value=\u0026#34;è¦\u0026#34; false-value=\u0026#34;ä¸è¦\u0026#34; /\u0026gt; \u0026lt;label for=\u0026#34;checkbox\u0026#34;\u0026gt;{{ checked }}\u0026lt;/label\u0026gt;   1 2 3  data: { checked: \u0026#39;è¦\u0026#39;, },   See the Pen è¡¨å–®è³‡æ–™çš„é›™å‘ç¶å®š v-model å‹•æ…‹è³‡æ–™ç¶å®š - checkbox by CHUPAIWANG (@CHUPAIWANG) on CodePen.  å¦‚æœè¦ç”¨ä¾†æäº¤è¡¨å–®ï¼Œè«‹æ”¹ç”¨å–®é¸çš„æŒ‰éˆ•ã€‚å› ç‚ºé€™è£¡çš„ true-value å’Œ false-value ç‰¹æ€§ä¸¦ä¸æœƒå½±éŸ¿ value ç‰¹æ€§ã€‚\r ä¸‹æ‹‰é¸å–® select 1. å–®é¸ ä½¿ç”¨ä¸‹æ‹‰é¸å–® \u0026lt;select\u0026gt; æ™‚ï¼Œv-model æ˜¯ç¶å®šå­—ä¸²ï¼š\n1 2 3 4 5 6 7  \u0026lt;select v-model=\u0026#34;selected\u0026#34;\u0026gt; \u0026lt;option disabled value=\u0026#34;\u0026#34;\u0026gt;Please select one\u0026lt;/option\u0026gt; \u0026lt;option value=\u0026#34;A\u0026#34;\u0026gt;A\u0026lt;/option\u0026gt; \u0026lt;option value=\u0026#34;B\u0026#34;\u0026gt;B\u0026lt;/option\u0026gt; \u0026lt;option value=\u0026#34;C\u0026#34;\u0026gt;C\u0026lt;/option\u0026gt; \u0026lt;/select\u0026gt; \u0026lt;span\u0026gt;Selected: {{ selected }}\u0026lt;/span\u0026gt;   1 2 3  data: { selected: \u0026#39;\u0026#39; },    æœ‰è¨­å®š value ç‰¹æ€§ï¼Œè³‡æ–™æœƒå­˜å…¥ value å€¼ï¼› è‹¥æ˜¯æ²’æœ‰ï¼Œæœƒå°‡å…§å®¹ç•¶ä½œæˆ value å€¼å­˜å…¥ã€‚ä½†æ˜¯ä¸å»ºè­°é€™éº¼åšã€‚  See the Pen è¡¨å–®è³‡æ–™çš„é›™å‘ç¶å®š v-model ä¸‹æ‹‰é¸å–®-å–®é¸ by CHUPAIWANG (@CHUPAIWANG) on CodePen.  å¦‚æœ v-model ç¶å®šè³‡æ–™çš„é è¨­å€¼æœªèƒ½åŒ¹é…ä»»ä½•é¸é …ï¼Œ\u0026lt;select\u0026gt; å°‡è¢«æ¸²æŸ“ç‚ºæœªé¸ä¸­ç‹€æ…‹ã€‚åœ¨ iOS ä¸­ï¼Œé€™æœƒä½¿ç”¨æˆ¶ç„¡æ³•é¸æ“‡ç¬¬ä¸€å€‹é¸é …ã€‚å› ç‚ºé€™æ¨£çš„æƒ…æ³ä¸‹ï¼ŒiOS ä¸æœƒè§¸ç™¼ change äº‹ä»¶ã€‚å› æ­¤ï¼Œæ¨è–¦åƒä¸Šé¢ç¯„ä¾‹ä¸€æ¨£ï¼Œæä¾›ä¸€å€‹å€¼ç‚ºç©ºçš„ç¦ç”¨é¸é …ã€‚\n2. è¤‡é¸ ä¸‹æ‹‰é¸å–®åŠ ä¸Š multiple ç‰¹æ€§æœƒè®Šæˆå¯ä»¥è¤‡é¸ï¼Œæœƒæ”¹æˆç¶å®šé™£åˆ—ï¼š\n1 2 3 4 5 6 7 8  \u0026lt;select v-model=\u0026#34;selected\u0026#34; multiple\u0026gt; \u0026lt;option\u0026gt;A\u0026lt;/option\u0026gt; \u0026lt;option\u0026gt;B\u0026lt;/option\u0026gt; \u0026lt;option\u0026gt;C\u0026lt;/option\u0026gt; \u0026lt;option\u0026gt;D\u0026lt;/option\u0026gt; \u0026lt;/select\u0026gt; \u0026lt;br\u0026gt; \u0026lt;span\u0026gt;Selected: {{ selected }}\u0026lt;/span\u0026gt;   1 2 3  data: { selected: [], },   See the Pen è¡¨å–®è³‡æ–™çš„é›™å‘ç¶å®š v-model ä¸‹æ‹‰é¸å–®-è¤‡é¸ by CHUPAIWANG (@CHUPAIWANG) on CodePen.  ä¿®é£¾ç¬¦  .lazyï¼šå°‡é è¨­çš„ input äº‹ä»¶æ”¹ç‚ºç›£è½ change äº‹ä»¶ã€‚ .numberï¼šè¼¸å…¥å­—ä¸²è½‰ç‚ºæœ‰æ•ˆçš„æ•¸å­—ã€‚ .trimï¼šè¼¸å…¥é¦–å°¾ç©ºæ ¼éæ¿¾ã€‚  1. lazy ä½¿ç”¨è€…æ¯æ¬¡è¼¸å…¥å°±æœƒè§¸ç™¼ input äº‹ä»¶ï¼Œè‹¥ä¸å¸Œæœ›è³‡æ–™æ›´æ–°æ¬¡æ•¸é€™éº¼é »ç¹ï¼Œå¯ä»¥ä½¿ç”¨ .lazy å°‡ç›£è½æ”¹æˆ change äº‹ä»¶ã€‚\n1  \u0026lt;input type=\u0026#34;text\u0026#34; v-model.lazy=\u0026#34;message\u0026#34;\u0026gt;   æ”¹æˆé€™æ¨£å­ï¼Œåªæœ‰é›¢é–‹è¼¸å…¥æ¡†çš„ç„¦é»æ™‚ï¼Œè³‡æ–™æ‰æœƒæ›´æ–°ï¼Œé¡¯ç¤ºè³‡æ–™å°‡ä¸æœƒæ˜¯åŠæ™‚çš„ã€‚\nSee the Pen è¡¨å–®è³‡æ–™çš„é›™å‘ç¶å®š v-model - lazy by CHUPAIWANG (@CHUPAIWANG) on CodePen.  2. number ä½¿ç”¨è¼¸å…¥æ¡†å–å¾—çš„å€¼éƒ½æ˜¯å­—ä¸²ï¼Œå°±æ˜¯ä½¿ç”¨ number é¡å‹çš„è¼¸å…¥æ¡†ä¹Ÿä¸€æ¨£ï¼Œé€™éº¼ä¸€ä¾†ï¼Œå–å¾—è³‡æ–™å¾Œé‚„éœ€è¦å°‡å€¼è½‰æˆæ•¸å€¼å‹åˆ¥æ‰èƒ½åšæ•¸å€¼æ“ä½œã€‚\nå› æ­¤æˆ‘å€‘å¯ä»¥ä½¿ç”¨ .number è®“ Vue å¹«æˆ‘å€‘è½‰å‹ï¼š\n1 2 3 4 5  \u0026lt;input type=\u0026#34;number\u0026#34; v-model.number=\u0026#34;number1\u0026#34;\u0026gt; ï¼‹ \u0026lt;input type=\u0026#34;number\u0026#34; v-model.number=\u0026#34;number2\u0026#34;\u0026gt; ï¼ {{ sum }}   1 2 3 4 5 6 7 8 9  data: { number1: 0, number2: 1, }, computed: { sum() { return this.number1 + this.number2; } }   See the Pen è¡¨å–®è³‡æ–™çš„é›™å‘ç¶å®š v-model - number by CHUPAIWANG (@CHUPAIWANG) on CodePen.  3. trim ä½¿ç”¨ .trim å­—ä¸²æœƒåŸ·è¡Œ trim()ï¼Œè‡ªå‹•éæ¿¾é¦–å°¾ç©ºç™½å­—å…ƒã€‚\n","description":"Vue è¡¨å–®è³‡æ–™çš„é›™å‘ç¶å®šã€‚","id":25,"section":"posts","tags":["Vue","VueæŒ‡ä»¤"],"title":"è¡¨å–®è³‡æ–™çš„é›™å‘ç¶å®š","uri":"https://chupai.github.io/posts/vue/directives/vmodel/"},{"content":" ç«¹ç™½çš„ Vue è¨˜äº‹æœ¬ ç›®éŒ„\n \räº‹ä»¶ç¶å®š äº‹ä»¶æ˜¯ JavaScript æ“ä½œç¶²é æœ€é‡è¦çš„éƒ¨åˆ†ã€‚åœ¨ Vue ä¸»è¦æ˜¯é€é v-on æŒ‡ä»¤ä¾†å°éœ€è¦ç›£è½çš„ DOM é€²è¡Œäº‹ä»¶ç¶å®šï¼Œå› ç‚ºæ¯”è¼ƒå¸¸ç”¨åˆ°ï¼Œå¯ä»¥ä½¿ç”¨ã€Œ@ã€ä¾†ç¸®å¯«ã€‚\n1 2 3 4 5  \u0026lt;!-- èªæ³• --\u0026gt; \u0026lt;button v-on:event=\u0026#34;expression\u0026#34;\u0026gt;\u0026lt;/button\u0026gt; \u0026lt;!-- ç¸®å¯« --\u0026gt; \u0026lt;button @event=\u0026#34;expression\u0026#34;\u0026gt;\u0026lt;/button\u0026gt;    eventï¼šäº‹ä»¶åç¨±ã€‚ expressionï¼šè¡¨é”å¼ï¼Œé æœŸå€¼ç‚ºã€‚  Inline Statement Function Object    1. è¡Œå…§æ•è¿° ç¯„ä¾‹ï¼Œä¸€å€‹æŒ‰éˆ•ç¶å®š clickï¼š\n1 2  \u0026lt;button v-on:click=\u0026#34;count += 1\u0026#34;\u0026gt;é»æˆ‘+1\u0026lt;/button\u0026gt; \u0026lt;p\u0026gt;{{ count }}\u0026lt;/p\u0026gt;   1 2 3  data: { count: 0, },   See the Pen v-on è¡Œå…§æ•è¿° by CHUPAIWANG (@CHUPAIWANG) on CodePen.  2. ç¶å®šäº‹ä»¶è™•ç†å‡½å¼ è¡Œå…§æ•è¿°åªèƒ½ç”¨æ–¼ç°¡å–®äº‹ä»¶è™•ç†ï¼Œå› ç‚ºä½ ä¸å¯èƒ½å°‡æ‰€æœ‰é‚è¼¯è¤‡é›œçš„ç¨‹å¼ç¢¼éƒ½å¯«åœ¨ v-on æŒ‡ä»¤ä¸­ï¼Œæˆ–è€…é‡åˆ°éœ€è¦é‡è¤‡åŸ·è¡Œçš„æƒ…æ³ã€‚å› æ­¤å¯ä»¥å°‡äº‹ä»¶è™•ç†å‡½å¼ç”¨ method å®£å‘Šï¼Œä¸¦é€é v-on ç¶å®šã€‚\n1 2  \u0026lt;button v-on:click=\u0026#34;addCount\u0026#34;\u0026gt;é»æˆ‘+1\u0026lt;/button\u0026gt; \u0026lt;p\u0026gt;{{ count }}\u0026lt;/p\u0026gt;   1 2 3 4 5 6 7 8  data: { count: 0, }, methods: { addCount() { this.count += 1; }, }   See the Pen v-on äº‹ä»¶è™•ç†å‡½å¼ by CHUPAIWANG (@CHUPAIWANG) on CodePen.  3. å‚³éåƒæ•¸ å¦‚æœè¦åœ¨äº‹ä»¶ä¸­å‚³éåƒæ•¸ï¼Œå¯ä»¥åœ¨è¡Œå…§æ•è¿°ä¸­ç›´æ¥å‘¼å«äº‹ä»¶è™•ç†å‡½å¼ï¼š\n1 2  \u0026lt;button v-on:click=\u0026#34;addCount(3)\u0026#34;\u0026gt;é»æˆ‘\u0026lt;/button\u0026gt; \u0026lt;p\u0026gt;{{ count }}\u0026lt;/p\u0026gt;   1 2 3 4 5 6 7 8  data: { count: 0, }, methods: { addCount(i) { this.count += i; }, }   See the Pen v-on åœ¨äº‹ä»¶ä¸­å‚³éåƒæ•¸ by CHUPAIWANG (@CHUPAIWANG) on CodePen.  4. ç¶å®šå¤šå€‹äº‹ä»¶ ç¶å®šå¤šå€‹äº‹ä»¶ï¼Œå¯ä»¥é‡è¤‡ä½¿ç”¨ v-on æŒ‡ä»¤ï¼š\n1 2 3 4 5 6 7 8 9 10 11  data: { doWhat: \u0026#39;\u0026#39; }, methods: { showUp(event) { this.doWhat = `up ${event.target.tagName}`; }, showDown(event) { this.doWhat = `down ${event.target.tagName}`; } }   1 2 3 4 5 6  \u0026lt;button v-on:mousedown=\u0026#34;showDown\u0026#34; v-on:mouseup=\u0026#34;showUp\u0026#34;\u0026gt; click me \u0026lt;/button\u0026gt; \u0026lt;p\u0026gt;{{ doWhat }}\u0026lt;/p\u0026gt;   æˆ–æ˜¯ä½¿ç”¨ç‰©ä»¶ç¶å®šäº‹ä»¶çš„æ–¹å¼ï¼š\n1 2  \u0026lt;button v-on=\u0026#34;{ mousedown: showDown, mouseup: showUp }\u0026#34;\u0026gt;click me\u0026lt;/button\u0026gt; \u0026lt;p\u0026gt;{{ doWhat }}\u0026lt;/p\u0026gt;   ä½¿ç”¨ç‰©ä»¶ç¶å®šäº‹ä»¶çš„æ–¹å¼ï¼Œæœ‰ä»¥ä¸‹å¹¾é»è¦æ³¨æ„ï¼š\n æŒ‡ä»¤æ²’åƒæ•¸ï¼Œä¸èƒ½ä½¿ç”¨ç°¡å¯« @ï¼› ä¹Ÿç„¡æ³•ä½¿ç”¨ä¿®é£¾ç¬¦è™Ÿï¼› å‡½å¼ç„¡æ³•å‚³åƒæ•¸ã€‚  CodePen Demoï¼šVue2.x - v-on ç‰©ä»¶ç¶å®šäº‹ä»¶\n4. äº‹ä»¶ç‰©ä»¶ å¦‚æœè¦ç²å– event ç‰©ä»¶ï¼Œå¯ä»¥ä½¿ç”¨ç‰¹æ®Šè®Šæ•¸ $eventï¼š\n1  \u0026lt;button v-on:click=\u0026#34;alert($event.target)\u0026#34;\u0026gt;event\u0026lt;/button\u0026gt;   ä½¿ç”¨ v-on ç¶å®šæ–¹æ³•ï¼Œé è¨­æœƒå‚³å…¥ä¸€å€‹åƒæ•¸ event äº‹ä»¶ç‰©ä»¶ï¼š\n1  \u0026lt;button v-on:click=\u0026#34;addCount\u0026#34;\u0026gt;event\u0026lt;/button\u0026gt;   1 2 3 4 5 6  methods: { addCount(event) { this.count += 1; alert(event.target); }, }   ä½†æ˜¯ï¼Œç›´æ¥å‘¼å«äº‹ä»¶è™•ç†å‡½å¼ï¼Œè¦è¨ªå• event ç‰©ä»¶ï¼Œè¦è‡ªå·±å°‡ $event å‚³å…¥ï¼š\n1 2  \u0026lt;button v-on:click=\u0026#34;addCount(3, $event)\u0026#34;\u0026gt;é»æˆ‘\u0026lt;/button\u0026gt; \u0026lt;p\u0026gt;{{ count }}\u0026lt;/p\u0026gt;   1 2 3 4 5 6 7 8 9  data: { count: 0, }, methods: { addCount(i, event) { this.count += i; alert(event.target); }, }   äº‹ä»¶è¡Œç‚ºä¿®é£¾ç¬¦è™Ÿ 1. é€šç”¨ä¿®é£¾ç¬¦è™Ÿ  .stopï¼šå‘¼å« event.stopPropagation()ï¼Œåœæ­¢äº‹ä»¶çš„ç¹¼çºŒå‚³éã€‚ .preventï¼šå‘¼å« event.preventDefault()ï¼Œåœæ­¢äº‹ä»¶é è¨­è¡Œç‚ºã€‚ .selfï¼šåªæœ‰ç•¶äº‹ä»¶æ˜¯å¾ç›£è½å™¨æ‰€ç¶å®šçš„å…ƒç´ æœ¬èº«ï¼ˆéå­å…ƒç´ ï¼‰æ‰å‘¼å«äº‹ä»¶è™•ç†å‡½å¼ï¼Œç°¡å–®ä¾†èªªå°±æ˜¯äº‹ä»¶è™•æ–¼ç›®æ¨™éšæ®µæ‰æœƒå‘¼å«äº‹ä»¶è™•ç†å‡½å¼ã€‚ .captureï¼šäº‹ä»¶ç›£è½å™¨ä½¿ç”¨è£œç²æ¨¡å¼ã€‚ .onceï¼šè©²äº‹ä»¶è™•ç†å‡½å¼æŒ‡è¢«å‘¼å«ä¸€æ¬¡ï¼ˆé‚„èƒ½è¢«ç”¨åˆ°è‡ªå®šç¾©çš„å…ƒä»¶äº‹ä»¶ä¸Šï¼‰ã€‚ .passiveï¼šèˆ‡ .prevent å‰›å¥½ç›¸åï¼Œè¡¨ç¤ºäº‹ä»¶è™•ç†å‡½å¼æ°¸é ä¸æœƒå‘¼å« preventDefault()ï¼ˆæ‰€ä»¥åˆ¥èˆ‡ .prevent å…±ç”¨ï¼‰ã€‚ .nativeï¼šç›£è½æ ¹å…ƒç´ çš„åŸç”Ÿäº‹ä»¶ï¼ˆåœ¨å…ƒä»¶ä¸Šä½¿ç”¨ v-on åªæœƒç›£è½è‡ªå®šç¾©äº‹ä»¶ï¼Œå¦‚æœè¦ç›£è½ç›£è½æ ¹å…ƒç´ çš„åŸç”Ÿäº‹ä»¶æ™‚ï¼Œå°±å¯ä»¥ä½¿ç”¨ï¼‰ã€‚  ä½¿ç”¨ .stop ç­‰åŒï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16  // ä½¿ç”¨ .stop ç­‰åŒ doThis(event) { event.stopPropagation(); } // ä½¿ç”¨ .prevent ç­‰åŒ doThis(event) { event.preventDefault(); } // ä½¿ç”¨ .self ç­‰åŒ doThis(event) { if(!event.target === event.currentTarget) { return } // or  if(!event.eventPhase === 2) { return } }   .captureã€.onceã€.passive åˆ†åˆ¥å°æ‡‰åˆ° addEventListener() çš„ options é¸é …åƒæ•¸ã€‚.native æœƒåœ¨å…ƒä»¶ç”¨åˆ°ã€‚\nä¸€å€‹æŒ‡ä»¤å¯ä»¥åŠ ä¸Šè¤‡æ•¸ä¿®é£¾ç¬¦è™Ÿï¼Œä½†é †åºæœƒå½±éŸ¿åŸ·è¡Œçš„çµæœã€‚\r èˆ‰ä¾‹ä¾†èªªï¼Œv-on:click.prevent.self æœƒé˜»æ­¢æ‰€æœ‰çš„é»æ“Šï¼Œè€Œ v-on:click.self.prevent åªæœƒé˜»æ­¢å°å…ƒç´ è‡ªèº«çš„é»æ“Šã€‚\n2. éµç›¤äº‹ä»¶ä¿®é£¾ç¬¦è™Ÿ éµç›¤äº‹ä»¶ kepdown èˆ‡ keyup å¯ä»¥ä½¿ç”¨éµç›¤äº‹ä»¶ä¿®é£¾ç¬¦è™Ÿã€‚\nåŸæœ¬éœ€è¦ä½¿ç”¨éµç›¤äº‹ä»¶çš„ key å±¬æ€§ä¾†åˆ¤æ–·æ˜¯å¦æŒ‰ä¸‹ Enter éµä¾†åŸ·è¡Œè™•ç†å‡½å¼ï¼š\n1 2 3 4  submit(event) { if(event.key !=== \u0026#39;Enter\u0026#39;) {return} //... }   ç¾åœ¨åªéœ€è¦ä½¿ç”¨ä¿®é£¾ç¬¦è™Ÿï¼š\n1  \u0026lt;div v-on:keyup.enter=\u0026#34;submit\u0026#34;\u0026gt;\u0026lt;/div\u0026gt;   åŸå‰‡ä¸Šï¼Œæ‰€æœ‰ key å€¼ éƒ½æœ‰å°æ‡‰çš„ä¿®é£¾ç¬¦è™Ÿï¼Œè‹¥é‡åˆ° PageDown é€™é¡åç¨±ï¼Œéœ€è½‰æˆ kebab-case ä¾†ä½¿ç”¨ï¼š\n1  \u0026lt;input v-on:keyup.page-down=\u0026#34;onPageDown\u0026#34;\u0026gt;   2.1 keyCode éµç›¤äº‹ä»¶çš„ keyCode å±¬æ€§ç”¨æ³•å·²ç¶“è¢«å»¢æ£„äº†ï¼Œé›–ç„¶ç›®å‰å› ç‚ºèˆŠç¨‹å¼ç¢¼ä»ä¿ç•™æ”¯æ´ï¼Œä½†ç‚ºäº†æœªä¾†ç€è¦½å™¨ï¼Œç›¡å¯èƒ½ä¸ä½¿ç”¨å®ƒã€‚\r ä½¿ç”¨ keyCode ä¿®é£¾ç¬¦è™Ÿï¼š\n1  \u0026lt;input v-on:keyup.13=\u0026#34;submit\u0026#34;\u0026gt;   ç‚ºäº†åœ¨å¿…è¦çš„æƒ…æ³ä¸‹æ”¯æŒèˆŠç€è¦½å™¨ï¼ŒVue æä¾›äº†çµ•å¤§å¤šæ•¸å¸¸ç”¨çš„æŒ‰éµåˆ¥åï¼š\n .enter Enter éµ .tab Tab éµ .deleteï¼ˆåŒ…å« Backspace éµã€Delete éµï¼‰ .esc ESC éµ .space ç©ºç™½éµ .up æ–¹å‘éµä¸Š .down æ–¹å‘éµä¸‹ .left æ–¹å‘éµå·¦ .right æ–¹å‘éµå³  èˆ‰ä¾‹ä¾†èªªï¼ŒIE9 ä¸Šé¢çš„æŸäº›æŒ‰éµ key å€¼æœƒè·Ÿåˆ¥äººä¸åŒï¼Œå› æ­¤ä½¿ç”¨ä¸Šé¢æŒ‰éµçš„åˆ¥åæœƒæ˜¯é¦–è¦é¸æ“‡ã€‚\nå¦å¤–å¯é€éå…¨åŸŸ config.keyCodes ç‰©ä»¶ï¼Œè‡ªå®šç¾©æŒ‰éµä¿®é£¾ç¬¦è™Ÿåˆ¥åã€‚\n3. ç³»çµ±éµä¿®é£¾ç¬¦è™Ÿ ç³»çµ±éµä¿®é£¾ç¬¦è™Ÿä¸åªéµç›¤äº‹ä»¶èƒ½ç”¨ï¼ŒåŒ…å«äº†æ»‘é¼ äº‹ä»¶ï¼š\n .ctrlï¼ˆMAC æ²’æœ‰ï¼‰ .alt .shift .metaï¼ˆMAC çš„ command éµ âŒ˜ï¼ŒWindows å‰‡å°æ‡‰åˆ° win éµ âŠï¼‰  1 2 3 4 5  \u0026lt;!-- Alt + C --\u0026gt; \u0026lt;input v-on:keyup.alt.67=\u0026#34;clear\u0026#34;\u0026gt; \u0026lt;!-- Ctrl + Click --\u0026gt; \u0026lt;div v-on:click.ctrl=\u0026#34;doSomething\u0026#34;\u0026gt;Do something\u0026lt;/div\u0026gt;   è«‹æ³¨æ„ï¼Œç³»çµ±éµä¿®é£¾ç¬¦è™Ÿå’Œ keyup äº‹ä»¶ä¸€èµ·ä½¿ç”¨æ™‚ï¼Œç³»çµ±éµä¿®é£¾ç¬¦è™Ÿå¿…é ˆè™•æ–¼æŒ‰ä¸‹ç‹€æ…‹ã€‚ä¹Ÿå°±æ˜¯èªªï¼Œåªæœ‰æŒ‰ä½ç³»çµ±éµä¿®é£¾ç¬¦è™Ÿæƒ…æ³ä¸‹é‡‹æ”¾å…¶ä»–æŒ‰éµæ‰èƒ½è§¸ç™¼ã€‚è‹¥æƒ³è¦å–®ç¨ä½¿ç”¨ç³»çµ±éµå’Œ keyup äº‹ä»¶ï¼Œè«‹æ”¹ç”¨ keyCode å°æ‡‰çš„ä¿®é£¾ç¬¦è™Ÿï¼Œä»¥ keyup.ctrl ä¾†èªªï¼Œå°±æ˜¯æ”¹ç”¨ keyup.17ã€‚\r 3.1 ç²¾ç¢ºåˆ¤æ–· .exact ä¿®é£¾ç¬¦è™Ÿå…è¨±ä½ æ§åˆ¶ç”±ç²¾ç¢ºçš„ç³»çµ±ä¿®é£¾ç¬¦è™Ÿçµ„åˆè§¸ç™¼çš„äº‹ä»¶ã€‚\n1 2 3 4 5 6 7 8  \u0026lt;!-- å³ä½¿ Alt æˆ– Shift è¢«ä¸€åŒæŒ‰ä¸‹æ™‚ä¹Ÿæœƒè§¸ç™¼ --\u0026gt; \u0026lt;button @click.ctrl=\u0026#34;onClick\u0026#34;\u0026gt;A\u0026lt;/button\u0026gt; \u0026lt;!-- æœ‰ä¸”åªæœ‰ Ctrl å–®ç¨è¢«æŒ‰ä¸‹çš„æ™‚å€™æ‰è§¸ç™¼ --\u0026gt; \u0026lt;button @click.ctrl.exact=\u0026#34;onCtrlClick\u0026#34;\u0026gt;A\u0026lt;/button\u0026gt; \u0026lt;!-- æ²’æœ‰ä»»ä½•ç³»çµ±ä¿®é£¾ç¬¦è™Ÿè¢«æŒ‰ä¸‹çš„æ™‚å€™æ‰è§¸ç™¼ --\u0026gt; \u0026lt;button @click.exact=\u0026#34;onClick\u0026#34;\u0026gt;A\u0026lt;/button\u0026gt;   4. æ»‘é¼ æŒ‰éµä¿®é£¾ç¬¦è™Ÿï¼š  .leftï¼šåªç•¶é»æ“Šæ»‘é¼ å·¦éµæ™‚è§¸ç™¼ã€‚ .rightï¼šåªç•¶é»æ“Šæ»‘é¼ å³éµæ™‚è§¸ç™¼ã€‚ .middleï¼šåªç•¶é»æ“Šæ»‘é¼ ä¸­éµæ™‚è§¸ç™¼ã€‚  å³éµæœƒè·³å‡ºé¸å–®ï¼Œå¯ä»¥æ­é… .prevent ä¿®é£¾ç¬¦è™Ÿã€‚\nè¦–çª—ç›£è½ è‹¥æ˜¯è¦ç›£è½ window ç‰©ä»¶ï¼Œå°±æ²’è¾¦æ³•ä½¿ç”¨ v-on æŒ‡ä»¤äº†ã€‚\né€™æ™‚äº‹ä»¶ç›£è½å°±éœ€è¦ç”¨åˆ°ç”Ÿå‘½é€±æœŸ mountedã€beforeDestroy é‰¤å­ã€‚\nåœ¨ mounted é‰¤å­ä¸Šé€²è¡Œç›£è½ï¼š\n1 2 3 4 5 6 7 8  mounted() { window.addEventListener(\u0026#39;resize\u0026#39;, this.resizeHandler); }, methods: { resizeHandler(event) { // do something  }, },   ä½†æ˜¯é€™æ¨£å­çš„ä½œæ³•ï¼Œè‹¥ç”Ÿå‘½é€±æœŸçµæŸå¯¦é«”éŠ·æ¯€æ™‚ï¼Œå®ƒä¸¦ä¸æœƒè‡ªå‹•ç§»é™¤äº‹ä»¶ç›£è½ï¼Œå› æ­¤éœ€è¦åœ¨ beforeDestroy é‰¤å­æ‰‹å‹•ç§»é™¤ç›£è½ï¼š\n1 2 3  beforeDestroy() { window.removeEventListener(\u0026#39;resize\u0026#39;, this.resizeHandler); },   äº‹ä»¶å§”æ´¾ äº‹ä»¶å§”æ´¾ï¼ˆEvent Delegationï¼‰ æˆ–ç¨± äº‹ä»¶å§”è¨—ã€äº‹ä»¶ä»£ç†ï¼Œæ˜¯ä¸€ç¨®æ¸›å°‘äº‹ä»¶ç›£è½çš„å„ªåŒ–æ–¹å¼ã€‚åˆ©ç”¨äº†äº‹ä»¶å†’æ³¡ï¼Œå°‡äº‹ä»¶ç¶å®šåœ¨çˆ¶å…ƒç´ ä¸Šï¼Œå†åˆ¤æ–·ç•¶å‰è§¸ç™¼äº‹ä»¶çš„å…ƒç´ æ˜¯å¦æ˜¯æˆ‘å€‘è¦çš„å…ƒç´ ã€‚\né‚£éº¼åœ¨ Vue ä¸­ï¼Œä½¿ç”¨ v-for æ™‚ï¼Œæ¯å€‹å…ƒç´ ç¶å®šäº‹ä»¶æ™‚ï¼Œæ˜¯å¦æœ‰éœ€è¦ä½¿ç”¨ äº‹ä»¶å§”æ´¾ å‘¢ï¼Ÿ\nç›´æ¥èªªçµè«–ï¼š\n åŸå‰‡ä¸Šæ²’å¿…è¦ä½¿ç”¨ï¼Œå› ç‚ºæ•ˆèƒ½å½±éŸ¿æ¥µå°ï¼› é™¤éè¦æ¸²æŸ“æ•¸åƒç”šè‡³ä¸Šè¬çš„å…ƒç´ ï¼Œæ‰æœƒå˜—è©¦ä½¿ç”¨äº‹ä»¶å§”æ´¾ã€‚  è©³ç´°å¯ä»¥åƒè€ƒ ç¬¬ 94 é¡Œï¼švue åœ¨ v-for æ™‚çµ¦æ¯é …å…ƒç´ ç¶å®šäº‹ä»¶éœ€è¦ç”¨äº‹ä»¶ä»£ç†å—ï¼Ÿç‚ºä»€éº¼ï¼Ÿ\n","description":"Vue äº‹ä»¶ç¶å®šã€‚","id":26,"section":"posts","tags":["Vue","VueæŒ‡ä»¤"],"title":"äº‹ä»¶ç¶å®š","uri":"https://chupai.github.io/posts/vue/directives/von/"},{"content":" ç«¹ç™½çš„ Vue è¨˜äº‹æœ¬ ç›®éŒ„\n \ræ¢ä»¶æ¸²æŸ“ 1. v-if v-if æŒ‡ä»¤çš„è¡¨é”å¼é æœŸå€¼ç‚º anyï¼Œè‹¥è¡¨é”å¼çµæœç‚º truthy å€¼å‰‡é¡¯ç¤ºè©²å…ƒç´ ã€‚\nèˆ‰ä¾‹ä¾†èªªï¼Œè‹¥å¸Œæœ›æŸå€å¡Šåœ¨ç‰¹å®šæ¢ä»¶ä¸‹æ‰å‡ºç¾ï¼š\n1  \u0026lt;div v-if=\u0026#34;type === \u0026#39;A\u0026#39;\u0026#34;\u0026gt;A Content\u0026lt;/div\u0026gt;   1 2 3  data: { type: \u0026#39;A\u0026#39;, }   å¦‚æœ type æ˜¯ A å­—ä¸²ï¼Œtype === 'A' æœƒæ˜¯ trueï¼Œé‚£çµæœæœƒæ˜¯ truthy å€¼ï¼Œå‰‡é¡¯ç¤ºé€™å€‹å…ƒç´ ï¼Œåä¹‹å¦‚æœ type ä¸ç­‰æ–¼ A å­—ä¸²ï¼Œå‰‡ä¸é¡¯ç¤ºå…ƒç´ ã€‚\nè‹¥è¦é€£çºŒåˆ¤æ–·ï¼Œå¯ä»¥ä½¿ç”¨ v-else-ifï¼š\n1 2  \u0026lt;div v-if=\u0026#34;type === \u0026#39;A\u0026#39;\u0026#34;\u0026gt;A Content\u0026lt;/div\u0026gt; \u0026lt;div v-else-if=\u0026#34;type === \u0026#39;B\u0026#39;\u0026#34;\u0026gt;B Content\u0026lt;/div\u0026gt;   å¦å¤–å¯ä»¥æ­é… v-elseï¼Œè‹¥çµæœç‚º falsy å€¼å‰‡é¡¯ç¤ºå¦ä¸€å€‹å…ƒç´ ï¼š\n1 2 3  \u0026lt;div v-if=\u0026#34;type === \u0026#39;A\u0026#39;\u0026#34;\u0026gt;A Content\u0026lt;/div\u0026gt; \u0026lt;div v-else-if=\u0026#34;type === \u0026#39;B\u0026#39;\u0026#34;\u0026gt;B Content\u0026lt;/div\u0026gt; \u0026lt;div v-else\u0026gt;No Content\u0026lt;/div\u0026gt;   è¦æ³¨æ„ï¼š\n v-else-if çš„å…ƒç´ å¿…é ˆç·Šè·Ÿåœ¨å¸¶ v-if çš„å…ƒç´ çš„å¾Œé¢ï¼› v-else çš„å…ƒç´ å¿…é ˆç·Šè·Ÿåœ¨å¸¶ v-if æˆ–è€… v-else-if çš„å…ƒç´ çš„å¾Œé¢ï¼Œå¦å‰‡å®ƒå°‡ä¸æœƒè¢«è­˜åˆ¥ã€‚  ä¸éï¼Œå¦‚æœæ˜¯ç´”æ–‡å­—çš„è¼¸å‡ºï¼Œå®¹å™¨å…ƒç´ ç›¸åŒï¼Œç›¡é‡åˆ¥å°‡è¤‡é›œçš„é‚è¼¯åˆ¤æ–·å¯«åœ¨ HTML ä¸Šé¢ã€‚\nå¯ä»¥æ”¹ç”¨ä»¥ä¸‹æ–¹å¼ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14  const dataMapping = { A: \u0026#39;A Content\u0026#39;, B: \u0026#39;B Content\u0026#39;, }; // vm ç•¥ ... data: { type: \u0026#39;A\u0026#39;, }, computed: { content() { return dataMapping[this.type] || \u0026#39;No Content\u0026#39;; }, }   1  \u0026lt;div\u0026gt;{{ content }}\u0026lt;/div\u0026gt;   2. åˆ‡æ›å¤šå€‹å…ƒç´  å¦‚æœè¦åˆ‡æ›å¤šå€‹å…ƒç´ ï¼Œå¯ä½¿ç”¨ \u0026lt;template\u0026gt;ï¼Œç•¶åšä¸å¯è¦‹çš„åŒ…è£¹å…ƒç´ ã€‚\n1 2 3 4 5 6 7 8 9 10  \u0026lt;template v-if=\u0026#34;true\u0026#34;\u0026gt; \u0026lt;h1\u0026gt;Title\u0026lt;/h1\u0026gt; \u0026lt;p\u0026gt;Paragraph 1\u0026lt;/p\u0026gt; \u0026lt;p\u0026gt;Paragraph 2\u0026lt;/p\u0026gt; \u0026lt;/template\u0026gt; \u0026lt;!-- HTML å°‡è¢«æ¸²æŸ“æˆ --\u0026gt; \u0026lt;h1\u0026gt;Title\u0026lt;/h1\u0026gt; \u0026lt;p\u0026gt;Paragraph 1\u0026lt;/p\u0026gt; \u0026lt;p\u0026gt;Paragraph 2\u0026lt;/p\u0026gt;   æœ€çµ‚çš„æ¸²æŸ“çµæœå°‡ä¸åŒ…å« \u0026lt;template\u0026gt; å…ƒç´ ã€‚\n3. v-show v-show ä¸€æ¨£æ˜¯ç”¨æ–¼æ¢ä»¶é¡¯ç¤ºå…ƒç´ çš„æŒ‡ä»¤ï¼Œä½†ä¸åŒæ˜¯ v-show çš„å…ƒç´ å§‹çµ‚æœƒè¢«æ¸²æŸ“ä¸¦ä¿ç•™åœ¨ DOM ä¸­ï¼Œè€Œæ˜¯é€éåˆ‡æ›å…ƒç´ çš„ CSS display å±¬æ€§ã€‚\nå…©è€…çš„æ¯”è¼ƒï¼š\n v-if æ˜¯çœŸæ­£çš„æ¢ä»¶æ¸²æŸ“ï¼Œæœƒç¢ºä¿åœ¨åˆ‡æ›éç¨‹ä¸­æ¢ä»¶å¡Šå…§çš„äº‹ä»¶ç›£è½å™¨å’Œå­å…ƒä»¶é©ç•¶åœ°è¢«éŠ·æ¯€å’Œé‡å»ºï¼› v-if æ˜¯æƒ°æ€§çš„ï¼Œå¦‚æœåœ¨åˆå§‹æ¸²æŸ“æ™‚æ¢ä»¶ç‚º falseï¼Œå‰‡ä»€éº¼ä¹Ÿä¸åšï¼Œç›´åˆ°æ¢ä»¶ç¬¬ä¸€æ¬¡è®Šç‚º trueï¼Œæ‰æœƒé–‹å§‹æ¸²æŸ“æ¢ä»¶å¡Šï¼› ç›¸æ¯”ä¹‹ä¸‹ v-show ä¸è«–æ¢ä»¶ç‚ºä½•éƒ½æ¸²æŸ“ï¼Œè€Œæ˜¯é€²è¡Œ CSS display å±¬æ€§åˆ‡æ›ï¼› v-show ä¸æ”¯æŒ \u0026lt;template\u0026gt; å…ƒç´ ï¼Œä¹Ÿä¸æ”¯æŒ v-elseï¼› v-if æ¯”èµ· v-show åˆ‡æ›æ™‚çš„é–‹éŠ·æ›´é«˜ï¼Œå› æ­¤éœ€è¦éå¸¸é »ç¹åœ°åˆ‡æ›ï¼Œå‰‡ä½¿ç”¨ v-show è¼ƒä½³ã€‚  åˆ—è¡¨æ¸²æŸ“ v-for ç”¨æ–¼å¤šæ¬¡æ¸²æŸ“å…ƒç´ ï¼Œå¿…é ˆä½¿ç”¨ alias in expression ç‰¹å®šèªæ³•ã€‚\nä¹Ÿå¯ä»¥ç”¨ of æ›¿ä»£ in ä½œç‚ºåˆ†éš”ç¬¦è™Ÿï¼Œå…©è€…æ²’æœ‰å·®ç•°ï¼Œä½† of å®ƒæ›´æ¥è¿‘ JavaScript è¿­ä»£å™¨çš„èªæ³•ã€‚\n1. é™£åˆ— ä½¿ç”¨ v-for è¿­ä»£é™£åˆ—ä¸­çš„å…ƒç´ ã€‚\n1  \u0026lt;div v-for=\u0026#34;(item, index) in array\u0026#34;\u0026gt;\u0026lt;/div\u0026gt;    arrayï¼šé™£åˆ—ã€‚ itemï¼šé™£åˆ—å…ƒç´ ã€‚ indexï¼šç´¢å¼•ã€‚ åªä½¿ç”¨ç¬¬ä¸€å€‹åƒæ•¸æ™‚ï¼Œä¸éœ€è¦æ‹¬è™Ÿã€‚  ç›´æ¥çœ‹ç¯„ä¾‹ï¼Œå‡è¨­æˆ‘å€‘è¦å»ºç«‹ä¸€çµ„åˆ—è¡¨ï¼š\n1 2 3 4 5 6 7 8  data: { list: [ \u0026#39;HTML\u0026#39;, \u0026#39;CSS\u0026#39;, \u0026#39;JavaScript\u0026#39;, \u0026#39;Vue.js\u0026#39;, ], }   1 2 3 4 5 6 7 8 9 10 11  \u0026lt;ul\u0026gt; \u0026lt;li v-for=\u0026#34;item in list\u0026#34;\u0026gt;{{ item }}\u0026lt;/li\u0026gt; \u0026lt;/ul\u0026gt; \u0026lt;!-- HTML å°‡è¢«æ¸²æŸ“æˆ --\u0026gt; \u0026lt;ul\u0026gt; \u0026lt;li\u0026gt;HTML\u0026lt;/li\u0026gt; \u0026lt;li\u0026gt;CSS\u0026lt;/li\u0026gt; \u0026lt;li\u0026gt;JavaScript\u0026lt;/li\u0026gt; \u0026lt;li\u0026gt;Vue.js\u0026lt;/li\u0026gt; \u0026lt;/ul\u0026gt;   å¦‚æœè¦ä½¿ç”¨ç¬¬äºŒå€‹åƒæ•¸ indexï¼ˆç´¢å¼•å€¼ï¼‰ï¼Œéœ€åŠ ä¸Šæ‹¬è™Ÿï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13  \u0026lt;ul\u0026gt; \u0026lt;li v-for=\u0026#34;(item, index) in array\u0026#34;\u0026gt; {{ index + \u0026#39;. \u0026#39; + item }} \u0026lt;/li\u0026gt; \u0026lt;/ul\u0026gt; \u0026lt;!-- HTML å°‡è¢«æ¸²æŸ“æˆ --\u0026gt; \u0026lt;ul\u0026gt; \u0026lt;li\u0026gt;0. HTML\u0026lt;/li\u0026gt; \u0026lt;li\u0026gt;1. CSS\u0026lt;/li\u0026gt; \u0026lt;li\u0026gt;2. JavaScript\u0026lt;/li\u0026gt; \u0026lt;li\u0026gt;3. Vue.js\u0026lt;/li\u0026gt; \u0026lt;/ul\u0026gt;   See the Pen v-for åˆ—è¡¨ by CHUPAIWANG (@CHUPAIWANG) on CodePen.  2. ç‰©ä»¶ v-for ä¹Ÿå¯ä»¥ç”¨ä¾†éæ­·ä¸€å€‹ç‰©ä»¶çš„å±¬æ€§ã€‚\n1  \u0026lt;div v-for=\u0026#34;(value, name, index) in object\u0026#34;\u0026gt;\u0026lt;/div\u0026gt;    objectï¼šç‰©ä»¶ã€‚ valueï¼šéµåã€‚ nameï¼šéµå€¼ã€‚ indexï¼šéæ­·é †åºã€‚ åªä½¿ç”¨ç¬¬ä¸€å€‹åƒæ•¸æ™‚ï¼Œä¸éœ€è¦æ‹¬è™Ÿã€‚  åœ¨éæ­·ä¸€å€‹ç‰©ä»¶æ™‚ï¼ŒæœƒæŒ‰ Object.keys() çš„çµæœéæ­·ï¼Œä½†æ˜¯ä¸èƒ½ä¿è­‰å®ƒçš„çµæœåœ¨ä¸åŒç€è¦½å™¨ä¸Šçš„ JavaScript å¼•æ“ä¸‹éƒ½ä¸€è‡´ã€‚\n1 2 3 4 5 6 7  data: { object: { name: \u0026#39;Peter\u0026#39;, age: \u0026#39;29\u0026#39;, sex: \u0026#39;male\u0026#39;, }, }   1 2 3 4 5  \u0026lt;ul\u0026gt; \u0026lt;li v-for=\u0026#34;(value, name, index) in object\u0026#34;\u0026gt; {{ index }}. {{ name }}: {{ value }} \u0026lt;/li\u0026gt; \u0026lt;/ul\u0026gt;   See the Pen v-for ç‰©ä»¶ by CHUPAIWANG (@CHUPAIWANG) on CodePen.  3. æ•´æ•¸ v-for ä¹Ÿå¯ä»¥æ¥å—æ•´æ•¸ã€‚\n1  \u0026lt;span v-for=\u0026#34;index in number\u0026#34;\u0026gt;{{ n }}\u0026lt;/span\u0026gt;    numberï¼šæ­£æ•´æ•¸ indexï¼šèµ·å§‹å¾ 1 é–‹å§‹ï¼Œè‡³ number  èˆ‰ä¾‹ä¾†èªªï¼š\n1 2 3 4 5 6 7 8 9 10 11 12  \u0026lt;div\u0026gt; \u0026lt;span v-for=\u0026#34;n in 5\u0026#34;\u0026gt;{{ n }}\u0026lt;/span\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;!-- HTML å°‡è¢«æ¸²æŸ“æˆ --\u0026gt; \u0026lt;div\u0026gt; \u0026lt;span\u0026gt;1\u0026lt;/span\u0026gt; \u0026lt;span\u0026gt;2\u0026lt;/span\u0026gt; \u0026lt;span\u0026gt;3\u0026lt;/span\u0026gt; \u0026lt;span\u0026gt;4\u0026lt;/span\u0026gt; \u0026lt;span\u0026gt;5\u0026lt;/span\u0026gt; \u0026lt;/div\u0026gt;   å°å‡ºä¹ä¹ä¹˜æ³•è¡¨ï¼š\n1 2 3 4 5 6 7 8 9  \u0026lt;ul\u0026gt; \u0026lt;li v-for=\u0026#34;x in 9\u0026#34;\u0026gt; \u0026lt;ul\u0026gt; \u0026lt;li v-for=\u0026#34;y in 9\u0026#34;\u0026gt; {{ x + 1 }} Ã— {{ y }} ï¼ {{ (x + 1) * y }} \u0026lt;/li\u0026gt; \u0026lt;/ul\u0026gt; \u0026lt;/li\u0026gt; \u0026lt;/ul\u0026gt;   4. é‡è¤‡å¤šå€‹å…ƒç´  é¡ä¼¼æ–¼ v-if æåˆ°çš„ç”¨æ³•ï¼Œå¦‚æœè¦é‡è¤‡æ¸²æŸ“å¤šå€‹å…ƒç´ ï¼Œå¯ä½¿ç”¨ \u0026lt;template\u0026gt;ï¼Œç•¶åšä¸å¯è¦‹çš„åŒ…è£¹å…ƒç´ ã€‚\n1 2 3 4  \u0026lt;template v-for=\u0026#34;item in items\u0026#34;\u0026gt; \u0026lt;h2\u0026gt;{{ item.title }}\u0026lt;/h2\u0026gt; \u0026lt;p\u0026gt;{{ item.content }}\u0026lt;/p\u0026gt; \u0026lt;/template\u0026gt;   åŒæ™‚ä½¿ç”¨ v-if å’Œ v-for 1. å¦‚æœåŒæ™‚ä½¿ç”¨ ç•¶ v-if èˆ‡ v-for ä¸€èµ·ä½¿ç”¨æ™‚ï¼Œv-for å…·æœ‰æ¯” v-if æ›´é«˜çš„å„ªå…ˆç´šã€‚v-if æœƒéš¨è‘— v-for é‡è¦†åŸ·è¡Œæ•¸æ¬¡ã€‚\n1 2 3  data: { array: [1, 3, 0, 4, 5, 0, 2] },   åªæ¸²æŸ“å€¼ç‚º true çš„æˆå“¡ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14  \u0026lt;ul\u0026gt; \u0026lt;li v-for=\u0026#34;item in array\u0026#34; v-if=\u0026#34;item\u0026#34;\u0026gt; {{ item }} \u0026lt;/li\u0026gt; \u0026lt;/ul\u0026gt; \u0026lt;!-- HTML å°‡è¢«æ¸²æŸ“æˆ --\u0026gt; \u0026lt;ul\u0026gt; \u0026lt;li\u0026gt;1\u0026lt;/li\u0026gt; \u0026lt;li\u0026gt;3\u0026lt;/li\u0026gt; \u0026lt;li\u0026gt;4\u0026lt;/li\u0026gt; \u0026lt;li\u0026gt;5\u0026lt;/li\u0026gt; \u0026lt;li\u0026gt;2\u0026lt;/li\u0026gt; \u0026lt;/ul\u0026gt;   ä½†è¦æ³¨æ„ï¼Œv-for çš„å€‹æ•¸ç¯„åœåˆ¤æ–·æ¢ä»¶æˆç«‹å¾Œï¼Œæ‰æœƒè¼ªåˆ° v-if ä¾†åˆ¤æ–·é¡¯ç¤ºèˆ‡å¦ã€‚è«‹è€ƒæ…®ä»¥ä¸‹ç¯„ä¾‹ï¼š\n1 2 3 4  \u0026lt;ul\u0026gt; \u0026lt;li v-for=\u0026#34;item in array\u0026#34; v-if=\u0026#34;array.length !== 0\u0026#34;\u0026gt;{{ item }}\u0026lt;/li\u0026gt; \u0026lt;p v-else\u0026gt;Nothing could show.\u0026lt;/p\u0026gt; \u0026lt;/ul\u0026gt;   1 2 3  data: { array: [] }   ç›®å‰ array æ˜¯ç©ºé™£åˆ—ï¼Œæ²’æœ‰ä»»ä½•é …ç›®å¯é¡¯ç¤ºï¼Œç•¶ v-for åœ¨åˆ¤æ–· item in array æ™‚ï¼Œç™¼ç¾æ¢ä»¶ä¸æˆç«‹ï¼Œå› æ­¤å°±ä¸æœƒå°±ä¸å»åš v-if å’Œ v-else åˆ¤æ–·ï¼Œæœƒå°è‡´ Nothing could show. ä¸æœƒå‡ºç¾ã€‚\nå¯ä»¥å°‡ç¨‹å¼æ”¹æˆé€™æ¨£ï¼š\n1 2 3 4  \u0026lt;ul\u0026gt; \u0026lt;li v-for=\u0026#34;item in array\u0026#34;\u0026gt;{{ item }}\u0026lt;/li\u0026gt; \u0026lt;p v-if=\u0026#34;array.length !== 0\u0026#34;\u0026gt;Nothing could show.\u0026lt;/p\u0026gt; \u0026lt;/ul\u0026gt;   2. é¿å…åŒæ™‚ä½¿ç”¨ ä¸Šé¢æ“ä½œåªæœƒå‡ºç¾åœ¨ç¯„ä¾‹èªªæ˜ï¼Œå®˜æ–¹é¢¨æ ¼æŒ‡å— æ˜ç¢ºè¡¨ç¤ºï¼šé¿å… v-if å’Œ v-for ç”¨åœ¨åŒä¸€å€‹å…ƒç´ ä¸Šã€‚\r å‡è¨­ç‚ºäº†éæ¿¾ä¸€å€‹åˆ—è¡¨ä¸­çš„é …ç›®ï¼š\n1 2 3 4 5 6 7 8 9  \u0026lt;!-- .html --\u0026gt; \u0026lt;ul\u0026gt; \u0026lt;li v-for=\u0026#34;user in users\u0026#34; v-if=\u0026#34;user.isActive\u0026#34; \u0026gt; {{ user.name }} \u0026lt;/li\u0026gt; \u0026lt;/ul\u0026gt;   1 2 3 4 5 6 7  data: { users: [ { name: \u0026#39;A\u0026#39;, isActive: true }, { name: \u0026#39;B\u0026#39;, isActive: true }, { name: \u0026#39;C\u0026#39;, isActive: false }, { name: \u0026#39;D\u0026#39;, isActive: true }, ],   æ­¤å¯«æ³•æœƒç¶“éä»¥ä¸‹é‹ç®—:\n1 2 3 4 5  this.users.map(function (user) { if (user.isActive) { return user.name } })   ç”±æ­¤å¯çŸ¥ï¼Œå“ªæ€•åªéœ€è¦æ¸²æŸ“å‡ºä¸€å°éƒ¨åˆ† user çš„å…ƒç´ ï¼Œä¹Ÿå¾—æ¯æ¬¡é‡æ–°æ¸²æŸ“æ™‚éæ­·æ•´å€‹ users åˆ—è¡¨ï¼Œä¸è«– isActive ç‹€æ…‹æ˜¯å¦ç™¼ç”Ÿè®ŠåŒ–ã€‚\nå› æ­¤æˆ‘å€‘å¯ä»¥å°‡ä¸Šè¿°ç¨‹å¼ç¢¼ç¨ä½œä¿®æ”¹ï¼Œå°‡ users æ›¿æ›ç‚ºä¸€å€‹è¨ˆç®—å±¬æ€§ï¼š\n1 2 3 4 5 6 7  computed: { activeUsers() { return this.users.filter(function (user) { return user.isActive }) } }   1 2 3 4 5  \u0026lt;ul\u0026gt; \u0026lt;li v-for=\u0026#34;user in activeUsers\u0026#34;\u0026gt; {{ user.name }} \u0026lt;/li\u0026gt; \u0026lt;/ul\u0026gt;   ç¨‹å¼ç¢¼æ”¹æˆé€™æ¨£æœ‰ä»¥ä¸‹å„ªé»ï¼š\n éæ¿¾å¾Œçš„åˆ—è¡¨ activeUsersï¼Œåªæœƒåœ¨ users é™£åˆ—ç™¼ç”Ÿç›¸é—œè®ŠåŒ–æ™‚æ‰è¢«é‡æ–°é‹ç®—ï¼Œéæ¿¾æ›´é«˜æ•ˆï¼› åœ¨æ¸²æŸ“çš„æ™‚å€™ï¼Œåªéæ­·ç¯©é¸å¾Œçš„ userï¼Œæ¸²æŸ“æ›´é«˜æ•ˆï¼› è§£è€¦æ¸²æŸ“å±¤çš„é‚è¼¯ï¼Œå¯ç¶­è­·æ€§ï¼ˆå°é‚è¼¯çš„æ›´æ”¹å’Œæ“´å±•ï¼‰æ›´å¼·ã€‚  key å±¬æ€§ 1. æ²’ key æœƒé‡åˆ°çš„æƒ…æ³ è«‹è€ƒæ…®ä»¥ä¸‹ç¨‹å¼ç¢¼ï¼š\n1 2 3 4 5 6 7 8 9  \u0026lt;div v-if=\u0026#34;show\u0026#34;\u0026gt; \u0026lt;label\u0026gt;Username\u0026lt;/label\u0026gt; \u0026lt;input placeholder=\u0026#34;username\u0026#34; /\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;div v-else\u0026gt; \u0026lt;label\u0026gt;Email\u0026lt;/label\u0026gt; \u0026lt;input placeholder=\u0026#34;email\u0026#34; /\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;button @click=\u0026#34;show = !show\u0026#34;\u0026gt;change\u0026lt;/button\u0026gt;   1 2 3  data: { show: true, }   ä½ å¯ä»¥è©¦è‘—åœ¨è¼¸å…¥æ¡†è¼¸å…¥ï¼Œæ¥è‘—æŒ‰åˆ‡æ›æŒ‰éˆ•ï¼Œä½ æœƒç™¼ç¾ä½ è¼¸å…¥çš„å€¼ä¸¦ä¸æœƒæ¶ˆå¤±ï¼Œé€™è¡¨ç¤ºå®ƒå€‘å…±ç”¨åŒä¸€å€‹å…ƒç´ ã€‚\nSee the Pen key å±¬æ€§ v-if by CHUPAIWANG (@CHUPAIWANG) on CodePen.  å› æ­¤ä½ éœ€è¦åŠ ä¸Šæ›¿å®ƒå€‘åŠ ä¸Š key å±¬æ€§ï¼Œä½¿é€™å…©å€‹å…ƒç´ å®Œå…¨ç¨ç«‹ï¼Œæ¯æ¬¡åˆ‡æ›æ™‚è¼¸å…¥æ¡†æ‰æœƒé‡æ–°æ¸²æŸ“ã€‚\nåŸå› ç­‰ç­‰ä¸‹é¢æœƒèªªæ˜ï¼Œç¹¼çºŒçœ‹å¦ä¸€æ®µç¨‹å¼ç¢¼ï¼š\n1 2 3 4 5 6  \u0026lt;ul\u0026gt; \u0026lt;li v-for=\u0026#34;item in arrayData\u0026#34;\u0026gt; {{ item.name }} \u0026lt;input type=\u0026#34;checkbox\u0026#34;\u0026gt; \u0026lt;/li\u0026gt; \u0026lt;/ul\u0026gt; \u0026lt;button @click=\u0026#34;arrayData.reverse()\u0026#34;\u0026gt;åè½‰é™£åˆ—\u0026lt;/button\u0026gt;   1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20  data: { arrayData: [ { id: 1, name: \u0026#34;test1\u0026#34;, }, { id: 2, name: \u0026#34;test2\u0026#34;, }, { id: 3, name: \u0026#34;test3\u0026#34;, }, { id: 4, name: \u0026#34;test4\u0026#34;, }, ], }   ç•¶ä½ é»é¸ checkbox å¾Œï¼Œå†é»é¸åè½‰é™£åˆ—çš„æŒ‰éˆ•ï¼Œä½ å¯è§€å¯Ÿåˆ°ï¼Œcheckbox ä¸¦ä¸æœƒéš¨è‘—è³‡æ–™è®Šæ›è€Œè·Ÿè‘—æ”¹è®Šã€‚\nSee the Pen v-for by CHUPAIWANG (@CHUPAIWANG) on CodePen.  2. key çš„ä½œç”¨ ä¸Šé¢æƒ…æ³çš„åŸå› æ˜¯ Vue åœ¨åˆ‡æ›ç•«é¢æ™‚ï¼Œä¸¦ä¸æœƒå®Œå…¨ç½®æ›å…ƒç´ ï¼Œæœƒä½¿ç”¨ä¸€ç¨®æœ€å¤§é™åº¦æ¸›å°‘å‹•æ…‹å…ƒç´ ä¸¦ä¸”å„˜å¯èƒ½çš„å˜—è©¦ä¿®å¾©/å†åˆ©ç”¨ç›¸åŒé¡å‹å…ƒç´ çš„ç®—æ³•ã€‚ä½†æ˜¯ ä¸é©ç”¨ æ–¼éœ€ä¾è³´å­å…ƒä»¶ç‹€æ…‹ã€è‡¨æ™‚ DOM ç‹€æ…‹çš„åˆ—è¡¨æ¸²æŸ“è¼¸å‡ºï¼ˆä¾‹å¦‚ï¼Œè¡¨å–®è¼¸å…¥ï¼‰ã€‚\nç‚ºäº†è§£æ±ºé€™å€‹å•é¡Œï¼Œå¯ä»¥ä½¿ç”¨ Vue æä¾›çš„ key å±¬æ€§ï¼Œkey çš„ä½œç”¨æ˜¯çµ¦äºˆä¸€å€‹ç¯€é»å”¯ä¸€çš„èº«ä»½è­˜åˆ¥ï¼Œæœ‰ç›¸åŒçˆ¶å…ƒç´ çš„å­å…ƒç´ å¿…é ˆæœ‰ç¨ç‰¹çš„ keyã€‚é€™æ¨£å®ƒå¯ä»¥å‰å¾Œå°æ¯”ï¼Œç®—å‡ºå“ªäº›ç¯€é»æ˜¯è¦é‡è¤‡ä½¿ç”¨æˆ–è€…èª¿æ•´é †åºã€‚\n1  \u0026lt;li v-for=\u0026#34;item in arrayData\u0026#34; :key=\u0026#34;item.id\u0026#34;\u0026gt;   See the Pen v-for key by CHUPAIWANG (@CHUPAIWANG) on CodePen.  2.2.0+ çš„ç‰ˆæœ¬ï¼Œç•¶åœ¨å…ƒä»¶ä¸Šä½¿ç”¨ v-for æ™‚ï¼Œkey å±¬æ€§ç¾åœ¨æ˜¯å¿…é ˆçš„ã€‚\r 2. é¿å…ä½¿ç”¨ index ä½œç‚º key å€¼ åœ¨ v-for æŒ‡ä»¤ä¸Šï¼Œé¿å…ä½¿ç”¨ index ç•¶ä½œ key å€¼ã€‚\nè«‹è€ƒæ…®ä»¥ä¸‹ç¨‹å¼ç¢¼ï¼š\n1 2 3 4 5 6 7  \u0026lt;ul\u0026gt; \u0026lt;li v-for=\u0026#34;(item, index) in arrayData\u0026#34; :key=\u0026#34;index\u0026#34;\u0026gt; {{ item.name }} \u0026lt;input type=\u0026#34;checkbox\u0026#34;\u0026gt; \u0026lt;button @click=\u0026#34;del(index)\u0026#34;\u0026gt;del\u0026lt;/button\u0026gt; \u0026lt;/li\u0026gt; \u0026lt;/ul\u0026gt; \u0026lt;button @click=\u0026#34;arrayData.reverse()\u0026#34;\u0026gt;åè½‰é™£åˆ—\u0026lt;/button\u0026gt;   1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25  data: { arrayData: [ { id: 1, name: \u0026#34;test1\u0026#34;, }, { id: 2, name: \u0026#34;test2\u0026#34;, }, { id: 3, name: \u0026#34;test3\u0026#34;, }, { id: 4, name: \u0026#34;test4\u0026#34;, }, ], }, methods: { del(index) { this.arrayData.splice(index, 1); }, }   See the Pen v-for key=\u0026quot;index\u0026quot; by CHUPAIWANG (@CHUPAIWANG) on CodePen.  åˆªé™¤å‰ï¼š\n   key index name id     0 0 test1 1   1 1 test2 2   2 2 test3 3   3 3 test4 4    å‡è¨­åˆªé™¤ test2 å¾Œï¼š\n   key index name id     0 0 test1 1   1 1 test3 3   2 2 test4 4    å› ç‚ºåˆªé™¤äº† test2 å°è‡´ index ç™¼ç”Ÿè®ŠåŒ–ï¼Œè€Œ key å› ç‚ºç¶å®š index è€Œå°è‡´ test3 èˆ‡ test4 è¢«é‡æ–°æ¸²æŸ“ã€‚è€Œä¸” key = 2 çš„ checkbox ç‹€æ…‹æœƒè®Šæˆ text3 çš„ã€‚\nå¦å¤–å®˜æ–¹æ–‡ä»¶ä¹Ÿæ¨™ç¤ºï¼Œkey å€¼ä¸å¯ä»¥æ˜¯ç‰©ä»¶æˆ–é™£åˆ—ï¼Œå¿…é ˆæ˜¯å­—ä¸²æˆ–æ•¸å€¼ã€‚\r 3. å…¶ä»–ç”¨é€” key å±¬æ€§ä¹Ÿå¯ä»¥ç”¨æ–¼å¼·åˆ¶æ›¿æ›å…ƒç´ /å…ƒä»¶è€Œä¸æ˜¯é‡è¤‡ä½¿ç”¨å®ƒã€‚å¦‚æœé‡åˆ°ä»¥ä¸‹å ´æ™¯æœƒéå¸¸ç”¨ï¼š\n å®Œæ•´åœ°è§¸ç™¼å…ƒä»¶çš„ç”Ÿå‘½é€±æœŸé‰¤å­ è§¸ç™¼è½‰å ´  èˆ‰ä¾‹ä¾†èªªï¼š\n1 2 3 4  \u0026lt;transition\u0026gt; \u0026lt;div v-if=\u0026#34;toggle\u0026#34; :key=\u0026#34;1\u0026#34;\u0026gt;Hello\u0026lt;/div\u0026gt; \u0026lt;div v-else key=\u0026#34;2\u0026#34;\u0026gt;Goodbye\u0026lt;/div\u0026gt; \u0026lt;/transition\u0026gt;   ç•¶ åˆ‡æ› toggle æ™‚ï¼Œå®ƒä¹Ÿæ˜¯åˆ‡æ› \u0026lt;div\u0026gt;ï¼Œå¦‚æœä½ æƒ³ç”¨ä¸Š enter/leave animations æ™‚ï¼Œå³ç¯€é»æ’å…¥å’Œåˆªé™¤çš„æ™‚å€™çš„å‹•ç•«æ™‚å°±è¦æ‰“ç ´é€™å€‹å¾©ç”¨ã€‚\n","description":"Vue æ¢ä»¶æ¸²æŸ“ \u0026 åˆ—è¡¨æ¸²æŸ“ã€‚","id":27,"section":"posts","tags":["Vue","VueæŒ‡ä»¤"],"title":"æ¢ä»¶æ¸²æŸ“ \u0026 åˆ—è¡¨æ¸²æŸ“","uri":"https://chupai.github.io/posts/vue/directives/vifvfor/"},{"content":" ç«¹ç™½çš„ Vue è¨˜äº‹æœ¬ ç›®éŒ„\n \rç‰¹æ€§ç¶å®š HTML å…ƒç´ æ¨™ç±¤çš„ç‰¹æ€§ï¼ˆattributeï¼‰ç„¡æ³•ä½¿ç”¨ Mustache èªæ³•èˆ‡ vue å¯¦é«”ç¶å®šï¼Œå› æ­¤éœ€è¦ä½¿ç”¨ v-bind æŒ‡ä»¤ä¾†ç¶å®šå…ƒç´ èˆ‡ vue å¯¦é«”çš„é—œä¿‚ã€‚å› ç‚ºå¸¸ç”¨åˆ°ï¼Œæ‰€ä»¥æœ‰ç¸®å¯«ã€Œ:ã€ã€‚\nç‰©ä»¶çš„ property å’Œ HTML attribute ä¸­æ–‡éƒ½ç¨±ä½œã€Œå±¬æ€§ã€ã€‚ç­†è¨˜ä¸­æœƒä»¥ã€Œç‰¹æ€§ã€è¡¨ç¤º HTML attribute ä¾†å€åˆ†å…©è€…ã€‚\r 1. åŸºæœ¬èªæ³• v-bind èªæ³•ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12  \u0026lt;!-- èªæ³• --\u0026gt; \u0026lt;div :v-bind:attribute=\u0026#34;expression\u0026#34;\u0026gt;\u0026lt;/div\u0026gt; \u0026lt;!-- ç°¡å¯« --\u0026gt; \u0026lt;div :attribute=\u0026#34;expression\u0026#34;\u0026gt;\u0026lt;/div\u0026gt; \u0026lt;!-- å‹•æ…‹ç‰¹æ€§åï¼ˆ2.6.0 æ–°å¢ï¼‰ï¼š --\u0026gt; \u0026lt;!-- èªæ³• --\u0026gt; \u0026lt;div :v-bind:[attribute]=\u0026#34;expression\u0026#34;\u0026gt;\u0026lt;/div\u0026gt; \u0026lt;!-- ç°¡å¯« --\u0026gt; \u0026lt;div :[attribute]=\u0026#34;expression\u0026#34;\u0026gt;\u0026lt;/div\u0026gt;    attributeï¼šè¦ç¶å®šçš„ç‰¹æ€§åç¨±ã€‚ expressionï¼šé æœŸå€¼ç‚º anyï¼ˆä»»ä½• typeï¼‰ã€‚ 2.6 ç‰ˆå¾Œæ–°å¢äº†ç‰¹æ€§åç¨±åŠ ä¸Šæ–¹æ‹¬è™Ÿï¼Œä¹Ÿèƒ½æ˜¯è¡¨é”å¼ã€‚  èˆ‰ä¾‹ä¾†èªªï¼Œå‹•æ…‹åœ°æ–°å¢ä¸€å€‹åœ–ç‰‡é€£çµï¼š\n1 2 3  data: { imgSrc: \u0026#39;https://picsum.photos/200/200\u0026#39; }   1  \u0026lt;img v-bind:src=\u0026#34;imgSrc\u0026#34; alt=\u0026#34;\u0026#34;\u0026gt;   ç•¶ imgSrc å…§å®¹ç™¼ç”Ÿè®ŠåŒ–ï¼Œé¡¯ç¤ºåœ–ç‰‡å°±æœƒæ›´æ–°ã€‚\n2. æ¨£å¼ç¶å®š æ“ä½œå…ƒç´ çš„ class åˆ—è¡¨å’Œ style è¡Œå…§æ¨£å¼æ˜¯è³‡æ–™ç¶å®šçš„å¸¸è¦‹éœ€æ±‚ï¼Œå› ç‚ºéƒ½æ˜¯ç‰¹æ€§æ‰€ä»¥å¯ä»¥ä½¿ç”¨ v-bind ä¾†è™•ç†ã€‚\né›–ç„¶é€éè¡¨é”å¼è¨ˆç®—å‡ºå­—ä¸²çµæœå³å¯ï¼Œä½†å­—ä¸²æ‹¼æ¥éº»ç…©ä¸”æ˜“éŒ¯ï¼Œå› æ­¤ Vue å°å®ƒå€‘åšäº†å°ˆé–€å¢å¼·çš„åŠŸèƒ½ï¼Œä¹Ÿå°±æ˜¯è¡¨é”å¼çš„çµæœå€¼é™¤äº†å­—ä¸²é‚„å¯ä»¥æ˜¯é™£åˆ—æˆ–ç‰©ä»¶ã€‚\nå¦‚æœæ˜¯å…¶ä»–ç‰¹æ€§ï¼Œé æœŸå€¼å‚³å…¥é™£åˆ—æˆ–ç‰©ä»¶ï¼Œæœƒè¢«å¼·åˆ¶è½‰å‹æˆå­—ä¸²ã€‚\nclass ç¶å®š 1. ç‰©ä»¶èªæ³• å‚³ä¸€å€‹ç‰©ä»¶ï¼Œä»¥å‹•æ…‹åœ°åˆ‡æ› classã€‚\n1  \u0026lt;div v-bind:class=\u0026#34;{ className: boolean }\u0026#34;\u0026gt;\u0026lt;/div\u0026gt;    classNameï¼šé¡åˆ¥åç¨±ã€‚ booleanï¼šå¸ƒæ—å€¼ï¼Œåˆ‡æ›é¡åˆ¥ã€‚  å®ƒèƒ½èˆ‡æ™®é€šçš„ class ç‰¹æ€§å…±å­˜ã€‚\nç¯„ä¾‹ï¼š\n1 2 3 4 5 6 7 8 9 10  /* å…ˆå®šç¾© css */ .box { width: 100px; height: 100px; background: #222; } .red { background: red; }   1 2 3  data: { isRed: true, }   1 2 3 4  \u0026lt;div id=\u0026#34;app\u0026#34;\u0026gt; \u0026lt;div class=\u0026#34;box\u0026#34; v-bind:class=\u0026#34;{ red: isRed }\u0026#34;\u0026gt;\u0026lt;/div\u0026gt; \u0026lt;button v-on:click=\u0026#34;isRed =!isRed\u0026#34;\u0026gt;é»æ“Š\u0026lt;/button\u0026gt; \u0026lt;/div\u0026gt;   å¦‚æœ isActive çš„å€¼è®Šæˆ falseï¼Œ.red é¡åˆ¥å°±æœƒè¢«ç§»é™¤ï¼Œåä¹‹ isActive çš„å€¼ true å°±æœƒæ–°å¢ .red é¡åˆ¥ã€‚\nSee the Pen v-bind class by CHUPAIWANG (@CHUPAIWANG) on CodePen.  é€™è£¡æ³¨æ„çš„æ˜¯ï¼Œå› ç‚ºç‰©ä»¶éµåï¼ˆkey nameï¼‰ç„¡æ³•ç”¨ -ï¼Œéœ€è¦åŠ ä¸Š '' å–®å¼•è™Ÿï¼Œæ˜ç¢ºçš„ç”¨å­—ä¸²ç•¶ä½œéµåã€‚\r èˆ‰ä¾‹ä¾†èªªï¼Œ.box-red é€™å€‹é¡åˆ¥åç¨±ï¼Œéœ€è¦åŠ ä¸Šå–®å¼•è™Ÿï¼Œæ˜ç¢ºçš„ç”¨å­—ä¸²ç•¶ä½œéµåã€‚\n1  \u0026lt;div class=\u0026#34;box\u0026#34; v-bind:class=\u0026#34;{ \u0026#39;box-red\u0026#39;: isActive }\u0026#34;\u0026gt;\u0026lt;/div\u0026gt;   ç¶å®šçš„ç‰©ä»¶ä¸ä¸€å®šè¦å®šç¾©åœ¨æ¨¡æ¿ä¸­ï¼š\n1  \u0026lt;div class=\u0026#34;box\u0026#34; v-bind:class=\u0026#34;classObject\u0026#34;\u0026gt;\u0026lt;/div\u0026gt;   1 2 3 4 5  data: { classObject: { \u0026#39;box-red\u0026#39;: false, }, }   ä½†é€™æ¨£æˆ‘å€‘è®Šæˆéœ€è¦æ“ä½œ classObject['box-red'] é€™å€‹å±¬æ€§ã€‚\nå› æ­¤å»ºè­°ä½¿ç”¨ä¸€å€‹å›å‚³ç‰©ä»¶çš„ computed è¨ˆç®—å±¬æ€§ï¼Œå°‡é€™å€‹ç‰©ä»¶åŒ…è£èµ·ä¾†ï¼Œæ–¹ä¾¿ç®¡ç†ç¶­è­·ã€‚\n1 2 3 4 5 6 7 8  data: { isRed: true, }, computed: { classObject() { return { \u0026#39;box-red\u0026#39;: this.isRed, } }, }   2. é™£åˆ—èªæ³• å‚³çµ¦ v-bind:class ä¸€çµ„é™£åˆ—ï¼Œä»¥æ‡‰ç”¨ä¸€å€‹ class åˆ—è¡¨ã€‚\n1 2 3 4  \u0026lt;div v-bind:class=\u0026#34;[ \u0026#39;className1\u0026#39;, \u0026#39;className2\u0026#39; ]\u0026#34;\u0026gt;\u0026lt;/div\u0026gt; \u0026lt;!-- HTML å°‡è¢«æ¸²æŸ“æˆ --\u0026gt; \u0026lt;div class=\u0026#34;className1 className2\u0026#34;\u0026gt;\u0026lt;/div\u0026gt;   çµåˆ checkbox + v-modelï¼š\nSee the Pen v-bind:class é™£åˆ—èªæ³• by CHUPAIWANG (@CHUPAIWANG) on CodePen.  å¦å¤–ï¼Œé™£åˆ—ä¸­ä¹Ÿå¯ä»¥ç”¨ç‰©ä»¶èªæ³•ï¼š\n1  \u0026lt;div v-bind:class=\u0026#34;[{ className1: true }, \u0026#39;className2\u0026#39;]\u0026#34;\u0026gt;\u0026lt;/div\u0026gt;   style ç¶å®š 1. ç‰©ä»¶èªæ³• ç›´æ¥èˆ‰ä¾‹èªªæ˜ï¼š\n1  \u0026lt;div v-bind:style=\u0026#34;{ backgroundColor: \u0026#39;#ddd\u0026#39;, width: \u0026#39;100px\u0026#39;, height: \u0026#39;100px\u0026#39; }\u0026#34;\u0026gt;\u0026lt;/div\u0026gt;   èªæ³•é›–ç„¶çœ‹èµ·ä¾†åƒ CSS æ¨£å¼ï¼Œä½†å®ƒå…¶å¯¦æ˜¯ JS ç‰©ä»¶ï¼Œå› æ­¤è¦æ³¨æ„ï¼š\n CSS å±¬æ€§åï¼Œæœ‰å…©ç¨®å¯«æ³•ï¼š  é§å³°å¼ï¼ˆcamelCaseï¼‰ï¼ŒbackgroundColor çŸ­æ©«ç·šåˆ†éš”ï¼ˆkebab-caseï¼‰ï¼Œ'background-color'ï¼ˆéœ€è¦æ˜ç¢ºçš„ç”¨å­—ä¸²ç•¶ä½œéµåï¼Œå› æ­¦è¦åŠ ä¸Šå–®å¼•è™Ÿï¼‰   å€¼ï¼ˆæ²’æœ‰é è¨­å–®ä½ï¼Œå› æ­¤æœ‰å–®ä½çš„éœ€ä½¿ç”¨å­—ä¸²ï¼‰  å¤šé‡å€¼ï¼š\n1  \u0026lt;div v-bind:style=\u0026#34;{ display: [\u0026#39;-webkit-box\u0026#39;, \u0026#39;-ms-flexbox\u0026#39;, \u0026#39;flex\u0026#39;] }\u0026#34;\u0026gt;\u0026lt;/div\u0026gt;   æœƒæ¸²æŸ“é™£åˆ—ä¸­æœ€å¾Œä¸€å€‹è¢«ç€è¦½å™¨æ”¯æŒçš„å€¼ã€‚\n2. é™£åˆ—èªæ³• æˆ‘å€‘å¯ä»¥ç”¨é™£åˆ—èªæ³•ï¼Œå°‡å¤šå€‹æ¨£å¼ç‰©ä»¶æ‡‰ç”¨åœ¨åŒä¸€å€‹å…ƒç´ ä¸Šï¼š\n1  \u0026lt;div v-bind:style=\u0026#34;[baseStyles, bgStyles]\u0026#34;\u0026gt;\u0026lt;/div\u0026gt;   1 2 3 4 5 6 7  data: { baseStyles: { width: \u0026#39;100px\u0026#39;, height: \u0026#39;100px\u0026#39; }, bgStyles: { \u0026#39;background-color\u0026#39;: \u0026#39;#ddd\u0026#39;}, }   é‡è¤‡ç‰¹æ€§ 1. ä¸€èˆ¬ç‰¹æ€§ å¦‚æœä½¿ç”¨ v-bind å’Œæœªä½¿ç”¨ v-bind ç‰¹æ€§é‡è¤‡ï¼Œå¾Œå¯«çš„æœƒå°‡å…ˆå¯«è¦†è“‹ï¼š\n1 2 3 4  data: { google: \u0026#39;https://www.google.com/\u0026#39;, yahoo: \u0026#39;https://tw.yahoo.com/\u0026#39;, }   1 2 3 4 5 6  \u0026lt;a href=\u0026#34;https://www.google.com/\u0026#34; v-bind:href=\u0026#34;yahoo\u0026#34; target=\u0026#34;_blank\u0026#34;\u0026gt;1\u0026lt;/a\u0026gt; \u0026lt;a v-bind:href=\u0026#34;yahoo\u0026#34; href=\u0026#34;https://www.google.com/\u0026#34; target=\u0026#34;_blank\u0026#34;\u0026gt;2\u0026lt;/a\u0026gt; \u0026lt;!-- HTML å°‡è¢«æ¸²æŸ“æˆ --\u0026gt; \u0026lt;a href=\u0026#34;https://tw.yahoo.com/\u0026#34; target=\u0026#34;_blank\u0026#34;\u0026gt;1\u0026lt;/a\u0026gt; \u0026lt;a href=\u0026#34;https://www.google.com/\u0026#34; target=\u0026#34;_blank\u0026#34;\u0026gt;2\u0026lt;/a\u0026gt;   2. æ¨£å¼ç¶å®š ä½†æ¨£å¼ç¶å®š class å’Œ style æœƒå°‡å…©è€…åˆä½µï¼Œäº’ç›¸ä¸å¹²æ“¾ã€‚\nä¸Šé¢ç¯„ä¾‹å·²ç¶“ç”¨éäº†ï¼š\n1 2 3 4  \u0026lt;div class=\u0026#34;box\u0026#34; v-bind:class=\u0026#34;{ red: isRed }\u0026#34;\u0026gt;\u0026lt;/div\u0026gt; \u0026lt;!-- HTML å°‡è¢«æ¸²æŸ“æˆ --\u0026gt; \u0026lt;div class=\u0026#34;box red\u0026#34;\u0026gt;\u0026lt;/div\u0026gt;   ä½†æ˜¯å¦‚æœå‡ºç¾é‡è¤‡é¡åˆ¥ï¼Œè¦ç‰¹åˆ¥æ³¨æ„ï¼š\n1 2 3 4  \u0026lt;div class=\u0026#34;box red\u0026#34; v-bind:class=\u0026#34;{ red: isRed }\u0026#34;\u0026gt;\u0026lt;/div\u0026gt; \u0026lt;!-- HTML å°‡è¢«æ¸²æŸ“æˆ --\u0026gt; \u0026lt;div class=\u0026#34;box red red\u0026#34;\u0026gt;\u0026lt;/div\u0026gt;   å°‡æœƒå‡ºç¾å…©å€‹ç›¸åŒçš„é¡åˆ¥ï¼Œæˆ‘å€‘åªèƒ½æ§åˆ¶ä½¿ç”¨ v-bind çš„é¡åˆ¥ã€‚\nè‹¥æ˜¯ style å‡ºç¾ç›¸åŒ CSS æ¨£å¼ï¼Œv-bind æœƒè¦†è“‹åŸæœ¬çš„æ¨£å¼ï¼š\n1 2 3 4 5 6  \u0026lt;div class=\u0026#34;box\u0026#34; :style=\u0026#34;{ backgroundColor: \u0026#39;blue\u0026#39; }\u0026#34; style=\u0026#34;background-color: red;\u0026#34;\u0026gt;\u0026lt;/div\u0026gt; \u0026lt;div class=\u0026#34;box\u0026#34; style=\u0026#34;background-color: red;\u0026#34; :style=\u0026#34;{ backgroundColor: \u0026#39;blue\u0026#39; }\u0026#34;\u0026gt;\u0026lt;/div\u0026gt; \u0026lt;!-- HTML å°‡è¢«æ¸²æŸ“æˆ --\u0026gt; \u0026lt;div class=\u0026#34;box\u0026#34; style=\u0026#34;background-color: blue;\u0026#34;\u0026gt;\u0026lt;/div\u0026gt; \u0026lt;div class=\u0026#34;box\u0026#34; style=\u0026#34;background-color: blue;\u0026#34;\u0026gt;\u0026lt;/div\u0026gt;   å¦å¤–é‚„æœ‰ä½¿ç”¨é™£åˆ—èªæ³•çš„é‡è¤‡ï¼Œè‹¥ç‰©ä»¶æœ‰ç›¸åŒ CSS æ¨£å¼ï¼š\n1 2 3 4  data: { red: { backgroundColor: \u0026#39;red\u0026#39; }, blue: { backgroundColor: \u0026#39;blue\u0026#39; }, }   1 2 3 4 5 6  \u0026lt;div class=\u0026#34;box\u0026#34; :style=\u0026#34;[blue, red]\u0026#34;\u0026gt;\u0026lt;/div\u0026gt; \u0026lt;div class=\u0026#34;box\u0026#34; :style=\u0026#34;[red, blue]\u0026#34;\u0026gt;\u0026lt;/div\u0026gt; \u0026lt;!-- HTML å°‡è¢«æ¸²æŸ“æˆ --\u0026gt; \u0026lt;div class=\u0026#34;box\u0026#34; style=\u0026#34;background-color: red;\u0026#34;\u0026gt;\u0026lt;/div\u0026gt; \u0026lt;div class=\u0026#34;box\u0026#34; style=\u0026#34;background-color: blue;\u0026#34;\u0026gt;\u0026lt;/div\u0026gt;   å¾Œè€…æœƒè¦†è“‹å‰è€…ã€‚\n","description":"Vue ç‰¹æ€§ç¶å®šã€‚","id":28,"section":"posts","tags":["Vue","VueæŒ‡ä»¤"],"title":"v-bind ç‰¹æ€§ç¶å®š","uri":"https://chupai.github.io/posts/vue/directives/vbind/"},{"content":" ç«¹ç™½çš„ Vue è¨˜äº‹æœ¬ ç›®éŒ„\n \ræŒ‡ä»¤ï¼ˆDirectivesï¼‰ åœ¨ Vue ä¸­æœ‰æä¾›ä¸€äº›å¸¶æœ‰å‰ç¶´ v- çš„æŒ‡ä»¤ï¼ˆDirectivesï¼‰ï¼Œä¸»è¦ç”¨æ–¼ HTML å…ƒç´ æ¨™ç±¤ä¸­ã€‚æ¯å€‹æŒ‡ä»¤éƒ½æœƒæœ‰ä¸€å€‹ é æœŸå€¼ï¼ŒæŒ‡çš„æ˜¯æƒ³ç¶å®šçš„å€¼ï¼Œç‚º JavaScript è¡¨é”å¼ï¼ˆv-for æ˜¯ä¾‹å¤–æƒ…æ³ï¼‰ï¼Œæˆ‘å€‘å¯ä»¥ç›´æ¥åœ¨ HTML ä¸Šå»ç¶å®šæˆ‘å€‘éœ€è¦åšçš„äº‹æƒ…ã€‚\nåƒæ•¸ï¼ˆArgumentsï¼‰ ä¸€äº›æŒ‡ä»¤èƒ½å¤ æ¥æ”¶ä¸€å€‹ã€Œåƒæ•¸ã€ï¼Œåœ¨æŒ‡ä»¤åç¨±ä¹‹å¾Œä»¥å†’è™Ÿè¡¨ç¤ºï¼Œä¾‹å¦‚ v-bindã€v-on ç­‰ï¼š\n v-bind æ¥æ”¶çš„åƒæ•¸ç‚º HTML ç‰¹æ€§ v-on æ¥æ”¶çš„åƒæ•¸ç‚º DOM äº‹ä»¶  1 2 3  \u0026lt;a v-bind:href=\u0026#34;url\u0026#34;\u0026gt;...\u0026lt;/a\u0026gt; \u0026lt;a v-on:click=\u0026#34;doSomething\u0026#34;\u0026gt;...\u0026lt;/a\u0026gt;   å‹•æ…‹åƒæ•¸ï¼ˆDynamic Argumentsï¼‰ å¦‚æœæˆ‘å€‘æƒ³åœ¨ v-bind or v-on ä¸­ä½¿ç”¨å‹•æ…‹åƒæ•¸ï¼Œåœ¨ 2.6.0 ç‰ˆä¹‹å‰ï¼Œåªèƒ½ä½¿ç”¨ç‰©ä»¶çš„èªæ³•ï¼š\n1 2 3  \u0026lt;a v-bind=\u0026#34;{ [attributeName]: url }\u0026#34;\u0026gt; ... \u0026lt;/a\u0026gt; \u0026lt;a v-on=\u0026#34;{ [eventName]: doSomething }\u0026#34;\u0026gt; ... \u0026lt;/a\u0026gt;   ä½†é€™ç¨®åšæ³•æœ‰å¹¾ç¨®ç¼ºé»ï¼š\n vue-template-compier ç”Ÿæˆäº†ä½æ•ˆçš„ç¨‹å¼ç¢¼ v-slot æ²’æœ‰é¡ä¼¼çš„ä½¿ç”¨ç‰©ä»¶çš„èªæ³•  Vue åœ¨ 2.6.0 ç‰ˆå¾Œï¼Œæ–°å¢äº†å‹•æ…‹åƒæ•¸çš„æ–°èªæ³•ï¼Œå¯ä»¥ä½¿ç”¨æ–¹æ‹¬è™Ÿ [] å°‡åƒæ•¸ç”¨è¡¨é”å¼è¡¨ç¤ºï¼š\n1 2 3  \u0026lt;a v-bind:[attributeName]=\u0026#34;url\u0026#34;\u0026gt; ... \u0026lt;/a\u0026gt; \u0026lt;a v-on:[eventName]=\u0026#34;doSomething\u0026#34;\u0026gt; ... \u0026lt;/a\u0026gt;   å‹•æ…‹åƒæ•¸è¡¨é”å¼æœ‰ä¸€äº›é™åˆ¶ï¼Œå› ç‚ºæŸäº›å­—å…ƒï¼Œå¦‚ç©ºæ ¼å’Œå¼•è™Ÿï¼Œæ”¾åœ¨ HTML attribute åè£¡æ˜¯ç„¡æ•ˆçš„ã€‚\nä¿®é£¾ç¬¦è™Ÿï¼ˆModifiersï¼‰ ä¿®é£¾ç¬¦è™Ÿï¼ˆmodifierï¼‰æ˜¯ä»¥ . æŒ‡åçš„ç‰¹æ®Šå¾Œç¶´ï¼Œç”¨æ–¼æŒ‡å‡ºä¸€å€‹æŒ‡ä»¤æ‡‰è©²ä»¥ç‰¹æ®Šæ–¹å¼ç¶å®šã€‚\nèˆ‰ä¾‹ä¾†èªªï¼Œ.prevent ä¿®é£¾ç¬¦è™Ÿï¼Œå¯å° v-on è§¸ç™¼çš„äº‹ä»¶å‡½å¼å‘¼å« event.preventDefault()ï¼š\n1  \u0026lt;form v-on:submit.prevent=\u0026#34;onSubmit\u0026#34;\u0026gt;...\u0026lt;/form\u0026gt;   æ¯å€‹æŒ‡ä»¤éƒ½æœ‰è‡ªå·±çš„ä¿®é£¾ç¬¦è™Ÿï¼Œæœƒåœ¨ä¹‹å¾Œè©³ç´°èªªæ˜ã€‚\nç¸®å¯« v-bind å’Œ v-on é€™å…©å€‹æœ€å¸¸ç”¨çš„æŒ‡ä»¤ï¼ŒVue æä¾›äº†ç¸®å¯«ã€‚\n1 2 3 4 5  \u0026lt;!-- å®Œæ•´èªæ³• --\u0026gt; \u0026lt;a v-bind:href=\u0026#34;url\u0026#34;\u0026gt;...\u0026lt;/a\u0026gt; \u0026lt;!-- ç¸®å¯« --\u0026gt; \u0026lt;a :href=\u0026#34;url\u0026#34;\u0026gt;...\u0026lt;/a\u0026gt;   1 2 3 4 5  \u0026lt;!-- å®Œæ•´èªæ³• --\u0026gt; \u0026lt;a v-on:click=\u0026#34;doSomething\u0026#34;\u0026gt;...\u0026lt;/a\u0026gt; \u0026lt;!-- ç¸®å¯« --\u0026gt; \u0026lt;a @click=\u0026#34;doSomething\u0026#34;\u0026gt;...\u0026lt;/a\u0026gt;   åœ¨æŸäº›æƒ…æ³ä¸‹ï¼Œå¯èƒ½ä¸éœ€è¦ä½¿ç”¨åƒæ•¸ï¼Œä½†æ˜¯è¦æ³¨æ„ï¼Œæ²’åƒæ•¸ç„¡æ³•ä½¿ç”¨ç¸®å¯«ï¼Œåªèƒ½ä½¿ç”¨å®Œæ•´èªæ³•ã€‚\r","description":"Vue æŒ‡ä»¤æ¦‚è¿°ã€‚","id":29,"section":"posts","tags":["Vue","VueæŒ‡ä»¤"],"title":"Vue æŒ‡ä»¤æ¦‚è¿°","uri":"https://chupai.github.io/posts/vue/directives/directives/"},{"content":"Vue åŸºç¤ç¯‡\n\r é€™é€±æ˜¯å…­è§’é¼ å¹´éµäººè³½ç¬¬ä¸‰åå…­é€±ï¼Œå‰©æ²’å¹¾é€±äº†ï¼Œæœ€è¿‘èŠ±äº†é»æ™‚é‡æ–°å°‡ä¹‹å‰çš„ Vue 2.x ç­†è¨˜æ•´ç†éï¼Œä½œç‚ºæœ€å¾Œå¹¾é€±çš„çµå°¾ï¼Œä¹‹å¾Œè¦ä¾†çœ‹ Vue 3 å•¦ã€‚\n ç«¹ç™½çš„ Vue è¨˜äº‹æœ¬ ç›®éŒ„\n Vue - åŸºç¤ï¼š\n Vue å¯¦é«” è³‡æ–™ \u0026amp; æ–¹æ³• è³‡æ–™æ¸²æŸ“ è³‡æ–™è¨ˆç®— \u0026amp; è³‡æ–™ç›£è½ Vue ç”Ÿå‘½é€±æœŸ è³‡æ–™ç„¡æ³•éŸ¿æ‡‰  é¡Œå¤–è©±ï¼Œè©±èªªéŠ€è§’ççš„çç‰Œå·²ç¶“æ”¶åˆ°å•¦ï¼Œæ„Ÿè¬å…­è§’å­¸é™¢ ğŸ˜€ã€‚ä½†æœ‰é»å°å¤±æœ›å•¦ï¼Œç•¶åˆèªªå¥½çš„è¬›åº§å‘¢ï¼ğŸ˜‚\n","description":"Vue åŸºç¤ç¯‡ã€‚","id":30,"section":"posts","tags":["Vue","w3HexSchool"],"title":"Vue - åŸºç¤","uri":"https://chupai.github.io/posts/2010/vue_base/"},{"content":" ç«¹ç™½çš„ Vue è¨˜äº‹æœ¬ ç›®éŒ„\n Vue è³‡æ–™ç„¡æ³•éŸ¿æ‡‰çš„æƒ…æ³ã€‚\n\rå°æ–¼ç‰©ä»¶ Vue å»ºç«‹å¯¦é«”æ™‚ï¼Œæœƒå° data ç‰©ä»¶ä¸­çš„æ‰€æœ‰å±¬æ€§åŠ å…¥åˆ° Vue çš„ éŸ¿æ‡‰å¼ç³»çµ± ä¸­ï¼Œå¾è€Œè®“ data çš„å±¬æ€§èƒ½å¤ éŸ¿æ‡‰å¼æ›´æ–°ã€‚\nä½†æ˜¯ Vue ä¸èƒ½æª¢æ¸¬åˆ°ç‰©ä»¶çš„æ–°å¢æˆ–åˆªé™¤ã€‚\nèˆ‰ä¾‹ä¾†èªªï¼Œæˆ‘å€‘å¦‚æœæƒ³è¦åœ¨ Vue å¯¦é«”åˆå§‹åŒ–å¾Œæ–°å¢ count è³‡æ–™å±¬æ€§ï¼š\n1 2 3 4 5 6 7  const vm = new Vue({ el: \u0026#39;#app\u0026#39;, data: {}, created() { this.count = 0; } });   count é›–ç„¶æœ‰è¢«æ–°å¢ï¼Œä½†ç„¡æ³•ç•«é¢ç„¡æ³•éš¨è‘—è³‡æ–™æ”¹è®ŠéŸ¿æ‡‰ã€‚\næ–°å¢ä¸€å€‹æŒ‰éˆ•ä¾†æ”¹è®Š count çš„å€¼ä¾†é©—è­‰ï¼š\n1 2 3 4  \u0026lt;div id=\u0026#34;app\u0026#34;\u0026gt; \u0026lt;p\u0026gt;{{ count }}\u0026lt;/p\u0026gt; \u0026lt;button @click=\u0026#34;count += 1; alert(count)\u0026#34;\u0026gt;+1\u0026lt;/button\u0026gt; \u0026lt;/div\u0026gt;   CodePen Demoï¼šVue2.x - è³‡æ–™ç„¡æ³•éŸ¿æ‡‰ - å°æ–¼ç‰©ä»¶\nVue ä¸å…è¨±å‹•æ…‹æ·»åŠ æ ¹ç´šåˆ¥çš„å±¬æ€§ï¼Œæ‰€ä»¥ä¸€èˆ¬æƒ…æ³ä¸‹ï¼Œæˆ‘å€‘ä¸æœƒé€™æ¨£æ–°å¢è³‡æ–™å±¬æ€§ï¼Œä¸€å®šæ˜¯é å…ˆå®šç¾©è³‡æ–™å±¬æ€§ã€‚\nä½†æ˜¯ï¼Œå¦‚æœè³‡æ–™å±¬æ€§ç‚ºç‰©ä»¶ï¼Œå°±æœ‰å¯èƒ½æœƒç™¼ç”Ÿä»¥ä¸‹æƒ…æ³ã€‚\næˆ‘å€‘åœ¨é€²è¡Œé–‹ç™¼çš„éç¨‹ä¸­ï¼Œä¸å¯èƒ½æ¯æ¬¡éƒ½é å…ˆå®šç¾©å¥½ç‰©ä»¶å…§çš„æ‰€æœ‰å±¬æ€§ã€‚èˆ‰ä¾‹ä¾†èªªï¼Œæˆ‘å€‘é€é AJAX å–å¾—è³‡æ–™ï¼Œä½†å¦‚æœè©²è³‡æ–™æ²’æœ‰å‰ç«¯ç•«é¢è¦çš„å±¬æ€§ï¼Œå°±éœ€è¦è‡ªå·±æ–°å¢å±¬æ€§ã€‚\né€™æ™‚å°±å¿…é ˆä½¿ç”¨åˆ° $set()ï¼Œä¾†ç¢ºä¿é€™å€‹æ–°å±¬æ€§åŒæ¨£æ˜¯éŸ¿æ‡‰å¼çš„ã€‚\n1 2 3 4 5 6 7 8 9 10 11 12 13  const vm = new Vue({ data: { use: {}, }, created() { // å–å¾—è³‡æ–™  this.use = { name: \u0026#39;Peter\u0026#39;, }; // æ–°å¢å±¬æ€§  this.$set(this.use, \u0026#39;follow\u0026#39;, false); }, });   $set() èªæ³•ï¼š\n1  vm.$set(target, propertyName/index, value)   å°æ–¼é™£åˆ— 1. å¯è§€å¯Ÿåˆ°çš„é™£åˆ—æ–¹æ³• Vue æœ‰é‡æ–°å°ä»¥ä¸‹é™£åˆ—æ–¹æ³•é€²è¡ŒåŒ…è£ï¼Œå› æ­¤å¯ä»¥è§€å¯Ÿåˆ°ä½¿ç”¨ä»¥ä¸‹æ–¹æ³•çš„è®ŠåŒ–ï¼š\n push() pop() shift() unshift() splice() sort() reverse()  2. ç„¡æ³•éŸ¿æ‡‰å¼è®ŠåŒ– Vue ä¸èƒ½æª¢æ¸¬ä»¥ä¸‹é™£åˆ—çš„è®Šå‹•ï¼š\n åˆ©ç”¨ç´¢å¼•è¨­ç½®ä¸€å€‹ä¿®æ”¹æˆ–æ–°å¢å…ƒç´ ã€‚ ä¿®æ”¹é™£åˆ—é•·åº¦ã€‚  èˆ‰ä¾‹ä¾†èªªï¼Œæˆ‘å€‘å°‡é™£åˆ—çš„ç¬¬ä¸€å€‹å…ƒç´ å€¼æ›¿æ›æ‰ï¼š\n1 2  \u0026lt;button @click=\u0026#34;changeValue(array)\u0026#34;\u0026gt;change\u0026lt;/button\u0026gt; \u0026lt;p\u0026gt;{{ array }}\u0026lt;/p\u0026gt;   1 2 3 4 5 6 7 8  data: { array: [0, 1, 2] }, methods: { changeValue(arr) { arr[0] = \u0026#39;zero\u0026#39;; }, },   åŸ·è¡Œå¾Œï¼Œä½ æœƒç™¼ç¾ç•«é¢æ²’æœ‰è®Šå‹•ã€‚\næ”¹ç”¨ $set(array, index, value) å³å¯è§¸ç™¼ç‹€æ…‹æ›´æ–°ï¼š\n1 2 3 4 5  methods: { changeValue(arr) { this.$set(arr, 0 , \u0026#39;zero\u0026#39;); }, },   æˆ–è€…ä½¿ç”¨ splice æ–¹æ³•ä¾†ä¿®æ”¹æˆ–æ–°å¢å…ƒç´ ï¼š\n1  arr.splice(0, 1, \u0026#39;zero\u0026#39;);   CodePen Demoï¼šVue2.x - è³‡æ–™ç„¡æ³•éŸ¿æ‡‰ - å°æ–¼é™£åˆ—\n","description":"Vue è³‡æ–™ç„¡æ³•éŸ¿æ‡‰çš„æƒ…æ³ã€‚","id":31,"section":"posts","tags":["Vue"],"title":"è³‡æ–™ç„¡æ³•éŸ¿æ‡‰","uri":"https://chupai.github.io/posts/vue/base/norespond/"},{"content":" ç«¹ç™½çš„ Vue è¨˜äº‹æœ¬ ç›®éŒ„\n Vue çš„å¯¦é«”ï¼ˆInstanceï¼‰æ˜¯ Vue.js çš„æ ¸å¿ƒï¼Œæ¯å€‹ Vue App éƒ½æ˜¯å¾å»ºç«‹å¯¦é«”é–‹å§‹ã€‚\n\rç”Ÿå‘½é€±æœŸï¼ˆLife Cycleï¼‰ ç”Ÿå‘½é€±æœŸç°¡å–®ä¾†èªªå°±æ˜¯ã€Œå¾ Vue å¯¦é«”å»ºç«‹åˆ°éŠ·æ¯€çš„éç¨‹ã€ã€‚\nå¯ä»¥åˆ†ç‚º 4 å€‹éšæ®µï¼š\n åˆå§‹åŒ– æ¨¡æ¿ç·¨è­¯ æ›è¼‰ éŠ·æ¯€  åœ¨é€™äº›éç¨‹ä¸­ï¼Œé‚„æœƒå‘¼å« ç”Ÿå‘½é€±æœŸé‰¤å­ï¼ˆHookï¼‰ï¼Œæˆ‘å€‘å¯ä»¥åœ¨é€™äº›é‰¤å­ä¸Šåšé¡å¤–çš„è™•ç†ã€‚\nç”Ÿå‘½é€±æœŸé‰¤å­çš„è§¸ç™¼æ™‚é–“é»ï¼š\n beforeCreateï¼šå¯¦é«”å‰›è¢«å»ºç«‹ï¼Œè³‡æ–™è§€æ¸¬å’Œäº‹ä»¶ç¶å®šéƒ½å°šæœªåˆå§‹åŒ–ã€‚ createdï¼šå¯¦é«”å·²å»ºç«‹ï¼Œè³‡æ–™è§€æ¸¬å’Œäº‹ä»¶ç¶å®šåˆå§‹åŒ–å®Œæˆã€‚ beforeMountï¼šå·²ç¶“å®Œæˆäº†æ¨¡æ¿çš„ç·¨è­¯ï¼Œä½†å°šæœªæ›è¼‰ã€‚ mountedï¼šå¯¦é«”æ›è¼‰å®Œæˆï¼Œel çš„ç›®æ¨™ DOM è¢« $el æ‰€æ›¿æ›ã€‚ beforeUpdateï¼šè³‡æ–™æ›´æ–°æ™‚ï¼Œé‡æ–°æ¸²æŸ“ DOM ä¹‹å‰ã€‚ updatedï¼šDOM é‡æ–°æ¸²æŸ“å¾Œã€‚ beforeDestroyï¼šå¯¦é«”éŠ·æ¯€å‰ï¼Œæ­¤æ™‚å¯¦é«”ä¾ç„¶å¯ä»¥ä½¿ç”¨ã€‚ destroyedï¼šå¯¦é«”éŠ·æ¯€å¾Œã€‚  åˆå§‹åŒ–éšæ®µ new Vue() åˆ° created é‰¤å­ä¹‹é–“çš„éšæ®µå«åšåˆå§‹åŒ–éšæ®µï¼Œä¸»è¦ç›®çš„ç‚ºåˆå§‹åŒ–ä¸€äº›å±¬æ€§ã€äº‹ä»¶ä»¥åŠéŸ¿æ‡‰å¼è³‡æ–™ç­‰ç­‰ã€‚\n1. beforeCreate é‰¤å­ beforeCreate é‰¤å­æ˜¯ new Vue() ä¹‹å¾Œè§¸ç™¼çš„ç¬¬ä¸€å€‹é‰¤å­ï¼š\n é€™å€‹éšæ®µå…ƒç´ å°šæœªè¢«æ›è¼‰ï¼› è³‡æ–™å°šæœªè¢«å»ºç«‹ï¼Œdataã€computedã€methodsã€watch ç­‰ç­‰çš†ç„¡æ³•å–å¾—ã€‚  2. created é‰¤å­ created é‰¤å­ï¼ŒVue å¯¦é«”å·²å»ºç«‹å®Œæˆï¼š\n é€™å€‹éšæ®µå…ƒç´ ä¸€æ¨£å°šæœªè¢«æ›è¼‰ï¼› dataã€computedã€ methodsã€watch ç­‰ç­‰å·²å¯å–å¾—ã€‚  è³‡æ–™æ“ä½œè‡³å°‘è¦ç­‰åˆ° created éšæ®µï¼Œå› æ­¤é€šå¸¸æˆ‘å€‘ç”¨ AJAX å–å¾—è³‡æ–™æ“ä½œæœƒåœ¨é€™è£¡åŸ·è¡Œï¼Œä½†ä¸å»ºè­°éå¤šçš„è«‹æ±‚ï¼Œé¿å…ç¶²é ç„¡ç•«é¢çš„æ™‚é–“éé•·ï¼Œå¯ä»¥è€ƒæ…®åœ¨ mounted éšæ®µåšå‡ºè®€å–ç•«é¢å†æ‰“æ“ä½œã€‚\næ¨¡æ¿ç·¨è­¯éšæ®µ created é‰¤å­åˆ° beforeMount é‰¤å­ä¹‹é–“çš„éšæ®µå«åšæ¨¡æ¿ç·¨è­¯éšæ®µï¼Œä¸»è¦ç›®çš„ç‚ºå°‡æ¨¡æ¿ç·¨è­¯ç‚º render å‡½å¼ã€‚\næœƒå…ˆåˆ¤æ–·æ˜¯å¦æœ‰æŒ‡å®š el é¸é …ï¼š\n æœ‰ï¼Œç¹¼çºŒå¾€ä¸‹åŸ·è¡Œã€‚ æ²’æœ‰ï¼Œæœƒåœæ­¢ç”Ÿå‘½é€±æœŸï¼Œç›´åˆ°å‘¼å« vm.$mount(el) æ‰æœƒé€²è¡Œä¸‹ä¸€æ­¥ã€‚  æ¥ä¸‹ä¾†ç¹¼çºŒåˆ¤æ–·æ˜¯å¦æŒ‡å®š template é¸é …ï¼š\n æœ‰ï¼Œå°±ç›´æ¥å°‡æ¨¡æ¿ç·¨è­¯ç‚º render å‡½å¼ã€‚ æ²’æœ‰ï¼Œå‰‡ä½¿ç”¨ el é€²è¡Œç·¨è­¯ã€‚  1. beforeMount é‰¤å­ beforeMount é‰¤å­ç™¼ç”Ÿåœ¨åŸ·è¡Œæ›è¼‰ä¹‹å‰ï¼Œè™›æ“¬ DOM å·²ç¶“å»ºç«‹å®Œæˆï¼Œå³å°‡é–‹å§‹æ¸²æŸ“ã€‚\næ›è¼‰éšæ®µ beforeMount é‰¤å­åˆ° mounted é‰¤å­ä¹‹é–“ç‚ºæ›è¼‰éšæ®µï¼Œé€™å€‹éšæ®µ Vue æœƒå°‡è™›æ“¬ DOM æ›è¼‰åˆ°é é¢ä¸Šã€‚\næ›è¼‰å¾Œï¼ŒVue æœƒæŒçºŒè¿½è¹¤è³‡æ–™è®ŠåŒ–ï¼Œç•¶è³‡æ–™ç™¼ç”Ÿæ”¹è®Šæœƒé‡æ–°æ¸²æŸ“ç•«é¢ã€‚\n1. mounted é‰¤å­ mounted é‰¤å­æœƒåœ¨é–‹å§‹æ›è¼‰æ™‚å‘¼å«ï¼š\n å¯ä»¥å° DOM é€²è¡Œæ“ä½œï¼Œä¾‹å¦‚ä½¿ç”¨ $refsï¼› ä½† mounted ä¸æœƒä¿è­‰æ‰€æœ‰çš„å­å…ƒä»¶ä¹Ÿéƒ½ä¸€èµ·è¢«æ›è¼‰ï¼Œå¦‚æœä½ å¸Œæœ›ç­‰åˆ°å…¨éƒ¨æ¸²æŸ“å®Œç•¢ï¼Œå¯ä»¥ç”¨ $nextTick ä¾†ç¢ºä¿ã€‚  2. beforeUpdate beforeUpdate é‰¤å­æœƒåœ¨è³‡æ–™ç™¼ç”Ÿæ”¹è®Šæ™‚å‘¼å«ï¼Œè³‡æ–™é›–ç„¶å·²ç¶“æ›´æ–°ï¼Œä½†ç•«é¢é‚„æ˜¯èˆŠè³‡æ–™ï¼š\n é©åˆåœ¨æ›´æ–°ä¹‹å‰è¨ªå•ç¾æœ‰çš„ DOMï¼Œæ‰‹å‹•ç§»é™¤å·²æ·»åŠ çš„äº‹ä»¶ç›£è½å™¨ã€‚  3. updated updated é‰¤å­æœƒåœ¨ç•«é¢æ›´æ–°å¾Œå‘¼å«ï¼š\n å¯ä»¥åŸ·è¡Œä¾è³´æ–¼ DOM çš„æ“ä½œï¼Œä½†è·Ÿ mounted ä¸€æ¨£ï¼Œä¸ä¿è­‰æ‰€æœ‰çš„å­å…ƒä»¶éƒ½æ›´æ–°å®Œç•¢ï¼Œå¯ä½¿ç”¨ $nextTick ä¾†ç¢ºä¿ï¼› é¿å…åœ¨æ­¤æ›´æ”¹è³‡æ–™ç‹€æ…‹ï¼Œå¯èƒ½æœƒé€ æˆæ­»å¾ªç’°ï¼Œæ‡‰è©²ä½¿ç”¨ watch å±¬æ€§ä¾†è™•ç†ã€‚  éŠ·æ¯€éšæ®µ Vue åœ¨å‘¼å« $destroy() å¾Œï¼Œç”Ÿå‘½é€±æœŸå°±æœƒé€²å…¥éŠ·æ¯€éšæ®µï¼Œå°‡è§£é™¤å¯¦é«”çš„æ‰€æœ‰ç¶å®šã€æ‰€æœ‰äº‹ä»¶ç›£è½ç§»é™¤ã€å­å…ƒä»¶å¯¦é«”ä¹Ÿæœƒè¢«éŠ·æ¯€ã€‚\n1. beforeDestroy beforeDestroy é‰¤å­æœƒåœ¨éŠ·æ¯€ä¹‹å‰å‘¼å«ï¼š\n å¯¦é«”ä»ç„¶å¯ç”¨ï¼› ä¸€èˆ¬æœƒåœ¨é€™åšä¸€äº›æç¤ºã€é‡ç½®æ“ä½œã€‚  2. destroyed destroyed é‰¤å­æœƒåœ¨éŠ·æ¯€å¾Œå‘¼å«ï¼Œæ­¤æ™‚å·²ç¶“ç„¡æ³•æ“ä½œå¯¦é«”äº†ã€‚\nkeep-alive å°ˆå±¬ç”Ÿå‘½é€±æœŸ  activatedï¼šå…ƒä»¶æ¿€æ´»æ™‚å‘¼å«ã€‚ deactivatedï¼šå…ƒä»¶è¢«éŠ·æ¯€æ™‚å‘¼å«ã€‚ ","description":"ç”Ÿå‘½é€±æœŸç°¡å–®ä¾†èªªå°±æ˜¯ã€Œå¾ Vue å¯¦é«”å»ºç«‹åˆ°éŠ·æ¯€çš„éç¨‹ã€ã€‚","id":32,"section":"posts","tags":["Vue","Vueç”Ÿå‘½é€±æœŸ"],"title":"Vue ç”Ÿå‘½é€±æœŸ","uri":"https://chupai.github.io/posts/vue/base/lifecycle/"},{"content":" ç«¹ç™½çš„ Vue è¨˜äº‹æœ¬ ç›®éŒ„\n \rComputed è¨ˆç®— åœ¨å°ˆæ¡ˆé–‹ç™¼ä¸­ï¼Œè³‡æ–™å¾€å¾€éœ€è¦ç¶“éä¸€äº›è™•ç†ï¼ŒVue æä¾›äº† computed é¸é …ï¼Œç”¨ä¾†æ¸›è¼•æ¨¡æ¿ä¸Šçš„è³‡æ–™è™•ç†ï¼Œæ–¹ä¾¿é‡è¤‡åˆ©ç”¨åŠç¶­è­·ã€‚\n1. computed ä»¥åè½‰å­—ä¸²ç‚ºä¾‹ï¼š\n1 2 3  \u0026lt;div id=\u0026#34;app\u0026#34;\u0026gt; \u0026lt;p\u0026gt;{{ message.split(\u0026#39;\u0026#39;).reverse().join(\u0026#39;\u0026#39;) }}\u0026lt;/p\u0026gt; \u0026lt;/div\u0026gt;   è‹¥æ˜¯åœ¨ Mustache ä¸­å¯«ä¸€äº›ç°¡å–®é‹ç®—é‚„èƒ½é¦¬ä¸Šç†è§£ã€‚ä½†åƒä¸Šé¢å¯«ä¸€é•·ä¸²ç¨‹å¼ç¢¼ï¼Œæˆ‘å€‘å¯èƒ½ç„¡æ³•ç«‹åˆ»ç†è§£å®ƒçš„é‚è¼¯ã€‚\nå› æ­¤ï¼Œæˆ‘å€‘å¯ä»¥ä½¿ç”¨è¨ˆç®—å±¬æ€§ï¼Œå°‡ç¨‹å¼ç¢¼æ”¹å¯«æˆé€™æ¨£ï¼š\n1 2 3  \u0026lt;div id=\u0026#34;app\u0026#34;\u0026gt; \u0026lt;p\u0026gt;{{ reversedMessage }}\u0026lt;/p\u0026gt; \u0026lt;/div\u0026gt;   1 2 3 4 5 6 7 8 9 10 11  const vm = new Vue({ el: \u0026#39;#app\u0026#39;, data: { message: \u0026#39;Hello Vue.js!\u0026#39;, }, computed: { reversedMessage() { return this.message.split(\u0026#39;\u0026#39;).reverse().join(\u0026#39;\u0026#39;); }, }, });   é€™æ¨£ä¸ä½†æ–¹ä¾¿é‡è¤‡ä½¿ç”¨èˆ‡ç¶­è­·ï¼Œä¹Ÿèƒ½é¦¬ä¸Šæ˜ç™½é€™æ®µç¨‹å¼ç¢¼çš„æ„æ€ã€‚\nSee the Pen Vue 2.x - Computed by CHUPAIWANG (@CHUPAIWANG) on CodePen.  å¦å¤–è¦æ³¨æ„ï¼Œå› ç‚º Vue æœƒå°‡ computed æ•´åˆåˆ°å¯¦é«”ä¸­ï¼Œå› æ­¤ä¸è¦èˆ‡ dataã€methods é‡è¤‡å®£å‘Šã€‚\r 2. èˆ‡ method çš„å·®ç•° é›–ç„¶ä½¿ç”¨ method ä¸€æ¨£å¯ä»¥é”åˆ°åŒæ¨£çš„æ•ˆæœï¼š\n1 2 3  \u0026lt;div id=\u0026#34;app\u0026#34;\u0026gt; \u0026lt;p\u0026gt;{{ reversedMessage() }}\u0026lt;/p\u0026gt; \u0026lt;/div\u0026gt;   1 2 3 4 5  methods: { reversedMessage() { return this.message.split(\u0026#39;\u0026#39;).reverse().join(\u0026#39;\u0026#39;); }, }   ä½†è¨ˆç®—å±¬æ€§æœƒå°‡çµæœç·©å­˜ï¼Œåªåœ¨ç›¸é—œéŸ¿æ‡‰å¼ä¾è³´ç™¼ç”Ÿæ”¹è®Šæ™‚å®ƒå€‘æ‰æœƒé‡æ–°è¨ˆç®—ã€‚å¦å¤–è¨ˆç®—å±¬æ€§æ²’è¾¦æ³•å‚³å…¥åƒæ•¸ã€‚\néŸ¿æ‡‰å¼ä¾è³´ç™¼ç”Ÿæ”¹è®Šæ˜¯ä»€éº¼æ„æ€å‘¢ï¼Ÿå°±æ˜¯åªæœ‰åœ¨è¨ˆç®—å±¬æ€§ä¸­ä½¿ç”¨è¢«åŠ åˆ°éŸ¿æ‡‰å¼ç³»çµ±çš„è³‡æ–™ç™¼ç”Ÿæ”¹è®Šï¼Œè¨ˆç®—å±¬æ€§æ‰æœƒé‡æ–°è¨ˆç®—ã€‚\nèˆ‰ä¾‹ä¾†èªªï¼ŒDate.now() ä¸¦ä¸æ˜¯éŸ¿æ‡‰å¼ä¾è³´ï¼Œæ‰€ä»¥ä¸¦ä¸æœƒé‡æ–°è¨ˆç®—ã€‚ï¼š\n1 2 3 4 5  computed: { now: function () { return Date.now() } }   é‚„æœ‰ä¸€é»è¦æ³¨æ„ï¼Œè¨ˆç®—å±¬æ€§è¦æœ‰ä½¿ç”¨æ‰æœƒè¨ˆç®—ï¼Œä¸¦ä¸æ˜¯ä¾è³´ç™¼ç”Ÿæ”¹è®Šå°±é‡æ–°è¨ˆç®—ã€‚èˆ‰ä¾‹ä¾†èªªï¼Œæˆ‘å€‘æ²’æœ‰åœ¨ç•«é¢ä¸Šä½¿ç”¨åˆ° c1ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12  const vm = new Vue({ el: \u0026#39;#app\u0026#39;, data: { message: \u0026#39;Hello\u0026#39;, }, computed: { c1() { console.log(\u0026#39;c1\u0026#39;); return this.message + 1 }, }, });   1  \u0026lt;div id=\u0026#34;app\u0026#34;\u0026gt;\u0026lt;/div\u0026gt;   æˆ‘å€‘åœ¨ Console ä¸­æ”¹è®Š message çš„å€¼ï¼Œä¸¦ä¸æœƒå°å‡º 'c1'ï¼Œä¹Ÿå°±æ˜¯èªª c1 ä¸¦æ²’æœ‰è¢«å‘¼å«ï¼š\n1 2  // Console vm.message = \u0026#39;Hi!\u0026#39;;   ä½†æ˜¯å¦‚æœä½ æœ‰ä½¿ç”¨ Vue.js devtoolsï¼Œå®ƒæœƒå…¨éƒ¨å‘¼å«ä¸€æ¬¡æ‰èƒ½é¡¯ç¤ºå€¼çµ¦ä½ ï¼Œå› æ­¤å°±ç®—æ²’åˆ°ä½¿ç”¨ä¹Ÿæœƒå‘¼å«ã€‚\nå›åˆ°å‰›æåˆ°çš„ methodï¼Œæˆ‘å€‘å¾ä»¥ä¸‹ç¨‹å¼ç¢¼ï¼Œå°±å¯ä»¥è§€å¯Ÿåˆ°å…©è€…çš„å·®ç•°ï¼š\n1 2 3 4 5 6 7 8  \u0026lt;div id=\u0026#34;app\u0026#34;\u0026gt; \u0026lt;p\u0026gt;{{ rmComputed }}\u0026lt;/p\u0026gt; \u0026lt;p\u0026gt;{{ rmComputed }}\u0026lt;/p\u0026gt; \u0026lt;p\u0026gt;{{ rmComputed }}\u0026lt;/p\u0026gt; \u0026lt;p\u0026gt;{{ rmMethods() }}\u0026lt;/p\u0026gt; \u0026lt;p\u0026gt;{{ rmMethods() }}\u0026lt;/p\u0026gt; \u0026lt;p\u0026gt;{{ rmMethods() }}\u0026lt;/p\u0026gt; \u0026lt;/div\u0026gt;   1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18  const vm = new Vue({ el: \u0026#39;#app\u0026#39;, data: { message: \u0026#39;Hello Vue.js!\u0026#39;, }, computed: { rmComputed() { console.log(\u0026#39;computed\u0026#39;); return this.message.split(\u0026#39;\u0026#39;).reverse().join(\u0026#39;\u0026#39;); }, }, methods: { rmMethods() { console.log(\u0026#39;methods\u0026#39;); return this.message.split(\u0026#39;\u0026#39;).reverse().join(\u0026#39;\u0026#39;); }, }, });   // Console 'computed' 'methods' 'methods' 'methods' æˆ‘å€‘åœ¨æ¨¡æ¿ä¸­é‡è¤‡è¨ªå•ï¼Œä½ å¯ä»¥ç™¼ç¾ rmComputed åªåŸ·è¡Œä¸€æ¬¡ï¼Œè€Œ rmMethods æœƒåŸ·è¡Œä¸‰æ¬¡ã€‚\nå› ç‚ºï¼Œåªè¦è·Ÿ rmComputed æœ‰é—œçš„ message ä¸è®Šï¼Œå°±ä¸æœƒé‡æ–°è¨ˆç®—ï¼Œæœƒå¾ç·©å­˜å–å¾—çµæœå€¼ã€‚\n3. setter è¨ˆç®—å±¬æ€§å‡½å¼å‹å¼é è¨­ç‚º getterï¼Œä¹Ÿå¯ä»¥æ”¹å¯«æˆç‰©ä»¶å‹å¼æ–°å¢ä¸€å€‹ setterï¼Œç•¶è¨ˆç®—å±¬æ€§è¢«å›å¯« setter å°±æœƒè¢«å‘¼å«ã€‚\n1 2 3 4 5 6 7 8 9 10 11 12 13 14  const vm = new Vue({ computed: { a: { get() { return 10; }, set(newVal) { console.log(\u0026#39;123\u0026#39;); }, }, }, }); vm.a = 0; // \u0026#39;123\u0026#39; ( a è¢«æ”¹è®Šï¼Œæ‰€ä»¥åŸ·è¡Œ console.log(\u0026#39;123\u0026#39;)   æ³¨æ„ï¼Œåªæœ‰ä½¿ç”¨ setter æ™‚ï¼Œæ‰å¯ä»¥å›å¯«è¨ˆç®—å±¬æ€§ã€‚å¦å‰‡é–‹ç™¼ç’°å¢ƒç‰ˆæœ¬çš„ Vue æœƒåœ¨ Console è·³å‡ºè­¦å‘Šã€‚\r æˆ‘å€‘ä¾†çœ‹ä¸€å€‹åŒ¯ç‡è½‰æ›çš„æ‡‰ç”¨ï¼š\n1 2 3 4 5 6 7 8 9  \u0026lt;div id=\u0026#34;app\u0026#34;\u0026gt; \u0026lt;p\u0026gt;å‡è¨­ 1 ç¾å…ƒ = 29.8 å°å¹£\u0026lt;/p\u0026gt; \u0026lt;p\u0026gt;ç¾å…ƒ \u0026lt;input v-model.number=\u0026#34;usd\u0026#34; type=\u0026#34;number\u0026#34; /\u0026gt; \u0026lt;/p\u0026gt; \u0026lt;p\u0026gt;æ–°å°å¹£ \u0026lt;input v-model.number=\u0026#34;twd\u0026#34; type=\u0026#34;number\u0026#34; /\u0026gt; \u0026lt;/p\u0026gt; \u0026lt;/div\u0026gt;   1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16  const vm = new Vue({ el: \u0026#39;#app\u0026#39;, data: { usd: 1, }, computed: { twd: { get() { return this.usd * 29.8; }, set(newVal) { this.usd = newVal / 29.8; }, }, }, });   ç•¶ twd è®ŠåŒ–ï¼Œå°±æœƒå‘¼å« setter æ”¹è®Š usd çš„å€¼ã€‚\nSee the Pen Vue2.x - åŒ¯ç‡è½‰æ› computed by CHUPAIWANG (@CHUPAIWANG) on CodePen.  4. ç¸½çµ è¨ˆç®—å±¬æ€§çš„æ‡‰ç”¨ï¼š\n åˆ†é›¢é‚è¼¯ ç·©å­˜çµæœ é›™å‘ç¶å®šï¼ˆsetter æ‡‰ç”¨ï¼‰  Watch ç›£è½ Vue æä¾›äº†ä¸€ç¨®æ›´é€šç”¨çš„æ–¹å¼ä¾†è§€å¯Ÿå’ŒéŸ¿æ‡‰ Vue å¯¦é«”ä¸Šçš„è³‡æ–™è®Šå‹•ï¼Œé‚£å°±æ˜¯ watch é¸é …ã€‚\n1. watch ç›£è½è³‡æ–™ï¼Œç•¶è³‡æ–™ç™¼ç”Ÿæ”¹è®Šï¼Œæˆ‘å€‘å°±åšæŸä»¶äº‹ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12  const vm = new Vue({ el: \u0026#39;#app\u0026#39;, data: { message: \u0026#39;\u0026#39;, count: 0, }, watch: { message() { this.count += 1; }, }, });   1 2 3 4  \u0026lt;div id=\u0026#34;app\u0026#34;\u0026gt; \u0026lt;input type=\u0026#34;text\u0026#34; v-model=\u0026#34;message\u0026#34; \u0026gt; \u0026lt;p\u0026gt;{{ count }}\u0026lt;/p\u0026gt; \u0026lt;/div\u0026gt;   ç•¶ message ç™¼ç”Ÿè®ŠåŒ–ï¼Œå°±è¨ˆæ•¸ã€‚\nSee the Pen Vue 2.x - Watch by CHUPAIWANG (@CHUPAIWANG) on CodePen.  2. åƒæ•¸ ç•¶ç›£è½çš„è³‡æ–™ç™¼ç”Ÿè®ŠåŒ–ï¼Œé€™å€‹ç›£è½å‡½å¼æœƒå‚³å…¥å…©å€‹åƒæ•¸ï¼Œåˆ†åˆ¥ç‚º newVal èˆ‡ oldValï¼Œè®ŠåŒ–å¾Œçš„æ–°å€¼ã€è®ŠåŒ–å‰çš„èˆŠå€¼ã€‚\n1 2 3 4 5  watch: { message(newVal, oldVal) { // do Something  }, }   See the Pen Vue 2.x - Watch : newVal, oldVal by CHUPAIWANG (@CHUPAIWANG) on CodePen.  3. immediate ç›£è½å±¬æ€§é™¤äº†å‡½å¼ï¼Œä¹Ÿå¯ä»¥å¯«æˆç‰©ä»¶å‹å¼ï¼š\n1 2 3 4 5 6 7  watch: { message: { handler(newVal, oldVal) { // do Something  }, }, }   ç‰©ä»¶å‹å¼æœ‰å…©å€‹é¸é …å¯ä»¥è¨­å®šï¼Œåˆ†åˆ¥ç‚º immediate èˆ‡ deepã€‚\nè³‡æ–™è‹¥æ²’è®Šå‹•ï¼Œå°±ä¸æœƒè§¸ç™¼ç›£è½å‡½å¼ï¼Œè‹¥å¸Œæœ›è³‡æ–™åˆå§‹å€¼ä¹ŸæœƒåŸ·è¡Œ watch çš„å‹•ä½œï¼Œæˆ‘å€‘å¯ä»¥å°‡ immediate è¨­ç‚º trueã€‚\nç›´æ¥çœ‹æ‡‰ç”¨ç¯„ä¾‹ï¼ŒUNIX timestamp æ ¼å¼è½‰æ›ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21  const vm = new Vue({ el: \u0026#39;#app\u0026#39;, data: { date: new Date().toLocaleDateString(), timestamp: null, }, watch: { date: { immediate: true, handler() { this.timestamp = this.turnTimestamp(this.date); }, }, }, methods: { turnTimestamp(date) { const timestamp = Math.floor(new Date(date) / 1000); return timestamp; }, }, });   1 2 3 4 5  \u0026lt;div id=\u0026#34;app\u0026#34;\u0026gt; \u0026lt;input type=\u0026#34;date\u0026#34; v-model=\u0026#34;date\u0026#34; \u0026gt; \u0026lt;p\u0026gt;Date: {{ date }}\u0026lt;/p\u0026gt; \u0026lt;p\u0026gt;UNIX timestamp: {{ timestamp }}\u0026lt;/p\u0026gt; \u0026lt;/div\u0026gt;   å¦‚æœæ²’ä½¿ç”¨ immediate: trueï¼Œå°±éœ€è¦åœ¨ created é‰¤å­ä¸Šåˆå§‹åŒ– timestampï¼š\n1 2 3  created() { this.timestamp = this.turnTimestamp(this.date); }   See the Pen Vue 2.x - Watch : immediate by CHUPAIWANG (@CHUPAIWANG) on CodePen.  4. æ·±åº¦ç›£è½ å¦‚æœ data æ˜¯ç‰©ä»¶ï¼Œè¦ç›£è½è£¡é¢çš„å±¬æ€§è®ŠåŒ–ï¼Œè©²æ€éº¼åšå‘¢ï¼Ÿ\nç‰©ä»¶å‹å¼çš„å¦ä¸€å€‹é¸é …ç‚º deep æ·±åº¦ç›£è½ï¼Œè¨­ç‚º true å³å¯ï¼Œåªè¦å…¶ä¸­ä¸€å€‹å±¬æ€§å€¼ç™¼ç”Ÿè®ŠåŒ–ï¼Œå°±æœƒåŸ·è¡ŒæŒ‡å®šå‹•ä½œã€‚\n1 2 3 4 5 6 7 8 9 10 11 12 13 14  data:{ object: { a: \u0026#39;\u0026#39;, b: \u0026#39;\u0026#39;, } }, watch: { object: { deep: true, handler() { // do Something  }, }, }   5. ç¸½çµ ä»»ä½•å¯ä»¥ä½¿ç”¨ computed çš„åŠŸèƒ½ï¼Œéƒ½èƒ½ä½¿ç”¨ watch å®Œæˆï¼Œå› æ­¤å¾ˆå®¹è‡ªé€ æˆæ¿«ç”¨ watchã€‚\nç°¡å–®çš„å€åˆ†ä½¿ç”¨å ´æ™¯ï¼š\n ç°¡å–®ä¸”å–®ç´”çš„è³‡æ–™æ“ä½œä¸¦ç”¨æ–¼ç•«é¢ä¸Šï¼Œç›¡é‡ä½¿ç”¨ computedï¼› å¦‚æœéœ€è§¸ç™¼è¡Œç‚ºå†ä½¿ç”¨ watchã€‚  éåŒæ­¥æ“ä½œå°±åªèƒ½ä½¿ç”¨ watchã€‚\n","description":"è³‡æ–™è¨ˆç®— èˆ‡ è³‡æ–™ç›£è½ã€‚","id":33,"section":"posts","tags":["Vue","computed","watch"],"title":"è¨ˆç®— \u0026 ç›£è½","uri":"https://chupai.github.io/posts/vue/base/computedwatch/"},{"content":" ç«¹ç™½çš„ Vue è¨˜äº‹æœ¬ ç›®éŒ„\n \rè³‡æ–™ç¶å®š Vue ä½œç‚ºè³‡æ–™é©…å‹•ç•«é¢çš„æ¡†æ¶ï¼Œé¦–å…ˆå¿…é ˆè¦äº†è§£å¦‚ä½•å°‡è³‡æ–™åœ¨ç•«é¢ä¸­å±•ç¤ºå‡ºä¾†ã€‚\nå‚³çµ± Web æ˜¯é€éå¾Œç«¯çš„æ¨£æ¿å¼•æ“ä¾†é€²è¡Œè³‡æ–™èˆ‡ç•«é¢çš„æ¸²æŸ“ï¼Œæœƒå°è‡´å‰å¾Œç«¯èªæ³•äº¤é›œåœ¨ä¸€èµ·ï¼ˆå‰ç«¯ HTML æ–‡ä»¶åŒ…å«äº†å¾Œç«¯æ¨£æ¿å¼•æ“çš„èªæ³•ï¼‰ï¼Œè€Œä¸”æ¸²æŸ“å¾Œè¦å†æ¬¡ä¿®æ”¹ç•«é¢ï¼Œå°±åªèƒ½é€éç²å– DOM çš„æ–¹æ³•é€²è¡Œä¿®æ”¹ï¼Œä¾†ä¿æŒç•«é¢èˆ‡è³‡æ–™çš„ä¸€è‡´ã€‚\nVue çš„æ ¸å¿ƒæ˜¯ä¸€å€‹éŸ¿æ‡‰å¼çš„è³‡æ–™ç¶å®šç³»çµ±ï¼Œå»ºç«‹ç¶å®šå¾Œï¼ŒDOM å°‡å’Œè³‡æ–™ä¿æŒåŒæ­¥ï¼Œé€™æ¨£å°±ä¸éœ€è¦æ‰‹å‹•ç¶­è­· DOMï¼Œä½¿ç¨‹å¼ç¢¼èƒ½å¤ æ›´åŠ ç°¡æ½”æ˜“æ‡‚ï¼Œæå‡æ•ˆç‡ã€‚\næ–‡å­— Text æœ€åŸºç¤çš„å½¢å¼å°±æ˜¯æ–‡å­—ï¼Œä½¿ç”¨é›™å¤§æ‹¬è™Ÿ {{}}ï¼ˆMustache èªæ³•ï¼‰ã€‚\nèªæ³•ç¯„ä¾‹ï¼š\n1 2 3  data: { message: \u0026#39;Hello Vue.js!\u0026#39;, }   1 2 3 4  \u0026lt;p\u0026gt;{{ message }}\u0026lt;/p\u0026gt; \u0026lt;!-- HTML å°‡è¢«æ¸²æŸ“æˆ --\u0026gt; \u0026lt;p\u0026gt;Hello Vue.js!\u0026lt;/p\u0026gt;   Mustache èªæ³•ä¸­çš„è®Šæ•¸æœƒå» Vue å¯¦é«”ä¸­æ‰¾ã€‚\næ–‡å­—é™¤äº†ä½¿ç”¨ Mustache èªæ³•ï¼Œv-text æŒ‡ä»¤ä¹Ÿå¯ä»¥æ¸²æŸ“æ–‡å­—ï¼š\n1 2 3 4  \u0026lt;p v-text=\u0026#34;message\u0026#34;\u0026gt;\u0026lt;/p\u0026gt; \u0026lt;!-- ç­‰åŒ --\u0026gt; \u0026lt;p\u0026gt;{{ message }}\u0026lt;/p\u0026gt;   å·®ç•°åœ¨æ–¼ï¼Œä½¿ç”¨ v-text æœƒå–ä»£åŸæœ¬å…ƒç´ çš„å…§å®¹ï¼Œè€Œä½¿ç”¨ Mustache èªæ³•å¯ä»¥åˆä½µå…§å®¹ï¼š\n1 2 3 4  \u0026lt;p\u0026gt;messageï¼š{{ message }}\u0026lt;/p\u0026gt; \u0026lt;!-- ç­‰åŒ --\u0026gt; \u0026lt;p\u0026gt;messageï¼šHello Vue.js!\u0026lt;/p\u0026gt;   è‹¥åŒæ™‚ä½¿ç”¨ï¼ŒMustache èªæ³•æœƒè¢« v-text å–ä»£ã€‚\nv-once å¦‚æœå…ƒç´ ä¸Šæ‰€ç¶å®šçš„è³‡æ–™åªéœ€è¦æ¸²æŸ“ä¸€æ¬¡ï¼Œä¹‹å¾Œä¸æœƒåœ¨æ›´æ–°å®ƒï¼Œå¯ä»¥ä½¿ç”¨ v-once æŒ‡ä»¤ï¼ŒåŠ©æ–¼å„ªåŒ–æ›´æ–°æ€§èƒ½ï¼š\n1  \u0026lt;p v-once\u0026gt;Message: {{ message }}\u0026lt;/p\u0026gt;   CodePen Demoï¼šVue 2.x - v-once\nå¯ç”¨æ–¼ä½é–‹éŠ·çš„éœæ…‹å…ƒä»¶ä¸Šã€‚\nHTML æ¨™ç±¤ å¦‚æœè¦å°‡è³‡æ–™æ¸²æŸ“æˆ HTML æ¨™ç±¤ï¼Œå°±éœ€è¦ä½¿ç”¨ v-html æŒ‡ä»¤ã€‚\n1 2 3 4  \u0026lt;p v-html=\u0026#34;\u0026#39;\u0026lt;span\u0026gt;123\u0026lt;/span\u0026gt;\u0026#39;\u0026#34;\u0026gt;\u0026lt;/p\u0026gt; \u0026lt;!-- HTML å°‡è¢«æ¸²æŸ“æˆ --\u0026gt; \u0026lt;p\u0026gt;\u0026lt;span\u0026gt;123\u0026lt;/span\u0026gt;\u0026lt;/p\u0026gt;   ä½¿ç”¨ v-html çš„å…ƒç´ ï¼Œè‹¥æœ‰å…§å®¹æœƒè¢«å–ä»£æ‰ï¼š\n1 2 3 4  \u0026lt;p v-html=\u0026#34;\u0026#39;\u0026lt;span\u0026gt;123\u0026lt;/span\u0026gt;\u0026#39;\u0026#34;\u0026gt;æŸæ®µå…§å®¹\u0026lt;/p\u0026gt; \u0026lt;!-- HTML å°‡è¢«æ¸²æŸ“æˆ --\u0026gt; \u0026lt;p\u0026gt;\u0026lt;span\u0026gt;123\u0026lt;/span\u0026gt;\u0026lt;/p\u0026gt;   ä¸é v-html å¯ä»¥ä¸ä½¿ç”¨ï¼Œç›¡å¯èƒ½ä¸ä½¿ç”¨ã€‚\nAttributes Mustache èªæ³•ä¸èƒ½ä½œç”¨åœ¨ HTML atributes ä¸Šï¼Œé€™æ™‚å¯ä»¥ä½¿ç”¨ v-bind æŒ‡ä»¤ï¼š\n1  \u0026lt;div v-bind:id=\u0026#34;dynamicId\u0026#34;\u0026gt;\u0026lt;/div\u0026gt;   æ›´è©³ç´°çš„èªªæ˜æœƒåœ¨ç‰¹æ€§ç¶å®šä»‹ç´¹ã€‚\nJavaScript Expressions Vue.js æä¾›äº†å®Œå…¨çš„ JavaScript Expressionsï¼ˆè¡¨é”å¼ï¼‰æ”¯æŒã€‚\nèˆ‰ä¾‹ä¾†èªªï¼š\n1 2 3 4 5 6  \u0026lt;p\u0026gt;{{ 1 + 1 }}\u0026lt;/p\u0026gt; \u0026lt;p\u0026gt;{{ \u0026#39;Hello\u0026#39;.split(\u0026#39;\u0026#39;).reverse().join(\u0026#39;\u0026#39;) }}\u0026lt;/p\u0026gt; \u0026lt;!-- HTML å°‡è¢«æ¸²æŸ“æˆ --\u0026gt; \u0026lt;p\u0026gt;{{ 2 }}\u0026lt;/p\u0026gt; \u0026lt;p\u0026gt;olleH\u0026lt;/p\u0026gt;   ä½†è¦æ³¨æ„çš„æ˜¯ï¼Œåªæ”¯æŒè¡¨é”å¼ï¼Œä¸¦ä¸æ”¯æŒèªå¥ï¼Œèˆ‰ä¾‹ä¾†èªªï¼š\n1 2 3  \u0026lt;p\u0026gt;{{ var a = 1 }}\u0026lt;/p\u0026gt; \u0026lt;p\u0026gt;{{ if (ok) { return message } }}\u0026lt;/p\u0026gt;   ä»¥ä¸Šçš†æœƒæ‹‹å‡ºéŒ¯èª¤ã€‚æ¢ä»¶åˆ¤æ–·ï¼Œå¯ä»¥æ”¹ç”¨ä¸‰å…ƒé‹ç®—å­ã€‚\nå¦å¤–é‚„æœ‰ä¸€é»ï¼Œé™¤äº†æŸäº› ç™½åå–®ä¸­ ä¸­çš„å…¨åŸŸè®Šæ•¸å¤–ï¼Œä¸èƒ½ä½¿ç”¨å…¶ä»–è‡ªå®šç¾©çš„å…¨åŸŸè®Šæ•¸ã€‚\nä¹Ÿå°±æ˜¯èªªï¼Œæˆ‘å€‘èƒ½ç›´æ¥ä½¿ç”¨ Dateï¼š\n1 2 3 4  \u0026lt;p\u0026gt;ç‰ˆæ¬Šæ‰€æœ‰ {{ \u0026#39;Â© \u0026#39; + new Date().getFullYear() }}\u0026lt;/p\u0026gt; \u0026lt;!-- HTML å°‡è¢«æ¸²æŸ“æˆ --\u0026gt; \u0026lt;p\u0026gt;ç‰ˆæ¬Šæ‰€æœ‰ Â© 2020\u0026lt;/p\u0026gt;   æ˜¯å› ç‚º Date ç‰©ä»¶æœ‰åœ¨ç™½åå–®å…§ã€‚\nè‹¥æ˜¯ç¬¬ä¸‰æ–¹å‡½å¼åº«ï¼ˆä¾‹å¦‚ jQuery çš„ $ï¼‰ï¼Œæˆ–æ˜¯è‡ªè¨‚ç¾©å…¨åŸŸç‰©ä»¶ï¼Œå°±ç„¡æ³•åœ¨ Mustache èªæ³•ä¸­ä½¿ç”¨ã€‚\n","description":"Vue ä½œç‚ºè³‡æ–™é©…å‹•ç•«é¢çš„æ¡†æ¶ï¼Œé¦–å…ˆå¿…é ˆè¦äº†è§£å¦‚ä½•å°‡è³‡æ–™åœ¨ç•«é¢ä¸­å±•ç¤ºå‡ºä¾†ã€‚","id":34,"section":"posts","tags":["Vue"],"title":"è³‡æ–™æ¸²æŸ“","uri":"https://chupai.github.io/posts/vue/base/datarender/"},{"content":" ç«¹ç™½çš„ Vue è¨˜äº‹æœ¬ ç›®éŒ„\n Vue çš„è³‡æ–™èˆ‡æ–¹æ³•ã€‚\n\rData è³‡æ–™ è³‡æ–™ data é¸é …æ˜¯ç”¨ä¾†å„²å­˜ Vue å¯¦é«”çš„è³‡æ–™/ç‹€æ…‹ã€‚æ¥å—ä¸€å€‹ç‰©ä»¶æˆ–æ˜¯ function å½¢å¼çš„ç‰©ä»¶ï¼ˆå…ƒä»¶é™åˆ¶ï¼‰ã€‚\n1. data ç•¶ä¸€å€‹ Vue å¯¦é«”è¢«å»ºç«‹æ™‚ï¼Œå®ƒæœƒå°‡ data ç‰©ä»¶ä¸­çš„æ‰€æœ‰å±¬æ€§åŠ å…¥åˆ° Vue çš„ éŸ¿æ‡‰å¼ç³»çµ± ä¸­ï¼Œå¾è€Œè®“ data çš„å±¬æ€§èƒ½å¤ éŸ¿æ‡‰å¼æ›´æ–°ã€‚\nèˆ‰ä¾‹ä¾†èªªï¼Œæˆ‘å€‘å®šç¾©å€‹è³‡æ–™å±¬æ€§ messageï¼š\n1 2 3 4 5 6  const vm = new Vue({ el: \u0026#39;#app\u0026#39;, data: { message: \u0026#39;Hello Vue.js!\u0026#39;, }, });   é€™å€‹è³‡æ–™å±¬æ€§å°±å¯ä»¥åœ¨å¯¦é«”å°æ‡‰çš„ Vue App ä¸­é€²è¡Œä½¿ç”¨ã€‚\næˆ‘å€‘èƒ½ç”¨ Vue çš„æ¨¡æ¿èªæ³• Mustache å°‡è³‡æ–™å‘ˆç¾åœ¨ç•«é¢ä¸Šï¼š\n1 2 3  \u0026lt;div id=\u0026#34;app\u0026#34;\u0026gt; \u0026lt;p\u0026gt;{{ message }}\u0026lt;/p\u0026gt; \u0026lt;/div\u0026gt;   è‹¥è³‡æ–™å±¬æ€§çš„å€¼ç™¼ç”Ÿæ”¹è®Šæ™‚ï¼Œç•«é¢å°‡æœƒç”¢ç”Ÿã€ŒéŸ¿æ‡‰ã€ï¼Œå³åŒ¹é…æ›´æ–°ç‚ºæ–°çš„å€¼ã€‚\nä¾‹å¦‚ï¼Œæ–°å¢ä¸€å€‹ç”¨ä¾†æ”¹è®Š message å€¼çš„æŒ‰éˆ•ï¼š\n1  \u0026lt;button @click=\u0026#34;message = \u0026#39;Hi!\u0026#39;\u0026#34;\u0026gt;Change\u0026lt;/button\u0026gt;   See the Pen Vue 2.x - Data by CHUPAIWANG (@CHUPAIWANG) on CodePen.  ä½†æ˜¯ï¼Œåªæœ‰ç•¶å¯¦é«”è¢«å»ºç«‹æ™‚ï¼Œå°±å·²ç¶“å­˜åœ¨æ–¼ data ä¸­çš„å±¬æ€§æ‰æ˜¯éŸ¿æ‡‰å¼çš„ï¼Œé€™éƒ¨åˆ†æˆ‘å€‘æœƒåœ¨ è³‡æ–™ç„¡æ³•éŸ¿æ‡‰ ä¸­èªªæ˜ã€‚\r 2. è¨ªå•è³‡æ–™ Vue å¯¦é«”å»ºç«‹ä¹‹å¾Œï¼Œæˆ‘å€‘å¯ä»¥ä½¿ç”¨ $data ä¾†è¨ªå•è³‡æ–™ç‰©ä»¶ã€‚\nå¦å¤– Vue å¯¦é«”ä¹Ÿä»£ç†äº† data ç‰©ä»¶ä¸Šæ‰€æœ‰çš„å±¬æ€§ï¼Œå› æ­¤è¨ªå• vm.message ç­‰åŒè¨ªå• vm.$data.messageã€‚\n1 2  // Console vm.message === vm.$data.message; // true   3. Object.freeze() Vue æœƒéæ­· data ä¸­çš„æ‰€æœ‰å±¬æ€§ï¼Œä¸¦ä½¿ç”¨ Object.defineProperty å°‡å±¬æ€§åš getterã€setter æ”¹é€ ï¼Œä»¥ä¾¿ç›£æ§ç‹€æ…‹çš„æ›´æ–°ï¼ˆéŸ¿æ‡‰å¼æ›´æ–°ï¼‰ã€‚\n1 2 3 4 5 6 7  const data = { message: \u0026#39;Hello Vue.js!\u0026#39; }; const vm = new Vue({ data, }); conosle.log(data);   æˆ‘å€‘å°å‡ºä¾†è§€å¯Ÿï¼Œå°±æœƒç™¼ç¾è³‡æ–™ç‰©ä»¶å·²ç¶“ä¸æ˜¯åŸä¾†çš„æ™®é€šç‰©ä»¶ï¼š\nè‹¥æ˜¯ä½¿ç”¨ Object.freeze() å°‡ç‰©ä»¶å‡çµï¼Œé€™æœƒé˜»æ­¢ Vue ä¿®æ”¹å±¬æ€§ï¼Œä¹Ÿå°±èªªå®ƒå°‡ä¸æœƒéŸ¿æ‡‰å¼æ›´æ–°ã€‚\né€™æœ‰ä»€éº¼å¥½è™•ï¼Ÿè‹¥ä»Šå¤©æœ‰ä¸€ç­†è³‡æ–™ï¼Œåªæ˜¯ç´”å±•ç¤ºç”¨çš„ï¼Œæ ¹æœ¬ä¸éœ€è¦å°å®ƒé€²è¡Œç›£è½ï¼Œé€™æ™‚å°±å¯ä»¥ä½¿ç”¨ Object.freeze() ä¾†æå‡æ€§èƒ½ã€‚å¦ä¸€ç¨®åšæ³•æ˜¯ï¼Œå°‡é€™ç­†è³‡æ–™æ”¾é€² computed å±¬æ€§ä¸­ï¼Œå› ç‚º computed å±¬æ€§åªæœ‰ä¾è³´çš„éŸ¿æ‡‰å¼å±¬æ€§è®ŠåŒ–æ‰æœƒé‡æ–°è¨ˆç®—ã€‚\næœ‰äººæœƒå•ï¼Œç‚ºä»€ä¸ç›´æ¥æ”¾åœ¨å…¨åŸŸå‘¢ï¼Ÿå› ç‚ºæ”¾åœ¨å…¨åŸŸå°±ä¸èƒ½ç”¨æ–¼æ¨¡æ¿èªæ³•ä¸Šäº†ã€‚\n4. å…§å»ºå±¬æ€§ Vue å…§å»ºçš„å¯¦é«”å±¬æ€§èˆ‡æ–¹æ³•ã€‚å®ƒå€‘éƒ½æœ‰å‰ç¶´ $ ä»¥ä¾¿èˆ‡ç”¨æˆ¶å®šç¾©çš„å±¬æ€§å€åˆ†é–‹ä¾†ã€‚\nå› æ­¤åœ¨ data è³‡æ–™ç‰©ä»¶å…§ï¼Œä»¥ _ æˆ– $ é–‹é ­çš„å±¬æ€§ä¸æœƒè¢« Vue å¯¦é«”ä»£ç†ï¼Œå› ç‚ºå®ƒå€‘å¯èƒ½è¡çªã€‚\n å¯¦é«”å±¬æ€§ å¯¦é«”æ–¹æ³• / è³‡æ–™ å¯¦é«”æ–¹æ³• / äº‹ä»¶ å¯¦é«”æ–¹æ³• / ç”Ÿå‘½é€±æœŸ  Methods æ–¹æ³• methods é¸é …ï¼Œå°±æ˜¯ç”¨ä¾†å­˜æ”¾å‡½å¼çš„ï¼Œä¹Ÿå°±æ˜¯æ–¹æ³•ï¼Œå’Œä¸€èˆ¬çš„å‡½å¼æ²’æœ‰å€åˆ¥ã€‚\n1. methods å®šç¾©æ–¹æ³•ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12  const vm = new Vue({ el: \u0026#39;#app\u0026#39;, data: { a: 1, b: 2, }, methods: { add() { return this.a + this.b; }, }, });   é€™è£¡çš„ this è‡ªå‹•ç¶å®šç‚º Vue å¯¦é«”ï¼ˆä¹Ÿå°±æ˜¯ vmï¼‰ï¼Œå› æ­¤å¯ä»¥é€é this å–å¾— data è³‡æ–™ç‰©ä»¶å…§çš„å±¬æ€§ã€‚\næˆ‘å€‘ä¹Ÿå¯ä»¥ç›´æ¥åœ¨ Mustache èªæ³•ä¸­å‘¼å«æ–¹æ³•ï¼š\n1 2 3  \u0026lt;div id=\u0026#34;app\u0026#34;\u0026gt; \u0026lt;p\u0026gt;{{ add() }}\u0026lt;/p\u0026gt; \u0026lt;/div\u0026gt;   é›–ç„¶åœ¨ Mustache èªæ³•ä¸­ä½¿ç”¨æ–¹æ³•ï¼Œä¹Ÿæœƒæ ¹æ“šä¾è³´çš„éŸ¿æ‡‰å¼å±¬æ€§è®ŠåŒ–é‡æ–°è¨ˆç®—ï¼Œä½†å®ƒæ²’æœ‰ç·©å­˜ï¼Œæ‰€ä»¥é‡è¤‡ä½¿ç”¨æœƒé‡è¤‡è¨ˆç®—ã€‚\nCodePen Demoï¼šVue 2.x - Methods\nmethods åŸºæœ¬ä¸Šæ²’ä»€éº¼ç‰¹åˆ¥çš„ï¼Œå”¯ä¸€è¦æ³¨æ„çš„ï¼Œå°±æ˜¯ä¸è¦ä½¿ç”¨ç®­é ­å‡½å¼ï¼ˆarrow functionï¼‰å®šç¾©æ–¹æ³•ï¼Œå› ç‚ºæœƒæ”¹è®Š this çš„æŒ‡å‘ã€‚\r æ›´å¤šé—œæ–¼ methods æ‡‰ç”¨ï¼Œæœƒåœ¨äº‹ä»¶ç¶å®šä¸­æåˆ°ã€‚\n2. è¨ªå•æ–¹æ³• methods ä¸­çš„æ–¹æ³•å°‡è¢«æ··å…¥åˆ° Vue å¯¦é«”ä¸­ï¼Œå¯ä»¥ç›´æ¥è¨ªå•é€™äº›æ–¹æ³•ï¼š\n1  vm.add();   æ‰€ä»¥æˆ‘å€‘è¦åœ¨å¦ä¸€å€‹æ–¹æ³•ä¸­å‘¼å«å…¶ä»–æ–¹æ³•ï¼Œä¹Ÿæ˜¯ä½¿ç”¨ thisã€‚\n1 2 3 4 5 6 7 8  methods: { foo() { // ...  }, boo() { this.foo(); }, }   ","description":"Vue çš„è³‡æ–™èˆ‡æ–¹æ³•ã€‚","id":35,"section":"posts","tags":["Vue"],"title":"è³‡æ–™ \u0026 æ–¹æ³•","uri":"https://chupai.github.io/posts/vue/base/datamethods/"},{"content":" ç«¹ç™½çš„ Vue è¨˜äº‹æœ¬ ç›®éŒ„\n Vue çš„å¯¦é«”ï¼ˆInstanceï¼‰æ˜¯ Vue.js çš„æ ¸å¿ƒï¼Œæ¯å€‹ Vue App éƒ½æ˜¯å¾å»ºç«‹å¯¦é«”é–‹å§‹ã€‚\n\rå»ºç«‹ Vue å¯¦é«” Vue å¯¦é«”æ˜¯é€é Vue Constructorï¼ˆå»ºæ§‹å¼ï¼‰æ‰€ç”¢ç”Ÿï¼Œåœ¨å¯¦é«”åŒ–æ™‚ï¼Œå¯å‚³å…¥ä¸€å€‹é¸é …ç‰©ä»¶ï¼ˆOptionsï¼‰ã€‚\n1 2 3  const vm = new Vue({ // options });   å„²å­˜ Vue å¯¦é«”çš„è®Šæ•¸åç¨±å¸¸è¦‹çš„ç¸®å¯«æœ‰ vmï¼ˆViewModel è¦–åœ–æ¨¡å‹ï¼‰å’Œ appï¼ˆapplication æ‡‰ç”¨ç¨‹å¼ï¼‰ã€‚\nè‹¥ä¹‹å¾Œæ²’æœ‰è¦æ“ä½œé€™å€‹å¯¦é«”çš„ç‹€æ…‹ï¼Œå¯ä»¥ä¸æŒ‡å®šè®Šæ•¸ç›´æ¥ä½¿ç”¨ã€‚\né¸é … å‚³å…¥ Vue å¯¦é«”çš„é¸é …ç‰©ä»¶åŒ…å«é€™å€‹ Vue å¯¦é«”éœ€è¦ç”¨åˆ°çš„å±¬æ€§ï¼Œä¾‹å¦‚ï¼š\n elï¼šç”¨ä¾†æ›è¼‰ Vue å¯¦é«”å…ƒç´  dataï¼šè¦ç¶å®šçš„è³‡æ–™/ç‹€æ…‹ methodsï¼šå®šç¾©åœ¨ Vue å¯¦é«”å…§ä½¿ç”¨çš„æ–¹æ³•ï¼ˆå‡½å¼ï¼‰ watchï¼šç”¨ä¾†è§€å¯Ÿ Vue å¯¦é«”å…§è³‡æ–™çš„è®Šå‹• propsï¼šå…ƒä»¶æ¥æ”¶å¤–éƒ¨è³‡æ–™çš„å±¬æ€§ ç­‰ç­‰\u0026hellip;  æ›è¼‰ DOM å…ƒç´  el å±¬æ€§ç‚º element ç¸®å¯«ï¼Œä½œç”¨ç‚ºæ›è¼‰ Vue å¯¦é«”èˆ‡ DOM å…ƒç´ çš„é—œä¿‚ï¼ˆæ­¤å…ƒç´ ç‚ºæ ¹å…ƒç´ ï¼‰ï¼Œæ˜¯ Vue App çš„ä½œç”¨ç¯„åœã€‚\n1  \u0026lt;div id=\u0026#34;app\u0026#34;\u0026gt;\u0026lt;/div\u0026gt;   1 2 3  const vm = new Vue({ el: \u0026#39;#app\u0026#39;, });   el é¡å‹ç‚º string æˆ– Elementï¼Œä¹Ÿå°±æ˜¯ CSS é¸æ“‡å™¨æˆ– DOM ç‰©ä»¶ã€‚\nel åªåœ¨ç”¨ new å‰µå»ºå¯¦é«”æ™‚ç”Ÿæ•ˆã€‚åœ¨å¯¦é«”æ›è¼‰å¾Œï¼Œå…ƒç´ å¯ä»¥ç”¨ vm.$el è¨ªå•ã€‚\n1 2  // Console vm.$el; // \u0026lt;div id=\u0026#39;app\u0026#39;\u0026gt;\u0026lt;/div\u0026gt;   é™¤äº†é€éé¸é …ç‰©ä»¶ el å±¬æ€§æ›è¼‰ DOM å¤–ï¼Œæˆ‘å€‘é‚„èƒ½é€é $mount() é€²è¡Œæ‰‹å‹•æ›è¼‰ã€‚\n1 2 3  const vm = new Vue({}); vm.$mount(\u0026#39;#app\u0026#39;);   CodePen Demoï¼šVue 2.x - Instance\n","description":"Vue çš„å¯¦é«”ï¼ˆInstanceï¼‰æ˜¯ Vue.js çš„æ ¸å¿ƒï¼Œæ¯å€‹ Vue App éƒ½æ˜¯å¾å»ºç«‹å¯¦é«”é–‹å§‹ã€‚","id":36,"section":"posts","tags":["Vue","Vueå¯¦é«”"],"title":"Vue å¯¦é«”","uri":"https://chupai.github.io/posts/vue/base/instance/"},{"content":"Vue å…è²»å­¸ç¿’è³‡æº\nå®˜æ–¹  æ•™ç¨‹ é¢¨æ ¼æŒ‡å—  é›»å­æ›¸  Learning Vue.js eBook é‡æ–°èªè­˜ Vue.js Vue.js æŠ€è¡“æ­ç§˜ æ·±å…¥ç†è§£Vue.jså¯¦æˆ° ä½ ä¹Ÿè¨±ä¸çŸ¥é“çš„ Vuejs  å­—å…¸  Vue3+ \u0026amp; Vue-CLI3+ å¼€å‘ç”Ÿæ€åœˆèµ„è®¯  å½±ç‰‡ Alex å®…å¹¹å˜›ï¼š\n Vue.js æ‰‹ç‰½æ‰‹ï¼Œä¸€èµ·å—‘å…‰å…¨å®¶æ¡¶ Re Vue é‡é ­èªªèµ· ç¬¬ä¸€å­£ Re Vue é‡é ­èªªèµ· ç¬¬äºŒå­£  è·Ÿå±±åœ°äººå­¦å‰ç«¯ï¼š\n Vue.jsè‡ªå­¦ç³»åˆ—æ•™ç¨‹ è·Ÿå±±åœ°äººå­¦Vue CLIç³»åˆ—æ•™ç¨‹ è·Ÿå±±åœ°äººå­¦Vue Routerç³»åˆ—æ•™ç¨‹ è·Ÿå±±åœ°äººå­¦Vuexç³»åˆ—æ•™ç¨‹ è·Ÿå±±åœ°äººå®æˆ˜Vueç³»åˆ—æ•™ç¨‹ ","description":"Vue å…è²»å­¸ç¿’è³‡æº","id":37,"section":"posts","tags":["Vue","å…è²»å­¸ç¿’è³‡æº"],"title":"Vue å…è²»å­¸ç¿’è³‡æº","uri":"https://chupai.github.io/posts/vue/freelearn/"},{"content":"ç›®å‰ç­†è¨˜ä»¥ Vue 2 ç‚ºä¸»ï¼Œä¹‹å¾Œæœƒæ–°å¢ Vue 3ã€‚\n\rå­¸ç¿’  å…è²»å­¸ç¿’è³‡æº  åŸºç¤  Vue å¯¦é«” è³‡æ–™ \u0026amp; æ–¹æ³• è³‡æ–™æ¸²æŸ“ è³‡æ–™è¨ˆç®— \u0026amp; è³‡æ–™ç›£è½ Vue ç”Ÿå‘½é€±æœŸ è³‡æ–™ç„¡æ³•éŸ¿æ‡‰  æŒ‡ä»¤ Directives  æŒ‡ä»¤æ¦‚è¿° ç‰¹æ€§ç¶å®š æ¢ä»¶æ¸²æŸ“ \u0026amp; åˆ—è¡¨æ¸²æŸ“ äº‹ä»¶ç¶å®š è¡¨å–®è³‡æ–™çš„é›™å‘ç¶å®š  å…ƒä»¶ Component  å…ƒä»¶åŸºç¤ Prop è‡ªå®šç¾©äº‹ä»¶ Slot æ’æ§½  é‡ç”¨ è½‰å ´ \u0026amp; å‹•ç•« Vue Router  Vue Router - åŸºç¤ Vue Router - å‹•æ…‹è·¯ç”±åŒ¹é… Vue Router - å·¢ç‹€è·¯ç”± Vue Router - ç¨‹å¼æ§åˆ¶ Vue Router - å‘½åè·¯ç”± \u0026amp; å‘½åè¦–åœ– Vue Router - é‡æ–°å°å‘ \u0026amp; åˆ«å Vue Router - è·¯ç”±å…ƒä»¶å‚³é Vue Router - å°èˆªå®ˆè¡› Vue Router - æ¬Šé™æ§åˆ¶ Vue Router - æ»¾å‹•è¡Œç‚º Vue Router - æ¨¡çµ„åŒ–ç®¡ç†  Vue å°ˆæ¡ˆåŒ– Vuex  Vuex - èµ·æ‰‹å¼ Vuex - æ ¸å¿ƒæ¦‚å¿µ Vuex - Module Vuex - æ³¨æ„äº‹é …  Vue å¥—ä»¶ Vue UI é¢¨æ ¼","description":"ç«¹ç™½çš„ Vue è¨˜äº‹æœ¬ ç›®éŒ„","id":38,"section":"posts","tags":["Vue"],"title":"ç«¹ç™½çš„ Vue è¨˜äº‹æœ¬ ç›®éŒ„","uri":"https://chupai.github.io/posts/vue/menu/"},{"content":"é€™é€±æ˜¯å…­è§’é¼ å¹´éµäººè³½ç¬¬ä¸‰åäº”é€±ã€‚\n\rä½•è¬‚å›æº¯æ³• å›æº¯æ³•ï¼ˆBacktrackingï¼‰æ˜¯æš´åŠ›æœå°‹æ³•ï¼ˆçª®èˆ‰æœå°‹ã€æšèˆ‰æ³•ï¼‰ä¸­çš„ä¸€ç¨®ã€‚ç”¨è©¦éŒ¯çš„æ€æƒ³ï¼Œåœ¨åˆ†æ­¥è§£æ±ºå•é¡Œçš„éç¨‹ä¸­ï¼Œç•¶æ¢ç´¢åˆ°æŸä¸€æ­¥æ™‚ï¼Œç™¼ç¾åŸå…ˆé¸æ“‡ä¸¦ä¸èƒ½å¾—åˆ°æœ‰æ•ˆçš„æ­£ç¢ºçš„è§£ç­”çš„æ™‚å€™ï¼Œå°±é€€å›ä¸€æ­¥ç”šè‡³æ˜¯ä¸Šå¹¾æ­¥çš„è¨ˆç®—é‡æ–°é¸æ“‡ã€‚\nå¯ä»¥åˆ†ç‚ºå…©å€‹æ¦‚å¿µï¼š\n æšèˆ‰ enumerateï¼šæ¯ä¸€æ­¥åˆ—å‡ºæ‰€æœ‰å¯èƒ½çš„ä¸‹ä¸€æ­¥ä¸€ä¸€æ¸¬è©¦ã€‚ å‰ªæ pruningï¼šé‡åˆ°ä¸ç¬¦åˆæ¢ä»¶çš„ä¸‹ä¸€æ­¥ä¾¿çœç•¥ï¼Œä¸å†ç¹¼çºŒæšèˆ‰ã€‚  å…¨æ’åˆ— ç”¨ å…¨æ’åˆ—ï¼ˆPermutationsï¼‰ ä¾†ç†è§£å›æº¯æ³•ã€‚\nå•é¡Œï¼šç”¨ç¨‹å¼åˆ—å‡ºæ‰€æœ‰ç”± 1ã€2ã€3 æ§‹æˆçš„ ä¸é‡è¤‡åºåˆ—ã€‚\né¦–å…ˆä½¿ç”¨å·¢ç‹€è¿´åœˆæšèˆ‰æ‰€æœ‰å¯èƒ½ï¼š\n1 2 3 4 5 6 7 8 9  const res = []; for (let i = 1; i \u0026lt;= 3; i +=1) { for (let j = 1; j \u0026lt;= 3; j +=1) { for (let k = 1; k \u0026lt;= 3; k +=1) { res.push([i, j , k]); } } }   å…±æœƒæœ‰ 27 ç¨®çµ„åˆï¼ŒåŒ…å«äº†ä¸ç¬¦åˆæ¢ä»¶çš„ã€‚\næª¢æŸ¥ç´„æŸæ¢ä»¶ï¼ˆä¸é‡è¤‡ï¼‰ï¼Œéæ¿¾é‡è¤‡çš„çµ„åˆï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18  const res = []; for (let i = 1; i \u0026lt;= 3; i += 1) { for (let j = 1; j \u0026lt;= 3; j += 1) { for (let k = 1; k \u0026lt;= 3; k += 1) { if (i === j || i === k || j === k) {continue;} res.push([i, j, k]); } } } console.log(res); // [ [ 1, 2, 3 ],â€ˆ// [ 1, 3, 2 ],â€ˆ// [ 2, 1, 3 ],â€ˆ// [ 2, 3, 1 ],â€ˆ// [ 3, 1, 2 ],â€ˆ// [ 3, 2, 1 ] ]â€ˆ  æ±‚å¾—å…­çµ„è§£ã€‚\nä½†æ˜¯æˆ‘å€‘å¦‚æœæœ€å¾Œä¸€å±¤æ‰åšæª¢æŸ¥ï¼Œæœƒæœ‰å¤šé¤˜çš„æª¢æŸ¥ï¼Œå› ç‚ºç•¶ i === j æ™‚ï¼Œä¸è«– k æ˜¯ä»€éº¼ï¼Œéƒ½ä¸å¯èƒ½æœƒæ˜¯æˆ‘å€‘è¦çš„ã€‚\nå› æ­¤æˆ‘å€‘å¯ä»¥ææ—©æª¢æŸ¥ï¼Œææ—©çµæŸï¼š\n1 2 3 4 5 6 7 8 9 10 11  const res = []; for (let i = 1; i \u0026lt;= 3; i +=1) { for (let j = 1; j \u0026lt;= 3; j +=1) { if (i === ï½Š) {continue;} for (let k = 1; k \u0026lt;= 3; k +=1) { if (i === k || ï½‰ === k) {continue;} res.push([i, j, k]); } } }   ä¸éä½¿ç”¨å·¢ç‹€è¿´åœˆæœƒæœ‰ä¸€å€‹å•é¡Œï¼Œä½ ç„¡æ³•èª¿æ•´æ·±åº¦ï¼Œå‡è¨­æ•¸å­—å¢åŠ ï¼Œå°±æœƒé€ æˆè¿´åœˆæœ‰éå¸¸å¤šå±¤ï¼Œå¦ä¸€ç¨®æƒ…æ³æ˜¯ä½ æ ¹æœ¬ä¸çŸ¥é“æœƒæœ‰å¹¾å±¤ã€‚\næ‰€ä»¥é€šå¸¸å›æº¯æ³•æœƒä½¿ç”¨éè¿´æ–¹æ³•ä¾†å¯¦ä½œï¼Œåœ¨åè¦†é‡è¤‡ä¸Šè¿°çš„æ­¥é©Ÿå¾Œå¯èƒ½å‡ºç¾å…©ç¨®æƒ…æ³ï¼š\n æ‰¾åˆ°ä¸€å€‹å¯èƒ½å­˜åœ¨çš„æ­£ç¢ºçš„ç­”æ¡ˆï¼› åœ¨å˜—è©¦äº†æ‰€æœ‰å¯èƒ½çš„åˆ†æ­¥æ–¹æ³•å¾Œå®£å‘Šè©²å•é¡Œæ²’æœ‰ç­”æ¡ˆã€‚  éè¿´å¯ä»¥å†æ”¹å¯«æˆè¿­ä»£çš„æ–¹å¼ï¼ˆå †ç–Š/ä½‡åˆ— + è¿´åœˆï¼‰ã€‚\nå°‡å•é¡Œç”¨æ¨¹ç‹€çµæ§‹è¡¨ç¤ºï¼š\ngraph TB; 0[\u0026quot;[]\u0026quot;] --\u0026gt; 1[\u0026quot;[1]\u0026quot;] \u0026amp; 2[\u0026quot;[2]\u0026quot;] \u0026amp; 3[\u0026quot;[3]\u0026quot;]; 1[\u0026quot;[1]\u0026quot;] --\u0026gt; 4[\u0026quot;[1, 2]\u0026quot;] \u0026amp; 5[\u0026quot;[1, 3]\u0026quot;]; 2[\u0026quot;[2]\u0026quot;] --\u0026gt; 6[\u0026quot;[2, 1]\u0026quot;] \u0026amp; 7[\u0026quot;[2, 3]\u0026quot;]; 3[\u0026quot;[3]\u0026quot;] --\u0026gt; 8[\u0026quot;[3, 1]\u0026quot;] \u0026amp; 9[\u0026quot;[3, 2]\u0026quot;]; 4[\u0026quot;[1, 2]\u0026quot;] --\u0026gt; 10[\u0026quot;[1, 2, 3]\u0026quot;] 5[\u0026quot;[1, 3]\u0026quot;] --\u0026gt; 11[\u0026quot;[1, 3, 2]\u0026quot;] 6[\u0026quot;[2, 1]\u0026quot;] --\u0026gt; 12[\u0026quot;[2, 1, 3]\u0026quot;] 7[\u0026quot;[2, 3]\u0026quot;] --\u0026gt; 13[\u0026quot;[2, 3, 1]\u0026quot;] 8[\u0026quot;[3, 1]\u0026quot;] --\u0026gt; 14[\u0026quot;[3, 1, 2]\u0026quot;] 9[\u0026quot;[3, 2]\u0026quot;] --\u0026gt; 15[\u0026quot;[3, 2, 1]\u0026quot;] å› ç‚ºæœ‰ç´„æŸæ¢ä»¶ï¼ˆä¸é‡è¤‡ï¼‰ï¼Œåœ¨é€™æ£µæ¨¹ä¸Šæˆ‘å€‘æœ‰åšå‰ªæï¼Œå‰ªå»ä¸€äº›ä¸æœƒç”¢ç”Ÿæ­£ç¢ºè§£çš„é¸æ“‡ï¼ˆåˆ†æ”¯ï¼‰ã€‚\næ±‚è§£éç¨‹å…¶å¯¦å°±æ˜¯æ·±åº¦å„ªå…ˆæœå°‹ã€‚\nå¾ [] å‡ºç™¼ï¼š\n é¦–å…ˆé¸æ“‡ 1ï¼Œpath = [1]ï¼› å› ç‚ºæœ‰ç´„æŸæ¢ä»¶ï¼Œæ‰€ä»¥è·³é 1 é¸æ“‡ 2ï¼Œpath =[1, 2]ï¼› ç¹¼çºŒå¾€ä¸‹å±¤ï¼Œå› ç‚ºæœ‰ç´„æŸæ¢ä»¶ï¼Œæ‰€ä»¥è·³é 1, 2 é¸æ“‡ 3ï¼Œpath = [1, 2, 3] æ±‚å¾—è§£æ‰€ä»¥å›åˆ° [1, 2]ï¼› æ²’ nums å¯é¸äº†ï¼Œæ‰€ä»¥ç¹¼çºŒé€€å›ä¸Šå±¤ [1]ï¼› æ¥ä¸‹ä¾†å°±æ˜¯é‡è¤‡ç›¸åŒæ“ä½œã€‚  1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30  function permute(nums) { const res = []; const used = {}; // åˆ¤æ–·æ•¸å­—æ˜¯å¦ä½¿ç”¨é  dfs([]); // path ç•¶å‰è·¯å¾‘  function dfs(path) { if (path.length === nums.length) { res.push([...path]); // å‚³æ‹·è²  return; // å›ä¸Šå±¤  } for (const num of nums) { if (used[num]) {}; // ç´„æŸæ¢ä»¶  path.push(num); used[num] = true; dfs(path); // ç¹¼çºŒä¸‹å±¤  path.pop(); // æ¢å¾©è·¯å¾‘  used[num] = false; } } return res; } console.log(permute([1, 2, 3])); // [ [ 1, 2, 3 ],â€ˆ// [ 1, 3, 2 ],â€ˆ// [ 2, 1, 3 ],â€ˆ// [ 2, 3, 1 ],â€ˆ// [ 3, 1, 2 ],â€ˆ// [ 3, 2, 1 ] ]â€ˆ  å¯ä»¥è¼¸å…¥å…¶ä»–ä¸é‡è¤‡çš„æ•¸åˆ—ï¼Œæ±‚å…¶å…¨æ’åˆ—ã€‚\n","description":"å›æº¯æ³•ï¼ˆBacktrackingï¼‰æ˜¯æš´åŠ›æœå°‹æ³•ä¸­çš„ä¸€ç¨®ã€‚","id":39,"section":"posts","tags":["å›æº¯æ³•","w3HexSchool"],"title":"JavaScript å­¸æ¼”ç®—æ³•ï¼ˆäºŒåäº”ï¼‰- å›æº¯æ³•","uri":"https://chupai.github.io/posts/2009/backtracking/"},{"content":"é€™é€±æ˜¯å…­è§’é¼ å¹´éµäººè³½ç¬¬ä¸‰åå››é€±ã€‚\n\rå‰è¨€ åœ¨ Vue æ–‡ä»¶çš„ è¡¨å–®è¼¸å…¥ç¶å®š ä¸­æœ‰æåˆ°é€™ä¸€æ®µï¼š\n å°æ–¼éœ€è¦ä½¿ç”¨è¼¸å…¥æ³• (å¦‚ä¸­æ–‡ã€æ—¥æ–‡ã€éŸ“æ–‡ç­‰) çš„èªè¨€ï¼Œä½ æœƒç™¼ç¾ v-model ä¸æœƒåœ¨è¼¸å…¥æ³•çµ„åˆæ–‡å­—éç¨‹ä¸­å¾—åˆ°æ›´æ–°ã€‚å¦‚æœä½ ä¹Ÿæƒ³è™•ç†é€™å€‹éç¨‹ï¼Œè«‹ä½¿ç”¨ input äº‹ä»¶ã€‚\n See the Pen v-model by CHUPAIWANG (@CHUPAIWANG) on CodePen.  é€™æ˜¯å› ç‚º Vue æœ‰ä½¿ç”¨åˆ° CompositionEventï¼Œä½ å¯ä»¥åœ¨ v-model çš„ åŸå§‹ç¢¼ ä¸­çœ‹åˆ°ã€‚\nå¦å¤–ï¼Œåœ¨ Element UI çš„ Input å…ƒä»¶ åŸå§‹ç¢¼ï¼Œä½ å¯ä»¥çœ‹åˆ°å®ƒçš„èº«å½±\nCompositionEvent ç°¡ä»‹ CompositionEvent è¤‡åˆäº‹ä»¶ï¼Œæ˜¯ç”¨ä¾†è™•ç†è¼¸å…¥æ³•ç·¨è¼¯å™¨ï¼ˆInput Method Editor, IMEï¼‰çš„äº‹ä»¶ï¼Œå¾ DOM Level 3 ä¹‹å¾Œæ‰æ–°å¢çš„ã€‚\nåœ¨ä½¿ç”¨è¼¸å…¥æ³•ç·¨è¼¯å™¨æ™‚ï¼Œæœƒæ ¹æ“šè¼¸å…¥ç‹€æ…‹è§¸ç™¼ä¸‹äº‹ä»¶ï¼š\n compositonstartï¼šé–‹å§‹æ‹¼å­—æ™‚è§¸ç™¼ã€‚ compositionupdateï¼šé¸å­—æ™‚è§¸ç™¼ã€‚ compositionendï¼šæ‹¼å­—å®Œæˆæ™‚è§¸ç™¼ã€‚  CompositionEvent æœƒåœ¨ keydown äº‹ä»¶ä¹‹å¾Œè¢«è§¸ç™¼ã€‚\nå‡è¨­æˆ‘å€‘ä¸ä½¿ç”¨ v-model ä¾†é›™å‘ç¶å®šè¼¸å…¥æ¡†ï¼š\n1 2 3  \u0026lt;input type=\u0026#34;text\u0026#34; :value=\u0026#34;text\u0026#34; @input=\u0026#34;inputHandler\u0026#34;\u0026gt; \u0026lt;p\u0026gt;å…§å®¹ï¼š {{ text }}\u0026lt;/p\u0026gt; \u0026lt;p\u0026gt;å­—æ•¸ï¼š {{ text.length }}\u0026lt;/p\u0026gt;   1 2 3 4 5 6 7 8  data: { text: \u0026#39;\u0026#39;, }, methods: { inputHandler(event) { this.text = event.target.value; }, }   ä½ å°±æœƒç™¼ç¾ï¼Œç•¶ä½ ä½¿ç”¨æ³¨éŸ³é¸å­—æ™‚ï¼Œæœƒè§¸ç™¼æ›´æ–°ï¼š\nSee the Pen DEMO by CHUPAIWANG (@CHUPAIWANG) on CodePen.  æ–°å¢ä¸€å€‹ isComposing ç‹€æ…‹ä¾†åˆ¤æ–·è¼¸å…¥æ³•æ˜¯å¦åœ¨ä½¿ç”¨ä¸­ï¼š\n1 2 3 4  data: { text: \u0026#39;\u0026#39;, isComposing: false, }   æ¥è‘—ï¼Œæˆ‘å€‘è¦ç›£è½ compositonstart å’Œ compositionend äº‹ä»¶ï¼š\n1 2 3 4 5 6 7 8 9  \u0026lt;input type=\u0026#34;text\u0026#34; :value=\u0026#34;text\u0026#34; @input=\u0026#34;inputHandler\u0026#34; @compositionstart=\u0026#34;isComposing = true\u0026#34; @compositionend=\u0026#34;handleCompositionEnd\u0026#34; \u0026gt; \u0026lt;p\u0026gt;å…§å®¹ï¼š {{ text }}\u0026lt;/p\u0026gt; \u0026lt;p\u0026gt;å­—æ•¸ï¼š {{ text.length }}\u0026lt;/p\u0026gt;    ç•¶ compositionstart è§¸ç™¼ï¼ŒisComposing è¨­ç‚º trueï¼› ç•¶ compositionend è§¸ç™¼ï¼ŒisComposing è¨­ç‚º false ä¸¦å‘¼å« inputHandlerã€‚  1 2 3 4 5 6 7 8 9 10 11 12  methods: { inputHandler(event) { if (this.isComposing) { return; } this.text = event.target.value; }, handleCompositionEnd(event) { if (this.isComposing) { this.isComposing = false; this.inputHandler(event); } } }   See the Pen CompositionEvent DEMO by CHUPAIWANG (@CHUPAIWANG) on CodePen.  isComposing äº‹ä»¶å±¬æ€§ å¦å¤–ï¼ŒKeyboardEvent å’Œ InputEvent æœ‰ KeyboardEvent.isComposingã€ InputEvent.isComposingã€‚isComposing å±¬æ€§åœ¨ compositonstart å’Œ compositionend ä¹‹é–“å…¶å€¼ç‚º trueã€‚\nä½†æ˜¯ Safariï¼ˆWebKitï¼‰ç€è¦½å™¨ä¸æ”¯æ´ã€‚\næ‡‰ç”¨ ä½¿ç”¨ CompositionEvent ä¾†åˆ¤æ–·è¼¸å…¥æ³•ç‹€æ…‹ï¼Œå¯ä»¥æœ‰æ•ˆé¿å… input ç›£è½äº‹ä»¶åœ¨æ‹¼å­—æ™‚ä¸€ç›´è§¸ç™¼ã€‚\nä¹Ÿå¯ä»¥åœ¨ç”¨åœ¨ä½¿ç”¨ Enter éµé€å‡ºè³‡æ–™æ™‚çš„å„ªåŒ–ã€‚èˆ‰ä¾‹ä¾†èªªï¼Œåœ¨æŸäº›ç€è¦½å™¨ä¸‹ï¼Œå¦‚æœä½¿ç”¨ @keyup.enter=\u0026quot;submit\u0026quot; é€å‡ºè³‡æ–™ï¼Œç•¶æˆ‘å€‘åœ¨é¸å­—æ™‚æ‰€æŒ‰ä¸‹ Enter éµï¼Œå°±æœƒè§¸ç™¼äº‹ä»¶ï¼š\nå› æ­¤æˆ‘å€‘å¯ä»¥åŠ ä¸Šè¼¸å…¥æ³•ç‹€æ…‹åˆ¤æ–·é¿å…èª¤è§¸ï¼š\n1 2 3 4 5 6 7 8 9  \u0026lt;input type=\u0026#34;text\u0026#34; v-model=\u0026#34;text\u0026#34; @keyup.enter=\u0026#34;submit\u0026#34; @compositionstart=\u0026#34;isComposing = true\u0026#34; @compositionend=\u0026#34;isComposing = false\u0026#34; \u0026gt; \u0026lt;ul\u0026gt; \u0026lt;li v-for=\u0026#34;item of list\u0026#34;\u0026gt;{{ item }}\u0026lt;/li\u0026gt; \u0026lt;/ul\u0026gt;   1 2 3 4 5 6 7 8 9 10 11  data: { text: \u0026#39;\u0026#39;, list: [], isComposing: false, }, methods: { submit(event) { if (this.isComposing) { return } this.list.push(this.text); } }   CodePen Demo\nç­‰åŒï¼š\n1 2 3 4 5 6 7  \u0026lt;input type=\u0026#34;text\u0026#34; v-model=\u0026#34;text\u0026#34; @keyup.enter=\u0026#34;submit\u0026#34; \u0026gt; \u0026lt;ul\u0026gt; \u0026lt;li v-for=\u0026#34;item of list\u0026#34;\u0026gt;{{ item }}\u0026lt;/li\u0026gt; \u0026lt;/ul\u0026gt;   1 2 3 4 5 6 7 8 9 10  data: { text: \u0026#39;\u0026#39;, list: [], }, methods: { submit(event) { if (event.isComposing) { return } this.list.push(this.text); } }   ä½†æ˜¯ isComposing äº‹ä»¶å±¬æ€§ Safariï¼ˆWebKitï¼‰ç€è¦½å™¨ä¸æ”¯æ´ã€‚\n","description":"CompositionEvent è™•ç†è¼¸å…¥æ³•ç‹€æ…‹åˆ¤æ–·ã€‚","id":40,"section":"posts","tags":["CompositionEvent","w3HexSchool"],"title":"CompositionEvent","uri":"https://chupai.github.io/posts/2009/compositionevent/"},{"content":"é€™é€±æ˜¯å…­è§’é¼ å¹´éµäººè³½ç¬¬ä¸‰åä¸‰é€±ã€‚\n\rä½•è¬‚è²ªå©ªæ¼”ç®—æ³• è²ªå©ªæ¼”ç®—æ³•ï¼ˆGreedy Algorithmï¼‰ï¼Œæˆ–ç¨± è²ªå¿ƒæ¼”ç®—æ³•ï¼Œæ¯”èµ·å‹•æ…‹è¦åŠƒæ›´ç‚ºç°¡å–®ç›´æ¥ã€‚\n1. æ¼”ç®—æ³•æ€æƒ³ è²ªå©ªæ¼”ç®—æ³•çš„ä¸»è»¸æ˜¯åè¦†åŸ·è¡ŒæŸå€‹ä»»å‹™ï¼Œç›´åˆ°æ±‚å¾—ä¸€çµ„è§£ï¼›æ¯æ¬¡åŸ·è¡Œä»»å‹™æ™‚ï¼Œéƒ½æ˜¯æ‰¾ç•¶ä¸‹æœ€å¥½çš„æ–¹æ¡ˆã€‚\nä¹Ÿå°±æ˜¯èªªï¼Œè²ªå©ªæ¼”ç®—æ³•ä¸¦ä¸æœƒè€ƒæ…®åˆ°æœªä¾†ï¼Œåªè€ƒæ…®ç•¶ä¸‹ï¼Œå› æ­¤å°æ–¼æŸäº›æƒ…æ³ä¸‹ä¸ä¸€å®šèƒ½æ±‚å‡ºæœ€ä½³è§£ã€‚\n2. é©ç”¨çš„æƒ…æ³ ç”±æ–¼è²ªå©ªæ¼”ç®—æ³•çš„é«˜æ•ˆæ€§ä»¥åŠå…¶æ‰€æ±‚å¾—çš„ç­”æ¡ˆæ¯”è¼ƒæ¥è¿‘æœ€ä½³è§£ï¼Œè²ªå©ªæ¼”ç®—æ³•ä¹Ÿå¯ä»¥ç”¨ä½œè¼”åŠ©æ¼”ç®—æ³•æˆ–è€…ç›´æ¥è§£æ±ºä¸€äº›è¦æ±‚çµæœä¸ç‰¹åˆ¥ç²¾ç¢ºçš„å•é¡Œã€‚\né›¶éŒ¢å•é¡Œ çµ¦å®šä¸åŒé¢é¡çš„ç¡¬å¹£ coinsï¼Œå’Œä¸€å€‹ç¸½é‡‘é¡ amountï¼Œæ±‚å‡ºæœ€å°‘ç¡¬å¹£çš„çµ„åˆæ•¸ã€‚å¦‚æœæ²’æœ‰ä»»ä½•ä¸€ç¨®ç¡¬å¹£çµ„åˆèƒ½çµ„æˆç¸½é‡‘é¡ï¼Œå›å‚³ -1ã€‚\n1. è²ªå©ªæ¼”ç®—æ³• å‡è¨­æˆ‘å€‘çš„ç¡¬å¹£é¢é¡ç‚ºæ–°å°å¹£å¸¸è¦‹çš„ 1ã€5ã€10ã€50ã€‚\né‚£éº¼æˆ‘å€‘å¯ä»¥ä½¿ç”¨è²ªå©ªæ¼”ç®—æ³•çš„æ€æƒ³ï¼Œæ¯æ¬¡å…Œæ›å„ªå…ˆä½¿ç”¨é¢é¡è¼ƒå¤§çš„ç¡¬å¹£ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18  function coinChange(coins, amount) { let count = 0; let total = 0; for (let i = coins.length; i \u0026gt;= 0; i -= 1) { const coin = coins[i]; while (total + coin \u0026lt;= amount) { count += 1; total += coin; } } return count; } const COINS = [1, 5, 10, 50]; console.log(coinChange(COINS, 90)); // 5 console.log(coinChange(COINS, 40)); // 4 console.log(coinChange(COINS, 15)); // 2   å°æ–¼æ–°å°å¹£ç¡¬å¹£é¢é¡ï¼Œæˆ‘å€‘èƒ½ä½¿ç”¨è²ªå©ªæ¼”ç®—æ³•æ±‚å‡ºæœ€ä½³è§£ã€‚\nä½†æ˜¯ï¼Œå¦‚æœä½¿ç”¨å…¶ä»–ç¡¬å¹£é¢é¡ï¼Œå°±ä¸ä¸€å®šèƒ½æ±‚å‡ºæœ€ä½³è§£ï¼š\n1 2 3  const COINS = [1, 3, 4]; console.log(coinChange(COINS, 6)); // 3   æ­£ç¢ºè§£ç‚º 2(3 + 3)ã€‚\n2. å‹•æ…‹è¦åŠƒ æ”¹ç”¨å‹•æ…‹è¦åŠƒã€‚\nå‡è¨­ç¡¬å¹£é¢é¡ç‚º [1, 3, 4]ã€ç¸½é‡‘é¡ç‚º 100ã€‚\ndp[i]ï¼šè¡¨ç¤ºç¸½é‡‘é¡ç‚º i çš„æ™‚å€™æœ€ä½³è§£ã€‚\n å¦‚æœæˆ‘å€‘æ‹¿ä¸€æšé¢é¡ç‚º 1 çš„ç¡¬å¹£ + ç¸½é‡‘é¡ 99 çš„è§£ç‚º dp[99] + 1ï¼› å¦‚æœæˆ‘å€‘æ‹¿ä¸€æšé¢é¡ç‚º 3 çš„ç¡¬å¹£ + ç¸½é‡‘é¡ 97 çš„è§£ç‚º dp[97] + 1ï¼› å¦‚æœæˆ‘å€‘æ‹¿ä¸€æšé¢é¡ç‚º 4 çš„ç¡¬å¹£ + ç¸½é‡‘é¡ 96 çš„è§£ç‚º dp[96] + 1ã€‚  ç”±æ­¤å¯çŸ¥ï¼Œç¸½é‡‘é¡ 100 çš„æœ€ä½³è§£ç‚º 3 ç¨®è§£æ³•çš„å…¶ä¸­ä¸€ç¨®ï¼Œå› æ­¤æˆ‘å€‘å¯ä»¥å¾—åˆ°ï¼šdp[100] = Math.min(dp[99] + 1, dp[97] + 1, dp[96] + 1)ã€‚\næ¨å°å‡ºï¼šdp[i] = Math.min(dp[i - coins[0]] + 1, dp[i - coins[1]] + 1, ...)\n1 2 3 4 5 6 7 8 9 10 11 12 13 14  function coinChange(coins, amount) { let dp = new Array(amount + 1).fill(Infinity); dp[0] = 0; for (let coin of coins) { for (let i = coin; i \u0026lt;= amount; i += 1) { dp[i] = Math.min(dp[i], dp[i - coin] + 1); } } return dp[amount] === Infinity ? -1 : dp[amount]; } const COINS = [1, 3, 4]; console.log(coinChange(COINS, 6)); // 2   å…ˆå»ºç«‹ amount + 1 é™£åˆ—ï¼ˆ+1 æ˜¯ç‚ºäº†å°æ‡‰ç¸½é‡‘é¡ï¼‰ï¼Œå°‡é è¨­å€¼è¨­ç‚º Infinityï¼ˆä¾¿æ–¼èˆ‡æœ€å°å€¼çš„åˆ¤æ–·ï¼‰ã€‚\næ¥ä¸‹ä¾†éæ­·æ¯ç¨®é¢é¡å°æ‡‰çš„é‡‘é¡ï¼Œä¸¦åˆ¤æ–·æ˜¯å¦ç‚ºæœ€å°è§£ã€‚\n","description":"è²ªå©ªæ¼”ç®—æ³•ã€‚","id":41,"section":"posts","tags":["è³‡æ–™çµæ§‹","è²ªå©ªæ¼”ç®—æ³•","å‹•æ…‹è¦åŠƒ","w3HexSchool"],"title":"JavaScript å­¸æ¼”ç®—æ³•ï¼ˆäºŒåå››ï¼‰- è²ªå©ªæ¼”ç®—æ³•","uri":"https://chupai.github.io/posts/2009/greedyalgorithm/"},{"content":"é€™é€±æ˜¯å…­è§’é¼ å¹´éµäººè³½ç¬¬ä¸‰åäºŒé€±ã€‚\n\rä½•è¬‚åˆ†æ²»æ³• åˆ†æ²»æ³•ï¼ˆDivide-and-Conquerï¼‰ æˆ–ç¨± å„å€‹æ“Šç ´æ³•ã€åˆ‡å‰²å¾æœæ³•ï¼Œæ˜¯ä¸€ç¨®æ¼”ç®—æ³•æ€æƒ³ï¼Œè€Œä¸æ˜¯ç”¨æ–¼è§£æ±ºç‰¹å®šå•é¡Œçš„æ¼”ç®—æ³•ã€‚\nè¨­è¨ˆæ€æƒ³å¦‚å­—é¢ä¸Šçš„æ„ç¾©ï¼šå°‡é›£ä»¥ç›´æ¥è§£æ±ºçš„å•é¡Œï¼Œåˆ‡åˆ†æˆå¯ç°¡å–®è™•ç†çš„å°å•é¡Œï¼Œå†å°‡å°å•é¡Œçš„çµæœåˆä½µï¼Œå³åŸå§‹å•é¡Œçš„ç­”æ¡ˆã€‚\n1. æ¼”ç®—æ³•æ€æƒ³ å°æ–¼ä¸€å€‹è¦æ¨¡ç‚º n çš„å•é¡Œï¼Œè‹¥è©²å•é¡Œå¯ä»¥å®¹æ˜“åœ°è§£æ±ºï¼ˆæ¯”å¦‚èªªè¦æ¨¡ n è¼ƒå°ï¼‰å‰‡ç›´æ¥è§£æ±ºï¼Œå¦å‰‡å°‡å…¶åˆ†è§£ç‚º k å€‹è¦æ¨¡è¼ƒå°çš„å­å•é¡Œï¼Œé€™äº›å­å•é¡Œäº’ç›¸ç¨ç«‹ä¸”èˆ‡åŸå•é¡Œå½¢å¼ç›¸åŒï¼Œéè¿´åœ°è§£é€™äº›å­å•é¡Œï¼Œç„¶å¾Œå°‡å„å­å•é¡Œçš„è§£åˆä½µå¾—åˆ°åŸå•é¡Œçš„è§£ã€‚\n2. åŸºæœ¬æµç¨‹ åˆ†æ²»æ³•åœ¨æ¯ä¸€å±¤éè¿´ä¸Šéƒ½æœ‰ä¸‰å€‹æ­¥é©Ÿï¼š\n åˆ†è§£ï¼ˆdivideï¼‰ï¼šå°‡åŸå•é¡Œåˆ†è§£ç‚ºè‹¥å¹²å€‹è¦æ¨¡è¼ƒå°ï¼Œç›¸äº’ç¨ç«‹ï¼Œèˆ‡åŸå•é¡Œå½¢å¼ç›¸åŒçš„å­å•é¡Œï¼› è§£æ±ºï¼ˆconquerï¼‰ï¼šè‹¥å­å•é¡Œè¦æ¨¡è¼ƒå°ä¸”æ˜“æ–¼è§£æ±ºæ™‚ï¼Œå‰‡ç›´æ¥æ±‚è§£ã€‚ åˆä½µï¼ˆcombineï¼‰ï¼šå°‡å„å­å•é¡Œçš„è§£åˆä½µï¼Œåˆä½µå¾Œçš„çµæœç‚ºåŸå•é¡Œçš„è§£ã€‚  3. é©ç”¨çš„æƒ…æ³ åˆ†æ²»æ³•æ‰€èƒ½è§£æ±ºçš„å•é¡Œä¸€èˆ¬å…·æœ‰ä»¥ä¸‹å¹¾å€‹ç‰¹å¾µï¼š\n è©²å•é¡Œçš„è¦æ¨¡ç¸®å°åˆ°ä¸€å®šçš„ç¨‹åº¦å°±å¯ä»¥å®¹æ˜“åœ°è§£æ±ºï¼› è©²å•é¡Œå¯ä»¥åˆ†è§£çˆ²è‹¥å¹²å€‹è¦æ¨¡è¼ƒå°çš„ç›¸åŒå•é¡Œï¼Œå³è©²å•é¡Œå…·æœ‰ æœ€ä½³å­çµæ§‹ï¼ˆOptimal Substructureï¼‰ æ€§è³ªï¼› åˆ©ç”¨è©²å•é¡Œåˆ†è§£å‡ºçš„å­å•é¡Œçš„è§£ï¼Œå¯ä»¥åˆä½µçˆ²è©²å•é¡Œçš„è§£ï¼› è©²å•é¡Œæ‰€åˆ†è§£å‡ºçš„å„å€‹å­å•é¡Œæ˜¯ç›¸äº’ç¨ç«‹çš„ã€‚  è‹¥å­å•é¡Œä¸æ˜¯äº’ç›¸ç¨ç«‹çš„ï¼Œæœ‰äº’ç›¸é‡ç–Šéƒ¨åˆ†ï¼ˆå³ä¸‹ä¸€å€‹å­éšæ®µçš„æ±‚è§£æ˜¯å»ºç«‹åœ¨ä¸Šä¸€å€‹å­éšæ®µçš„è§£çš„åŸºç¤ä¸Šï¼Œé€²è¡Œé€²ä¸€æ­¥çš„æ±‚è§£ï¼‰ï¼Œå¦‚æœä½¿ç”¨åˆ†æ²»æ³•æœƒé‡è¤‡è¨ˆç®—é‡ç–Šçš„å­å•é¡Œï¼Œé€ æˆæµªè²»æ•ˆèƒ½ã€‚å»ºè­°æ”¹ç”¨ å‹•æ…‹è¦åŠƒã€‚\n4. å¯¦ä½œæ–¹å¼ åˆ†æ²»æ³•æœ€é©åˆä½¿ç”¨éè¿´ä¾†å¯¦ä½œï¼Œä½†éè¿´å’Œè¿­ä»£æ˜¯ä¸€ä¸€å°æ‡‰çš„ï¼Œåˆ†æ²»æ³•åªæ˜¯ä¸€ç¨®æ¼”ç®—æ³•æ€æƒ³ï¼Œæ‰€ä»¥ä½¿ç”¨è¿­ä»£ä¾†å¯¦ä½œä¹Ÿæ²’å•é¡Œã€‚\nä¹‹å‰æéçš„ åˆä½µæ’åº å’Œ å¿«é€Ÿæ’åº éƒ½æ˜¯ä½¿ç”¨åˆ†æ²»æ³•çš„ç¶“å…¸å•é¡Œã€‚\nä½•è¬‚å‹•æ…‹è¦åŠƒ å‹•æ…‹è¦åŠƒï¼ˆDynamic programming, DPï¼‰ èˆ‡åˆ†æ²»æ³•é¡ä¼¼ã€‚\n1. æ¼”ç®—æ³•æ€æƒ³ å‹•æ…‹è¦åŠƒä¹Ÿæ˜¯ä¸€ç¨®åˆ†æ²»æ€æƒ³ï¼ŒåŒæ¨£æ˜¯å°‡å¾…æ±‚è§£çš„å•é¡Œåˆ†è§£ç‚ºè‹¥å¹²å€‹å­å•é¡Œã€‚ä½†èˆ‡åˆ†æ²»æ³•æœ€å¤§çš„å·®åˆ¥æ˜¯ï¼Œå‹•æ…‹è¦åŠƒç¶“åˆ†è§£å¾Œå¾—åˆ°çš„å­å•é¡Œå¾€å¾€ä¸æ˜¯äº’ç›¸ç¨ç«‹çš„ï¼Œæœ‰äº’ç›¸é‡ç–Šéƒ¨åˆ†ï¼ˆå³ä¸‹ä¸€å€‹å­éšæ®µçš„æ±‚è§£æ˜¯å»ºç«‹åœ¨ä¸Šä¸€å€‹å­éšæ®µçš„è§£çš„åŸºç¤ä¸Šï¼Œé€²è¡Œé€²ä¸€æ­¥çš„æ±‚è§£ï¼‰ï¼Œå› æ­¤éœ€è¦ç”¨è¨˜æ†¶é«”å„²å­˜è§£å­å•é¡Œçš„è§£ï¼Œä»¥ä¾¿ä¸‹æ¬¡éœ€è¦åŒä¸€å€‹å­å•é¡Œè§£ä¹‹æ™‚ç›´æ¥ä½¿ç”¨ï¼ˆé¿å…é‡è¤‡é‹ç®—ï¼‰\n2. åŸºæœ¬æµç¨‹ å‹•æ…‹è¦åŠƒçš„ä¸»è¦é›£é»åœ¨æ–¼ç†è«–ä¸Šçš„è¨­è¨ˆï¼š\n å®šç¾©åŸå•é¡Œèˆ‡å­å•é¡Œçš„é—œä¿‚ï¼Œå¯ä½¿ç”¨éè¿´é—œä¿‚è¡¨ç¤ºï¼› ä»¥è‡ªåº•å‘ä¸Šæˆ–è‡ªé ‚å‘ä¸‹çš„è¨˜æ†¶åŒ–æ–¹å¼ï¼Œå„²å­˜å­å•é¡Œçš„è§£ï¼› æ±ºå®šå¦‚ä½•å¾—åˆ°å®Œæ•´çš„æœ€ä½³è§£ã€‚  3. é©ç”¨çš„æƒ…æ³ ä½¿ç”¨å‹•æ…‹è¦åŠƒçš„å•é¡Œå…·æœ‰ä»¥ä¸‹æ€§è³ªï¼š\n æœ€ä½³å­çµæ§‹ï¼ˆOptimal Substructureï¼‰ï¼› ç„¡å¾Œæ•ˆæ€§ï¼Œå³å­å•é¡Œçš„è§£ä¸€æ—¦ç¢ºå®šï¼Œå°±ä¸å†æ”¹è®Šï¼Œä¸å—åœ¨é€™ä¹‹å¾Œã€åŒ…å«å®ƒçš„æ›´å¤§çš„å•é¡Œçš„æ±‚è§£æ±ºç­–å½±éŸ¿ã€‚ å­å•é¡Œé‡ç–Šçš„æ€§è³ªã€‚  3. è²»æ°æ•¸åˆ— æˆ‘å€‘ä¾†çœ‹è²»æ°æ•¸åˆ—ã€‚\nè‹¥ä½¿ç”¨éæ­¸å¯¦ä½œï¼š\n1 2 3 4 5 6  function fibonacci(n) { if (n \u0026lt; 2) { return n; } return fibonacci(n - 1) + fibonacci(n - 2); }   é›–ç„¶ä½¿ç”¨éæ­¸ç°¡å–®æ˜ç­ï¼Œä½†å­å•é¡Œä¸¦ä¸æ˜¯ç¨ç«‹ï¼š\n1 2 3 4 5 6  f(5) = f(4) + f(3); f(4) = f(3) + f(2); f(3) = f(2) + f(1); f(2) = f(1) + f(0); f(1) = 1; f(0) = 0;    æ±‚ f(5) å°±å¿…é ˆç®—å‡º f(4) å’Œ f(3) æ±‚ f(4) å°±å¿…é ˆç®—å‡º f(3) å’Œ f(2) æ±‚ f(3) å°±å¿…é ˆç®—å‡º f(2) å’Œ f(1)  å¾ˆæ˜é¡¯çš„ï¼Œå­å•é¡Œé‡ç–Šï¼Œæœƒå‡ºç¾é‡è¤‡è¨ˆç®—ï¼Œå› æ­¤å°è‡´åŸ·è¡Œæ•ˆç‡ä¸ä½³ï¼Œç•¶ n éå¸¸å¤§æ™‚ï¼Œç›´æ¥è¨ˆç®—åˆ°çˆ†ç‚¸ï¼Œæ™‚é–“è¤‡é›œåº¦ $O(2^n)$ã€ç©ºé–“è¤‡é›œ $O(n)$ã€‚\nè‹¥æˆ‘å€‘ç”¨è®Šæ•¸ dp å°‡çµæœå„²å­˜ï¼Œå°±å¯ä»¥é¿å…é‡è¤‡è¨ˆç®—ï¼š\n1 2 3 4 5 6 7  function fibonacci(n) { let dp = [0, 1, 1]; for (let i = 3; i \u0026lt;= n; i += 1) { dp[i] = dp[i - 1] + dp[i - 2]; } return dp[n]; }   æ™‚é–“è¤‡é›œåº¦ $O(n)$ã€ç©ºé–“è¤‡é›œ $O(n)$ã€‚\nå„ªåŒ–ï¼Œåªå­˜ä¸Šä¸€å€‹å’Œç•¶å‰çš„å€¼ï¼Œæ¸›å°‘è¨˜æ†¶é«”ç©ºé–“ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12  function fibonacci3(n) { if (n === 0) return 0; if (n === 2 || n === 1) return 1; let prev = 1; let curr = 1; for (let i = 3; i \u0026lt;= n; i += 1) { let sum = prev + curr; prev = curr; curr = sum; } return curr; }   æ™‚é–“è¤‡é›œåº¦ $O(n)$ã€ç©ºé–“è¤‡é›œ $O(1)$ã€‚\n","description":"åˆ†æ²»æ³•ã€å‹•æ…‹è¦åŠƒã€‚","id":42,"section":"posts","tags":["è³‡æ–™çµæ§‹","åˆ†æ²»æ³•","å‹•æ…‹è¦åŠƒ","w3HexSchool"],"title":"JavaScript å­¸æ¼”ç®—æ³•ï¼ˆäºŒåä¸‰ï¼‰- åˆ†æ²»æ³•ã€å‹•æ…‹è¦åŠƒ","uri":"https://chupai.github.io/posts/2009/divide_and_conquer_dp/"},{"content":"é€™é€±æ˜¯å…­è§’é¼ å¹´éµäººè³½ç¬¬ä¸‰åä¸€é€±ã€‚é€™é€±åŸæœ¬æ˜¯è¦èªªæ˜åˆ†æ²»æ³•ï¼Œä½†æ–‡ç« é‚„æ²’æ•´ç†å¥½ğŸ˜…ã€‚\n\rä»€éº¼æ˜¯ Neumorphism Neumorphism æ˜¯ç”±ã€ŒNew Skeuomorphismã€çµ„åˆçš„æ–°åè©ï¼Œä¹Ÿå°±æ˜¯æ–°å‹æ…‹çš„æ“¬ç‰©åŒ–é¢¨æ ¼è¨­è¨ˆï¼Œä¸­æ–‡ç¨±ä½œæ–°æ“¬æ…‹ã€åŒåŒ–ï¼Œä¹Ÿæœ‰è¨­è¨ˆå¸«ç¨±å…¶ç‚º Soft UIï¼ˆè»ŸUIï¼‰ã€‚\nNeumorphism æ˜¯ 2020å¹´æœ€ç†±é–€çš„æ–°é¢¨æ ¼ï¼Œå®ƒé€éç‡ˆå…‰çš„åŸç†ï¼Œæ›¿åœ–å½¢åŠ ä¸Šé«˜å…‰å’Œé™°å½±ï¼Œé¡ä¼¼æ–¼æµ®é›•çš„æ•ˆæœï¼Œè³¦äºˆå…ƒä»¶çœŸå¯¦å’Œç«‹é«”æ„Ÿã€‚\næ­¤é¢¨æ ¼æºé ­ç‚ºçƒå…‹è˜­çš„è¨­è¨ˆå¸« Alexander Plyutoï¼Œæ–¼ 2019å¹´åº•æ‰€ç™¼è¡¨çš„ä½œå“ã€ŒSkeuomorph Mobile Bankingã€ã€‚\nè¨­è¨ˆé¢¨æ ¼ç™¼å±• 1. Skeuomorphismï¼ˆæ“¬ç‰©ï¼‰ Skeuomorphism é¢¨æ ¼æœ€æ—©çš„èµ·æºæ˜¯ 2007å¹´ Apple ç™¼å¸ƒ iOS 1ã€‚\nSkeuomorphism æœ€å¤§ç‰¹å¾µå°±æ˜¯æ¨¡æ“¬çœŸå¯¦ç‰©ä»¶çš„å¤–è§€ï¼Œé‚£å€‹æ™‚æœŸå¹¾ä¹æ‰€æœ‰ UI éƒ½æ˜¯ Skeuomorphismã€‚\n2. Flat Designï¼ˆæ‰å¹³è¨­è¨ˆï¼‰ æ¥ä¸‹ä¾†ï¼Œ2010 å¹´å¾®è»Ÿç™¼å¸ƒä»–å€‘é¦–æ¬¾æ™ºæ…§å‹æ‰‹æ©Ÿ Window Phone ä¸­ï¼Œå¯ä»¥èªªæ˜¯é¦–æ¬¾æ‡‰ç”¨ Flat Design é¢¨æ ¼çš„æ™ºæ…§å‹è£ç½®ã€‚\nFlat Design æœ€å¤§ç‰¹å¾µå°±æ˜¯å»é™¤é™°å½±ã€æ¼¸å±¤ã€è£é£¾ã€åå°„å…‰æ¾¤ç­‰ç­‰çš„æ¨¡æ“¬ 3D è¦ç´ ï¼Œå‘ˆç¾å‡ºç°¡æ½”çš„é¢¨æ ¼ã€‚\nç›´åˆ° 2013å¹´ Apple iOS7 æ¨æ£„äº† Skeuomorphismï¼Œä¹Ÿæ”¹ç”¨æ›´ç°¡æ½”çš„ Flat Designã€‚\nå¾ 2014 å¹´é–‹å§‹ Flat Design é¢¨æ ¼çš„ UI è¨­è¨ˆé–‹å§‹å¤§æµè¡Œï¼Œå½¢æˆæ–°ä¸€ä»£ä»‹é¢è¨­è¨ˆçš„ç†±æ½®ï¼Œä¸åƒ…åƒ…æ˜¯ UI ä»‹é¢ï¼Œé€£è¨±å¤šå¤§ä¼æ¥­çš„ LOGO ä¹Ÿéƒ½æ¨æ£„ Skeuomorphism æ”¹æˆ Flat Design é¢¨æ ¼ã€‚\næœ€æœ‰åçš„ä¾‹å­ Instagramï¼š\n3. Material Designï¼ˆå¡ç‰‡å¼è¨­è¨ˆã€å¯¦æ„Ÿè¨­è¨ˆï¼‰ ä½† Flat Design é¢¨æ ¼çš„æœ€å¤§å•é¡Œå°±æ˜¯å®¹æ˜“é€ æˆå¯©ç¾ç–²å‹ï¼Œæ‰€æœ‰è³‡è¨Šæ²’æœ‰åˆ†å±¤ï¼Œç›´åˆ° 2017å¹´ Google æ¨å‡ºäº† Material Designï¼Œå°‡ç¾å¯¦ä¸–ç•Œä¸­ç´™å¼µçš„ç‰¹æ€§ç”¨åœ¨è™›æ“¬ä¸­ï¼Œåˆ©ç”¨é™°å½±æ¨¡æ“¬ç´™å¼µç©ºé–“ã€‚\nç›®å‰ä¸»æµ UI è¨­è¨ˆå¹¾ä¹æ˜¯ Flat Design å’Œ Material Designã€‚\nNeumorphism ç‰¹å¾µ Neumorphism æ­¤é¢¨æ ¼åŒæ™‚æ“æœ‰é«˜å…‰å’Œé™°å½±ã€‚\nå…·æœ‰ä»¥ä¸‹å¹¾é»ç‰¹å¾µï¼š\n å…ƒä»¶ä¸æ¼‚æµ®ï¼› å…ƒä»¶é¡è‰²èˆ‡èƒŒæ™¯çµ±ä¸€ï¼Œä¸èƒ½ç´”é»‘æˆ–ç´”ç™½ï¼› åˆ©ç”¨æ˜çš„æš—é™°å½±ç”¢ç”Ÿå‡¹å‡¸æ„Ÿã€‚  æ‰å¹³ã€å¯¦æ„Ÿã€æ“¬ç‰©åŒ–é¢¨æ ¼ï¼š\nSee the Pen Neumorphism DEMO by Chupai@Design (@chupai) on CodePen.  CSS æ¨£å¼ 1. å‡¸ 1 2 3 4 5 6 7 8 9  .circle { width: 200px; height: 200px; border-radius: 50%; background: #E6EEF8; box-shadow: -6px -6px 16px rgba(255, 255, 255, 0.8), 6px 6px 16px rgba(0, 0, 0, 0.2); }   See the Pen Neumorphism Concave by Chupai@Design (@chupai) on CodePen.  2. å‡¹ 1 2 3 4 5 6 7 8 9  .circle { width: 200px; height: 200px; border-radius: 50%; background: #E6EEF8; box-shadow: inset -6px -6px 16px rgba(255, 255, 255, 0.8), inset 6px 6px 16px rgba(0, 0, 0, 0.2); }   See the Pen Neumorphism Convex by Chupai@Design (@chupai) on CodePen.  3. ç–ŠåŠ  See the Pen Neumorphism ç–ŠåŠ  by Chupai@Design (@chupai) on CodePen.  4. ç¸½çµ åˆ†è¾¨å…‰æºä½ç½®è£½é€ å‡¹å‡¸æœ‰è‡´çš„æ•ˆæœï¼Œæœ€åŸºæœ¬çš„å…‰æºè§’åº¦ç‚º 45åº¦è§’ï¼Œä¹Ÿå°±å·¦ä¸Šè§’å’Œå³ä¸‹è§’ï¼Œä¹Ÿå¯ä»¥ç”¨å…¶ä»–è§’åº¦ã€‚\nèƒŒæ™¯ä¹Ÿå¯ä»¥ä½¿ç”¨æ¼¸å±¤ç¨ä½œä¸€é»é»è®ŠåŒ–ï¼Œè®“å…ƒä»¶è¡¨é¢çœ‹èµ·ä¾†ä¸æ˜¯å¹³é¢çš„ï¼Œé™°å½±æ¨¡ç³Šç¨‹åº¦å¯ä»¥è¦–æƒ³è¦å‘ˆç¾çš„æè³ªä¾†æ±ºå®šï¼Œè¼ƒå¤§çœ‹èµ·ä¾†è¼ƒæŸ”è»Ÿã€‚\n Neumorphism.io\nç·šä¸Šå·¥å…·\n ç¯„ä¾‹ See the Pen Neumorphism Text Effect by Chupai@Design (@chupai) on CodePen.  See the Pen Neumorphism UI - Social by Chupai@Design (@chupai) on CodePen.  See the Pen Neumorphism - block by Chupai@Design (@chupai) on CodePen.  See the Pen Neumorphism UI - Login Form by Chupai@Design (@chupai) on CodePen.  ç¸½çµ åœ¨ä¸»æµ UI è¨­è¨ˆå¹¾ä¹æ˜¯ Flat Design é¢¨æ ¼çš„æƒ…æ³ä¸‹ï¼ŒNeumorphism å¸¶çµ¦äººæ–°ç©ã€æ–°é®®ã€æœªä¾†æ„Ÿï¼Œä½†èªªå¯¦åœ¨çš„ï¼Œæ­¤é¢¨æ ¼å°æ–¼è¦–åŠ›è¼ƒå·®çš„ä½¿ç”¨è€…ä¾†èªªï¼Œå¯è¾¨è­˜éå¸¸ä¸å‹å–„ã€‚å› ç‚ºå®ƒçš„å…ƒä»¶é¡è‰²èˆ‡èƒŒæ™¯ç›¸åŒï¼ŒåŸºæœ¬ä¸Šæ˜¯ä¾è³´é«˜å…‰å’Œé™°å½±å‡¸é¡¯å‡ºå…ƒä»¶æœ¬èº«ï¼Œèˆ‰ä¾‹ä¾†èªªï¼Œä½ çš„è¢å¹•å°æ¯”ç¨å¾®ä¸æº–ç¢ºä¸€é»ï¼Œå…ƒä»¶æœƒç›´æ¥èˆ‡èƒŒæ™¯èåˆã€‚\nä»¥ä¸Šæ˜¯æˆ‘çš„çœ‹æ³•ï¼Œä½†æˆ‘ä¸è¨­è¨ˆå¸«ï¼Œå› æ­¤è‹¥å°æ­¤é¢¨æ ¼æœ‰æ›´å¤šèˆˆè¶£ï¼Œå¯ä»¥åƒè€ƒä»¥ä¸‹æ–‡ç« ï¼š\n Neumorphismï¼ˆæ–°æ‹Ÿæ€ï¼‰UIè®¾è®¡è¶‹åŠ¿å—ï¼Ÿ æ–°æ“¬ç‰©åŒ–è¨­è¨ˆ Neumorphism è®“ UIUX è¨­è¨ˆå¸«é‡æ–°æ€è€ƒçš„ 5 ä»¶äº‹ ç”¨æˆ·ç•Œé¢ä¸­çš„Neumorphismï¼ˆæ–°æ‹Ÿç‰©é£æ ¼ï¼‰è®¾è®¡ ä¸ºä»€ä¹ˆ2020å¹´åˆçˆ†ç«çš„æ–°æ‹Ÿç‰©åŒ–è®¾è®¡ï¼Œå®Œå…¨æ— æ³•è½åœ°ä½¿ç”¨ï¼Ÿ â€œçƒ­ç«æœå¤©â€çš„æ–°æ‹Ÿç‰©è®¾è®¡è¶‹åŠ¿ï¼Œä½ éœ€è¦ç†æ€§çœ‹å¾… è¶‹åŠ¿ I è§£ææ–°æ‹Ÿæ€é£æ ¼æœ€å…¨æŒ‡å— æ–°æ“¬æ…‹â€”â€”åœ‹å¤–è¨­è¨ˆå¸«åˆ†æçš„å…¨æ–°UIè¶¨å‹¢  å¦å¤–ï¼Œæœ€è¿‘æ‰¾åˆ°ä¸€å€‹åŸºæ–¼ Bootstrap çš„ Neumorphism UIï¼Œå¯ä»¥ç©ç©çœ‹ã€‚\n","description":"Neumorphism æ˜¯ç”±ã€ŒNew Skeuomorphismã€çµ„åˆçš„æ–°åè©ï¼Œä¹Ÿå°±æ˜¯æ–°å‹æ…‹çš„æ“¬ç‰©åŒ–é¢¨æ ¼è¨­è¨ˆã€‚","id":43,"section":"posts","tags":["UI/UX","Neumorphism","Soft UI"],"title":"Neumorphismï¼ˆSoft UIï¼‰","uri":"https://chupai.github.io/posts/2008/neumorphism/"},{"content":"é€™é€±æ˜¯å…­è§’é¼ å¹´éµäººè³½ç¬¬ä¸‰åé€±ã€‚\né€™å¹¾é€±æœƒèªªæ˜æ¼”ç®—æ³•çš„è¨­è¨ˆï¼šåˆ†æ²»æ³•ã€å‹•æ…‹è¦åŠƒã€è²ªå©ªæ³•ã€å›æº¯æ³•ã€åˆ†æ”¯å®šç•Œæ³•ï¼Œæ‰€ä»¥æˆ‘å€‘å…ˆä¾†çœ‹ éè¿´ Recursionã€‚\n\rä»€éº¼æ˜¯éè¿´  ç‚ºäº†ç†è§£éè¿´ï¼Œå‰‡å¿…é ˆé¦–å…ˆç†è§£éè¿´ã€‚\n éè¿´ï¼ˆRecursionï¼‰ æœ€æ—©æ˜¯ç”¨åœ¨æ•¸å­¸å®šç¾©å¼ï¼Œç¨±ä½œ éè¿´å®šç¾©ï¼ˆrecursive definitionsï¼‰ï¼Œä½¿ç”¨è¢«å®šç¾©å°è±¡çš„è‡ªèº«ä¾†ç‚ºå…¶ä¸‹å®šç¾©ï¼Œä½¿ç”¨è¢«å®šç¾©å°è±¡çš„è‡ªèº«ä¾†ç‚ºå…¶ä¸‹å®šç¾©ã€‚\nç°¡å–®ä¾†èªªï¼Œå°±æ˜¯ã€Œè‡ªå·±å®šç¾©è‡ªå·±ã€ã€‚\nèˆ‰ä¾‹ä¾†èªªï¼Œè²»æ°æ•¸åˆ—ï¼ˆFibonacciï¼‰ æˆ–ç¨± æ–æ³¢é‚£å¥‘æ•¸åˆ—ï¼šç”± 0 å’Œ 1 é–‹å§‹ï¼Œä¹‹å¾Œçš„æ•¸æ˜¯ç”±ä¹‹å‰çš„å…©æ•¸ç›¸åŠ è€Œå¾—å‡ºã€‚\n0, 1, 1, 2, 3, 5, 8, 13, 21, 34, 55, 89 ... å¦‚æœè¦å°‡æ•¸åˆ—å…¨éƒ¨åˆ—èˆ‰å®Œï¼ŒåŸºæœ¬ä¸Šä¸å¯èƒ½ï¼Œæ‰€ä»¥æ•¸å­¸ä¸Šå°±ä»¥éè¿´ä¾†å®šç¾©ï¼š\n $F_0 = 0$ï¼ˆåŸºæœ¬æ¢ä»¶ï¼‰ $F_1 = 1$ï¼ˆåŸºæœ¬æ¢ä»¶ï¼‰ å°æ‰€æœ‰å¤§æ–¼ $1$ çš„æ•´æ•¸ $n$ï¼š$F_n = F_{n-1} + F_{n-2}$ï¼ˆéè¿´å®šç¾©ï¼‰  åœ¨ç¨‹å¼èªè¨€ä¸­ï¼Œå°‡ä¸Šè¿°æ¦‚å¿µç¨‹å¼åŒ–ï¼Œæ˜¯ç¨‹å¼æµç¨‹æ§åˆ¶çš„ä¸€ç¨®ï¼Œéè¿´ç¨‹åºï¼ˆrecursive proceduresï¼‰ï¼Œä¸€å€‹å‡½å¼ç›´æ¥æˆ–é–“æ¥å‘¼å«è‡ªèº«çš„ä¸€ç¨®æ–¹å¼ã€‚\nç°¡å–®ä¾†èªªï¼Œå°±æ˜¯ã€Œè‡ªå·±å‘¼å«è‡ªå·±ã€ã€‚\néè¿´æœ¬è³ªä¸Šï¼Œæ˜¯ä¸€ç¨®å°‡ä¸€å€‹è¤‡é›œçš„å•é¡Œï¼Œæ‹†åˆ†æˆå…·æœ‰ç›¸åŒæ€§è³ªçš„å­å•é¡Œï¼Œè€Œè§£æ±ºå•é¡Œçš„æ–¹æ³•ã€‚\nç°¡å–®ç¯„ä¾‹ ä¸€å€‹åŸºæœ¬çš„éè¿´å‡½å¼ä¸€å®šè¦æœ‰ï¼š\n çµ‚æ­¢æ¢ä»¶ï¼ˆåŸºæœ¬æ¢ä»¶ï¼‰ éè¿´æ¢ä»¶ï¼ˆå‘¼å«è‡ªå·±çš„æ¢ä»¶ï¼‰  å¦‚æœæ²’æœ‰çµ‚æ­¢æ¢ä»¶ï¼Œå°±æœƒç„¡é™å¾ªç’°ç›´åˆ°ç•¶æ‰ã€‚\n1. ç´¯åŠ  å‡è¨­è¼¸å…¥ä¸€å€‹æ­£æ•´æ•¸ nï¼Œæ±‚ 1 + 2 + \u0026hellip; + n çš„ç¸½å’Œã€‚\næœ€ç°¡å–®çš„æ–¹å¼ï¼Œå°±æ˜¯ç”¨è¿­ä»£çš„æ–¹å¼ï¼ˆè¿´åœˆï¼‰ï¼Œå°‡æ‰€æœ‰æ•¸å­—ç´¯åŠ å†ä¸€èµ·ï¼š\n1 2 3 4 5 6 7  function sum(n) { let result = 0; for (let i = 1; i \u0026lt;= n; i++) { result += i; } return result; }   é€™å€‹å•é¡Œå¯ä»¥å¯«æˆ $S(n) = n + n - 1 + \u0026hellip; + 1$ï¼Œä¹Ÿå°±æ˜¯\n $S(1) = 1$ï¼ˆåŸºæœ¬æ¢ä»¶ï¼‰ å°æ‰€æœ‰å¤§æ–¼ 1 çš„æ•´æ•¸ï¼š$S(n) = n + S(n - 1)$ï¼ˆéè¿´å®šç¾©ï¼‰  ä½¿ç”¨éè¿´çš„æ–¹å¼ï¼š\n1 2 3 4 5 6  function sum(n) { if (n === 1) { return 1; } return n + sum(n - 1); }   åˆå§‹ï¼ˆçµ‚æ­¢ï¼‰æ¢ä»¶ç‚º n === 1ï¼Œéè¿´æ¢ä»¶ç‚º n !== 1ã€‚\nå¦‚æœ n = 6ï¼ŒåŸ·è¡Œéç¨‹å¦‚ä¸‹ï¼š\n1 2 3 4 5 6 7 8 9 10  sum(5) 5 + sum(4) 4 + sum(3) 3 + sum(2) 2 + sum(1) return 1 return 2 + 1 // 3  return 3 + 3 // 6  return 4 + 6 // 10  return 5 + 10 // 15   2. éšä¹˜ å¦ä¸€å€‹æ›´å¸¸è¦‹çš„ç¯„ä¾‹å°±æ˜¯æ­£æ•´æ•¸çš„éšä¹˜ï¼ˆfactorialï¼‰ã€‚\nå®šç¾©ï¼š\n $0! = 1$ $n! = 1 \\times 2 \\times 3 \u0026hellip;(n - 2) \\times (n - 1) \\times n$ $n! = n \\times(n - 1)!$  1 2 3 4  function factorial(n) { if (n === 0) {return 1;} return n * factorial(n - 1); }   3. è²»æ°æ•¸åˆ— ä¸Šé¢æåˆ°çš„è²»æ°æ•¸åˆ—ï¼š\n $F_0 = 0$ï¼ˆåŸºæœ¬æ¢ä»¶ï¼‰ $F_1 = 1$ï¼ˆåŸºæœ¬æ¢ä»¶ï¼‰ å°æ‰€æœ‰å¤§æ–¼ $1$ çš„æ•´æ•¸ $n$ï¼š$F_n = F_{n-1} + F_{n-2}$ï¼ˆéè¿´å®šç¾©ï¼‰  1 2 3 4 5 6  function fibonacci(n) { if (n \u0026lt; 2) { return n; } return fibonacci(n - 1) + fibonacci(n - 2); }   éè¿´èˆ‡è¿­ä»£ è¿­ä»£ï¼š\n è¿´åœˆçµæ§‹ï¼Œæ˜¯ç”±ä¸‹è€Œä¸Šï¼ˆBottom-Upï¼‰ï¼Œä¸€æ­¥æ­¥é€¼è¿‘ç­”æ¡ˆï¼› ç”¨æ–°å€¼è¦†è“‹èˆŠå€¼ï¼Œç›´åˆ°æ»¿è¶³æ¢ä»¶å¾ŒçµæŸï¼Œå› ç‚ºä¸ä¿å­˜ä¸­é–“å€¼ï¼Œå› æ­¤ä¸æœƒæ¶ˆè€—å¾ˆå¤šè¨˜æ†¶é«”ç©ºé–“ã€‚  éè¿´ï¼š\n é¸æ“‡çµæ§‹ï¼Œæ˜¯ç”±ä¸Šè€Œä¸‹ï¼ˆTop-Downï¼‰ï¼Œæ…¢æ…¢åœ°å°‡å•é¡Œç¸®å°ï¼Œä¾†æ±‚å¾—ç­”æ¡ˆï¼› å°‡å•é¡Œåˆ†è§£æˆå¹²å€‹å­å•é¡Œï¼Œå†å›é ­é‹ç®—ç­”æ¡ˆï¼Œå› æ­¤æœƒæ¶ˆè€—å¤§é‡è¨˜æ†¶é«”ç©ºé–“ï¼Œä½†ç¨‹å¼ç¢¼ç°¡å–®æ˜ç­ã€‚  éè¿´å¯ä»¥æ”¹å¯«æˆè¿­ä»£ï¼Œè¿­ä»£åä¹‹äº¦ç„¶ã€‚\n1. éè¿´çš„å„ªç¼ºé» å„ªé»ï¼š\n å¤§å•é¡ŒåŒ–ç‚ºå°å•é¡Œï¼Œç¨‹å¼ç¢¼ç°¡æ½”æ¸…æ™°ï¼Œå¯è®€æ€§ä½³ã€‚  ç¼ºé»ï¼š\n å®¹æ˜“ç”¢ç”Ÿ å †ç–Šæº¢ä½ï¼ˆstack overflowï¼‰ï¼Œå› æ­¤éå¿…è¦ï¼Œä¸å»ºè­°ä½¿ç”¨éè¿´ï¼› å†—é¤˜è¨ˆç®—ï¼Œè‹¥å­å•é¡Œå½¼æ­¤éç¨ç«‹çš„ï¼Œæœƒé‡è¤‡è¨ˆç®—ã€‚  ä¹Ÿå°±æ˜¯èªªï¼Œé›–ç„¶éè¿´çœ‹èµ·ä¾†æ¯”è¼ƒç°¡æ½”å°ˆæ¥­ï¼Œä½†ä¸¦æ²’æœ‰æ¯”è¼ƒå¿«ä¸”æ¶ˆè€—å¤§é‡è¨˜æ†¶é«”ã€‚\nå°¾éè¿´ å‘¼å«å †ç–Šæ˜¯æœ‰å¤§å°çš„ï¼Œç•¶éå¤šçš„å‡½å¼å‘¼å«å°è‡´ç„¡æ³•å®¹ç´é€™äº›å‘¼å«çš„ä½å€ï¼Œå°±æœƒç™¼ç”Ÿå †ç–Šæº¢ä½ã€‚å¸¸ç™¼ç”Ÿåœ¨ä½¿ç”¨éè¿´å‡½å¼ï¼Œå› æ­¤è¨­è¨ˆå‡½å¼æ™‚ï¼Œæœƒç›¡é‡é¿å…ä½¿ç”¨éè¿´çµæ§‹ï¼Œæœƒæ”¹ç”¨è¿­ä»£çµæ§‹ã€‚\nä½†ä¸€å®šè¦ä½¿ç”¨éè¿´å‘¢ï¼Ÿæœ‰ä¸€å€‹æŠ€å·§å«åšå°¾éè¿´ï¼ˆtail-recursiveï¼‰ï¼Œå¯ä»¥å„ªåŒ–éè¿´å‡½å¼æŒ‡çš„æ˜¯éè¿´æ“ä½œåªå›å‚³å‡½å¼è‡ªå·±ã€‚\nä¸éæˆ‘æ²’ç ”ç©¶éï¼Œå› æ­¤é€™è£¡å…ˆä¸è¨è«–ï¼Œæœ‰èˆˆè¶£å¯ä»¥åƒè€ƒä»¥ä¸‹é€£çµï¼š\n å°¾å‘¼å« - wikipedia å°¾éæ­¸ç‚ºå•¥èƒ½å„ªåŒ–ï¼Ÿ - çŸ¥ä¹ Javascriptä¸­çš„å°¾éæ­¸åŠå…¶å„ªåŒ– - çŸ¥ä¹ è®“éè¿´çš„Stackæ°¸é ä¸æœƒçˆ†ç‚¸çš„ã€Œå°¾éè¿´ã€çœŸçš„æœ‰é‚£éº¼ç¥å¥‡å— â€” å°¾éè¿´ç¯‡ï½œé«’æ¡¶å­ ","description":"ç‚ºäº†ç†è§£éè¿´ï¼Œå‰‡å¿…é ˆé¦–å…ˆç†è§£éè¿´ã€‚","id":44,"section":"posts","tags":["è³‡æ–™çµæ§‹","éè¿´","Recursion","w3HexSchool"],"title":"JavaScript å­¸æ¼”ç®—æ³•ï¼ˆäºŒåäºŒï¼‰- éè¿´ Recursion","uri":"https://chupai.github.io/posts/2008/alg_recursion/"},{"content":" ç«¹ç™½çš„ JS å­¸å¾’ç‰¹è¨“ç­ç­†è¨˜ - ç›®éŒ„\n è¨˜éŒ„å…­è§’å­¸é™¢æ‰€é–‹çš„ JS å­¸å¾’ç‰¹è¨“ç­ï¼Œç‚ºæœŸ 60å¤©çš„ç‰¹è¨“ã€‚\n\rç¬¬å››åä¸ƒé—œ -  é¡Œç›®é€£çµ\n 47. å•é¡Œ è«‹å¸æ”¶ä»¥ä¸‹å½±ç‰‡åˆ—è¡¨ï¼Œä»¥äº†è§£ post çš„ç·´ç¿’ï¼Œå½±ç‰‡å…§å®¹æ˜¯ä½¿ç”¨åŸç”Ÿ post æ–¹å¼ï¼Œå¦‚æœæ‚¨å·²ç†è§£è§€å¿µï¼Œé‚„è«‹è§€çœ‹ axios å½±ç‰‡ä¾†æ”¹å¯«åŸç”Ÿ post èªæ³•ï¼Œç”¨æˆ‘å€‘æ‰€æä¾›çš„ APIï¼Œä¾†è¨»å†Šä¸€å€‹å¸³è™Ÿ\nè€é³¥å•é¡Œï¼š\nè«‹ç”¨æ­¤ APIï¼Œå¯«ä¸‰å€‹ AJAX POST API ç¯„ä¾‹ï¼š\n XMLHttpRequest Fetch axios  47. åƒè€ƒè§£ç­” APIã€è¦ POST çš„è³‡æ–™ï¼ˆJSON æ ¼å¼ï¼‰ï¼š\n1 2 3 4 5  const url = \u0026#39;https://hexschool-tutorial.herokuapp.com/api/signin\u0026#39;; const sendData = { email: \u0026#39;lovef2e@hexschool.com\u0026#39;, password: \u0026#39;12345678\u0026#39;, };   XHRï¼š\n1 2 3 4 5 6 7 8 9 10 11  const xhr = new XMLHttpRequest(); xhr.open(\u0026#39;POST\u0026#39;, url); xhr.setRequestHeader(\u0026#39;content-type\u0026#39;, \u0026#39;application/json\u0026#39;); xhr.send(JSON.stringify(sendData)); xhr.addEventListener(\u0026#39;load\u0026#39;, function () { if (this.status === 200) { const data = JSON.parse(this.responseText); alert(data.success + \u0026#39;,\u0026#39; + data.message); } });   Fetchï¼š\n1 2 3 4 5 6 7 8 9  fetch(url, { method: \u0026#39;POST\u0026#39;, headers: { \u0026#39;content-type\u0026#39;: \u0026#39;application/json\u0026#39; }, body: JSON.stringify(sendData), }) .then((response) =\u0026gt; response.json()) .then((data) =\u0026gt; { alert(data.success + \u0026#39;,\u0026#39; + data.message); });   1 2 3 4 5 6 7 8 9 10 11 12 13  // Async/Await async function ajax() { const response = await fetch(url, { method: \u0026#39;POST\u0026#39;, headers: { \u0026#39;content-type\u0026#39;: \u0026#39;application/json\u0026#39; }, body: JSON.stringify(sendData), }); const data = await response.json(); alert(data.success + \u0026#39;,\u0026#39; + data.message); } ajax();   jQuery ajaxï¼š\n1 2 3  $.post(url, sendData, function (data) { alert(data.success + \u0026#39;,\u0026#39; + data.message); });   axiosï¼š\n1 2 3 4  axios.post(url, sendData).then((response) =\u0026gt; { const data = response.data; alert(data.success + \u0026#39;,\u0026#39; + data.message); });   æ•™å­¸ã€å»¶ä¼¸çŸ¥è­˜é€£çµ  ç«¹ç™½è¨˜äº‹æœ¬ - AJAX ç«¹ç™½è¨˜äº‹æœ¬ - JSON ç«¹ç™½è¨˜äº‹æœ¬ - XMLHttpRequest ç«¹ç™½è¨˜äº‹æœ¬ - Fetch  ç¬¬å››åå…«é—œ -  é¡Œç›®é€£çµ\n 48. å•é¡Œ è«‹åšæ­¤æ­¤å½±ç‰‡çš„å°ç¯€ä½œæ¥­ï¼Œä¸€å€‹ç¶²é ä¸Šæœ‰å…©å€‹é¢æ¿ï¼Œåˆ†åˆ¥æ˜¯\n è¨»å†Šé¢æ¿ ç™»å…¥é¢æ¿  åŒæ™‚å¯«ä¸€äº›é©—è­‰èˆ‡ä½¿ç”¨è€…é«”é©—åŠŸèƒ½ï¼Œä¾‹å¦‚ï¼š\n å¸³è™Ÿå¯†ç¢¼ä¸å¯ç‚ºç©º é€å‡ºå¾Œï¼Œæ¬„ä½é€²è¡Œæ¸…ç©º æŸ¥è©¢æ˜¯å¦ç‚º Email æ ¼å¼(éå¿…åš) å¯†ç¢¼æ˜¯å¦æœ‰è‹±æ•¸å¤¾é›œ(éå¿…åš)  48. åƒè€ƒè§£ç­” codePen\nSee the Pen POST ç·´ç¿’ by Chupai@Design (@chupai) on CodePen.  ç¬¬å››åä¹ã€äº”åé—œ - æ—…é¤¨è¨‚æˆ¿ç¶²  é¡Œç›®é€£çµ\n æŠ€è¡“ä¸»ç®¡çµ‚æ–¼å‘Šè¨´å°æ°ï¼Œä»–å€‘æº–å‚™è¦å¹«å®¢æˆ¶åšæ—…é¤¨è¨‚æˆ¿ç¶²çš„é¡Œç›®ï¼Œå®¢æˆ¶å·²ç¶“æœ‰åœ¨ç¶²ç«™çœ‹åˆ°ä¸€äº›ç¶²ç«™è¦ºå¾—ä¸éŒ¯ï¼Œ\nå¾Œä¾†æŠ€è¡“ä¸»ç®¡ç™¼ç¾ï¼Œå…¶å¯¦é‚£äº›ç¶²ç«™éƒ½æ˜¯ fake APIï¼ŒæŸ¥åˆ°æºé ­æ‰ç™¼ç¾æ˜¯é€™å€‹ç¶²ç«™ï¼Œæ‰€ä»¥å®¢æˆ¶è¦æ±‚èªªï¼Œå…ˆç”¨é€™ç¶²ç«™æ‰€æä¾›çš„ API å…ˆåšå‡ºé››å½¢ä¾†ã€‚\n49.50. å•é¡Œ å°æ°ä¾ç…§æ–‡ä»¶è£¡çš„ APIï¼Œæƒ³è¦å»å–å¾—æ­¤ API [GET] å–å¾—æ‰€æœ‰æˆ¿å‹ï¼Œä½†ç™¼ç¾ä¸ç®¡æ€éº¼æˆ³ä¹Ÿç„¡æ³•å–å¾—æ‰€æœ‰æˆ¿å‹è³‡æ–™ï¼Œ\næŠ€è¡“ä¸»ç®¡åªæ·¡æ·¡èªªäº†ä¸€å¥ï¼šã€Œä½ é€è«‹æ±‚æ™‚å°‘åŠ  TOKEN å•¦ï¼ã€ï¼Œå°±è·‘å»æ³¡å’–å•¡äº†ï¼Œé€™å¥è©±ç©¶ç«Ÿæ˜¯ä»€éº¼æ„æ€å‘¢ï¼Ÿ\n ä»»å‹™ä¸€ï¼šè«‹å·²ç¶“äº†è§£é€™çŸ¥è­˜çš„å­¸å“¡ï¼Œå¯«ç¯‡ hackMDï¼Œæ•™å°è©²å¦‚ä½•å¤¾å¸¶ tokenï¼Œ ä»»å‹™äºŒï¼šè«‹ç”¨ codepen å¯«è‡ªå·±çš„ç¯„ä¾‹ï¼Œèƒ½æ­£ç¢ºå–å¾— [GET] å–å¾—æ‰€æœ‰æˆ¿å‹ï¼Œä¸¦ç”¨ ulã€li ä¾†å‘ˆç¾å„å€‹ã€Œæˆ¿å‹åç¨±ã€  49. åƒè€ƒè§£ç­” TOKEN ç°¡å–®ä¾†èªªï¼Œå°±æ˜¯ä½ ç™»å…¥å¸³å¯†ï¼ˆPOSTï¼‰å¾Œï¼Œä¼ºæœå™¨æœƒçµ¦ä½ é€šè¡Œè­‰ï¼ˆtokenï¼‰ï¼Œç•¶ä½ è¦è·Ÿä¼ºæœå™¨è«‹æ±‚è³‡æ–™æ™‚ï¼ˆGETï¼‰ï¼Œå°±æ˜¯ç”¨é€™çµ„é€šè¡Œè­‰ä¾†é©—è­‰ï¼Œä¸éœ€è¦å†æ¬¡å‚³é€å¸³è™Ÿã€‚\nAPIã€TOKENï¼š\n1 2  const url = \u0026#39;https://challenge.thef2e.com/api/thef2e2019/stage6/rooms\u0026#39;; const token = \u0026#39;\u0026#39;;   XHRï¼š\n1 2 3 4 5 6 7 8 9 10 11  const xhr = new XMLHttpRequest(); xhr.open(\u0026#39;GET\u0026#39;, url); xhr.setRequestHeader(\u0026#39;Authorization\u0026#39;, `Bearer ${token}`); xhr.send(null); xhr.addEventListener(\u0026#39;load\u0026#39;, function () { if (this.status === 200) { const data = JSON.parse(this.responseText); console.log(data); } });   Fetchï¼š\n1 2 3 4 5 6 7 8 9 10  fetch(url, { method: \u0026#39;GET\u0026#39;, headers: { Authorization: `Bearer ${token}`, }, }) .then((res) =\u0026gt; res.json()) .then((data) =\u0026gt; { console.log(data); });   jQuery ajaxï¼š\n1 2 3 4 5 6 7 8 9 10  $.ajax({ url, type: \u0026#39;GET\u0026#39;, headers: { Authorization: `Bearer ${token}`, }, success(data) { console.log(data); }, });   axiosï¼š\n1 2 3 4 5 6 7  axios .get(url, { headers: { Authorization: `Bearer ${token}` }, }) .then((res) =\u0026gt; { console.log(res.data); });   50. åƒè€ƒè§£ç­” æ¸²æŸ“ï¼š\n1 2 3 4 5 6 7 8 9  function render(data) { const list = document.querySelector(\u0026#39;.list\u0026#39;); data.items.forEach((item)=\u0026gt; { const li = document.createElement(\u0026#39;li\u0026#39;); list.append(li); li.textContent = `Room name: ${item.name}`; }); }   æ•™å­¸ã€å»¶ä¼¸çŸ¥è­˜é€£çµ  æ˜¯èª°åœ¨å“ˆå›‰? å¦‚ä½•æå®š SPA èˆ‡ API Server çš„ç™»å…¥é©—è­‰ [C#][ASP.NET] Web API é–‹ç™¼å¿ƒå¾— (7) - ä½¿ç”¨ Token é€²è¡Œ API æˆæ¬Šé©—è­‰ ä½ éœ€è¦ç­è§£çš„tokenï¼ŒJson web token ","description":"AJAX 47 ~ 50 é—œ","id":45,"section":"posts","tags":["JavaScript","JS å­¸å¾’ç‰¹è¨“ç­"],"title":"JS å­¸å¾’ç‰¹è¨“ç­ - AJAX 47 ~ 50 é—œ","uri":"https://chupai.github.io/posts/2008/js60_6/"},{"content":" JavaScriptç­†è¨˜ ç›®éŒ„\n AJAXï¼š\n AJAX JSON XMLHttpRequest Fetch  Fetch API å‚³çµ± AJAX æ“ä½œæ˜¯ä½¿ç”¨ XMLHttpRequestï¼ˆXHRï¼‰ç‰©ä»¶ä¾†å¯¦ç¾ï¼Œè€Œ Fetch API æ˜¯è¿‘å¹´ä¾†è¢«æåŠå°‡è¦å–ä»£ XMLHttpRequest çš„æŠ€è¡“æ–°æ¨™æº–ï¼Œæ˜¯ä¸€å€‹ HTML5 çš„ APIã€‚\n1. ç°¡ä»‹ Fetch ä¸¦ä¸æ˜¯ XMLHttpRequest çš„å‡ç´šç‰ˆæœ¬ï¼Œä¸æ˜¯ jQuery æä¾›çš„ $.ajax èªæ³•æˆ– AXIOS é‚£ç¨®åŸç”Ÿ XHR çš„å°è£ã€‚å®ƒæ˜¯ä¸€å€‹å…¨æ–°çš„æ±è¥¿ï¼Œä¸¦ä¸”åŸºæ–¼ Promise èªæ³•çµæ§‹æ‰€è¨­è¨ˆï¼Œå¯é…åˆä½¿ç”¨ Async/Await èªæ³•ï¼Œä½¿ç¨‹å¼æ›´åŠ å„ªé›…ã€‚\nFetch çš„è§£æ±ºäº†ä¸€äº› XHR å•é¡Œï¼Œä¾‹å¦‚ï¼Œè§£æ±ºå›å‘¼åœ°ç„ï¼Œä½¿ç”¨èµ·ä¾†æ›´åŠ ç°¡æ½”ã€ä¸éœ€è¦åŠ è¼‰å‡½å¼åº«ç­‰ç­‰ã€‚\nå¸¸è¢«æåŠå¯èƒ½å–ä»£ XHRï¼Œä½†å®ƒä¹Ÿä¸æ˜¯å®Œå…¨æ²’æœ‰ç¼ºé»ï¼Œæ²’è¾¦æ³•åƒ XHR è™•ç†æ›´ç´°ç¯€çš„æ±è¥¿ï¼Œä¾‹å¦‚ï¼Œç„¡æ³•å°è«‹æ±‚é€²åº¦ã€æ„ˆæ™‚è«‹æ±‚åšè™•ç†ï¼Œåªå°ç¶²è·¯è«‹æ±‚å ±éŒ¯ç­‰ç­‰ã€‚\n2. ç¯„ä¾‹ å–å¾—å‡è³‡æ–™ JSONï¼ŒAPIï¼š\n1  const url = \u0026#39;https://randomuser.me/api/\u0026#39;;   å‚³çµ± XMLHttpRequest éœ€è¦å¥½å¹¾è¡Œçš„æ“ä½œï¼š\n1 2 3 4 5 6 7 8 9 10  const xhr = new XMLHttpRequest(); xhr.open(\u0026#39;GET\u0026#39;, url); xhr.send(null); xhr.addEventListener(\u0026#39;load\u0026#39;, function (event) { if (this.status === 200) { const data = JSON.parse(this.responseText); console.log(data); } });   è€Œ Fetch åªéœ€è¦çŸ­çŸ­å¹¾è¡Œï¼š\n1 2 3  fetch(url) .then((response) =\u0026gt; response.json()) .then((data) =\u0026gt; {console.log(data);});   ä½¿ç”¨ Async/Await æ›´ç›´è¦ºï¼š\n1 2 3 4 5 6 7  async function ajax() { const response = await fetch(url); const data = await response.json(); console.log(data); } ajax();   Request ç‰©ä»¶ ä½¿ç”¨ Fetch æœ€ç°¡å–®çš„æ–¹å¼å°±æ˜¯é€é fetch()ï¼Œä½†å†é€™ä¹‹å‰ï¼Œæˆ‘å€‘å…ˆä¾†ç†è§£ä»€éº¼æ˜¯ Request ç‰©ä»¶ï¼Œ\nRequest ç‰©ä»¶ä»£è¡¨è³‡æºè«‹æ±‚ï¼Œå»ºæ§‹å¼æ¥å—ä¸€å€‹æˆ–å…©å€‹åƒæ•¸ï¼š\n1  const myRequest = new Request(input, [init]);    inputï¼šurlï¼Œç²å–è³‡æºçš„ç¶²å€ï¼› initï¼šä¸€å€‹å¯é¸ç‰©ä»¶ï¼ŒåŒ…å«å¸Œæœ›è¢«åŒ…æ‹¬åˆ°è«‹æ±‚ä¸­çš„å„ç¨®è‡ªå®šç¾©é¸é …ã€‚  init ç‰©ä»¶ä¸­é¸é …å¦‚ä¸‹ï¼š\n methodï¼šæŒ‡å®š HTTP è«‹æ±‚æ–¹æ³•ï¼Œä¾‹å¦‚ GETã€POSTã€DELETEç­‰ç­‰ï¼ˆé è¨­ç‚º GETï¼‰ã€‚ headersï¼šä»»ä½•ä½ æƒ³åŠ åˆ°è«‹æ±‚ä¸­çš„ Headers ç‰©ä»¶ï¼ˆé è¨­ {} ç©ºç‰©ä»¶ï¼‰ã€‚ bodyï¼šéœ€è¦ç™¼é€çš„å…§å®¹ï¼Œå¦‚æœ method ç‚º GET æˆ– HEAD å‰‡ä¸è¨­å®šã€‚ modeï¼šè«‹æ±‚çš„æ¨¡å¼ã€‚  cors å…è¨±è·¨åŸŸï¼ˆé è¨­ï¼‰ no-cors åªå…è¨±ä½¿ç”¨ HEADã€GETã€POST æ–¹æ³• same-origin åªå…è¨±åŒæºè«‹æ±‚ï¼Œå¦å‰‡ç›´æ¥å ±éŒ¯ navigate æ”¯æŒé é¢å°èˆª   credentialsï¼šè¡¨ç¤ºæ˜¯å¦ç™¼é€ cookieã€‚  omit ä¸ç™¼é€ cookie same-origin åƒ…åœ¨åŒæºæ™‚ç™¼é€ cookieï¼ˆé è¨­ï¼‰ include ç™¼é€cookie   cacheï¼šè«‹æ±‚ä¸­æƒ³è¦ä½¿ç”¨è™•ç†ç·©å­˜çš„ç­–ç•¥ï¼Œé è¨­ç‚ºdefaultï¼Œå…¶ä»–å¯ä»¥åƒè€ƒ cache mode ã€‚ redirectï¼šå°é‡å®šå‘è™•ç†çš„æ¨¡å¼  manual éœ€è¦ç”¨æˆ¶æ‰‹å‹•è·Ÿéš¨ï¼ˆé è¨­ï¼‰ follow è·Ÿéš¨ error ç™¼ç”ŸéŒ¯èª¤   integrityï¼šåŒ…å«ä¸€å€‹ç”¨æ–¼é©—è­‰è³‡è³‡æºå®Œæ•´æ€§çš„å­—ä¸²ã€‚  fetch æ–¹æ³• fetch æ–¹æ³•æœ‰å…©ç¨®å‘¼å«æ–¹å¼ï¼š\n æ¥å— Request ç‰©ä»¶ä½œç‚ºåƒæ•¸ï¼› ç¬¦åˆå»ºæ§‹ Request ç‰©ä»¶çš„åƒæ•¸ä½œç‚ºåƒæ•¸ã€‚  1 2 3 4 5 6 7  const url = \u0026#39;\u0026#39;; const req = new Request(url, { method: \u0026#39;GET\u0026#39;}); fetch(req); // or fetch(url, { method: \u0026#39;GET\u0026#39;});   fetch() å‡½å¼æœƒå›å‚³ä¸€å€‹ç‹€æ…‹ç‚º fulfilled çš„ Promise ç‰©ä»¶ï¼Œresolves ç‚ºä¸€å€‹ Response ç‰©ä»¶ã€‚\nè¦æ³¨æ„çš„æ˜¯ï¼ŒæŸäº›éŒ¯èª¤çš„ HTTP ç‹€æ…‹ä¸‹å¦‚ 404ã€500 ç­‰é‚„æ˜¯æœƒå›å‚³ fulfilled ç‹€æ…‹çš„ Promiseã€‚åªæœ‰åœ¨æœ‰ç¶²çµ¡éŒ¯èª¤æœƒå°è‡´è«‹æ±‚ä¸èƒ½å®Œæˆæ™‚ï¼Œæ‰æœƒå›å‚³ rejected ç‹€æ…‹çš„ Promiseï¼Œå› æ­¤éœ€è¦åšå°è£è™•ç†æ‰èƒ½åˆ¤æ–·ã€‚\n1. POST ç¯„ä¾‹ GET å› ç‚ºæ˜¯é è¨­çš„è«‹æ±‚çš„æ¨¡å¼ï¼Œæ‰€ä»¥ä¸ä¸€å®šè¦è¨­å®šåƒæ•¸ï¼Œé‚£éº¼æˆ‘ä¾†çœ‹ä¸€ä¸‹ POST è«‹æ±‚çš„ç¯„ä¾‹ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12  const url = \u0026#39;\u0026#39;; const sendData = {}; fetch(url, { method: \u0026#39;POST\u0026#39;, headers: { \u0026#39;content-type\u0026#39;: \u0026#39;application/json\u0026#39; }, body: JSON.stringify(sendData), }) .then((response) =\u0026gt; response.json()) .then((data) =\u0026gt; { console.log(data); });   Response ç‰©ä»¶ Response ç‰©ä»¶ä»£è¡¨è«‹æ±‚çš„å›æ‡‰ã€‚\n1. å±¬æ€§ fetch() åªæœ‰åœ¨æœ‰ç¶²çµ¡éŒ¯èª¤æœƒå°è‡´è«‹æ±‚ä¸èƒ½å®Œæˆæ™‚ï¼Œæ‰æœƒå›å‚³ rejected ç‹€æ…‹çš„ Promiseï¼Œå› æ­¤å¦‚æœè¦æŸ¥çœ‹ HTTP éŒ¯èª¤ï¼Œå¯ä»¥åœ¨å›å‚³çš„ Response ç‰©ä»¶ä¸­ä½¿ç”¨ä»¥ä¸‹å±¬æ€§ï¼š\n statusï¼šç‹€æ…‹ä»£ç¢¼ï¼ˆæ•´æ•¸ï¼‰ã€‚ okï¼šç‹€æ…‹çµæœï¼ˆå¸ƒæ—å€¼ï¼‰ï¼ŒæˆåŠŸå›å‚³ trueï¼ˆHTTP ç‹€æ…‹ç¢¼çš„ç¯„åœåœ¨ 200-299ï¼‰ï¼Œå¤±æ•—å›å‚³ falseã€‚  1 2 3 4  fetch(url).then((response) =\u0026gt; { console.log(response.ok); // true  console.log(response.status); // 200 });   Response çš„å…¶ä»–å±¬æ€§å¯ä»¥åƒè€ƒ MDNã€‚\nç›®å‰éšæ®µé‚„æ²’è¾¦æ³•å–å¾—å›æ‡‰è³‡æ–™ï¼Œæ¥ä¸‹æœƒèªªæ˜ã€‚\n2. æ–¹æ³• Response ç‰©ä»¶ä¸­çš„ body å±¬æ€§æä¾›äº†ä¸€å€‹ ReadableStream çš„å¯¦é«”ï¼Œé€™å€‹å°±æ˜¯å­˜æ”¾å›æ‡‰è³‡æ–™çš„åœ°æ–¹ã€‚\næˆ‘å€‘å¯ä»¥ä½¿ç”¨ä»¥ä¸‹ Response æä¾›çš„æ–¹æ³•ä¾†è®€å– body å±¬æ€§ï¼š\n arrayBuffer() blob() json() text() formData()  ä»¥ä¸Šæ–¹æ³•å›å‚³ä¸€å€‹è¢«è§£æç‚ºå°æ‡‰æ ¼å¼çš„ Promise ç‰©ä»¶ã€‚\nbody å±¬æ€§åªèƒ½è®€å–ä¸€æ¬¡ï¼Œè®€å–éå¾Œ bodyUsed å±¬æ€§æœƒè®Šæˆ true è¡¨ç¤ºå·²è®€ï¼Œè‹¥å†æ¬¡å‘¼å«æ–¹æ³•è®€å– body å±¬æ€§å°±æœƒå ±éŒ¯ï¼ˆTypeError: body stream is lockedï¼‰ï¼Œè‹¥è¦é‡è¤‡è®€å–å¯ä»¥ä½¿ç”¨ clone() å»ºç«‹ä¸€ä»½ Response çš„è¤‡è£½ç‰©ä»¶ã€‚\n1 2 3  fetch(url) .then((response) =\u0026gt; response.json()) .then((data) =\u0026gt; {console.log(data);});   ","description":"Fetch æ˜¯è¿‘å¹´ä¾†è¢«æåŠå°‡è¦å–ä»£ XMLHttpRequest çš„æŠ€è¡“æ–°æ¨™æº–ï¼Œæ˜¯ä¸€å€‹ HTML5 çš„ APIã€‚\"","id":46,"section":"posts","tags":["JavaScript","éåŒæ­¥","Fetch","AJAX"],"title":"Fetch","uri":"https://chupai.github.io/posts/2008/js_fetch/"},{"content":" JavaScriptç­†è¨˜ ç›®éŒ„\n AJAXï¼š\n AJAX JSON XMLHttpRequest Fetch  \rXMLHttpRequest é›–ç„¶ç¾åœ¨å¾ˆå°‘äººæœƒç›´æ¥ä½¿ç”¨åŸç”Ÿ XMLHttpRequest ç‰©ä»¶ ä¾†è™•ç† AJAXï¼Œä½†é‚„æ˜¯éœ€è¦ç†è§£é‹ä½œåŸç†ã€‚\n1. è«‹æ±‚ åŸºæœ¬ä¸‰æ­¥é©Ÿï¼š\n å»ºç«‹ä¸€å€‹ XMLHttpRequest ç‰©ä»¶ï¼› è¨­å®šè«‹æ±‚ï¼› å‚³é€è«‹æ±‚ã€‚  1 2 3 4 5 6 7 8  // å»ºç«‹ XMLHttpRequest ç‰©ä»¶ const xhr = new XMLHttpRequest(); // è¨­å®šè«‹æ±‚ xhr.open(\u0026#39;GET\u0026#39;, url, true); // å‚³é€è«‹æ±‚ xhr.send(null);   1.1 open æ–¹æ³• XMLHttpRequest.open() å¯ä»¥è¨­å®šä¸€å€‹è«‹æ±‚ã€‚\n1  xhr.open(method, url, [async, user, password]);   å¿…è¦åƒæ•¸ï¼š\n methodï¼šæŒ‡å®š HTTP è«‹æ±‚æ–¹æ³•ï¼Œä¾‹å¦‚ GETã€POSTã€DELETEç­‰ç­‰ã€‚ urlï¼šç‚ºè«‹æ±‚çš„ä¼ºæœå™¨ç¶²å€ã€‚  å¯é¸åƒæ•¸ï¼š\n asyncï¼šé è¨­ç‚º true è¡¨ç¤ºè¦ç”¨éåŒæ­¥çš„æ–¹å¼é€²è¡Œï¼Œå¦‚æœè¨­ç‚º false å‰‡æœƒä»¥åŒæ­¥çš„æ–¹å¼ä¾†ç™¼é€è«‹æ±‚ã€‚ userã€passwordï¼šé è¨­ç‚º nullï¼Œç‚ºä½¿ç”¨è€…åç¨±ã€å¯†ç¢¼ï¼Œè¦–ä¼ºæœå™¨æœ‰ç„¡è¦æ±‚é©—è­‰è€Œè¨­ç½®ã€‚  1.2 send æ–¹æ³• XMLHttpRequest.send() ç”¨ä¾†å°ä¼ºæœå™¨å‚³é€è«‹æ±‚ã€‚\n1  xhr.send([body]);   å¯é¸åƒæ•¸ body è³‡æ–™æœ¬é«”ï¼Œè‹¥ä½¿ç”¨ GET è«‹æ±‚ï¼Œä¸å¸¶è³‡æ–™æ™‚ï¼Œå¯çœç•¥ä¸å¯«æˆ–æ˜¯å‚³å…¥ nullã€‚\n2. ä¼ºæœå™¨å›æ‡‰ ç•¶ç€è¦½å™¨å¾ä¼ºæœå™¨ç«¯æ¥æ”¶è³‡æ–™å›æ‡‰å¾Œï¼Œä¾¿æœƒè§¸ç™¼ load äº‹ä»¶ï¼Œå› æ­¤å¯ä»¥è—‰ç”±äº‹ä»¶ç›£è½ï¼Œå…ˆåˆ¤æ–·å›æ‡‰ç‹€æ…‹ï¼š\n1 2 3 4 5 6  xhr.addEventListener(\u0026#39;load\u0026#39;, function () { // åˆ†æ HTTP ç‹€æ…‹  if (this.status === 200) { // è™•ç†å›æ‡‰è³‡æ–™  } });   XMLHttpRequest.status æœƒå›å‚³ XMLHttpRequest ç‰©ä»¶ç›®å‰çš„ç‹€æ…‹ç¢¼ï¼Œå¯ç”¨ä¾†ç¢ºèªå›æ‡‰æ˜¯å¦æˆåŠŸã€‚\nHTTP ç‹€æ…‹ç¢¼ï¼š\n 1xx: è³‡è¨Šå›æ‡‰ï¼› 2xx: æˆåŠŸå›æ‡‰ï¼› 3xx: é‡å®šå‘ï¼› 4xx: ç”¨æˆ¶ç«¯éŒ¯èª¤ï¼› 5xx: ä¼ºæœå™¨ç«¯éŒ¯èª¤ï¼› è©³ç´° HTTP ç‹€æ…‹ç¢¼ è«‹åƒè€ƒ MDNã€‚  é™¤äº† load äº‹ä»¶å¤–ï¼Œé‚„æœ‰å¾ˆå¤šäº‹ä»¶ï¼š\n loadstartï¼šè«‹æ±‚é–‹å§‹ï¼› progressï¼šè«‹æ±‚é€²åº¦ï¼› abortï¼šè«‹æ±‚çµ‚æ­¢ï¼› errorï¼šç™¼ç”Ÿé€£æ¥éŒ¯èª¤ï¼› loadï¼šè«‹æ±‚æˆåŠŸå®Œæˆï¼› timeoutï¼šè«‹æ±‚è¶…æ™‚ï¼› loadendï¼šè«‹æ±‚çµæŸã€‚  é™¤äº†ç›£è½ load äº‹ä»¶å¤–ï¼Œä¹Ÿå¯ä»¥ç›£è½ onreadystatechange äº‹ä»¶ã€‚åœ¨ç™¼ä¸€å€‹è«‹æ±‚å¾Œï¼Œå¦‚æœæƒ³è¿½è¹¤è«‹æ±‚ç•¶å‰è™•æ–¼å“ªç¨®ç‹€æ…‹ï¼Œå¯ä»¥ä½¿ç”¨ XMLHttpRequest.readyStateï¼ŒæŸ¥çœ‹è«‹æ±‚ç‹€æ…‹ï¼š\n 0ï¼šUNSENT ç‹€æ…‹ï¼Œå®¢æˆ¶ç«¯å·²è¢«å»ºç«‹ï¼Œä½† open() æ–¹æ³•å°šæœªè¢«å‘¼å«ã€‚ 1ï¼šOPENED ç‹€æ…‹ï¼Œopen() æ–¹æ³•å·²è¢«å‘¼å«ï¼Œä½†é‚„æ²’å‚³é€è³‡æ–™ã€‚ 2ï¼šHEADERS_RECEIVED ç‹€æ…‹ï¼Œsend() æ–¹æ³•å·²è¢«å‘¼å«ï¼Œè€Œä¸”å¯å–å¾— header èˆ‡ç‹€æ…‹ã€‚ 3ï¼šLOADING ç‹€æ…‹ï¼Œå›æ‡‰è³‡æ–™ä¸‹è¼‰ä¸­ï¼Œæ­¤æ™‚ responseText æœƒæ“æœ‰éƒ¨åˆ†è³‡æ–™ã€‚ 4ï¼šDONE ç‹€æ…‹ï¼Œå®Œæˆä¸‹è¼‰æ“ä½œã€‚  readyState = 4 å°±é¡ä¼¼ loadend äº‹ä»¶ï¼š\n1 2 3 4 5 6  xhr.addEventListener(\u0026#39;onreadystatechange\u0026#39;, function () { // åˆ†æ xhr ç‹€æ…‹  if (this.readyState === 4 \u0026amp;\u0026amp; this.status === 200) { // è™•ç†ä¼ºæœå™¨ç«¯å›å‚³è³‡æ–™çš„ç¨‹å¼ç¢¼  } });   3. è™•ç†å›æ‡‰è³‡æ–™ ç¢ºèªä¼ºæœå™¨æˆåŠŸå›æ‡‰ï¼Œæ¥ä¸‹ä¾†å°±æ˜¯è™•ç†è³‡æ–™ã€‚\nå…±æœ‰ä¸‰ç¨®æ–¹å¼ï¼Œå¯ä»¥ç²å–è«‹æ±‚å¾Œçš„å›æ‡‰è³‡æ–™ï¼š\n XMLHttpRequest.response XMLHttpRequest.responseText XMLHttpRequest.responseXML  responseText å›å‚³ DOMStringï¼ŒresponseXML å›å‚³ HTML æˆ– XML çš„ Documentã€‚è€Œ response å›å‚³çš„è³‡æ–™é¡å‹å–æ±ºæ–¼ XMLHttpRequest.responseTypeã€‚\nç¯„ä¾‹ï¼ŒGET ä¸€å€‹ JSON è³‡æ–™ä¸¦è½‰æˆç‰©ä»¶ï¼š\n1 2 3 4 5 6 7 8 9 10  const xhr = new XMLHttpRequest(); const url = \u0026#39;\u0026#39;; // APIç¶²å€ xhr.open(\u0026#39;GET\u0026#39;, url); xhr.send(null); xhr.addEventListener(\u0026#39;load\u0026#39;, function (event) { if (this.status === 200) { const data = JSON.parse(this.responseText); } });   HTTP Header ä½¿ç”¨ POST è«‹æ±‚æ™‚ï¼Œsend() å‚³é€è³‡æ–™çµ¦ä¼ºæœå™¨å‰ï¼Œé‚„éœ€è¦ä½¿ç”¨ XMLHttpRequest.setRequestHeader() è¨­å®šå…§å®¹é¡å‹ï¼Œå‘ŠçŸ¥ä¼ºæœå™¨æˆ‘å€‘å‚³éçš„è³‡æ–™æ ¼å¼ã€‚\nèˆ‰ä¾‹ä¾†èªªï¼Œå¦‚æœæˆ‘å€‘è¦å‚³éçš„æ˜¯ JSON æ ¼å¼çš„è³‡æ–™ï¼š\n1 2 3 4 5 6 7  const xhr = new XMLHttpRequest(); const url = \u0026#39;\u0026#39;; // APIç¶²å€ xhr.open(\u0026#39;POST\u0026#39;, url); let sendData = {}; // è¦å‚³éçš„è³‡æ–™ xhr.setRequestHeader(\u0026#39;content-type\u0026#39;, \u0026#39;application/json\u0026#39;); xhr.send(JSON.stringify(sendData));   èªæ³•ï¼š\n1  xhr.setRequestHeader(header, value);    headerï¼šè¡¨é ­åç¨±ã€‚ valueï¼šç·¨ç¢¼é¡å‹ã€‚  æ¨¡æ“¬ HTTP å›æ‡‰å·¥å…· Mocky\nFormData ç‰©ä»¶ è‹¥ä½¿ç”¨ FormData ç‰©ä»¶å¾è¡¨å–®ç²å–è³‡æ–™ï¼Œå¯ä»¥ç›´æ¥ä½¿ç”¨ send() å‚³é€ï¼ŒsetRequestHeader() æœƒè‡ªå‹•è¨­ç½®ã€‚\n","description":"AJAX æŠ€è¡“åœ¨ç€è¦½å™¨ä¸Šï¼Œæœƒåˆ©ç”¨ XMLHttpRequest ç‰©ä»¶èˆ‡ä¼ºæœå™¨é€²è¡ŒéåŒæ­¥å‚³éã€‚\"","id":47,"section":"posts","tags":["JavaScript","éåŒæ­¥","XMLHttpRequest","AJAX"],"title":"XMLHttpRequest","uri":"https://chupai.github.io/posts/2008/js_xhr/"},{"content":" JavaScriptç­†è¨˜ ç›®éŒ„\n AJAXï¼š\n AJAX JSON XMLHttpRequest Fetch  \rä»€éº¼æ˜¯ JSON JSON å…¨ç¨±ç‚º Javascript Object Notationï¼Œæ„æ€å°±æ˜¯ JavaScript ç‰©ä»¶è¡¨ç¤ºæ³•ï¼Œæ˜¯è³‡æ–™äº¤æ›çš„æ ¼å¼çš„ä¸€ç¨®ï¼Œå‰¯æª”åç‚º .jsonã€‚\nç›®å‰æ˜¯ AJAX è³‡æ–™äº¤æ›æœ€ç‚ºæµè¡Œçš„è³‡æ–™æ ¼å¼ã€‚\n1. JSON èˆ‡ç¨‹å¼è¨­è¨ˆèªè¨€ç„¡é—œ å„˜ç®¡ JSON æ˜¯ JavaScript çš„ä¸€å€‹å­é›†ï¼Œä½† JSON è³‡æ–™æ ¼å¼èˆ‡èªè¨€ç„¡é—œæ˜¯ç¨ç«‹æ–¼èªè¨€çš„æ–‡å­—æ ¼å¼ï¼Œç›®å‰å¾ˆå¤šç¨‹å¼èªè¨€éƒ½æ”¯æ´ JSON æ ¼å¼è³‡æ–™çš„ç”Ÿæˆå’Œè§£æã€‚\n2. å„ªé»  ç›¸å®¹æ€§é«˜ï¼› æ ¼å¼å®¹æ˜“ç­è§£ï¼Œé–±è®€åŠä¿®æ”¹æ–¹ä¾¿ï¼› æ”¯æ´è¨±å¤šè³‡æ–™æ ¼å¼ï¼› è¨±å¤šç¨‹å¼éƒ½æ”¯æ´å‡½å¼åº«è®€å–æˆ–ä¿®æ”¹ JSON è³‡æ–™ã€‚  3. æ‡‰ç”¨ åŸæœ¬ AJAXï¼ˆAsynchronous JavaScript and XMLï¼‰æŠ€è¡“åœ¨ JavaScript ä¸­ï¼Œä¸»è¦ä½¿ç”¨çš„è³‡æ–™æ ¼å¼æ˜¯ XML æ ¼å¼ï¼Œä½† XML æ ¼å¼å¾ˆç¹ç‘£ï¼Œè®“ä½¿ç”¨è€…æ’°å¯«ä¸æ–¹ä¾¿ï¼Œè€Œä¸”ä¸å®¹æ˜“åµŒå…¥ç¶²é ä¸­é€²è¡Œè™•ç†ã€‚\nç‚ºäº†è®“ç¶²é ä¸Šçš„å…±é€šç¨‹å¼èªè¨€ JavaScript å¯ä»¥è¼•æ˜“çš„äº¤æ›è³‡æ–™ï¼Œç›®å‰ AJAX äº¤æ›è³‡æ–™éƒ½æ”¹ç”¨ JSON æ ¼å¼è³‡æ–™ã€‚\nèªæ³• 1. JSON èˆ‡ JavaScript ç‰©ä»¶çš„å·®ç•° JSON ç‰©ä»¶åŸºæœ¬ä¸Šå°±æ˜¯ JavaScript ç‰©ä»¶ã€ï¼Œè€Œé€™æ•˜è¿°åœ¨å¤§å¤šæ•¸æƒ…æ³ä¸‹éƒ½å°ã€‚\nä½†æœ‰å¹¾é»å¿…é ˆæ³¨æ„ï¼š\n è¤‡åˆé¡å‹çš„å€¼åªèƒ½ç‚ºé™£åˆ—æˆ–ç‰©ä»¶ï¼Œä¸èƒ½æ˜¯å‡½å¼ã€æ­£è¦è¡¨é”å¼ã€æ—¥æœŸç‰©ä»¶ç­‰ã€‚  ç‰©ä»¶å±¬æ€§åç¨±å¿…é ˆåŠ ä¸Šé›™å¼•è™Ÿ é™£åˆ—æˆ–ç‰©ä»¶æœ€å¾Œä¸€è¡Œä¸å¯ä»¥æœ‰é€—è™Ÿ ,   åŸºæœ¬å‹åˆ¥å€¼åªèƒ½æœ‰å››ç¨®ï¼šå­—ä¸²ã€æ•¸å­—ã€å¸ƒæ—å€¼ã€nullï¼Œä¸åŒ…å« undefinedã€‚  å­—ä¸²å¿…é ˆç”¨ \u0026quot;\u0026quot; é›™å¼•è™Ÿè¡¨ç¤º NaNã€Infinityã€-Infinity æœƒè¢«è½‰æˆ null   é™¤äº†ç‰©ä»¶ï¼Œé™£åˆ—ä¹Ÿå¯ä»¥æ˜¯æœ‰æ•ˆçš„ JSON ç‰©ä»¶ã€‚  èˆ‰ä¾‹ä¾†èªªï¼Œä¸‹é¢æ˜¯ JavaScript çš„ç‰©ä»¶å¯¦å­—ï¼š\n1 2 3 4 5  var obj = { name: \u0026#39;Chupai\u0026#39;, age: 26, childs: [{ name: \u0026#39;Wang\u0026#39;, age: 3 }], };   è‹¥ä½¿ç”¨ JSON è¡¨ç¤ºï¼Œå‰‡æ˜¯å¦‚ä¸‹ï¼š\n1 2 3 4 5  { \u0026#34;name\u0026#34;:\u0026#34;Chupai\u0026#34;, \u0026#34;age\u0026#34;:26, \u0026#34;childs\u0026#34;:[{\u0026#34;name\u0026#34;:\u0026#34;Wang\u0026#34;,\u0026#34;age\u0026#34;:3}] }   é™£åˆ—ä½œç‚º JSON æ ¼å¼ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17  [ { \u0026#34;name\u0026#34;:\u0026#34;Chupai\u0026#34;, \u0026#34;age\u0026#34;:26, \u0026#34;childs\u0026#34;:[ { \u0026#34;name\u0026#34;:\u0026#34;Wang\u0026#34;, \u0026#34;age\u0026#34;:3 } ] }, { \u0026#34;name\u0026#34;:\u0026#34;Mike\u0026#34;, \u0026#34;age\u0026#34;:11, \u0026#34;childs\u0026#34;: null } ]   2. JSON æª¢é©—ã€æ ¼å¼åŒ–å·¥å…·  JSON Formatter JSONLint  è™•ç† JSON è³‡æ–™  JSON.parse() JSON.stringify()  1. å»ºç«‹ JSON å­—ä¸² JSON.stringify() å¯ä»¥å°‡ä¸€å€‹ JavaScript çš„å€¼ï¼Œè½‰æ›ç‚ºä¸€å€‹ JSON å­—ä¸²ã€‚\nèªæ³•ï¼š\n1  JSON.stringify(value[, replacer [, space]])    valueï¼šJavaScript çš„å€¼ replacerï¼š  è‹¥æŒ‡å®šé™£åˆ—ï¼Œåªæœƒé‡å°è©²é™£åˆ—è½‰æ› JSON å­—ä¸² è‹¥æŒ‡å®šå‡½å¼ï¼Œé€™å€‹å‡½å¼å¯æ¥å—ç‰©ä»¶çš„å±¬æ€§åèˆ‡å€¼ï¼Œå¯ä»¥è‡ªè¡Œæ±ºå®šå¦‚ä½•è½‰æ›ç‚º JSON å­—ä¸²   spaceï¼šç¾åŒ–ç”¨ï¼Œå¦‚æœæ˜¯ 1 åˆ° 10 çš„æ•¸å­—ï¼Œæœƒè‡ªå‹•æ›è¡Œä¸¦ä»¥æŒ‡å®šæ•¸å­—ä½œç‚ºç¸®æ’å±¤æ¬¡ï¼Œå¦‚æœæŒ‡å®šå­—å…ƒï¼Œå°±æœƒä»¥æŒ‡å®šçš„å­—å…ƒä¾†é€²è¡Œç¸®æ’ã€‚ å›å‚³å€¼ï¼šJSON å­—ä¸²  å­—ä¸²ã€æ•¸å­—ã€å¸ƒæ—å€¼ã€null æœƒè‡ªå‹•è½‰æ›æˆå°æ‡‰çš„åŸå§‹å€¼ï¼š\n1 2 3 4  console.log(JSON.stringify(\u0026#39;foo\u0026#39;)); // \u0026#34;foo\u0026#34; console.log(JSON.stringify(123)); // \u0026#34;123\u0026#34; console.log(JSON.stringify(true)); // \u0026#34;true\u0026#34; console.log(JSON.stringify(null)); // \u0026#34;null\u0026#34;   undefinedã€ä»»æ„çš„å‡½æ•¸ä»¥åŠ symbol å€¼ï¼Œæœƒè¢«å¿½ç•¥ï¼š\n1 2 3  console.log(JSON.stringify(undefined)); // undefined console.log(JSON.stringify(function () {})); // undefined console.log(JSON.stringify(Symbol(\u0026#39;\u0026#39;))); // undefined   ä¸Šé¢çš„å€¼ï¼Œå¦‚æœå‡ºç¾åœ¨é™£åˆ—ä¸­æœƒè¢«è½‰æˆ nullï¼Œå¦‚æœæ˜¯ç‰©ä»¶çš„å±¬æ€§å€¼è©²å±¬æ€§æœƒç›´æ¥è¢«å¿½ç•¥ï¼š\n1 2 3 4 5 6 7 8 9  var arry = [function () {}, undefined, Symbol(\u0026#39;\u0026#39;)]; var obj = { fn: function () {}, un: undefined, sym: Symbol(\u0026#39;\u0026#39;), }; console.log(JSON.stringify(arry)); // \u0026#34;[null,null,null]\u0026#34; console.log(JSON.stringify(obj)); // \u0026#34;{}\u0026#34;   æ¥ä¸‹ä¾†ï¼Œæˆ‘å€‘ä¾†çœ‹ JSON.stringify() çš„ç¬¬äºŒå€‹åƒæ•¸ã€‚\nå¦‚æœæ˜¯é™£åˆ—ï¼Œå°‡æœƒåªä¿ç•™é™£åˆ—ä¸­çš„å±¬æ€§ï¼š\n1 2 3 4 5 6 7 8  var obj = { a: 1, b: 2, c: 3, d: 4, }; console.log(JSON.stringify(obj, [\u0026#39;a\u0026#39;, \u0026#39;b\u0026#39;])); // {\u0026#34;a\u0026#34;:1,\u0026#34;b\u0026#34;:2}   ä½œç‚ºå‡½å¼ï¼Œæœƒæœ‰å…©å€‹åƒæ•¸ï¼Œåˆ†åˆ¥æ˜¯å±¬æ€§åèˆ‡å±¬æ€§å€¼ï¼Œå¯ä»¥ç”¨ä¾†æ§åˆ¶æ¯å€‹å±¬æ€§ï¼Œè¦å›å‚³çš„å€¼ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17  var obj = { a: 1, b: 2, c: 3, d: 4, }; console.log( JSON.stringify(obj, (key, value) =\u0026gt; { if (key === \u0026#39;b\u0026#39;) { return value + 2; } return value; }) ); // {\u0026#34;a\u0026#34;:1,\u0026#34;b\u0026#34;:4,\u0026#34;c\u0026#34;:3,\u0026#34;d\u0026#34;:4}   æœ€å¾Œæ˜¯ç¬¬ä¸‰å€‹åƒæ•¸ï¼Œå¯ç”¨ä¾†ç¸®æ’ï¼Œå¦‚æœæ˜¯ 1 åˆ° 10 çš„æ•¸å­—ï¼Œæœƒè‡ªå‹•æ›è¡Œä¸¦ä»¥æŒ‡å®šæ•¸å­—ä½œç‚ºç¸®æ’å±¤æ¬¡ï¼Œå¦‚æœæŒ‡å®šå­—å…ƒï¼Œå°±æœƒä»¥æŒ‡å®šçš„å­—å…ƒä¾†é€²è¡Œç¸®æ’ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14  var obj = { a: 1, b: 2, c: 3, d: 4, }; console.log(JSON.stringify(obj, null, 6)); // {â€ˆ// \u0026#34;a\u0026#34;: 1,â€ˆ// \u0026#34;b\u0026#34;: 2,â€ˆ// \u0026#34;c\u0026#34;: 3,â€ˆ// \u0026#34;d\u0026#34;: 4â€ˆ// }â€ˆ  2. è§£æ JSON å­—ä¸² JSON.parse() å¯ä»¥å°‡ä¸€å€‹ JSON å­—ä¸²è½‰æ›æˆ JavaScript çš„å€¼ã€‚\nèªæ³•ï¼š\n1  JSON.parse(text[, reviver])    textï¼šJSON å­—ä¸² reviverï¼šå‡½å¼ å›å‚³å€¼ï¼šç‰©ä»¶  ç¯„ä¾‹ï¼š\n1 2 3 4 5 6 7 8  console.log(JSON.parse(\u0026#39;{}\u0026#39;)); // {} console.log(JSON.parse(\u0026#39;true\u0026#39;)); // true console.log(JSON.parse(\u0026#39;\u0026#34;foo\u0026#34;\u0026#39;)); // \u0026#34;foo\u0026#34; console.log(JSON.parse(\u0026#39;[1, 5, \u0026#34;false\u0026#34;]\u0026#39;)); // [1, 5, \u0026#34;false\u0026#34;] console.log(JSON.parse(\u0026#39;null\u0026#39;)); // null  var json = \u0026#39;{\u0026#34;a\u0026#34;:1,\u0026#34;b\u0026#34;:2,\u0026#34;c\u0026#34;:3,\u0026#34;d\u0026#34;:4}\u0026#39;; console.log(JSON.parse(json)); // {a: 1, b: 2, c: 3, d: 4}   å¦‚æœè§£æçš„å­—ä¸²ä¸æ˜¯åˆæ³•çš„ JSON æ ¼å¼ï¼Œæœƒæ‹‹å‡º SyntaxErrorï¼š\n1 2 3  var json = \u0026#39;{\u0026#34;a\u0026#34;:1,\u0026#34;b\u0026#34;:2,}\u0026#39;; console.log(JSON.parse(json)); // SyntaxError   æœ€å¾Œä¸€è¡Œå¤šäº†ä¸€å€‹é€—è™Ÿã€‚\nç¬¬äºŒå€‹åƒæ•¸ç‚ºå‡½å¼ï¼Œæœƒæœ‰å…©å€‹åƒæ•¸ï¼Œåˆ†åˆ¥æ˜¯å±¬æ€§åèˆ‡å±¬æ€§å€¼ï¼Œå¯ä»¥ç”¨ä¾†æ§åˆ¶æ¯å€‹å±¬æ€§ï¼Œè¦å›å‚³çš„å€¼ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12  var json = \u0026#39;{\u0026#34;a\u0026#34;:1,\u0026#34;b\u0026#34;:2,\u0026#34;c\u0026#34;:3,\u0026#34;d\u0026#34;:4}\u0026#39;; console.log( JSON.parse(json, (key, value) =\u0026gt; { if (key === \u0026#39;a\u0026#39;) { return value * 10; } return value; }) ); // {a: 10, b: 2, c: 3, d: 4}   å¦‚æœè©²å‡½å¼å›å‚³ undefinedï¼Œå‰‡è©²å±¬æ€§å°‡ä¸æœƒåŠ åˆ°ç‰©ä»¶ä¸­ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12  var json = \u0026#39;{\u0026#34;a\u0026#34;:1,\u0026#34;b\u0026#34;:2,\u0026#34;c\u0026#34;:3,\u0026#34;d\u0026#34;:4}\u0026#39;; console.log( JSON.parse(json, (key, value) =\u0026gt; { if (value \u0026gt; 3) { return undefined; } return value; }) ); // {a: 1, b: 2, c: 3}   ","description":"AJAX è³‡æ–™äº¤æ›æœ€ç‚ºæµè¡Œçš„è³‡æ–™æ ¼å¼ã€‚\"","id":48,"section":"posts","tags":["JavaScript","JSON","AJAX"],"title":"JSON æ ¼å¼","uri":"https://chupai.github.io/posts/2008/js_json/"},{"content":" JavaScriptç­†è¨˜ ç›®éŒ„\n AJAXï¼š\n AJAX JSON XMLHttpRequest Fetch  \rä»€éº¼æ˜¯ AJAXï¼Ÿ AJAX æ˜¯ Asynchronous JavaScript and XML çš„ç¸®å¯«ï¼Œä¸­æ–‡åç¨±ç‚ºã€ŒéåŒæ­¥ JavaScript åŠ XMLã€ï¼Œé€™å€‹åè©å‡ºè‡ª ã€ŠAjax: A New Approach to Web Applicationsã€‹ã€‚\nåŸæ„æŒ‡çš„æ˜¯é€é JavaScript çš„éåŒæ­¥é€šè¨Šï¼Œå¾æœå‹™å™¨ç²å– XML å¾ä¸­æå–è³‡æ–™ï¼Œå†æ›´æ–°ç•¶å‰ç¶²é çš„å°æ‡‰éƒ¨åˆ†ï¼Œè€Œä¸ç”¨åˆ·æ–°æ•´å€‹ç¶²é ã€‚\nä½†å¾Œä¾†ï¼ŒAJAX é€™è©æˆç‚ºäº† JavaScript å‘ä¼ºæœå™¨ç™¼é€ HTTP è«‹æ±‚çš„ä»£åè©ã€‚ä¸æ˜¯æŒ‡ä¸€ç¨®å–®ä¸€çš„æŠ€è¡“ï¼Œè€Œæ˜¯ä¸€ç¨®å¤šæŠ€è¡“çš„çµ„åˆï¼Œå…¶å…§å®¹åŒ…å«çš„æŠ€è¡“æœ‰ HTML æˆ– XHTMLã€å±¤ç–Šæ¨£å¼è¡¨ã€JavaScriptã€æ–‡ä»¶ç‰©ä»¶æ¨¡å‹ã€XMLã€XSLT ä»¥åŠæœ€é‡è¦çš„ XMLHttpRequest ç‰©ä»¶ç­‰ç­‰ã€‚ç•¶é€™äº›æŠ€è¡“è¢«çµåˆåœ¨ AJAX æ¨¡å‹ä¸­ï¼ŒWeb æ‡‰ç”¨ç¨‹å¼ä¾¿èƒ½å¿«é€Ÿã€å³æ™‚æ›´å‹•ä»‹é¢åŠå…§å®¹ï¼Œä¸éœ€è¦é‡æ–°è®€å–æ•´å€‹ç¶²é ï¼Œè®“ç¨‹å¼æ›´å¿«å›æ‡‰ä½¿ç”¨è€…çš„æ“ä½œã€‚\né›–ç„¶ X åœ¨ AJAX ä¸­ä»£è¡¨ XMLï¼Œä½†å¾Œä¾† JSON æ ¼å¼æ˜¯æœ€ç‚ºæµè¡Œçš„è³‡æ–™æ ¼å¼ã€‚\nå‚³çµ±ç¶²é è¼‰å…¥ å‚³çµ±ç¶²é è¼‰å…¥è³‡æ–™èˆ‡ AJAX æ¯”è¼ƒï¼š\n å‚³çµ±çš„â½…å¼\næ˜¯ä»¥åŒæ­¥æ–¹å¼å‚³é€è«‹æ±‚ã€ç­‰å¾…ä¼ºæœå™¨å›æ‡‰ï¼Œåœ¨é€™æ®µæœŸé–“ä½¿ç”¨è€…åªèƒ½ç™¼å‘†ï¼Œç•¶è³‡æ–™å›æ‡‰å¾Œï¼Œæœƒé‡æ–°è¼‰å…¥æ•´å€‹ç¶²é ã€‚ AJAX\nå¯èˆ‡ä¼ºæœå™¨é€²è¡ŒéåŒæ­¥æ›´æ–°ï¼Œä¸éœ€è¦ç­‰å¾…ä¼ºæœå™¨å›æ‡‰ä¾ç„¶å¯ä»¥é€²è¡Œå…¶ä»–æ“ä½œï¼Œä¹Ÿä¸éœ€è¦é‡æ–°è¼‰å…¥æ•´å€‹ç¶²é ï¼Œåªæ›´æ–°è¦æ›´æ–°çš„éƒ¨åˆ†ã€‚  ä½¿ç”¨ AJAX çš„å¥½è™•  æé«˜å¯æ“ä½œæ€§  é¿å…æ¯æ¬¡å‚³éè³‡æ–™é€ æˆç•«é¢æ›´æ–°é–ƒå‹•ï¼› ä¼ºæœå™¨ç«¯è™•ç†æ™‚ï¼Œä½¿ç”¨è€…ä»å¯æ“ä½œã€‚   æå‡æ•ˆèƒ½  åªéœ€è¦æ›´æ–°éƒ¨åˆ†é é¢ï¼Œå‚³éè³‡æ–™é‡å¯ä»¥æ§åˆ¶åœ¨æœ€å°ï¼› ä¸éœ€è¦ç­‰å¾…ä¼ºæœå™¨è™•ç†çµæŸï¼Œæå‡äº†æ“ä½œçš„æµæš¢åº¦ã€‚   æå‡é–‹ç™¼ç”¢èƒ½èˆ‡æ‡‰ç”¨  åªéœ€è¦ç”¨ç€è¦½å™¨æ¨™æº–æŠ€è¡“ï¼Œå°±å¯ä»¥æ¶æ§‹ä½¿ç”¨è€…ä»‹é¢ï¼› ä¸éœ€è¦ç‰¹åˆ¥çš„å¤–æ›ã€‚    AJAX èˆ‡ XMLHttpRequest AJAX æŠ€è¡“åœ¨ç€è¦½å™¨ä¸Šï¼Œæœƒåˆ©ç”¨ JavaScriptï¼ˆXMLHttpRequest ç‰©ä»¶ï¼‰èˆ‡ä¼ºæœå™¨é€²è¡ŒéåŒæ­¥å‚³éï¼Œä¸¦å°‡çµæœç”± DOM åæ˜ è‡³é é¢ä¸Šã€‚\næµç¨‹ï¼š\n å»ºç«‹ä¸€å€‹ XMLHttpRequest ç‰©ä»¶ï¼› å®šç¾©ä¼ºæœå™¨å‚³éè³‡æ–™çš„è™•ç†æµç¨‹ï¼› é–‹å§‹éåŒæ­¥è™•ç†ã€‚  ä½†ç¶“éé•·ä¹…çš„æ™‚é–“ï¼Œå®ƒåœ¨ä½¿ç”¨ä¸Šç”¢ç”Ÿä¸å°‘å•é¡Œï¼Œä¾‹å¦‚ï¼š\n XMLHttpRequest å¯¦é«”è‚©è² è‘—å¤ªå¤šä»»å‹™ï¼Œä¾‹å¦‚ï¼Œè«‹æ±‚è¨­ç½®ã€å‚³é€ã€å›æ‡‰ç‹€æ…‹åˆ¤æ–·ã€äº‹ä»¶ç›£è½ç­‰ç­‰ï¼› æ¯æ¬¡è«‹æ±‚éƒ½è¦æ–°å»º XMLHttpRequest å¯¦é«”ï¼Œä½†è«‹æ±‚åŒå¸¸é€šå¸¸åªæœƒåšä¸€æ¬¡ï¼› ç”±æ–¼ä½¿ç”¨äº‹ä»¶ç›£è½ç²å–å›æ‡‰è³‡æ–™ï¼Œå› æ­¤æœƒç”¢ç”Ÿå›å‘¼åœ°åŸŸçš„å•é¡Œã€‚  æ‰€ä»¥ç¾åœ¨å¾ˆå°‘äººæœƒç›´æ¥ä½¿ç”¨åŸç”Ÿ XMLHttpRequest ç‰©ä»¶ä¾†è™•ç† AJAXï¼Œé€šå¸¸éƒ½æœƒç”¨ä»¥ä¸‹æ–¹æ³•ä¾†å¯¦ä½œï¼š\n ä½¿ç”¨ jQuery çš„ ajax èªæ³•ï¼ˆåŸç”Ÿ XHR çš„å°è£ï¼‰ AXIOSï¼ˆåŸç”Ÿ XHR çš„å°è£ï¼Œä½¿ç”¨ Promiseï¼‰ Fetch APIï¼ˆHTML5 çš„ APIï¼Œä½¿ç”¨ Promiseï¼‰  é™¤äº† Fetch APIï¼Œå…¶ä»–éƒ½å±¬æ–¼å‡½å¼åº«ï¼Œéœ€é¡å¤–è¼‰å…¥ã€‚\nä»€éº¼æ˜¯ CORSï¼Ÿ è·¨ä¾†æºè³‡æºå…±ç”¨ ï¼ˆCross-Origin Resource Sharingï¼ŒCORSï¼‰æ˜¯ä¸€ç¨®ä½¿ç”¨é¡å¤– HTTP æ¨™é ­ä»¤ç›®å‰ç€è¦½ç¶²ç«™çš„ä½¿ç”¨è€…ä»£ç†å–å¾—å­˜å–å…¶ä»–ä¾†æºï¼ˆç¶²åŸŸï¼‰ä¼ºæœå™¨ç‰¹å®šè³‡æºæ¬Šé™çš„æ©Ÿåˆ¶ã€‚ç•¶ä½¿ç”¨è€…ä»£ç†è«‹æ±‚ä¸€å€‹ä¸æ˜¯ç›®å‰æ–‡ä»¶ä¾†æºï¼Œä¾‹å¦‚ä¾†è‡ªæ–¼ä¸åŒç¶²åŸŸï¼ˆdomainï¼‰ã€é€šè¨Šå”å®šï¼ˆprotocolï¼‰æˆ–é€šè¨ŠåŸ ï¼ˆportï¼‰çš„è³‡æºæ™‚ï¼Œæœƒå»ºç«‹ä¸€å€‹è·¨ä¾†æº HTTP è«‹æ±‚ï¼ˆcross-origin HTTP requestï¼‰ã€‚\nåŸºæ–¼å®‰å…¨æ€§è€ƒé‡ï¼Œç¨‹å¼ç¢¼æ‰€ç™¼å‡ºçš„è·¨ä¾†æº HTTP è«‹æ±‚æœƒå—åˆ°é™åˆ¶ã€‚ä¾‹å¦‚ï¼ŒXMLHttpRequest åŠ Fetch éƒ½éµå®ˆåŒæºæ”¿ç­–ï¼ˆsame-origin policyï¼‰ã€‚é€™ä»£è¡¨ç¶²è·¯æ‡‰ç”¨ç¨‹å¼æ‰€ä½¿ç”¨çš„ API é™¤éä½¿ç”¨ CORS æ¨™é ­ï¼Œå¦å‰‡åªèƒ½è«‹æ±‚èˆ‡æ‡‰ç”¨ç¨‹å¼ç›¸åŒç¶²åŸŸçš„ HTTP è³‡æºã€‚\nå¦‚æœè¦æ¸¬è©¦ API æ˜¯å¦é–‹æº å¯ä»¥ç”¨ test-cors.org é€™å€‹ç¶²ç«™ã€‚\næ›´å¤š CORS è©³ç´°å…§å®¹ï¼Œå¯ä»¥åƒè€ƒ CORS è·¨ä¾†æºè³‡æºå…±ç”¨ï½œMDNã€‚\n","description":"AJAX å‘ä¼ºæœå™¨ç™¼é€ HTTP è«‹æ±‚çš„ä»£åè©ã€‚","id":49,"section":"posts","tags":["JavaScript","éåŒæ­¥","AJAX"],"title":"AJAX","uri":"https://chupai.github.io/posts/2008/js_ajax/"},{"content":" JavaScriptç­†è¨˜ ç›®éŒ„\n éåŒæ­¥æ˜¯ JavaScript æœ€é‡è¦çš„è§€å¿µä¹‹ä¸€ã€‚\n éåŒæ­¥ å›å‘¼å‡½å¼ Promise Async/Await  \rä»€éº¼æ˜¯ Async/Await ES8 æ–°å¢ çš„ Async/Await ç‚º Promise çš„èªæ³•ç³–ï¼Œåº•å±¤é‹ä½œé‚„æ˜¯ Promiseã€‚\n1. Async functions åœ¨ä¸€å€‹å‡½å¼å‰é¢åŠ ä¸Šasync é—œéµå­—æ”¾ï¼š\n1  async function fn() {}   é€™å€‹å‡½å¼åªæœƒå›å‚³ä¸€å€‹ Promise ç‰©ä»¶ï¼Œå¦‚æœ return å€¼é Promise ï¼Œæœƒå°‡ return å€¼ä½œç‚º resolve() çš„åƒæ•¸å€¼ã€‚\n1 2 3 4 5 6 7  async function fn() { return 1; } fn().then(console.log); // 1   ä¹Ÿå°±æ˜¯èªª async ç¢ºä¿äº†å‡½å¼çš„å›å‚³å€¼æ˜¯ä¸€å€‹ Promise ç‰©ä»¶ï¼Œä¹ŸæœƒåŒ…è£é Promise çš„å€¼ã€‚\n2. Await await åªèƒ½ç”¨åœ¨ Async functions ä¸­ã€‚\nawait å¯ä»¥è®“éåŒæ­¥ç¨‹å¼åœ¨ Async functions ä¸­ç”¨èµ·ä¾†åƒæ˜¯ä½¿å¯«åŒæ­¥ç¨‹å¼ä¸€æ¨£ï¼Œä¾åºåŸ·è¡Œã€‚\né€™æ˜¯ä¸€å€‹éš¨æ©Ÿå»¶é²æ™‚é–“çš„å‡½å¼ï¼š\n1 2 3 4 5 6 7  function delay(value) { return new Promise((resolve) =\u0026gt; { setTimeout(() =\u0026gt; { resolve(value); }, Math.random() * 2000); }); }   å¦‚æœä¾åºå‘¼å«ä¸‰å€‹å‡½å¼ï¼Œæœƒæ ¹æ“šå»¶é²æ™‚é–“å›å‚³ï¼Œæ‰€ä»¥é †åºæœƒä¸ä¸€å®šï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15  function delay(value) { return new Promise((resolve) =\u0026gt; { setTimeout(() =\u0026gt; { resolve(value); }, Math.random() * 2000); }); } function test() { delay(1).then(console.log); delay(2).then(console.log); delay(3).then(console.log); } test();   ä½¿ç”¨ Async/Await å°±ä¸éœ€è¦ä½¿ç”¨ then æ–¹æ³•äº†ï¼Œèƒ½ç›´æ¥ç²å¾—çµæœå€¼ï¼š\n1 2 3 4 5 6 7 8 9 10  async function test() { console.log(await delay(1)); console.log(await delay(2)); console.log(await delay(3)); } test(); // 1 // 2 // 3   æ¯å€‹å‡½å¼éƒ½æœƒä¾åºåŸ·è¡Œï¼Œæœƒç­‰åˆ°è™•ç†å®Œç•¢ï¼Œå†åŸ·è¡Œä¸‹ä¸€è¡Œï¼Œå°±åƒå¯«åŒæ­¥çš„ç¨‹å¼ä¸€æ¨£ã€‚\néŒ¯èª¤è™•ç† å¦‚æœè¦éŒ¯èª¤è™•ç†ï¼Œè¦ä½¿ç”¨ try...catch è¿°å¥ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21  async function fun() { const p = new Promise((resolve, reject) =\u0026gt; { setTimeout(() =\u0026gt; { const ran = Math.floor(Math.random() * 2); // æ¨¡æ“¬å¯èƒ½å¤±æ•— 0 or 1  if (ran) { resolve(\u0026#39;done!\u0026#39;); } else { reject(new Error(\u0026#39;error!\u0026#39;)); } }, 1000); }); try { const r = await p; console.log(r); } catch (err) { console.log(err); } } fun();   ","description":"Async/Await ç‚º Promise çš„èªæ³•ç³–ã€‚","id":50,"section":"posts","tags":["JavaScript","éåŒæ­¥","Promise","Async/Await"],"title":"Async/Await","uri":"https://chupai.github.io/posts/2008/js_async_await/"},{"content":" JavaScriptç­†è¨˜ ç›®éŒ„\n éåŒæ­¥æ˜¯ JavaScript æœ€é‡è¦çš„è§€å¿µä¹‹ä¸€ã€‚\n éåŒæ­¥ å›å‘¼å‡½å¼ Promise Async/Await  \rä»€éº¼æ˜¯ Promiseï¼Ÿ Promise åœ¨å…¶ä»–ä¸åŒèªè¨€æœ‰å¾ˆå¤šä¸åŒçš„åç¨±ï¼Œä¾‹å¦‚ Delayã€Futureã€‚å…¶å¯¦ Promise API å·²ç¶“å­˜åœ¨å¤šå¹´ï¼Œä½†æ˜¯ç›´åˆ° ES6 æ‰è¢«æ¨™æº–åŒ–å’Œå¼•å…¥ã€‚\nPromise å­—é¢æ„æ€ç‚ºã€Œæ‰¿è«¾ã€æˆ–ã€Œç´„å®šã€ï¼Œç™½è©±ä¸€é»çš„è§£é‡‹å°±æ˜¯ã€Œæˆ‘æ‰¿è«¾å¹«ä½ åšæŸä»¶äº‹ï¼Œä½†æœƒä¸æœƒåšåˆ°ä¸ä¸€å®šï¼Œä½†æœ€å¾Œä¸€å®šæœƒè·Ÿä½ èªªæœ‰åšåˆ°æˆ–æ²’åšåˆ°ã€ã€‚\nç•¶ä½ æ‹¿åˆ°ä¸€å€‹ Promise çš„æ™‚å€™ï¼Œä»£è¡¨åœ¨æœªä¾†ä¸­é€™å€‹ Promise å¯èƒ½æœƒæœ‰ä¸‰ç¨®ç‹€æ…‹ï¼š\n æœªå®šï¼ˆpendingï¼‰ é”æˆï¼ˆfulfilledï¼‰ æ‹’çµ•ï¼ˆrejectedï¼‰  ç‹€æ…‹åªæœƒç”± pending è®Šæˆ fulfilled æˆ– rejectedã€‚\næ¥ä¸‹ä¾†å¯ä»¥æ ¹æ“šä¸Šé¢é€™å…©ç¨®çµæœï¼Œæ±ºå®šä¸‹ä¸€æ­¥è¦åšå•¥ï¼š\n å±¥è¡Œæ‰¿è«¾ï¼Œç¹¼çºŒåšé å®šå¥½çš„ä¸‹ä¸€ä»¶äº‹ æ¯€ç´„å¾Œï¼Œæ ¹æ“šåŸå› å»åšå°æ‡‰çš„è™•ç†  å‰µå»º Promise ç‰©ä»¶ è¦å»ºç«‹ä¸€å€‹ Promise ç‰©ä»¶å¯¦é«”éœ€è¦ä½¿ç”¨ Promise() å»ºæ§‹å¼ï¼š\n1 2 3  new Promise(function(resolve, reject) { // ... });   å»ºæ§‹å¼ä¸­æ¥å—ä¸€å€‹å‡½å¼ä½œç‚ºåƒæ•¸ï¼Œè©²å‡½å¼ç¨±ç‚º executorï¼ˆåŸ·è¡Œå‡½å¼ï¼‰ï¼Œç•¶ Promise å¯¦é«”è¢«å‰µå»ºï¼Œå°±æœƒç«‹åˆ»åŸ·è¡Œ executor å‡½å¼ã€‚\né€™å‡½å¼åˆæ¥æ”¶å…©å€‹åƒæ•¸ï¼Œåˆ†åˆ¥ç‚º resolve èˆ‡ rejectï¼Œé€™å…©å€‹åƒæ•¸ä¹Ÿæ˜¯å‡½å¼ï¼Œçš†æ¥æ”¶ä¸€å€‹åƒæ•¸ã€‚\nå¦‚æœåœ¨ executor å‡½å¼ä¸­ï¼š\n å‘¼å« resolve(value)  Promise æœƒå¾ pending ç‹€æ…‹é€²å…¥ fulfilled ç‹€æ…‹ å¦‚æœ‰å€¼å‚³å…¥ï¼Œå®ƒå°‡æˆç‚ºå®Œæˆçµæœ   å‘¼å« reject(reason)  Promise æœƒå¾ pending ç‹€æ…‹é€²å…¥ rejected ç‹€æ…‹ å¦‚æœ‰å€¼å‚³å…¥ï¼Œå®ƒå°‡è¢«è¨­ç‚ºæ‹’çµ•ç†ç”±ï¼Œå€¼é€šå¸¸æœƒæ˜¯ Error ç‰©ä»¶å¯¦é«”ï¼Œè¡¨ç¤ºæ‹‹å‡ºè¨Šæ¯   å¦‚æœéƒ½æ²’å‘¼å«ï¼Œé‚£ Promise æœƒä¸€ç›´ä¿æŒ pending ç‹€æ…‹ã€‚  ä¸€ä½†é€²å…¥ fulfilled æˆ– rejected ç‹€æ…‹ï¼ŒPromise å°±ä¸æœƒå†æ¥å—ä»»ä½•ç‹€æ…‹æ”¹è®Šï¼Œæ‰€ä»¥é‡è¤‡å‘¼å« resolve æˆ– reject æ˜¯æ²’æœ‰æ„ç¾©çš„è¡Œç‚ºã€‚\nresolve é€šå¸¸æœƒç”¨åœ¨éåŒæ­¥ç¨‹å¼ä¸­ï¼Œå¯ä»¥å°‡éåŒæ­¥ç¨‹å¼è™•ç†çš„çµæœå‚³å‡ºå»ï¼š\n1 2 3  const p = new Promise((resolve) =\u0026gt; { setTimeout(() =\u0026gt; resolve(\u0026#39;done!\u0026#39;), 1000); });   ç¶“éä¸€ç§’ï¼Œå‘¼å« resolve å°‡å­—ä¸² done! ç•¶ä½œå®Œæˆçµæœï¼Œä¹Ÿå°±æ˜¯ Promise ç‹€æ…‹ç¶“éä¸€ç§’æ‰ç”± pending ç‹€æ…‹é€²å…¥ fulfilled ç‹€æ…‹ã€‚\nå‡å¦‚éåŒæ­¥ç¨‹å¼åŸ·è¡Œå¤±æ•—æ™‚ï¼Œå°±å¯ä»¥åˆ©ç”¨ reject ç²å–éŒ¯èª¤è¨Šæ¯ï¼Œè®“æˆ‘å€‘æ¨¡æ“¬ä¸€ä¸‹ï¼š\n1 2 3 4 5 6 7 8 9 10  const p = new Promise((resolve, reject) =\u0026gt; { setTimeout(() =\u0026gt; { const ran = Math.floor(Math.random() * 2); // æ¨¡æ“¬å¯èƒ½å¤±æ•— 0 æˆ– 1  if (ran) { resolve(\u0026#39;done!\u0026#39;); } else { reject(new Error(\u0026#39;error!\u0026#39;)); } }, 1000); });   å¦å¤–ï¼Œå‘¼å« resolve æˆ– reject ä¸¦ä¸æœƒçµ‚æ­¢ executor å‡½å¼çš„åŸ·è¡Œï¼Œå¾ŒçºŒçš„ç¨‹å¼ç¢¼é‚„ä½¿æœƒåŸ·è¡Œï¼š\n1 2 3 4  const p = new Promise((resolve) =\u0026gt; { resolve(\u0026#39;done!\u0026#39;); console.log(123); });   ä½†ä¸€èˆ¬ä¾†èªªï¼Œå‘¼å« resolve æˆ– reject ä»¥å¾Œï¼ŒPromise çš„ä½¿å‘½å°±å®Œæˆäº†ï¼Œå¾Œç¹¼æ“ä½œæ‡‰è©²æ”¾åˆ° then æ–¹æ³•ä¸­ï¼Œè€Œä¸æ‡‰è©²ç›´æ¥å¯«åœ¨å‘¼å«å®Œ resolve æˆ– reject çš„å¾Œæ–¹ã€‚\næ¥ä¸‹ä¾† 1. then æ–¹æ³• æ¥ä¸‹ä¾†ï¼Œæˆ‘å€‘ä¾†çœ‹å¦‚ä½•å¾ Promise ä¸­å–å‡ºçµæœå€¼ã€‚\nthen æ–¹æ³•æ˜¯ Promise ä¸­æœ€é‡è¦çš„æ–¹æ³•ï¼Œæ¨™æº–æœ‰å…«æˆåœ¨å®šç¾©å®ƒã€‚\nthen å­—é¢æ„æ€ç‚ºã€Œç„¶å¾Œã€æˆ–ã€Œæ¥ä¸‹ä¾†ã€ï¼Œä¹Ÿå°±æ˜¯ Promise å¯¦é«”è¢«å‰µå»ºå¾Œï¼Œå¯ä»¥ä½¿ç”¨ then æ–¹æ³•åˆ†åˆ¥æŒ‡å®š fulfilled å’Œ rejected ç‹€æ…‹çš„å›å‘¼å‡½å¼ï¼Œä¾†è™•ç†å›å‚³å€¼ï¼š\n1  p.then(fulfilledCallback[, rejectedCallback]);    fulfilledCallbackï¼šç•¶ Promise ç‚º fulfilled ç‹€æ…‹æ™‚è¢«å‘¼å«ï¼Œæ¥æ”¶çš„åƒæ•¸ç‚º resolve() å›å‚³çš„çµæœã€‚ rejectedCallbackï¼ˆå¯é¸ï¼‰ï¼šç•¶ Promise ç‚º rejected ç‹€æ…‹æ™‚è¢«å‘¼å«ï¼Œæ¥æ”¶çš„åƒæ•¸ç‚º reject() å›å‚³çš„å¤±æ•—è¨Šæ¯ã€‚  å¦‚æœ fulfilledCallback æˆ– fulfilled ä¸æ˜¯å‡½å¼æ™‚ï¼Œå¿½ç•¥è·³éã€‚\nthen æ–¹æ³•é›–ç„¶æ˜¯ç«‹å³åŸ·è¡Œçš„ï¼Œä½†å®ƒè£¡é¢çš„å›å‘¼å‡½å¼æœƒé€²å…¥åˆ°äº‹ä»¶ä½‡åˆ—ä¸­ï¼Œç­‰å¾… Promise æ”¹è®Šç‹€æ…‹ã€‚å¦‚æœ Promise ä¸€ç›´æ˜¯ pending ç‹€æ…‹ï¼Œä¹Ÿå°±æ˜¯ä¸€ç›´æ²’æœ‰å›æ‡‰ï¼Œthen æ–¹æ³•ä¸­çš„å›å‘¼å‡½å¼å°±æœƒä¸€ç›´ç­‰å¾…ã€‚\nä¸€å€‹ç°¡å–®çš„ç¯„ä¾‹ï¼Œå»ºç«‹ä¸€å€‹ delay å‡½å¼ï¼Œå›å‚³ Promise ç‰©ä»¶ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14  function delay(time) { return new Promise((resolve) =\u0026gt; { const t = time * 1000; setTimeout(() =\u0026gt; { resolve(`å»¶é²äº† ${time}ç§’`); }, t); }); } delay(2).then((result) =\u0026gt; { console.log(result); }); // (ç¶“é2ç§’ // \u0026#34;å»¶é²äº† 2 ç§’\u0026#34;   ç¶“éäº† 2 ç§’ï¼ŒPromise ç”± pending ç‹€æ…‹é€²å…¥ fulfilled ç‹€æ…‹ï¼Œå°±æœƒè§¸ç™¼ then æ–¹æ³•ç¶å®šçš„å›å‘¼å‡½å¼ï¼Œå°å‡ºçµæœã€‚\nå¦‚æœ Promise ç‚º rejected ç‹€æ…‹ï¼Œæ²’æœ‰è™•ç†æœƒæœ‰ Uncaught æç¤ºï¼Œå› æ­¤å¦‚æœæœ‰å‘¼å« reject è¦åŠ ä¸Š rejected ç‹€æ…‹çš„å›å‘¼å‡½å¼ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19  const p = new Promise((resolve, reject) =\u0026gt; { setTimeout(() =\u0026gt; { const ran = Math.floor(Math.random() * 2); // æ¨¡æ“¬å¯èƒ½å¤±æ•—  if (ran) { resolve(\u0026#39;done!\u0026#39;); } else { reject(\u0026#39;éŒ¯èª¤\u0026#39;); } }, 1000); }); p.then( (result) =\u0026gt; { console.log(result); }, (error) =\u0026gt; { console.log(error); } );   2. å‘¼å«é †åº 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19  const p = new Promise((resolve) =\u0026gt; { console.log(1); resolve(4); console.log(2); }); p.then((v) =\u0026gt; { console.log(3); console.log(v); console.log(5); }); console.log(6); // 1 // 2 // 6 // 3 // 4 // 5    ç•¶ Promise å¯¦é«”è¢«å‰µå»ºï¼Œå°±æœƒç«‹åˆ»åŸ·è¡Œ executor å‡½å¼ï¼Œæ‰€ä»¥å…ˆå°å‡º 1ï¼› å°±ç®— resolve å·²å‘¼å«ï¼Œexecutor å‡½å¼ä¸¦ä¸æœƒçµ‚æ­¢ï¼Œæ‰€ä»¥å°å‡º 2ï¼› then æ–¹æ³•ä¸­çš„å›å‘¼å‡½å¼ä¸€é–‹å§‹å°±æœƒé€²å…¥åˆ°äº‹ä»¶ä½‡åˆ—ä¸­ï¼Œç•¶ Promise ç‹€æ…‹æ”¹è®Šï¼Œä¸¦ç­‰åˆ°åŒæ­¥ç¨‹å¼åŸ·è¡Œå®Œç•¢ï¼Œæ‰æœƒé–‹å§‹åŸ·è¡Œï¼Œå› æ­¤æœƒè·³éï¼Œæ‰€ä»¥æœƒå…ˆå°å‡º 6ï¼› Promise ç‹€æ…‹æ”¹è®Šäº†ï¼ŒåŒæ­¥ç¨‹å¼åŸ·è¡Œä¹Ÿå®Œäº†ï¼Œå› æ­¤åŸ·è¡Œ then æ–¹æ³•ä¸­çš„å›å‘¼å‡½å¼ï¼Œæ‰€ä»¥å°å‡º 3 4 5ã€‚  3. ä¸²é€£ then æ–¹æ³•ï¼Œæœƒå›å‚³ä¸€å€‹æ–°çš„ Promise å¯¦é«”ã€‚å› æ­¤å¯ä»¥ç”¨ then() ä¸²é€£å¤šå€‹ Promiseï¼Œå½¢æˆä¸€å€‹ Promise éˆã€‚\nthen æ–¹æ³•å›å‚³çš„æ–° Promise æœƒæœ‰ä»¥ä¸‹å¹¾ç¨®æƒ…æ³ï¼š\n å›å‘¼å‡½å¼ä¸­ï¼Œreturn é Promise çš„å€¼ï¼› å›å‘¼å‡½å¼ä¸­ï¼Œreturn Promiseï¼› å›å‘¼å‡½å¼ä¸­ï¼Œå› ç‚º throw è¿°å¥æ‹‹å‡ºéŒ¯èª¤ï¼› æ²’æœ‰å°æ‡‰ç‹€æ…‹çš„å›å‘¼å‡½å¼ã€‚  æˆ‘å€‘ä½¿ç”¨é€™å€‹å‡½å¼å»ºç«‹ Promise ä¾†èªªæ˜ï¼š\n1 2 3 4 5 6 7 8 9  function p(n, b) { return new Promise((resolve, reject) =\u0026gt; { if (b) { resolve(n); } else { reject(\u0026#39;erro\u0026#39;); } }); }   åƒæ•¸ n ç‚ºçµæœå€¼ã€b ç”¨ä¾†æ§åˆ¶ç‹€æ…‹ã€‚\næƒ…æ³ä¸€ï¼šå¦‚æœå›å‘¼å‡½å¼ä¸­ return ä¸€å€‹é Promise çš„å€¼ï¼Œå‰‡æœƒå›å‚³ä¸€å€‹ fulfilled ç‹€æ…‹çš„æ–° Promiseï¼Œä¸¦ä¸”å°‡ return å€¼ä½œç‚º resolve çš„åƒæ•¸å€¼ã€‚\n1 2 3 4 5 6 7 8 9 10 11 12  // æƒ…æ³ä¸€ p(1, true) .then((result) =\u0026gt; { console.log(result); return 2; }) .then((result) =\u0026gt; { console.log(result); }); // 1 // 2   æƒ…æ³äºŒï¼šå¦‚æœå›å‘¼å‡½å¼ return ä¸€å€‹ Promiseï¼Œæœƒå›å‚³èˆ‡è©² Promise ç›¸åŒç‹€æ…‹ã€å¸¶ç›¸åŒå€¼çš„æ–° Promiseã€‚\n1 2 3 4 5 6 7 8 9 10 11  p(1, true) .then((result) =\u0026gt; { console.log(result); return p(2, true); }) .then((result) =\u0026gt; { console.log(result); }); // 1 // 2   æƒ…æ³ä¸‰ï¼šthen æ–¹æ³•ä¸­å›å‘¼å‡½å¼å› ç‚º throw è¿°å¥æ‹‹å‡ºä¸€å€‹éŒ¯èª¤ï¼Œå‰‡æœƒå›å‚³ä¸€å€‹ rejected ç‹€æ…‹çš„ Promiseï¼Œä¸¦ä¸”å°‡éŒ¯èª¤è¨Šæ¯ä½œç‚º reject çš„åƒæ•¸å€¼ã€‚\n1 2 3 4 5 6 7 8 9  p(1, true) .then((result) =\u0026gt; { throw new Error(\u0026#39;Something failed\u0026#39;); }) .then(null, (error) =\u0026gt; { console.log(error); }); // \u0026#34;Error: Something failed\u0026#34;   æƒ…æ³å››ï¼šå¦‚æœ then æ–¹æ³•æ²’æœ‰å¯ä»¥è™• Promise ç‹€æ…‹çš„å›å‘¼å‡½å¼ï¼Œæœƒå›å‚³èˆ‡åŸæœ¬ç›¸åŒç‹€æ…‹ã€å¸¶ç›¸åŒå€¼çš„æ–° Promiseã€‚\n1 2 3 4 5 6 7 8 9  p(1, false) .then((v) =\u0026gt; { console.log(v); }) .then(null, (error) =\u0026gt; { console.log(error); }); // \u0026#34;erro\u0026#34;   4. catch æ–¹æ³• catch æ–¹æ³•ï¼Œå…¶å¯¦å°±æ˜¯ then(null, rejectedCallback) æˆ– then(undefined, rejectedCallback) çš„ç°¡å¯«ã€‚\nåŸæœ¬æ˜¯ä½¿ç”¨ then æ–¹æ³•çš„å…©å€‹å›å‘¼å‡½å¼ï¼Œåˆ†åˆ¥è™•ç†å…©å€‹ç‹€æ…‹ï¼š\n1 2 3 4 5 6 7 8  p.then( (result) =\u0026gt; { console.log(result); }, (error) =\u0026gt; { console.log(error); } );   ä½†å»ºè­°æ”¹ç”¨ä»¥ä¸‹æ–¹å¼ï¼š\n1 2 3 4 5  p.then((result) =\u0026gt; { console.log(result); }).catch((error) =\u0026gt; { console.log(error); });   é€™æ¨£ä¸ä½†å°‡å…©ç¨®ç‹€æ…‹è™•ç†åˆ†é–‹å¯«ï¼Œå¢åŠ å¯è®€æ€§ã€‚å¦‚æœ then() çš„å›å‘¼å‡½å¼å› ç‚º throw è¿°å¥æ‹‹å‡ºéŒ¯èª¤ï¼Œcatch() ä¹Ÿèƒ½æ•æ‰éŒ¯èª¤è¨Šæ¯ã€‚\n5. throw èˆ‡ reject åœ¨ Promise å»ºæ§‹å‡½å¼çš„ executor å‡½å¼ä¸­ï¼Œç›´æ¥ä½¿ç”¨ throw è¿°å¥ç›¸ç•¶æ–¼å‘¼å« reject çš„ä½œç”¨ã€‚\n1 2 3 4 5 6 7 8 9 10  const p = new Promise((resolve, reject) =\u0026gt; { throw new Error(\u0026#39;error!\u0026#39;); // ç­‰åŒ  // reject(new Error(\u0026#39;error!\u0026#39;)) }); p.catch((e) =\u0026gt; { console.log(e.message); }); // \u0026#34;error!\u0026#34;   6. finally æ–¹æ³• åœ¨ ES7 æ–°å¢äº† finally æ–¹æ³•ï¼Œä¸è«– Promise ç‹€æ…‹æ˜¯ fulfilled æˆ– rejected éƒ½æœƒåŸ·è¡Œã€‚\nfinally æ–¹æ³•ä¸­çš„å›å‘¼å‡½å¼ä¸æ¥å—ä»»ä½•åƒæ•¸ï¼Œä¹Ÿå°±æ˜¯ä¸æœƒå¾—åˆ°ä»»ä½•çš„å›å‚³å€¼ï¼Œé€šå¸¸ç”¨æ–¼æœ€å¾Œï¼Œç”¨ä¾†è™•ç†èˆ‡ç‹€æ…‹ç„¡é—œçš„æ“ä½œï¼Œä¾‹å¦‚é‡ç½®ã€æ¸…é™¤ã€çµ‚æ­¢ã€‚\nåŸæœ¬éœ€è¦ä½¿ç”¨ then æ–¹æ³•ï¼Œå°‡å…©å€‹å›å‘¼å‡½å¼è¨­ç½®ç›¸åŒä¾†è™•ç†ï¼Œä½¿ç”¨ finally æ–¹æ³•å°±åªéœ€è¦å¯«ä¸€æ¬¡ã€‚\n1 2 3 4 5 6 7 8 9 10 11 12 13 14  p.finally(() =\u0026gt; { console.log(\u0026#39;End!\u0026#39;); }); // ç­‰åŒ p.then( () =\u0026gt; { console.log(\u0026#39;End!\u0026#39;); }, (reason) =\u0026gt; { console.log(\u0026#39;End!\u0026#39;); throw reason; } );   Promise çš„éœæ…‹æ–¹æ³• 1. all æ–¹æ³• Promise.all æ–¹æ³•ç”¨æ–¼å°‡å¤šå€‹ Promiseï¼ŒåŒ…è£æˆä¸€å€‹æ–°çš„ Promiseã€‚\nå‡è¨­æœ‰ä¸€å€‹å»¶é²è¨ˆç®—çš„å‡½å¼ï¼š\n1 2 3 4 5 6 7 8  function delayAdd(x, y) { return new Promise((resolve) =\u0026gt; { setTimeout(() =\u0026gt; { const r = x + y; resolve(r); }, Math.random() * 2000); }); }   è¦å¦‚ä½•å°‡é€™ä¸‰å€‹çš„çµæœå€¼ç›¸åŠ å‘¢ï¼Ÿ\n1 2 3  const p1 = delayAdd(1, 2); const p2 = delayAdd(3, 4); const p3 = delayAdd(5, 6);   ä½¿ç”¨ Promise.all æ–¹æ³•ï¼š\n1 2 3 4 5  Promise.all([p1, p2, p3]).then((result) =\u0026gt; { const sum = result.reduce((total, value) =\u0026gt; total + value); console.log(sum); }); // 21   èªæ³•èªªæ˜ï¼š\n1  Promise.all(iterable);   iterableï¼šé€šå¸¸æœƒæ˜¯ä¸€å€‹é™£åˆ—ï¼Œé™£åˆ—ä¸­çš„å€¼åªæœƒæ˜¯ä¸€èˆ¬çš„å€¼æˆ–æ˜¯ Promise ç‰©ä»¶ã€‚\nPromise.all æ–¹æ³•æœƒå°‡é™£åˆ—ä¸­çš„å€¼ä¸¦è¡Œé‹ç®—åŸ·è¡Œï¼Œå…¨éƒ¨å®Œæˆå¾Œå¾Œæœƒå›å‚³ä¸€å€‹ finally ç‹€æ…‹çš„ Promiseã€‚\næœ‰å¹¾é»è¦æ³¨æ„ï¼š\n é™£åˆ—ä¸­çš„ç´¢å¼•å€¼èˆ‡åŸ·è¡Œé †åºç„¡é—œï¼› é™£åˆ—ä¸­çš„å€¼å¦‚æœä¸æ˜¯ Promise ç‰©ä»¶æœƒè‡ªå‹•ä½¿ç”¨Promise.resolve æ–¹æ³•ä¾†è½‰æ›ï¼› é™£åˆ—ä¸­åªè¦å…¶ä¸­ä¸€å€‹ Promise ç‹€æ…‹ç‚º rejectedï¼Œå°±æœƒå›å‚³ rejected ç‹€æ…‹çš„ Promiseã€‚  Promise.all æ–¹æ³•æœ€å¾Œç²å¾—çš„ Promise çš„çµæœå€¼æœƒæ˜¯ä¸€å€‹é™£åˆ—ï¼Œé™£åˆ—ä¸­çš„å…§å®¹ç‚ºæ‰€æœ‰ Promise çš„çµæœã€‚\n1 2 3 4 5 6 7 8  const p1 = delayAdd(1, 2); const p2 = delayAdd(3, 4); const p3 = delayAdd(5, 6); Promise.all([p1, p2, p3]).then((result) =\u0026gt; { console.log(result); }); // [3, 7, 11]   2. race æ–¹æ³• Promise.race æ–¹æ³•çš„è¦å‰‡èˆ‡ Promise.all æ–¹æ³•ç›¸åŒï¼Œå·®ç•°åœ¨æ–¼ Promise.race å›å‚³çš„ Promise çš„çµæœåªæœ‰æœ€å¿«è®Šæˆ finally ç‹€æ…‹çš„é‚£å€‹ã€‚\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18  function delay(name, time) { return new Promise((resolve) =\u0026gt; { setTimeout(() =\u0026gt; { resolve(name); }, time); }); } const p1 = delay(\u0026#39;A\u0026#39;, 2000); const p2 = delay(\u0026#39;B\u0026#39;, 100); const p3 = delay(\u0026#39;C\u0026#39;, 500); Promise.race([p1, p2, p3]).then((result) =\u0026gt; { console.log(result); }); // \u0026#34;B\u0026#34;   å¦‚æœåŒæ™‚è®Šç‚º finally ç‹€æ…‹ï¼Œå°±æœƒä»¥é™£åˆ—é †åºå„ªå…ˆè€…ä½œç‚ºå›å‚³å€¼ã€‚\n3. resolve æ–¹æ³• Promise.resolve() èƒ½å»ºç«‹ä¸€å€‹ finally ç‹€æ…‹çš„ Promise ç‰©ä»¶ï¼Œå…¶åƒæ•¸ç‚ºçµæœå€¼ã€‚\n1  const p = Promise.resolve(1);   ç­‰åŒï¼š\n1 2 3  const p = new Promise((resolve) =\u0026gt; { resolve(1); });   4. reject æ–¹æ³• Promise.reject() èƒ½å»ºç«‹ä¸€å€‹ rejected ç‹€æ…‹çš„ Promise ç‰©ä»¶ï¼Œå…¶åƒæ•¸ç‚ºéŒ¯èª¤è¨Šæ¯ã€‚\n1  const p = Promise.reject(new Error(\u0026#39;error!\u0026#39;));   ç­‰åŒï¼š\n1 2 3  const p = new Promise((resolve, reject) =\u0026gt; { reject(new Error(\u0026#39;error!\u0026#39;)); });   ","description":"Promise ä»£è¡¨è‘—ã€Œæ‰¿è«¾ã€åœ¨æœªä¾†æä¾›ä»»å‹™åŸ·è¡Œçµæœã€‚","id":51,"section":"posts","tags":["JavaScript","éåŒæ­¥","Promise"],"title":"Promise","uri":"https://chupai.github.io/posts/2008/js_promise/"},{"content":" JavaScriptç­†è¨˜ ç›®éŒ„\n éåŒæ­¥æ˜¯ JavaScript æœ€é‡è¦çš„è§€å¿µä¹‹ä¸€ã€‚\n éåŒæ­¥ å›å‘¼å‡½å¼ Promise Async/Await  \rä»€éº¼æ˜¯å›å‘¼å‡½å¼ å›å‘¼å‡½å¼ï¼ˆcallback functionï¼‰æ˜¯æŒ‡èƒ½è—‰ç”±åƒæ•¸ï¼ˆargumentï¼‰é€šå¾€å¦ä¸€å€‹å‡½å¼çš„å‡½å¼ã€‚\nç°¡å–®ä¾†èªªï¼Œå°±æ˜¯é€™å€‹å‡½å¼åšç‚ºå¦ä¸€å€‹å‡½å¼çš„å¼•æ•¸å‚³å…¥ï¼Œå°±ç¨±ç‚ºã€Œå›å‘¼å‡½å¼ã€ï¼Œä¾‹å¦‚å¸¸è¦‹çš„é™£åˆ—è™•ç†æ–¹æ³•éƒ½æœ‰å›å‘¼å‡½å¼ã€‚\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15  function foo(name) { console.log(name); } function boo(name, callback) { callback(name); } boo(\u0026#39;Peter\u0026#39;, foo); // \u0026#34;Peter\u0026#34;  // é™£åˆ—æ‰¹æ¬¡è™•ç†æ–¹æ³• const arr = [1, 2, 3]; const newArr = arr.map((item) =\u0026gt; item * 2); console.log(newArr); // [2, 4, 6]   é€™äº›å±¬æ–¼åŒæ­¥å›å‘¼ï¼Œå› ç‚ºå®ƒæ˜¯ç«‹å³åŸ·è¡Œçš„ã€‚\néåŒæ­¥ è€Œå›å‘¼å¸¸ç”¨ä¾†å»¶çºŒéåŒæ­¥è¡Œå‹•å®Œæˆå¾Œçš„ç¨‹å¼åŸ·è¡Œï¼Œä¾‹å¦‚è¨ˆæ™‚å™¨ç­‰ç­‰ã€‚\n1 2 3 4  // è¨ˆæ™‚å™¨ setTimeout(() =\u0026gt; { console.log(\u0026#39;1\u0026#39;); }, 3000);   1. å›å‘¼ä¸­å›å‘¼ èˆ‰ä¾‹ä¾†èªªï¼Œå¦‚æœè¦è¨­å®šè¨ˆæ™‚å™¨ï¼Œåœ¨å®ƒåŸ·è¡Œå®Œå¾Œï¼Œåœ¨ä¸€æ¬¡å‘¼å«ä¸€å€‹è¨ˆæ™‚å™¨ã€‚\néŒ¯èª¤å¯«æ³•ï¼š\n1 2 3 4 5 6 7 8 9 10 11  setTimeout(() =\u0026gt; { console.log(\u0026#39;1\u0026#39;); }, 2000); setTimeout(() =\u0026gt; { console.log(\u0026#39;2\u0026#39;); }, 2000); // å…©ç§’å¾Œ åŒæ™‚å°å‡º // 1 // 2   å¿…é ˆå°‡ç¬¬äºŒå€‹è¨ˆæ™‚å™¨å¯«åœ¨ç¬¬ä¸€å€‹å›å‘¼å‡½å¼ä¸­ï¼š\n1 2 3 4 5 6  setTimeout(() =\u0026gt; { console.log(\u0026#39;1\u0026#39;); setTimeout(() =\u0026gt; { console.log(\u0026#39;2\u0026#39;); }, 2000); }, 2000);   2. å›å‘¼åœ°åŸŸ éåŒæ­¥ç¨‹å¼çš„å›å‘¼å°æ–¼ä¸€å€‹æˆ–å…©å€‹çš„ç°¡å–®å·¢ç‹€ï¼Œé€™æ¨£çš„å‘¼å«çœ‹èµ·ä¾†é‚„å¥½ã€‚\nä½†å°æ–¼ä¸€å€‹æ¥ä¸€å€‹éåŒæ­¥å‹•ä½œä¾†èªªï¼Œç¨‹å¼ç¢¼æœƒè®Šå¾—éå¸¸é›£ä»¥ç¶­è­·ã€‚èˆ‰ä¾‹ä¾†èªªï¼Œé€™æ˜¯ä¸€å€‹å»¶é²å‘¼å«çš„å‡½å¼ï¼š\n1 2 3 4 5 6 7 8 9  function delay(n, callback) { setTimeout(() =\u0026gt; { callback(n); }, 2000); } delay(1, (n) =\u0026gt; { console.log(n); });   ä¸Šé¢æœ‰èªªéï¼Œå¦‚æœè¦é‡è¤‡å‘¼å«ï¼Œå°±å¿…é ˆè¦ç­‰åˆ°ä¸Šæ¬¡çš„å‘¼å«æˆåŠŸæ™‚ï¼Œæ‰èƒ½é€²è¡Œä¸‹æ¬¡å‘¼å«ï¼š\n1 2 3 4 5 6  delay(1, (n) =\u0026gt; { console.log(n); delay(2, (n) =\u0026gt; { console.log(n); }); });   å¦‚æœå‘¼å«æ¬¡éå¸¸å¤šï¼Œç¨‹å¼ç¢¼å°±æœƒè®Šæˆé€™æ¨£ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18  delay(1, (n) =\u0026gt; { console.log(n); delay(2, (n) =\u0026gt; { console.log(n); delay(3, (n) =\u0026gt; { console.log(n); delay(4, (n) =\u0026gt; { console.log(n); delay(5, (n) =\u0026gt; { console.log(n); delay(6, (n) =\u0026gt; { console.log(n); }); }); }); }); }); });   ç”±ä¸Šè¿°å¯çŸ¥ï¼Œæ²’æœ‰é€²ä¸€æ­¥çš„éåŒæ­¥éœ€æ±‚ï¼Œå›å‘¼å‡½å¼æ˜¯ç›´è¦ºè€Œç°¡å–®çš„ï¼Œä½†å¦‚æœéœ€è¦åŸ·è¡Œå¤šæ¬¡éåŒæ­¥ç¨‹å¼ï¼Œå°±æœƒä¸åˆ©æ–¼ç¨‹å¼ç¢¼çš„é–±è®€å’Œç¶­è­·ã€‚\nå¾ ES6 é–‹å§‹ï¼ŒJavaScript å¼•å…¥äº†ä¸€äº›æ–°åŠŸèƒ½ï¼Œå¯ä»¥å¹«åŠ©æˆ‘å€‘ä¸ç”¨å›å‘¼å°±èƒ½è™•ç†éåŒæ­¥ç¨‹å¼ï¼š\n Promise ç‰©ä»¶ï¼ˆES6ï¼‰ Async/Await èªæ³•ï¼ˆPromise èªæ³•ç³– ES8ï¼‰ ","description":"å›å‘¼å‡½å¼ï¼ˆcallback functionï¼‰æ˜¯æŒ‡èƒ½è—‰ç”±åƒæ•¸ï¼ˆargumentï¼‰é€šå¾€å¦ä¸€å€‹å‡½å¼çš„å‡½å¼ã€‚","id":52,"section":"posts","tags":["JavaScript","éåŒæ­¥","å›å‘¼å‡½å¼"],"title":"å›å‘¼å‡½å¼","uri":"https://chupai.github.io/posts/2008/js_callback/"},{"content":" JavaScriptç­†è¨˜ ç›®éŒ„\n éåŒæ­¥æ˜¯ JavaScript æœ€é‡è¦çš„è§€å¿µä¹‹ä¸€ã€‚\n éåŒæ­¥ å›å‘¼å‡½å¼ Promise Async/Await  \rä»€éº¼æ˜¯éåŒæ­¥  Synchronous åŒæ­¥ Asynchronous éåŒæ­¥ï¼ˆç•°æ­¥ï¼‰  åŒæ­¥å°±æ˜¯ç¨‹å¼ç¢¼ç”±ä¸Šåˆ°ä¸‹ä¾åºåŸ·è¡Œï¼›è€ŒéåŒæ­¥å‰‡æ˜¯ï¼Œä¸ç”¨ç­‰å¾…è©²ç¨‹å¼ç¢¼åŸ·è¡Œå®Œç•¢ï¼Œå°±å¯ä»¥å¾€ä¸‹ç¹¼çºŒåŸ·è¡Œã€‚\nå¸¸è¦‹çš„éåŒæ­¥ç¨‹å¼ï¼š\n ç€è¦½å™¨æ‰€æä¾›çš„è¨ˆæ™‚å™¨ setTimeout()ã€setInterval() DOM çš„äº‹ä»¶ç›£è½ addEventListener() ç¶²è·¯è«‹æ±‚è³‡æ–™ Ajax å‘¼å«  JavaScript çš„éåŒæ­¥è™•ç† é¦–å…ˆï¼ŒJavaScript æ˜¯ å–®ç·šç¨‹ï¼ˆsingle threadedï¼‰ çš„ç¨‹å¼èªè¨€ï¼Œä¹Ÿå°±æ˜¯ä¸€å€‹å–®åŸ·è¡Œç·’ã€åŒæ­¥çš„ç¨‹å¼ï¼Œå®ƒé€è¡ŒåŸ·è¡Œç¨‹å¼ç¢¼ï¼Œä¸¦ä¸æœƒéåŒæ­¥çš„åŸ·è¡Œç¨‹å¼ã€‚\né‚£å®ƒæ˜¯å¦‚ä½•åšåˆ°éåŒæ­¥åŸ·è¡Œå‘¢ï¼Ÿ\nç°¡å–®ä¾†èªªï¼ŒJS å¼•æ“åœ¨é‹è¡Œæ™‚ï¼Œé™¤äº†ä¸€å€‹æ­£åœ¨è™•ç†äº‹æƒ…çš„ä¸»ç·šç¨‹å¤–ï¼Œé‚„æœ‰ä¸€å€‹ç”¨ä¾†å­˜æ”¾éåŒæ­¥éœ€æ±‚çš„ äº‹ä»¶ä½‡åˆ—ï¼ˆEvent Queueï¼‰ã€‚ç•¶åµæ¸¬åˆ°éåŒæ­¥çš„éœ€æ±‚ï¼Œå°±æœƒå°‡å®ƒä¸Ÿé€²å»ï¼Œç­‰åˆ°ä¸»ç·šç¨‹æ‰€æœ‰äº‹æƒ…è™•ç†å®Œç•¢ï¼Œå°±æœƒå» äº‹ä»¶ä½‡åˆ— æ‰¾äº‹åšã€‚\nJS å¼•æ“æ˜¯é€éä¸æ–·çš„æª¢æŸ¥äº‹ä»¶ä½‡åˆ—ï¼Œä¾†ç¢ºèªéåŒæ­¥çš„ç¨‹å¼ç¬¦åˆé€²å…¥ä¸»ç·šç¨‹çš„æ¢ä»¶ï¼Œé€™ç¨®æª¢æŸ¥æ©Ÿåˆ¶å«åš äº‹ä»¶è¿´åœˆï¼ˆEvent Loopï¼‰ã€‚\næ›å¥è©±èªªï¼Œç•¶æŸä»¶äº‹æƒ…å¡ä½äº†ï¼Œå¾ŒçºŒçš„äº‹æƒ…éƒ½å°‡ç„¡æ³•ç¹¼çºŒåŸ·è¡Œã€‚\néåŒæ­¥çš„æµç¨‹æ§åˆ¶ å¦‚æœæœ‰å¤šå€‹éåŒæ­¥æ“ä½œï¼Œå°±å­˜åœ¨ä¸€å€‹æµç¨‹æ§åˆ¶çš„å•é¡Œã€‚\nè¦å¦‚ä½•è§£æ±ºéåŒæ­¥æ“ä½œçš„åŸ·è¡Œé †åºï¼Œæœ‰ä»¥ä¸‹å¹¾ç¨®æ–¹å¼ï¼š\n å›å‘¼å‡½å¼ Callbackï¼ˆæœ€æ—©æœŸï¼‰ Promise ç‰©ä»¶ï¼ˆES6ï¼‰ Async/Await èªæ³•ï¼ˆPromise èªæ³•ç³– ES8ï¼‰  é¦–å…ˆæˆ‘å€‘ä¾†çœ‹ä¸€å€‹ç¯„ä¾‹å•é¡Œï¼š\n1 2 3 4 5 6 7  function square(n) { return n * n; } const result = square(2); console.log(result); // 4    é€™æ˜¯å€‹å¾ˆæ™®é€šçš„åŒæ­¥ç¨‹å¼ï¼Œsquare() å›å‚³å¹³æ–¹çµæœï¼Œç„¶å¾Œç”¨ console.log() å°å‡ºã€‚\næ¥ä¸‹ä¾†æˆ‘å€‘ä½¿ç”¨ setTimeout() ä¾†æ¨¡æ“¬ï¼Œéœ€è¦ç¶“éå†—é•·è¨ˆç®—éç¨‹æˆ–å¾ä¼ºæœå™¨å–å¾—ï¼Œè€Œç„¡æ³•ç«‹å³åšé‹ç®—ã€‚\næœƒé‡åˆ°çš„å•é¡Œï¼š\n1 2 3 4 5 6 7 8 9 10  function delaySquare(n) { let result; setTimeout(() =\u0026gt; { result = n * n; }, 2000); return result; } const result = delaySquare(2); console.log(result); // undefined   å¾ˆæ˜é¡¯çš„ï¼Œæˆ‘å€‘ç„¡æ³•ç›´æ¥å›å‚³éåŒæ­¥ç¨‹å¼çš„é‹ç®—çµæœã€‚\né‚£éº¼æˆ‘å€‘è¦å¦‚ä½•è§£æ±ºï¼Ÿ\n1. å›å‘¼å‡½å¼ å‚³çµ±ä½œæ³•å°±æ˜¯æ–°å¢ä¸€å€‹ å›å‘¼å‡½å¼ callback åƒæ•¸ï¼Œå°‡çµæœç•¶ä½œå¼•æ•¸å‚³å…¥ï¼š\n1 2 3 4 5 6 7 8 9  function delaySquare(n, callback) { setTimeout(() =\u0026gt; { callback(n * n); }, 2000); } delaySquare(2, (result) =\u0026gt; { console.log(result); });   ä½†æ˜¯ï¼Œå¦‚æœä»Šå¤©æˆ‘è¦é‡è¤‡å‘¼å«ï¼Œå°±å¿…é ˆè¦ç­‰åˆ°ä¸Šæ¬¡çš„å‘¼å«æˆåŠŸæ™‚ï¼Œæ‰èƒ½é€²è¡Œä¸‹æ¬¡å‘¼å«ï¼Œå°±æœƒç”¢ç”Ÿ Callback Hellï¼ˆå›å‘¼åœ°ç„ï¼‰ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12  delaySquare(2, (result) =\u0026gt; { console.log(result); delaySquare(3, (result) =\u0026gt; { console.log(result); delaySquare(4, (result) =\u0026gt; { console.log(result); delaySquare(5, (result) =\u0026gt; { console.log(result); }); }); }); });   ç”±ä¸Šè¿°å¯çŸ¥ï¼Œæ²’æœ‰é€²ä¸€æ­¥çš„éåŒæ­¥éœ€æ±‚ï¼Œå›å‘¼å‡½å¼æ˜¯ç›´è¦ºè€Œç°¡å–®çš„ï¼Œä½†å¦‚æœéœ€è¦åŸ·è¡Œå¤šæ¬¡éåŒæ­¥ç¨‹å¼ï¼Œå°±æœƒä¸åˆ©æ–¼ç¨‹å¼ç¢¼çš„é–±è®€å’Œç¶­è­·ã€‚\nå¾ ES6 é–‹å§‹ï¼ŒJavaScript å¼•å…¥äº†ä¸€äº›æ–°åŠŸèƒ½ï¼Œå¯ä»¥å¹«åŠ©æˆ‘å€‘ä¸ç”¨å›å‘¼å°±èƒ½è™•ç†éåŒæ­¥ç¨‹å¼ï¼š\n Promise ç‰©ä»¶ï¼ˆES6ï¼‰ Async/Await èªæ³•ï¼ˆPromise èªæ³•ç³– ES8ï¼‰  2. Promise ç‰©ä»¶ å…¶å¯¦ Promise å·²ç¶“å­˜åœ¨å¤šå¹´ï¼Œä½†æ˜¯ç›´åˆ° ES6 æ‰è¢«æ¨™æº–åŒ–å’Œå¼•å…¥ã€‚\n1 2 3 4 5 6 7 8 9 10 11  function delaySquare(n) { return new Promise((resolve) =\u0026gt; { setTimeout(() =\u0026gt; { resolve(n * n); }, 2000); }); } delaySquare(2).then((result) =\u0026gt; { console.log(result); });   Promise å¯ä»¥è®“éåŒæ­¥æ“ä½œå¯«èµ·ä¾†ï¼Œå°±åƒåœ¨å¯«åŒæ­¥æ“ä½œçš„æµç¨‹ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13  delaySquare(2) .then((result) =\u0026gt; { console.log(result); return delaySquare(3); }) .then((result) =\u0026gt; { console.log(result); return delaySquare(4); }) .then((result) =\u0026gt; { console.log(result); return delaySquare(5); });   3. Async/Await èªæ³• Async/Await å…¶å¯¦å°±æ˜¯ Promise çš„èªæ³•ç³–å°‡å…¶ç°¡åŒ–ã€‚\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20  function delaySquare(n) { return new Promise((resolve) =\u0026gt; { setTimeout(() =\u0026gt; { resolve(n * n); }, 2000); }); } async function answer() { const result = await delaySquare(2); console.log(result); const result2 = await delaySquare(3); console.log(result2); const result3 = await delaySquare(4); console.log(result3); const result4 = await delaySquare(5); console.log(result4); } answer();   å¿…é ˆä½¿ç”¨ async function å®£å‘Šå‡½å¼ï¼Œæ‰å¯ä»¥ä½¿ç”¨ awaitï¼Œè€Œ await å‘¼å«çš„å‡½å¼å¿…é ˆå›å‚³ Promise ç‰©ä»¶ã€‚\n","description":"éåŒæ­¥æ˜¯ JavaScript æœ€é‡è¦çš„è§€å¿µä¹‹ä¸€ã€‚","id":53,"section":"posts","tags":["JavaScript","éåŒæ­¥"],"title":"éåŒæ­¥","uri":"https://chupai.github.io/posts/2008/js_asynchronous/"},{"content":" ç«¹ç™½çš„ JS å­¸å¾’ç‰¹è¨“ç­ç­†è¨˜ - ç›®éŒ„\n è¨˜éŒ„å…­è§’å­¸é™¢æ‰€é–‹çš„ JS å­¸å¾’ç‰¹è¨“ç­ï¼Œç‚ºæœŸ 60å¤©çš„ç‰¹è¨“ã€‚\n\rç¬¬å››åä¸€é—œ - new Date() æ™‚é–“è™•ç†  é¡Œç›®é€£çµ\n 41. å•é¡Œ è«‹è§€çœ‹ä»¥ä¸‹æ–‡ç« ï¼Œä»¥äº†è§£å¦‚ä½•é€é JS å»å–å¾—å¹´æœˆæ—¥çš„è³‡æ–™ï¼Œä¸¦ç”¨ Slack å›å‚³ä½ çš„å­¸ç¿’å¿ƒå¾—ï¼Œ42 é—œå°‡æœƒå‡ºé¡Œç›®ä¾†ç·´ç¿’ã€‚\n JavaScript Dateï¼ˆæ—¥æœŸï¼‰ å¯¹è±¡ JavaScript Date æ™‚é–“å’Œæ—¥æœŸ æ—¥æœŸèˆ‡æ™‚é–“ å¾é›¶é–‹å§‹çš„å­¸ç¿’ JS ç”Ÿæ´»-ç¬¬äºŒåä¸€æ—¥  41. åƒè€ƒè§£ç­” ç«¹ç™½è¨˜äº‹æœ¬ - æ—¥æœŸæ™‚é–“\næ•™å­¸ã€å»¶ä¼¸çŸ¥è­˜é€£çµ  Date å¯¹è±¡ Natively Format JavaScript Dates and Times moment.js - é—œæ–¼æ™‚é–“çš„ä¸€åˆ‡  ç¬¬å››åäºŒé—œ new Date() èˆ‡å­—ä¸²è™•ç†  é¡Œç›®é€£çµ\n 42. å•é¡Œ è«‹ç”¨ä½ å­¸æœƒçš„èªæ³•ï¼Œå–å‡ºä»Šæ—¥æ™‚é–“ï¼Œä¸¦ä¾åºçµ„å‡ºä»¥ä¸‹å­—ä¸²ã€‚\nå‡è¨­ä»Šå¤©æ™‚é–“ç‚º 8/5ï¼Œå‰‡éœ€é€é new Date() è™•ç†å¾Œï¼Œå°å‡ºä»¥ä¸‹è³‡æ–™ï¼š\n// ç›®å‰æ™‚é–“æ˜¯ 2020/8/5 14:20 // 2020/08/05 // 2020-08-05 // ä»Šå¤©æ˜¯ç¦®æ‹œäº” // ä»Šå¤©æ˜¯å…«æœˆäº”æ—¥ï¼Œæ™‚é–“ç‚º 14:20 42. åƒè€ƒè§£ç­” See the Pen ç¬¬å››åäºŒé—œ new Date() èˆ‡å­—ä¸²è™•ç† by CHUPAIWANG (@CHUPAIWANG) on CodePen.  å››åä¸‰é—œ ä½ ç†Ÿæ‚‰ GitHub Pages å—ï¼Ÿ  é¡Œç›®é€£çµ\n 43. å•é¡Œ è«‹ä¾ç…§æŠ€è¡“ä¸»ç®¡çš„æŒ‡ç¤ºï¼Œå°‡ç¶²é æ”¾åœ¨ GitHub Pages ä¸Šçš„æœå‹™\n åœ¨æœ¬åœ°ç«¯æ–°å¢ä¸€å€‹ index.htmlï¼Œè£¡é¢å¤šåŠ ä¸Šä¸€å€‹ h1 çš„æ¨™ç±¤ï¼Œè£¡é¢å¯«è‡ªå·± Slack çš„æš±ç¨± è§€çœ‹æ­¤æ–‡ä»¶ï¼Œè®“è‡ªå·±çš„ç¶²é ä¸Šå‚³åˆ° GitHub Pages ä¸Š åœ¨ä¸‹æ–¹åˆ—è¡¨ï¼Œå¼µè²¼è‡ªå·±çš„ GitHub Pages ç¶²å€ æ¥ä¸‹ä¾†æˆ‘å€‘å°‡æœƒæŒçºŒç”¨ GitHub Pages æ›´æ–°ç¶²é   43. åƒè€ƒè§£ç­” ç•¥\nå››åå››é—œ window.location  é¡Œç›®é€£çµ\n 44. å•é¡Œ è«‹è§€çœ‹ä»¥ä¸‹æ–‡ä»¶ï¼Œäº†è§£ window.location é¡åˆ¥çš„åŠŸèƒ½ï¼Œä¾‹å¦‚è½‰å€ã€å–å¾—ç¶²å€åƒæ•¸ç­‰ç­‰\n Javascript é é¢è·³è½‰ã€åˆ·æ–°ã€é‡å®šå‘çš„å¹¾ç¨®æ–¹å¼ ç”¨ JavaScript å–å¾—ç›®å‰ç¶²å€èˆ‡å…¶å®ƒç¶²å€åƒæ•¸ç°¡å–®èªæ³• JavaScript location Object window ç‰©ä»¶çš„å±¬æ€§ location JavaScriptï¼šå›ä¸Šä¸€é ã€å„ç¨®è·³è½‰é é¢æ–¹æ³•èˆ‡ window.location ç‰©ä»¶ javascriptç­†è¨˜ - window.locationé¡åˆ¥ Javascript åˆ·æ–°é é¢çš„å¹¾ç¨®æ–¹æ³•  44. åƒè€ƒè§£ç­” ç«¹ç™½è¨˜äº‹æœ¬ - window.location\næ•™å­¸ã€å»¶ä¼¸çŸ¥è­˜é€£çµ  Location å°è±¡ï¼ŒURL å°è±¡ï¼ŒURLSearchParams å°è±¡  å››åäº”é—œã€å››åå…­é—œ window.location  é¡Œç›®é€£çµ\n 45. å•é¡Œ ä»¥ä¸‹æœ‰å…©é¡†æŒ‰éˆ•ï¼Œè«‹ä½¿ç”¨ JavaScript èªæ³•ï¼Œæ“æ§é»æ“Šå¾Œï¼Œèƒ½å¤ è½‰å€åˆ°å°æ‡‰ç¶²ç«™å»\n1 2  \u0026lt;button class=\u0026#34;google\u0026#34;\u0026gt;é€£åˆ° Google\u0026lt;/button\u0026gt; \u0026lt;button class=\u0026#34;yahoo\u0026#34;\u0026gt;é€£åˆ° Yahoo\u0026lt;/button\u0026gt;   45. åƒè€ƒè§£ç­” 1 2 3 4 5 6 7  document.querySelector(\u0026#39;.google\u0026#39;).addEventListener(\u0026#39;click\u0026#39;, function () { window.location.href = \u0026#39;https://www.google.com\u0026#39;; }); document.querySelector(\u0026#39;.yahoo\u0026#39;).addEventListener(\u0026#39;click\u0026#39;, function () { window.location.href = \u0026#39;https://tw.yahoo.com\u0026#39;; });   CodePen\n46. å•é¡Œ å•é¡Œä¸€ï¼š\nä»¥ä¸‹æœ‰å…©é¡†æŒ‰éˆ•ï¼Œæ˜¯éƒ¨è½æ ¼æ¨è–¦é€£çµï¼Œè«‹æŠ“å– data-id çš„å€¼å¾Œé€²è¡Œè½‰å€ï¼š\n é»æ“Š Tom æ™‚ï¼Œç¶²å€ç‚º https://www.hexschool.com/?recommend=tom é»æ“Š John æ™‚ï¼Œç¶²å€ç‚º https://www.hexschool.com/?recommend=John  1 2  \u0026lt;button class=\u0026#34;google\u0026#34; data-id=\u0026#34;tom\u0026#34;\u0026gt;Tom æ¨è–¦å…­è§’å­¸é™¢\u0026lt;/button\u0026gt; \u0026lt;button class=\u0026#34;yahoo\u0026#34; data-id=\u0026#34;John\u0026#34;\u0026gt;John æ¨è–¦å…­è§’å­¸é™¢\u0026lt;/button\u0026gt;   å•é¡ŒäºŒï¼š\nå¦‚æœç¶²å€è¦å‰‡æ˜¯https://www.hexschool.com/?recommend=\u0026quot;å€¼\u0026quot;ï¼Œè©²å¦‚ä½•å–å‡º recommend çš„å€¼ï¼Ÿ\nä¾‹å¦‚ https://www.hexschool.com/?recommend=tomï¼Œå¯ä»¥é€é JSï¼Œç²¾æº–å–å‡º tom çš„å€¼ï¼Ÿè«‹æä¾› JS å¯«æ³•ã€‚\nPSï¼šCodepen åšæ³•æ˜¯æŠ“ä¸åˆ°å€¼çš„ï¼Œéœ€è‡ªè¡Œé–‹ web serverï¼Œæˆ–åˆ°å…­è§’å®˜ç¶²é–‹å•Ÿ console é¢æ¿æ¸¬è©¦\n46. åƒè€ƒè§£ç­” å•é¡Œä¸€ï¼š\n1 2 3 4 5 6 7 8  document.querySelector(\u0026#39;.google\u0026#39;).addEventListener(\u0026#39;click\u0026#39;, buttonHandler); document.querySelector(\u0026#39;.yahoo\u0026#39;).addEventListener(\u0026#39;click\u0026#39;, buttonHandler); function buttonHandler() { const id = this.dataset.id; const url = \u0026#39;https://www.hexschool.com\u0026#39;; window.location.assign(`${url}/?recommend=${id}`); }   CodePen\nå•é¡ŒäºŒï¼š\n1  window.location.search.replace(\u0026#39;?recommend=\u0026#39;, \u0026#39;\u0026#39;);   ","description":"JS å‡½å¼ 41 ~ 46 é—œ","id":54,"section":"posts","tags":["JavaScript","JS å­¸å¾’ç‰¹è¨“ç­"],"title":"JS å­¸å¾’ç‰¹è¨“ç­ - Dateã€Location 41 ~ 46 é—œ","uri":"https://chupai.github.io/posts/2008/js60_5/"},{"content":" JavaScriptç­†è¨˜ ç›®éŒ„\n \rLocation ç‰©ä»¶ Location ç‰©ä»¶æ˜¯ç€è¦½å™¨æä¾›çš„åŸç”Ÿç‰©ä»¶ï¼Œæä¾› URL ç›¸é—œçš„è³‡è¨Šå’Œæ“ä½œæ–¹æ³•ã€‚\nå¯ä»¥é€é window.location æˆ– document.location å–å¾—ã€‚\n1. å±¬æ€§  Location.hrefï¼šç¶²å€ï¼ˆURLï¼‰ Location.protocolï¼šç¶²å€ä¸­çš„é€šè¨Šå”å®šï¼ŒåŒ…æ‹¬å†’è™Ÿ : Location.hostï¼šä¸»æ©Ÿåç¨± Location.hostnameï¼šç¶²åŸŸåç¨± Location.portï¼š\tç¶²å€ä¸­çš„åŸ è™Ÿ Location.pathnameï¼šç¶²å€è·¯å¾‘ï¼Œå¾æ ¹è·¯å¾‘ / é–‹å§‹ Location.searchï¼šç¶²å€åƒæ•¸ï¼Œå¾å•è™Ÿ ? é–‹å§‹ Location.hashï¼šç¶²å€ hash å€¼ï¼Œå¾ # é–‹å§‹ Location.usernameï¼šåŸŸåå‰é¢çš„ä½¿ç”¨è€…åç¨± Location.passwordï¼šåŸŸåå‰é¢çš„å¯†ç¢¼ Location.originï¼šURL çš„å”è­°  åªæœ‰ origin å±¬æ€§æ˜¯å”¯è®€ã€‚\n2. æ–¹æ³•  Location.assign()ï¼šæ¥å—ä¸€å€‹ URL å­—ä¸²ä½œç‚ºåƒæ•¸ï¼Œç€è¦½å™¨æœƒç«‹åˆ»è·³è½‰è‡³æ–°ç¶²å€ã€‚ Location.replace()ï¼šèˆ‡ assign() ç›¸åŒï¼Œå·®ç•°åœ¨æ–¼ replace() æœƒåˆªé™¤ç€è¦½å™¨æ­·å² History çš„ç•¶å‰ç¶²å€ï¼Œé€™è¡¨ç¤ºå›åˆ°ä¸Šä¸€é çš„æŒ‰éˆ•ç„¡æ³•å›åˆ°åŸå…ˆçš„ç¶²å€ã€‚  å¸¸æ‡‰ç”¨åœ¨è¡Œå‹•è£ç½®ç‰ˆçš„ç¶²é è·³è½‰   Location.reload()ï¼šé‡æ–°è¼‰å…¥ç•¶å‰ç¶²å€ï¼Œç­‰åŒæŒ‰ä¸‹ç€è¦½å™¨åˆ·æ–°æŒ‰éˆ•ã€‚ Location.toString()ï¼šå›å‚³ URL å­—ä¸²ï¼Œç­‰åŒè®€å– Location.href å±¬æ€§ã€‚  ç¶²é è·³è½‰ å¦‚æœå° Location.href å¯«å…¥å®Œæ•´çš„ URLï¼Œç€è¦½å™¨æœƒç«‹åˆ»è·³è½‰åˆ°æ–°ç¶²é ä¸Šï¼š\n1 2 3 4  window.location.href = \u0026#39;https://www.google.com\u0026#39;; // ç­‰åŒ window.location.assign(\u0026#39;https://www.google.com\u0026#39;);   ç›´æ¥æ”¹å¯« locationï¼Œä¹Ÿç›¸ç•¶æ–¼å¯«å…¥ href å±¬æ€§ï¼š\n1  window.location = \u0026#39;https://www.google.com\u0026#39;;   å¦‚æœä¸æ˜¯å®Œæ•´ç¶²å€ï¼Œå¯ç”¨æ–¼åˆ‡æ›è·¯å¾‘ã€æ»¾å‹•åˆ°æ–°çš„éŒ¨é»ç­‰ç­‰ï¼š\n1 2 3 4 5 6 7  window.location.href = \u0026#39;/posts\u0026#39;; // ç­‰åŒ window.location.pathname = \u0026#39;/post\u0026#39; window.location.href = \u0026#39;#top\u0026#39;; // ç­‰åŒ window.location.hash = \u0026#39;#top\u0026#39;;   ","description":"Location ç‰©ä»¶æ˜¯ç€è¦½å™¨æä¾›çš„åŸç”Ÿç‰©ä»¶ï¼Œæä¾› URL ç›¸é—œçš„è³‡è¨Šå’Œæ“ä½œæ–¹æ³•ã€‚","id":55,"section":"posts","tags":["JavaScript","window.location"],"title":"window.location","uri":"https://chupai.github.io/posts/2008/js_window_location/"},{"content":" JavaScriptç­†è¨˜ ç›®éŒ„\n ç”¢ç”Ÿ 0 ~ 99 çš„æ•¸å­—é™£åˆ—ã€‚\n\rè¿´åœˆ æœ€ç°¡å–®çš„æ–¹æ³•å°±æ˜¯ä½¿ç”¨è¿´åœˆã€‚\nfor è¿´åœˆï¼š\n1 2 3 4 5  const numbers = []; for (let i = 0; i \u0026lt; 100; i += 1) { numbers[i] = i; }   æˆ–è€…ä½¿ç”¨ push()ï¼š\n1 2 3 4 5  const numbers = []; for (let i = 0; i \u0026lt; 100; i += 1) { numbers.push(i); }   while è¿´åœˆï¼š\n1 2 3 4 5 6 7  const numbers = []; let i = 0; while (i \u0026lt; 100) { numbers.push(i); i += 1; }   ä¸€è¡Œç¨‹å¼ç¢¼ ä½¿ç”¨ Array.from å…§å»ºçš„ map() å‡½å¼ï¼š\n1 2 3 4  const numbers = Array.from({ length: 100 }, (v, k) =\u0026gt; k); // or const numbers = Array.from(Array(100), (v, k) =\u0026gt; k);   å…ˆä½¿ç”¨ Object.keys å–å¾—éµåï¼ˆé™£åˆ—éµåå°±æ˜¯ç´¢å¼•ï¼‰ï¼Œå†è½‰æˆé™£åˆ—ï¼š\n1 2 3 4  const numbers = Array.from(Array(100).keys()); // or const numbers = [...Array(100).keys()];   ","description":"ç”¢ç”Ÿ 0 ~ 99 çš„æ•¸å­—é™£åˆ—ã€‚","id":56,"section":"posts","tags":["JavaScript","ES6","é™£åˆ—"],"title":"é€£çºŒçš„æ•¸å­—é™£åˆ—","uri":"https://chupai.github.io/posts/2008/js_array_numbers/"},{"content":"é€™é€±æ˜¯å…­è§’é¼ å¹´éµäººè³½ç¬¬äºŒåä¹é€±ã€‚\n\rä»€éº¼æ˜¯æ´—ç‰Œ æ´—ç‰Œï¼ˆshuffleï¼‰ å…¶å¯¦å°±æ˜¯äº‚æ•¸æ’åºï¼Œå°‡ä¸€çµ„é™£åˆ—ä¸­çš„å…ƒç´ é †åºæ‰“äº‚ï¼Œæ˜¯ä¸€ç¨®å¾ˆå¸¸ç”¨åˆ°çš„æ¼”ç®—æ³•ï¼Œåœ¨ç”Ÿæ´»ä¸­æœ€å¸¸è¦‹çš„ä¾‹å­å°±æ˜¯æ´—æ’²å…‹ç‰Œã€‚\næ´—ç‰Œæ¼”ç®—æ³•çš„æ¢ä»¶ï¼š\n çµæœè¦èƒ½å¤ è¦†è“‹æ‰€æœ‰çš„æƒ…æ³ï¼› æ‰€æœ‰å‡ºç¾çš„çµæœæ©Ÿç‡ç›¸ç­‰ã€‚  å‡è¨­æœ‰ä¸€å€‹é•·åº¦ç‚º $n$ çš„é™£åˆ—ï¼Œæœƒæœ‰ $n!$ ç¨®ä¸åŒçš„çµ„åˆæƒ…æ³ã€‚\næ¼”ç®—æ³•å¿…é ˆå¯ä»¥ç”¢ç”Ÿå‡º $n!$ ä¸­çš„æ¯ä¸€ç¨®çµæœï¼Œä¸å¯ä»¥å¤šæˆ–å°‘ï¼Œå¦å‰‡æ¯ç¨®çµæœå‡ºç¾çš„æ©Ÿç‡ä¸ç›¸ç­‰ã€‚\nFisher-Yates shuffle Fisher-Yates shuffle æ˜¯æœ€æ¨™æº–çš„æ´—ç‰Œæ¼”ç®—æ³•ã€‚\nå…¶å¯¦å®ƒå°±æ˜¯éš¨æ©Ÿäº¤æ›ï¼š\n1 2 3 4 5 6 7  function shuffle(arr) { const n = arr.length; for (let i = n - 1; i \u0026gt; 0; i -= 1) { const rand = Math.floor(Math.random() * (i + 1)); [arr[i], arr[rand]] = [arr[rand], arr[i]]; } }   å¾å¾Œé¢è¿­ä»£é™£åˆ—ï¼Œç”¢ç”Ÿéš¨æ©Ÿç´¢å¼•èˆ‡æœªæ’åºçš„æœ€å¾Œä¸€å€‹å…ƒç´ äº¤æ›ä½ç½®ï¼ˆéš¨æ©Ÿç´¢å¼•åŒ…å«è‡ªå·±ï¼‰ã€‚\nè®“æˆ‘å€‘ä¾†åˆ†æä¸€ä¸‹ï¼Œå‡è¨­é™£åˆ—å…ƒç´ æœ‰ 5 å€‹ï¼š\n ç¬¬ 1 æ¬¡è¿­ä»£ï¼ši = 4ï¼Œrand çš„ç¯„åœæ˜¯ 0 ~ 4 ç¬¬ 2 æ¬¡è¿­ä»£ï¼ši = 3ï¼Œrand çš„ç¯„åœæ˜¯ 0 ~ 3 ç¬¬ 3 æ¬¡è¿­ä»£ï¼ši = 2ï¼Œrand çš„ç¯„åœæ˜¯ 0 ~ 2 ç¬¬ 4 æ¬¡è¿­ä»£ï¼ši = 1ï¼Œrand çš„ç¯„åœæ˜¯ 0 ~ 1 ç¬¬ 5 æ¬¡è¿­ä»£ï¼ši = 0ï¼Œrand çš„ç¯„åœæ˜¯ 0  æ•´å€‹éç¨‹ç”¢ç”Ÿçš„æ‰€æœ‰å¯èƒ½çµæœç‚ºï¼š\n $n! = 5! = 5 \\times 4 \\times 3 \\times 2 \\times 1$ æ™‚é–“è¤‡é›œåº¦ç‚º $O(n)$  i \u0026gt;= 0 é€™æ¨£å¯«ä¹Ÿå¯ä»¥ï¼Œå› ç‚ºæœ€å¾Œä¸€æ¬¡è¿­ä»£å¯æœ‰å¯ç„¡ï¼š\n1 2 3 4 5 6 7  function shuffle(arr) { const n = arr.length; for (let i = n - 1; i \u0026gt;= 0; i -= 1) { const rand = Math.floor(Math.random() * (i + 1)); [arr[i], arr[rand]] = [arr[rand], arr[i]]; } }   æˆ–è€…å°‡äº¤æ›ä½ç½®æ”¹æˆå‰é¢ï¼š\n1 2 3 4 5 6 7  function shuffle(arr) { const n = arr.length; for (let i = 0; i \u0026lt; n; i += 1) { const rand = Math.floor(Math.random() * (n - i)) + i; [arr[i], arr[rand]] = [arr[rand], arr[i]]; } }   å‡è¨­é™£åˆ—å…ƒç´ æœ‰ 5 å€‹ï¼š\n ç¬¬ 1 æ¬¡è¿­ä»£ï¼ši = 0ï¼Œrand çš„ç¯„åœæ˜¯ 0 ~ 4 ç¬¬ 2 æ¬¡è¿­ä»£ï¼ši = 1ï¼Œrand çš„ç¯„åœæ˜¯ 1 ~ 4 ç¬¬ 3 æ¬¡è¿­ä»£ï¼ši = 3ï¼Œrand çš„ç¯„åœæ˜¯ 2 ~ 4 ç¬¬ 4 æ¬¡è¿­ä»£ï¼ši = 4ï¼Œrand çš„ç¯„åœæ˜¯ 3 ~ 4 ç¬¬ 5 æ¬¡è¿­ä»£ï¼ši = 5ï¼Œrand çš„ç¯„åœæ˜¯ 4  æœ€çµ‚çµæœç‚º $5! = n!$ï¼Œä¸€æ¨£ç¬¦åˆæ´—ç‰Œæ¼”ç®—æ³•æ¢ä»¶ã€‚\néŒ¯èª¤çš„æ¼”ç®—æ³• ç¶²è·¯ä¸Šæœ‰å¾ˆå¤šæ´—ç‰Œæ¼”ç®—æ³•å¯¦ä½œå…¶å¯¦æ˜¯éŒ¯èª¤çš„ï¼Œå› ç‚ºå®ƒçœ‹ä¼¼éš¨æ©Ÿæ‰“äº‚é †åºï¼Œä½†åˆ†å¸ƒç‡ä¸¦ä¸å‡å‹»ï¼Œä»¥ä¸‹èˆ‰å¹¾å€‹å¸¸è¦‹çš„éŒ¯èª¤ã€‚\nç¬¬ä¸€ç¨®å¸¸è¦‹çš„éŒ¯èª¤ï¼Œé †åºéš¨æ©Ÿæ´—ç‰Œï¼š\n1 2 3 4 5 6 7  function shuffle(arr) { const n = arr.length; for (let i = 0; i \u0026lt; n; i += 1) { const rand = Math.floor(Math.random() * n); [arr[i], arr[rand]] = [arr[rand], arr[i]]; } }   éš¨æ©Ÿç¯„åœä¸è®Šï¼Œå› æ­¤æ¯æ¬¡è¿­ä»£éƒ½æœƒæœ‰ $n$ ç¨®çµæœï¼Œæœ€çµ‚çµæœç‚º $n^n$ã€‚\nå‡è¨­é™£åˆ—å…ƒç´ æœ‰ 5 å€‹ï¼Œæœ€çµ‚ç”¢ç”Ÿçš„çµæœå¯èƒ½æœ‰ $5^5 = 3125$ ç¨®ï¼Œä½†æœ€å¤§çš„çµ„åˆçµæœåªæœ‰ $5! = 120$ï¼Œé€™è¡¨ç¤ºæŸäº›çµ„åˆå‡ºç¾çš„æ©Ÿç‡æœƒæ¯”è¼ƒå¤§ï¼Œå› æ­¤ä¸ç¬¦åˆæ¢ä»¶ã€‚\nå¦ä¸€ç¨®å¸¸è¦‹çš„éŒ¯èª¤ï¼Œä½¿ç”¨ sort()ï¼š\n1  array.sort(() =\u0026gt; Math.random() - 0.5);   åˆ©ç”¨ -0.5 ~ 0.5 çš„æ•¸å­—ï¼Œè®“ sort() çš„æ¯”è¼ƒå™¨å‡½å¼ a å’Œ b ä¹‹é–“çš„å¤§å°é—œä¿‚æ˜¯éš¨æ©Ÿçš„ï¼Œæ‰€ä»¥æ’åºçµæœä¹Ÿæ˜¯éš¨æ©Ÿçš„ã€‚\né€™ç¨®ä½œæ³•é›–ç„¶ç°¡æ½”å„ªé›…ï¼Œä½†æ˜¯å®ƒæœ‰å¾ˆå¤§çš„å•é¡Œï¼š\n é›–ç„¶æ¯æ¬¡æ¯”è¼ƒçš„çµæœæ˜¯éš¨æ©Ÿä¸”å‡å‹»çš„ï¼Œä½†å„å®¶ç€è¦½å™¨å¯¦ä½œ sort() çš„æ–¹å¼ä¸åŒï¼Œå› æ­¤ç„¡æ³•ä¿è­‰æ¯”è¼ƒçš„æ¬¡æ•¸ã€‚ å‡è¨­æ¯”è¼ƒæ¬¡æ•¸ç‚º $m$ï¼Œæ¯æ¬¡æ¯æ¬¡æ¯”è¼ƒçš„ç™¼ç”Ÿæ©Ÿç‡ç‚º $1 / 2$ï¼Œå› æ­¤æœ€çµ‚ç”¢ç”Ÿçš„çµæœç‚º $2^m$ã€‚ ","description":"æ´—ç‰Œï¼ˆshuffleï¼‰ å…¶å¯¦å°±æ˜¯äº‚æ•¸æ’åºã€‚","id":57,"section":"posts","tags":["æ´—ç‰Œæ¼”ç®—æ³•","w3HexSchool"],"title":"JavaScript å­¸æ¼”ç®—æ³•ï¼ˆäºŒåä¸€ï¼‰- æ´—ç‰Œæ¼”ç®—æ³•","uri":"https://chupai.github.io/posts/2008/shuffle_algorithm/"},{"content":"é€™é€±æ˜¯å…­è§’é¼ å¹´éµäººè³½ç¬¬äºŒåå…«é€±ã€‚\næœå°‹çš„æ“ä½œæ˜¯éå¸¸ç¶“å…¸çš„æ¼”ç®—æ³•ï¼Œèº«ç‚ºè³‡è¨Šå·¥ç¨‹å¸«ï¼Œèƒ½å¦åœ¨æœ€çŸ­æ™‚é–“å…§æœå°‹åˆ°æ‰€éœ€è¦çš„è³‡æ–™ï¼Œä¸€ç›´ä»¥ä¾†éƒ½æ˜¯æœ€é—œå¿ƒçš„è­°é¡Œã€‚\n\rä»€éº¼æ˜¯æœå°‹ï¼ˆSearchï¼‰ æœå°‹ï¼ˆSearchï¼‰ï¼Œç°¡å–®ä¾†èªªå°±æ˜¯åœ¨ä¸€å †è³‡æ–™ä¸­æ‰¾å‡ºç‰¹å®šçš„è³‡æ–™è¼¸å‡ºï¼Œæ ¸å¿ƒçš„æ“ä½œç‚ºã€Œæ¯”è¼ƒã€ï¼Œåªæœ‰é€éæ¯”è¼ƒæ‰èƒ½åˆ¤æ–·æ˜¯å¦ç¬¦åˆè¼¸å‡ºæ¢ä»¶ã€‚\næ ¹æ“šè³‡æ–™é‡çš„å¤§å°ï¼Œæœå°‹å¯åˆ†ç‚ºï¼š\n å…§éƒ¨æœå°‹ï¼šè³‡æ–™é‡å°ï¼Œå¯å¾ä¸»è¨˜æ†¶å„²å­˜è³‡æ–™æª”ä¸­é€²è¡Œå°‹æ‰¾æ‰€è¦çš„è³‡æ–™ä¹‹æ“ä½œï¼› å¤–éƒ¨æœå°‹ï¼šè³‡æ–™é‡éå¸¸å¤§ï¼Œå¿…é ˆå¾å¤–éƒ¨è¨˜æ†¶ä¸­å°‹æ‰¾æƒ³è¦çš„è³‡è¨Šã€‚å› å¤–éƒ¨è¨˜æ†¶é«”çš„æ“ä½œè¼ƒè²»æ™‚é–“ï¼Œæ•…éœ€è€ƒæ…®å¦‚ä½•æ¸›å°‘å­˜å–æ™‚é–“èˆ‡æ¬¡æ•¸ã€‚  æ ¹æ“šä¸åŒçš„è³‡æ–™çµæ§‹ï¼Œæœƒæœ‰ä¸åŒåˆé©çš„æœå°‹æ¼”ç®—æ³•ã€‚æœå°‹æ¼”ç®—æ³•ä¹Ÿéå¸¸çš„å¤šï¼Œå› ç‚ºæœƒæ ¹æ“šéœ€æ±‚çš„ä¸åŒï¼Œè€Œæœ‰å¾ˆå¤šä¸åŒçš„è®ŠåŒ–ã€‚\nä»¥ä¸‹æœƒèªªæ˜å¹¾å€‹åŸºç¤çš„æœå°‹æ¼”ç®—æ³•ï¼š\n ç·šæ€§æœå°‹ï¼ˆLinear Searchï¼‰ äºŒåˆ†æœå°‹ï¼ˆBinary Searchï¼‰ æŒ‡æ•¸æœå°‹ï¼ˆExponential Searchï¼‰ å…§æ’æœå°‹ï¼ˆInterpolation Searchï¼‰  ç·šæ€§æœå°‹ï¼ˆLinear Searchï¼‰ ç·šæ€§æœå°‹ï¼ˆLinear Searchï¼‰ æˆ–ç¨± å¾ªåºæœå°‹æ³•ï¼ˆSequential Searchï¼‰ï¼Œæ˜¯ä¸€ç¨®æœ€åŸºæœ¬ã€æœ€ç°¡å–®ã€æœ€ä½æ•ˆçš„æœå°‹æ¼”ç®—æ³•ã€‚\nç·šæ€§æœå°‹ æ˜¯é€éè¿­ä»£é›†åˆä¸­çš„æ¯å€‹å…ƒç´ ï¼Œä¸€ç­†ä¸€ç­†è³‡æ–™æ¯”è¼ƒï¼Œç›´åˆ°æ‰¾åˆ°æ‰€è¦å°‹æ‰¾çš„ç‰¹å®šå€¼ç‚ºæ­¢æˆ–æœå°‹å®Œæ•´å€‹ç¯„åœä»æ‰¾ä¸åˆ°ç‚ºæ­¢ã€‚ç°¡å–®ä¾†èªªå°±æ˜¯å¾é ­åˆ°å°¾æ‰¾ä¸€éï¼Œæœ€å¤§çš„ç‰¹æ€§ç‚ºä¸éœ€è¦äº‹å…ˆæ’åºé›†åˆã€‚\nèˆ‰ä¾‹ä¾†èªªï¼Œè¿­ä»£é™£åˆ—å°‹æ‰¾ç‰¹å®šå€¼ï¼š\n1 2 3 4 5 6 7 8 9  function linearSearch(arr, target) { const n = arr.length; for (let index = 0; index \u0026lt; n; index++) { if (target === arr[index]) { return index; } } return -1; }   å›å‚³ç¬¬ä¸€å€‹ç¬¦åˆæ¢ä»¶çš„å…ƒç´ ç´¢å¼•ä½ç½®ï¼Œè‹¥æ²’æœ‰å›å‚³ -1ã€‚\nåœ¨ JavaScript è¦åœ¨é™£åˆ—ä¸­å°‹æ‰¾ç‰¹å®šå…ƒç´ ï¼Œæœ‰ä»¥ä¸‹æ–¹æ³•ä½¿ç”¨ï¼š\n indexof() é¡ä¼¼ä¸Šé¢çš„å‡½å¼ï¼Œä½†åŸ·è¡Œé€Ÿåº¦æ¯”è‡ªå·±å¯«çš„å¿«ã€‚ findIndex() è¿­ä»£é™£åˆ—ï¼Œå›å‚³ç¬¬ä¸€å€‹æ»¿è¶³æŒ‡å®šæ¢ä»¶çš„å…ƒç´ ç´¢å¼•ï¼Œèˆ‡ indexof() çš„å·®ç•°åœ¨æ–¼ï¼Œindexof() ä½¿ç”¨ === æ¯”è¼ƒï¼ŒfindIndex() èƒ½ä½¿ç”¨ callback å‡½å¼å®šç¾©æ¢ä»¶ï¼Œé©ç”¨æ–¼è¤‡é›œçš„å…ƒç´ ï¼ˆä¾‹ï¼Œç‰©ä»¶ï¼‰ï¼Œè€Œä¸”å°±ç®—æ‰¾åˆ°ç¬¦åˆçš„æ¢ä»¶å…ƒç´ ï¼Œä¹Ÿæœƒè¿­ä»£å®Œæ•´å€‹é™£åˆ—ã€‚ å…¶ä»–é™£åˆ—æœå°‹çš„æ–¹æ³•é‚„æœ‰ some() ã€every()ã€find() ç­‰ç­‰ã€‚  1. åˆ†æ ç·šæ€§æœå°‹å› ç‚ºæ˜¯å¾é ­é–‹å§‹è¿­ä»£è‡³çµå°¾ï¼Œå› æ­¤å¦‚æœè¦æ‰¾çš„è³‡æ–™åœ¨æœ€å¾Œé¢æˆ–ç›®æ¨™ä¸å­˜åœ¨ï¼Œæ¯”è¼ƒæ¬¡æ•¸å°±æœƒæ ¹æ“šè³‡æ–™å¤§å°æ‹‰é•·ã€‚\n ç‰¹æ€§ï¼šä¸éœ€è¦äº‹å…ˆæ’åº æ™‚é–“è¤‡é›œåº¦  æœ€ä½³ï¼š$O(1)$ æœ€å·®ï¼š$O(n)$ å¹³å‡ï¼š$O(n)$   ç©ºé–“è¤‡é›œåº¦ç‚ºï¼š $O(1)$  äºŒåˆ†æœå°‹ï¼ˆBinary Searchï¼‰ äºŒåˆ†æœå°‹ï¼ˆLinear Searchï¼‰ æˆ–ç¨± æŠ˜åŠæœå°‹æ¼”ï¼ˆHalf-Interval Searchï¼‰ã€å°æ•¸æœå°‹ï¼ˆLogarithmic Searchï¼‰ï¼Œæ˜¯ä¸€ç¨®åœ¨ ã€Œå·²æ’åºé™£åˆ—ã€ ä¸­æœå°‹æŸä¸€ç‰¹å®šå…ƒç´ çš„æœå°‹æ¼”ç®—æ³•ã€‚\näºŒåˆ†æœå°‹æœƒå°‡é™£åˆ—ä¸­é–“ä½ç½®çš„å€¼èˆ‡ç›®æ¨™é€²è¡Œæ¯”è¼ƒï¼Œå†åˆ¤æ–·ç›®æ¨™åœ¨å·¦é‚„æ˜¯å³ã€‚æ¯æ¬¡åˆ¤æ–·éƒ½æœƒç¸®å°ä¸€åŠçš„æœå°‹ç¯„åœï¼Œç›´åˆ°æ‰¾åˆ°ç›®æ¨™æˆ–ç›®æ¨™ä¸å­˜åœ¨ã€‚\nç°¡å–®ä¾†å°±èªªï¼Œå°±é¡ä¼¼ã€Œçµ‚æ¥µå¯†ç¢¼éŠæˆ²ã€ï¼ŒçŒœä¸€å€‹æ•¸å­—ï¼Œæœƒæœ‰ä¸‰ç¨®å›æ‡‰ï¼š\n æ¯”ç›®æ¨™å° æ¯”ç›®æ¨™å¤§ çŒœä¸­äº†  1. æ¼”ç®—æ³•å¯¦ä½œ äºŒåˆ†æœå°‹è¼¸å…¥çš„é™£åˆ—å¿…é ˆæ˜¯å·²æ’åºç‹€æ…‹ã€‚\n1 2 3 4 5 6 7 8 9 10 11 12 13  function binarySearch(sortedArray, target) { let [start, end] = [0, sortedArray.length - 1]; while (start \u0026lt;= end) { const mid = Math.floor((start + end) / 2); if (target === sortedArray[mid]) { return mid; } if (target \u0026lt; sortedArray[mid]) { end = mid - 1; } else { start = mid + 1; } } return -1; }   é›–ç„¶ä¸å»ºè­°ï¼Œä½†å¯ä»¥ä½¿ç”¨éè¿´çµæ§‹ä¾†æ”¹å¯«ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14  function binarySearch10(sortedArray, target) { return _binarySearch(0, sortedArray.length - 1); function _binarySearch(start, end) { if (start \u0026gt; end) { return -1; } const mid = Math.floor((start + end) / 2); if (target === sortedArray[mid]) { return mid; } if (target \u0026lt; sortedArray[mid]) { return _binarySearch(start, mid - 1); } else { return _binarySearch(mid + 1, end); } } }   ä¸éç©ºé–“è¤‡é›œåº¦æœƒå¾ $O(1)$ è®Šæˆ $O(\\log n)$ã€‚\n2. åˆ†æ æ¯æ¬¡åˆ¤æ–·éƒ½æœƒç¸®å°ä¸€åŠçš„æœå°‹ç¯„åœï¼Œå› æ­¤æ•´é«”åŸ·è¡Œæ™‚é–“ç´„ç‚º $\\log_2$ã€‚\n ç‰¹æ€§ï¼šéœ€è¦äº‹å…ˆæ’åºé™£åˆ— æ™‚é–“è¤‡é›œåº¦  æœ€ä½³ï¼š$O(1)$ æœ€å·®ï¼š$O(\\log n)$ å¹³å‡ï¼š$O(\\log n)$   ç©ºé–“è¤‡é›œåº¦ç‚ºï¼š $O(1)$  äºŒåˆ†æœå°‹èˆ‡ç·šæ€§æœå°‹ç›¸æ¯”ï¼Œé€Ÿåº¦æ˜¯ç·šæ€§æœå°‹çš„æŒ‡æ•¸å€ï¼Œä½†ä½¿ç”¨äºŒåˆ†æœå°‹çš„å‰æä¸‹ï¼Œé™£åˆ—å¿…é ˆå…ˆæ’åºéã€‚\næŒ‡æ•¸æœå°‹ï¼ˆExponential Searchï¼‰ æŒ‡æ•¸æœå°‹ï¼ˆExponential Searchï¼‰ æˆ–ç¨± Galloping Searchï¼Œæ˜¯ä¸€ç¨®ç‰¹æ®Šçš„äºŒå…ƒæœå°‹ï¼Œä¸»è¦ç”¨åœ¨æœå°‹ç„¡é™ã€ç„¡é‚Šç•Œçš„å·²æ’åºåºåˆ—ã€‚\næŒ‡æ•¸æœå°‹ä¸æ˜¯å¾ä¸­é–“ä½ç½®ä¾†åˆ¤æ–·ï¼Œè€Œæœƒå¾ç´¢å¼•ä½ç½® $2^{0}$ é–‹å§‹ï¼Œä¸æ–·éå¢ $2^{1}$ã€$2^{2}$ ç›´åˆ° $2^{i}$ ä½ç½®ï¼Œè‹¥æ¯”ç›®æ¨™å¤§ï¼Œæœƒåœæ­¢æŒ‡æ•¸æˆé•·ï¼Œæ”¹ç”¨äºŒç”¨æœå°‹ï¼Œä¹Ÿå°±æ˜¯å–ä¸­ä½ç½®ä¾†å›é ­å°‹æ‰¾ç›®æ¨™ã€‚\n1. æ¼”ç®—æ³•å¯¦ä½œ é¦–å…ˆï¼Œæˆ‘å€‘å…ˆæ”¹å¯«äºŒå…ƒæœå°‹ï¼Œå¤šå‚³å…¥èµ·å§‹å’Œçµ‚é»çš„åƒæ•¸ï¼Œä¹Ÿå°±æ˜¯æœå°‹ç¯„åœï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13  function binarySearch10(sortedArray, target, _start = 0, _end = sortedArray.length - 1) { let [start, end] = [_start, _end]; while (start \u0026lt;= end) { const mid = Math.floor((start + end) / 2); if (target === sortedArray[mid]) { return mid; } if (target \u0026lt; sortedArray[mid]) { end = mid - 1; } else { start = mid + 1; } } return -1; }   æ¥ä¸‹ä¾†æ˜¯æŒ‡æ•¸æœå°‹æœ¬é«”ï¼š\n1 2 3 4 5 6 7 8 9 10  function exponentialSearch(sortedArray, target) { const n = sortedArray.length; if (target === sortedArray[0]) { return 0; } let i = 1; while (i \u0026lt; n \u0026amp;\u0026amp; sortedArray[i] \u0026lt; target) { i = i * 2; } if(sortedArray[i] === target) { return i; } return binarySearch(sortedArray, target, i / 2, Math.min(i, n - 1)); }   2. åˆ†æ ä½¿ç”¨æŒ‡æ•¸æœå°‹ï¼Œè‹¥ç›®æ¨™å¾ˆé è¿‘åºåˆ—å‰ç«¯ï¼Œé‚£éº¼æœƒæå‡åŸ·è¡Œæ•ˆç‡ã€‚å› ç‚ºç¸®å°æœå°‹ç¯„åœï¼Œæ•ˆç‡æœƒæ¯”äºŒåˆ†æœå°‹é«˜ã€‚\n ç‰¹æ€§ï¼šéœ€è¦äº‹å…ˆæ’åºé™£åˆ— æ™‚é–“è¤‡é›œåº¦  æœ€ä½³ï¼š$O(1)$ æœ€å·®ï¼š$O(\\log n)$ å¹³å‡ï¼š$O(\\log n)$   ç©ºé–“è¤‡é›œåº¦ç‚ºï¼š $O(1)$  å…§æ’æœå°‹ï¼ˆInterpolation Searchï¼‰ å…§æ’æœå°‹ï¼ˆInterpolation Searchï¼‰ åˆç¨± æ’è£œæœå°‹ã€æ’å€¼æœå°‹ï¼Œä¹Ÿæ˜¯ä¸€ç¨®ç‰¹æ®Šçš„äºŒå…ƒæœå°‹ï¼Œå®ƒæ˜¯ä¾ç…§è³‡æ–™ä½ç½®çš„åˆ†ä½ˆï¼Œåˆ©ç”¨å…§æ’å…¬å¼é æ¸¬ç›®æ¨™çš„æ‰€åœ¨ä½ç½®ï¼Œæœå°‹æ–¹å¼èˆ‡äºŒåˆ†æœå°‹ç›¸åŒã€‚\näºŒåˆ†æœå°‹æ˜¯é æ¸¬ä¸­é–“ä½ç½®ï¼Œè€Œå…§æ’æœå°‹å‰‡æ˜¯ç”¨ç›´ç·šæ–œç‡é æ¸¬ç›®æ¨™ä½ç½®ï¼Œä¸€èˆ¬è€Œè¨€ï¼Œè³‡æ–™é‡æ„ˆå¤§ï¼Œæ•¸å€¼åˆ†ä½ˆæœƒæ„ˆå¹³å‡ï¼Œå…§æ’æœå°‹çš„æ•ˆç‡æœƒæ¯”äºŒåˆ†æœå°‹æ³•å¥½ã€‚\n1. å…§æ’å…¬å¼ è³‡æ–™çš„å€¼ç‚º $y$ã€ç´¢å¼•å€¼ç‚º $x$ï¼š\n æ–œç‡ = $\\dfrac{y_2 - y_1}{x_2 - x_1}$  ç›®æ¨™å€¼ç‚º $k$ã€é æ¸¬ç›®æ¨™ç´¢å¼•ä½ç½®ç‚º $m$ï¼š\n $\\dfrac{y_2 - y_1}{x_2 - x_1}$ = $\\dfrac{k - y_1}{m - x_1}$ $m$ = $\\dfrac{(k - y_1)(x_2 - x_1)}{y_2 - y_1} + x_1$  2. æ¼”ç®—æ³•å¯¦ä½œ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15  function interpolationSearch(sortedArray, target) { let [start, end] = [0, sortedArray.length - 1]; while (start \u0026lt;= end) { const [x1, x2, y1, y2, k] = [start, end, sortedArray[start], sortedArray[end], target]; const m = Math.floor(((k - y1) * (x2 - x1)) / (y2 - y1) + x1); if (m \u0026gt; end || m \u0026lt; start) { break; } if (target === sortedArray[m]) { return m; } if (target \u0026gt; sortedArray[m]) { start = m + 1; } else { end = m - 1; } } return -1; }   3. åˆ†æ å¦‚æœè³‡æ–™åˆ†ä½ˆä¸å‡ï¼Œè¿‘ä¼¼ç·šå·®ç•°å¤ªå¤§ï¼Œæœ€å·®æ™‚é–“è¤‡é›œåº¦é«˜é” $O(n)$ï¼Œå¦‚æœè³‡æ–™åˆ†ä½ˆå¹³å‡ï¼ŒåŸ·è¡Œæ•ˆç‡æœƒå„ªæ–¼äºŒå…ƒæœå°‹ã€‚\n ç‰¹æ€§ï¼šéœ€è¦äº‹å…ˆæ’åºé™£åˆ— æ™‚é–“è¤‡é›œåº¦  æœ€ä½³ï¼š$O(1)$ æœ€å·®ï¼š$O(n)$ å¹³å‡ï¼š$O(\\log(\\log n))$   ç©ºé–“è¤‡é›œåº¦ç‚ºï¼š $O(1)$ ","description":"æœå°‹çš„æ“ä½œæ˜¯éå¸¸ç¶“å…¸çš„æ¼”ç®—æ³•ï¼Œèº«ç‚ºè³‡è¨Šå·¥ç¨‹å¸«ï¼Œèƒ½å¦åœ¨æœ€çŸ­æ™‚é–“å…§æœå°‹åˆ°æ‰€éœ€è¦çš„è³‡æ–™ï¼Œä¸€ç›´ä»¥ä¾†éƒ½æ˜¯æœ€é—œå¿ƒçš„è­°é¡Œã€‚","id":58,"section":"posts","tags":["æœå°‹æ¼”ç®—æ³•","w3HexSchool"],"title":"JavaScript å­¸æ¼”ç®—æ³•ï¼ˆäºŒåï¼‰- æœå°‹æ¼”ç®—æ³•","uri":"https://chupai.github.io/posts/2008/search_algorithm/"},{"content":" ç«¹ç™½çš„ JS å­¸å¾’ç‰¹è¨“ç­ç­†è¨˜ - ç›®éŒ„\n è¨˜éŒ„å…­è§’å­¸é™¢æ‰€é–‹çš„ JS å­¸å¾’ç‰¹è¨“ç­ï¼Œç‚ºæœŸ 60å¤©çš„ç‰¹è¨“ã€‚\n\rç¬¬ä¸‰åå…­é—œï¼šES6 èµ·æ­¥èµ° - Template String æ¨£æ¿å­—ä¸²  é¡Œç›®é€£çµ\n 36. å•é¡Œ ç¬¬ 20 é—œ ç”¨ Template String æ¨£æ¿å­—ä¸²ä¾†æ”¹å¯«ã€‚\nå¦‚æœä½ å·²ç¶“æ—©å°±æœƒ ES6 å­—ä¸²è™•ç†ï¼Œè«‹è§€çœ‹ä»¥ä¸‹æ–‡ç« ï¼ŒæŒ‘é¸ä¸€å€‹ä½ ä¸æœƒçš„æŠ€è¡“è§€å¿µï¼Œä¸¦åˆ†äº«ä½ å­¸åˆ°äº†ä»€éº¼\n é‚å‘ JavaScript å‹‡è€…ä¹‹è·¯ [é‡æ–°èªè­˜ JavaScript ES6 å…¥é–€æ‰‹å†Š  36. åƒè€ƒè§£ç­” ç•¥ã€‚\nç¬¬ä¸‰åä¸ƒé—œï¼šletã€const  é¡Œç›®é€£çµ\n 37. å•é¡Œ é‚„è«‹æŒ‘æˆ°è€…å€‘åˆ†äº«ä½ æ‰¾åˆ°çš„ JS ES6 let èˆ‡ const æ–‡ç« ï¼Œè£œå……åœ¨ä¸‹æ–¹åˆ—è¡¨ï¼Œä¸¦å˜—è©¦è‡ªå·±å¯«ä¸€äº›ç¯„ä¾‹ï¼Œä¸¦å›å ±æ–¼ Slack ä¸Š\n37. åƒè€ƒè§£ç­” è®Šæ•¸\nç¬¬ä¸‰åå…«é—œï¼šlet èˆ‡ const è§€å¿µè¤‡ç¿’  é¡Œç›®é€£çµ\n 38. å•é¡Œ è«‹åœ¨ Slack å›è¦†ä»¥ä¸‹çš„è§£ç­”ï¼Œä»¥åŠè§£é‡‹ç‚ºä»€éº¼ï¼Ÿ\nåŒæ™‚é™„ä¸Šä½ æ‰¾åˆ°çš„æ–‡ç« ï¼Œæ¢åˆ—åœ¨æœ€ä¸‹æ–¹\nå•é¡Œä¸€ï¼š\nè«‹å•ä¸‹é¢æœƒå‡ºç¾çš„ console æ˜¯ï¼Ÿ\n1 2  console.log(a); //ReferenceError let a = 10;   å•é¡ŒäºŒï¼š\nä»¥ä¸‹æ˜¯å¦æœƒæ­£å¸¸åŸ·è¡Œï¼Ÿè‹¥ä¸æœƒï¼Œæœƒé¡¯ç¤ºä»€éº¼ç´…å­—éŒ¯èª¤ï¼Ÿ\n1 2  let a = 1; a = 3;   1 2  let b = 1; let b = 2;   1 2  const c = 3; c = 4   å•é¡Œä¸‰ï¼šæ­¤ç‚ºç†±é–€é¢è©¦é¡Œç›®ï¼ˆé¸ç­”ï¼‰\nè«‹å• varã€letã€const çš„å€åˆ¥æ˜¯ï¼Ÿ\n38. åƒè€ƒç­”æ¡ˆ å•é¡Œä¸€ï¼š\n1 2 3  console.log(a); // Uncaught ReferenceError: Cannot access \u0026#39;a\u0026#39; before initialization let a = 10;   let åœ¨æ­£å¼å€¼è¡Œå‰ï¼Œè®Šæ•¸ä¸æœƒè³¦å€¼ï¼Œå› åœ¨æ²’å€¼çš„ç‹€æ³ä¸‹è¢«å­˜å–å°±æœƒæ‹‹å‡ºéŒ¯èª¤ã€‚\nå•é¡ŒäºŒï¼š\nç¬¬ä¸€å€‹æ­£å¸¸åŸ·è¡Œã€‚\né‡è¤‡å®£å‘Šï¼š\n1 2 3 4  let b = 1; let b = 2; // Uncaught SyntaxError: Identifier \u0026#39;b\u0026#39; has already been declared   const é‡æ–°è³¦å€¼ï¼š\n1 2 3 4  const c = 3; c = 4 // Uncaught TypeError: Assignment to constant variable.   å•é¡Œä¸‰ï¼š\n varï¼šå‡½å¼ä½œç”¨åŸŸã€å¯é‡è¤‡å®£å‘Šã€æœƒæ±™æŸ“å…¨åŸŸç‰©ä»¶ã€‚ varã€letï¼šå€å¡Šä½œç”¨åŸŸã€ç„¡æ³•é‡è¤‡å®£å‘Šã€ä¸æœƒæ±™æŸ“å…¨åŸŸç‰©ä»¶ã€‚  constï¼šç„¡æ³•å†æ¬¡è³¦å€¼    ç¬¬ä¸‰åä¹é—œï¼šç®­é ­å‡½å¼(arrow function)  é¡Œç›®é€£çµ\n 39. å•é¡Œ  å¦‚æœä½ æ˜¯åˆå­¸è€…ï¼Œè«‹å›å‚³ç¬¬ 18 é—œçš„ forEach ï¼Œæ”¹ç”¨ç®­é ­å‡½å¼çš„å¯«æ³•ä¾†æ’°å¯« å‡ä½¿ä½ å·²ç¶“æœƒç®­é ­å‡½å¼ï¼Œè«‹åˆ†äº« arrow function æœƒå¦‚ä½•å½±éŸ¿åˆ° this  39. åƒè€ƒç­”æ¡ˆ ç•¥ã€‚\nç¬¬å››åé—œï¼šES6 åœ˜æˆ°é—œå¡  é¡Œç›®é€£çµ\n 40. å•é¡Œ  è«‹æŒ‘é¸ 20ã€35 é—œçš„å…¶ä¸­ä¸€é—œï¼Œæ”¹ç‚º ES6 å¯«æ³• ç¨‹å¼ç¢¼å¿…é ˆä½¿ç”¨åˆ° ES6 çš„ 36~39 é—œçš„æŠ€è¡“ï¼Œä¾‹å¦‚å­—ä¸²ç¬¦ã€letã€constã€ç®­é ­å‡½å¼ å¦‚æœä½ çš„ Code æ—©å°±å·²ç¶“æ”¹å¯«ç‚º ES6 å¯«æ³•ï¼Œä»¥ä¸‹é¢è©¦é¡Œç›®è«‹æŒ‘é¸ä¸€é¡Œä¾†è§£é‡‹ï¼Œä¸¦ä¸‹æ–¹é™„ä¸Šä½ çš„ HackMD æ–‡ç«   è«‹è§£é‡‹ä»€éº¼æ˜¯ thisï¼Ÿè«‹å¯«ç¯„ä¾‹è§£é‡‹ï¼Ÿ ä½ å° promiseã€promise all æœ‰å¤šç†Ÿæ‚‰ï¼Ÿè«‹å¯«ç¯„ä¾‹è§£é‡‹ï¼Ÿ ä»€éº¼æ˜¯åŸå‹ç¹¼æ‰¿ï¼ˆprototypeï¼‰ï¼Ÿ Fetch èˆ‡ XMLHttpRequest    40. åƒè€ƒç­”æ¡ˆ  ç«¹ç™½è¨˜äº‹æœ¬ - å‡½å¼å‘¼å«èˆ‡ this ç«¹ç™½è¨˜äº‹æœ¬ - Promise ","description":"JS å‡½å¼ 36 ~ 40 é—œ","id":59,"section":"posts","tags":["JavaScript","JS å­¸å¾’ç‰¹è¨“ç­"],"title":"JS å­¸å¾’ç‰¹è¨“ç­ - JS å‡½å¼ 36 ~ 40 é—œ","uri":"https://chupai.github.io/posts/2008/js60_4/"},{"content":" JavaScriptç­†è¨˜ ç›®éŒ„\n ä¸€ç›´æ²’æ™‚é–“å°‡ä¹‹å‰çš„ç­†è¨˜ä¸Ÿåˆ°é€™ä¾†ï¼Œå‰›å¥½æœ€è¿‘åƒåŠ  JS å­¸å¾’è¨“ç·´ç­ï¼Œå°±è¶é€™æ¬¡æ©Ÿæœƒé‡æ–°æ•´ç†ç­†è¨˜ã€‚\n\rç¸½çµ ç›´æ¥ä¾†çœ‹ç¸½çµã€‚\nå‘¼å«å‡½å¼çš„æ–¹å¼æœƒå½±éŸ¿ this çš„å€¼ï¼š\n ç›´æ¥ä½œç‚ºå‡½å¼ä¾†å‘¼å«ï¼Œé€šå¸¸ this çš„å€¼ç‚ºå…¨åŸŸç‰©ä»¶ï¼Œåš´æ ¼æ¨¡å¼ä¸‹ç‚º undefinedï¼› å‡½å¼ä½œç‚ºæ–¹æ³•ä¾†å‘¼å«ï¼Œthis çš„å€¼ç‚ºè¢«å‘¼å«å‡½å¼çš„æ‰€å±¬ç‰©ä»¶ï¼› å‡½å¼ä½œç‚ºå»ºæ§‹å¼ä¾†å‘¼å«ï¼Œthis çš„å€¼ç‚ºæ–°å»ºç«‹çš„ç‰©ä»¶ï¼› è—‰ç”± apply() æˆ– call() å‘¼å«ï¼Œthis çš„å€¼ç”±ç¬¬ä¸€å€‹åƒæ•¸æ±ºå®šã€‚  ç®­é ­å‡½å¼ï¼š\n ç®­é ­å‡½å¼æ²’æœ‰è‡ªå·±çš„ this çš„å€¼ï¼Œç”±å»ºç«‹æ™‚çš„ç’°å¢ƒä¾†æ±ºå®šã€‚  bindï¼š\n æ‰€æœ‰å‡½å¼éƒ½å…·å‚™ bind() ä¾†å»ºç«‹ä¸€å€‹æ–°å‡½å¼ï¼Œæ­¤å‡½å¼æœƒç¶å®šå‚³å…¥çš„å¼•æ•¸ï¼Œé™¤æ­¤ä¹‹å¤–ï¼Œç¶å®šçš„å‡½å¼é‹ä½œå¦‚åŸå§‹çš„å‡½å¼ã€‚  åš´æ ¼æ¨¡å¼ï¼š\n ç•¶ this å€¼ç‚º undefined æˆ– null æœƒè¢«å¼·åˆ¶è½‰æˆå…¨åŸŸç‰©ä»¶ï¼Œè€Œåš´æ ¼æ¨¡å¼ä¸‹ï¼Œå°‡ä¸æœƒå¼·åˆ¶è½‰å€¼ã€‚  this çš„èª¤è§£ this æœ‰å…©å€‹å› ç‚ºéåº¦è§£è®€å­—é¢æœ¬èº«çš„æ„ç¾©ï¼Œè€Œé€ æˆçš„èª¤è§£ã€‚\n ç¬¬ä¸€å€‹å¸¸è¦‹çš„èª¤è§£æ˜¯ this åƒè€ƒåˆ°å‡½å¼æœ¬èº«ï¼› å¦ä¸€å€‹å¸¸è¦‹çš„èª¤è§£æ˜¯ this ä»¥æŸç¨®æ–¹å¼åƒè€ƒäº†å‡½å¼è‡ªèº«ä½œç”¨åŸŸã€‚  è«‹å•æœƒå°å‡ºå•¥ï¼Ÿ\n1 2 3 4 5  function foo() { console.log(this); } foo(); // é æœŸçµæœç‚º function foo() { ... }   çµæœç‚ºå…¨åŸŸç‰©ä»¶ï¼ˆç€è¦½å™¨ä¸‹æ˜¯ Window ç‰©ä»¶ã€node.js åº•ä¸‹æ˜¯ Global ç‰©ä»¶ï¼‰ã€‚\nè«‹å•æœƒå°å‡ºå•¥ï¼Ÿ\n1 2 3 4 5 6 7 8 9 10  function foo() { var a = 2; this.bar(); } function bar() { console.log( this.a ); } foo(); // é æœŸçµæœç‚º 2   çµæœç‚º undefinedï¼Œå› ç‚ºå…¨åŸŸç‰©ä»¶ä¸‹æ²’æœ‰ aã€‚\nthis çš„æŒ‡å‘ 1. ä¸€èˆ¬çš„å‡½å¼å‘¼å« this çš„å€¼èˆ‡ç‰©ä»¶å°å‘æœ‰é—œï¼Œä¸€ä½†è„«é›¢äº†ç‰©ä»¶ï¼Œthis çš„å€¼ä¸¦ä¸é‡è¦ã€‚\nä¸€èˆ¬çš„å‡½å¼å‘¼å«ï¼Œthis æœƒæŒ‡å‘é è¨­çš„ç¶å®šï¼ˆdefault bindingï¼‰ï¼Œä¹Ÿå°±æ˜¯å…¨åŸŸç‰©ä»¶ï¼ˆç€è¦½å™¨ä¸‹æ˜¯ Window ç‰©ä»¶ã€node.js åº•ä¸‹æ˜¯ Global ç‰©ä»¶ï¼‰ã€‚\n1 2 3 4 5 6 7 8  var name = \u0026#39;GlobalName\u0026#39;; function foo() { var name = \u0026#39;Chupai\u0026#39;; console.log(this.name); } foo(); // \u0026#34;GlobalName\u0026#34;   æ”¾åˆ°ç«‹å³å‡½å¼ IIFE ï¼Œç›´æ¥åœ¨å‡½å¼å…§ç›´æ¥åœ¨å‘¼å«å¦ä¸€å€‹å‡½å¼ï¼š\n1 2 3 4 5 6 7 8 9  var name = \u0026#39;GlobalName\u0026#39;; (function() { function foo() { var name = \u0026#39;Chupai\u0026#39;; console.log(this.name); } foo(); // \u0026#34;GlobalName\u0026#34; })();   çµæœæ˜¯ä¸€æ¨£çš„ã€‚\né–‰åŒ… Closureï¼š\n1 2 3 4 5 6 7 8 9 10  var name = \u0026#39;GlobalName\u0026#39;; function foo() { var name = \u0026#39;Chupai\u0026#39;; return function() { console.log(this.name); }; } foo()(); // \u0026#34;GlobalName\u0026#34;   é€™æ¨£çµæœä¾ç„¶ç›¸åŒã€‚\nå›å‘¼å‡½å¼ Callback functionï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13  var name = \u0026#39;GlobalName\u0026#39;; function foo() { var name = \u0026#39;Chupai\u0026#39;; function boo() { console.log(this.name); } boo(); } foo(); // \u0026#34;GlobalName\u0026#34;   ç„¡è«–åœ¨å“ªä¸€å±¤ï¼Œ ä¸€èˆ¬çš„å‡½å¼å‘¼å« this éƒ½æœƒæŒ‡å‘å…¨åŸŸç‰©ä»¶ã€‚\nç‚ºä»€éº¼ this æœƒæŒ‡å‘å…¨åŸŸç‰©ä»¶ï¼Œé—œæ–¼é€™éƒ¨åˆ†æœƒåœ¨ä¸‹æ–¹ åš´æ ¼æ¨¡å¼ èªªæ˜ã€‚\n2. ç‰©ä»¶çš„æ–¹æ³•å‘¼å« å°‡å‡½å¼ç¶å®šåˆ°ä¸€å€‹ç‰©ä»¶å±¬æ€§ä¸Šï¼Œç¨±ä½œæ–¹æ³•ï¼ˆmethodï¼‰ã€‚\nå¦‚æœå‘¼å«ç‰©ä»¶çš„æ–¹æ³•ï¼Œthis çš„å€¼ç‚ºè¢«å‘¼å«å‡½å¼çš„æ‰€å±¬ç‰©ä»¶ã€‚\nä¸€å€‹ç°¡å–®çš„ç¯„ä¾‹ï¼š\n1 2 3 4 5 6 7 8 9 10  var name = \u0026#39;GlobalName\u0026#39;; var obj = { name: \u0026#39;Chupai\u0026#39;, foo: function() { console.log(this.name); }, }; obj.foo(); // \u0026#34;Chupai\u0026#34;   foo ç‚º obj çš„æ–¹æ³•ï¼Œå› æ­¤ foo å…§çš„ this æœƒæŒ‡å‘ obj ç‰©ä»¶ã€‚\nç¨å¾®æ”¹è®Šä¸€ä¸‹ç¨‹å¼ç¢¼ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13  var name = \u0026#39;GlobalName\u0026#39;; function foo() { console.log(this.name); } var obj = { name: \u0026#39;Chupai\u0026#39;, foo: foo }; foo(); // \u0026#34;GlobalName\u0026#34; obj.foo(); // \u0026#34;Chupai\u0026#34;   å‡½å¼å®£å‘Šçš„ä½ç½®ä¸é‡è¦ï¼Œfoo å…§çš„ this é‚„æ˜¯æœƒæŒ‡å‘ obj ç‰©ä»¶ã€‚\nç¹¼çºŒçœ‹ä¸‹å€‹ç¯„ä¾‹ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15  var name = \u0026#39;GlobalName\u0026#39;; function foo() { console.log(this.name); } var obj = { name: \u0026#39;Chupai\u0026#39;, boo: { name: \u0026#39;Wang\u0026#39;, foo: foo } }; obj.boo.foo(); // \u0026#34;Wang\u0026#34;   foo ç‚º obj.boo ç‰©ä»¶çš„æ–¹æ³•ï¼Œæ‰€ä»¥å®ƒæœƒæŒ‡å‘ obj.boo ç‰©ä»¶ã€‚\n3. é–“æ¥åƒè€ƒ æ¥ä¸‹ä¾†çœ‹ä¸€å€‹å¸¸è¦‹çš„éŒ¯èª¤ã€‚\nå¦‚æœå°‡ç‰©ä»¶å…§çš„å‡½å¼ï¼Œè³¦äºˆåœ¨ä¸€å€‹è®Šæ•¸ä¸Šï¼Œä¸¦å‘¼å«å®ƒï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14  var name = \u0026#39;GlobalName\u0026#39;; function foo() { console.log(this.name); } var obj = { name: \u0026#39;Chupai\u0026#39;, foo: foo, }; var callThisName = obj.foo; callThisName(); // \u0026#34;GlobalName\u0026#34;   ç•¶æˆ‘å€‘å°‡ obj.foo æŒ‡å®šçµ¦è®Šæ•¸ callThisName æ™‚ï¼Œæœƒå°‡ foo å‡½å¼çš„è¨˜æ†¶é«”ä½ç½®å‚³çµ¦ callThisNameï¼Œå› æ­¤ç•¶æˆ‘å€‘ç”¨ callThisName() å‘¼å«æ™‚ï¼Œèˆ‡ obj ç„¡é—œï¼Œæ‰€ä»¥å°±åªæ˜¯ä¸€èˆ¬çš„å‡½å¼å‘¼å«ã€‚\nå¦å¤–ï¼Œåƒæ•¸å‚³éä¸­çš„å›å‘¼å‡½å¼ï¼Œä¹Ÿå±¬æ–¼é–“æ¥åƒè€ƒï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16  var name = \u0026#39;GlobalName\u0026#39;; function foo() { console.log(this.name); } var obj = { name: \u0026#39;Chupai\u0026#39;, foo: foo, }; function boo(fn) { fn(); } boo(obj.foo); // \u0026#34;GlobalName\u0026#34;   4. äº‹ä»¶ç›£è½ DOM æ­é…äº‹ä»¶ç›£è½ addEventListener æ™‚ï¼Œç›£è½å‡½å¼ä¸­çš„ this æœƒæŒ‡å‘çš„å‰‡æ˜¯è©² DOM ç‰©ä»¶ã€‚\n1 2 3 4 5  var dom = document.querySelector(\u0026#39;body\u0026#39;); dom.addEventListener(\u0026#39;click\u0026#39;, function() { console.log(this); // \u0026lt;body\u0026gt;...\u0026lt;/body\u0026gt; });   æ”¹è®Š this çš„æŒ‡å‘ æœƒæ”¹è®Š this çš„æŒ‡å‘çš„æƒ…æ³ï¼š\n ä½¿ç”¨ applyã€call å‡½å¼æ–¹æ³•ï¼› ä½¿ç”¨ bind å‡½å¼æ–¹æ³•ï¼› ä½¿ç”¨å»ºæ§‹å‡½å¼ new ä¸€å€‹ç‰©ä»¶å¯¦é«”ï¼› ä½¿ç”¨ ES6 çš„ç®­é ­å‡½å¼ã€‚  1. applyã€call call() èˆ‡ apply() æ˜¯èƒ½å‘¼å«å‡½å¼çš„æ–¹æ³•ï¼Œä¸¦ä¸”èƒ½å¼·åˆ¶æŒ‡å®š this å€¼ï¼š\n1 2 3 4 5 6 7 8  var obj = {}; function foo() { console.log(this); }ï¼š foo(); // \u0026#34;Window{}\u0026#34; foo.call(obj); // Object{} foo.apply(obj); // Object{}   å…©è€…ç¬¬ä¸€å€‹åƒæ•¸éƒ½æ˜¯ this å€¼ï¼Œä¹Ÿå°±æ˜¯è¦ç¶å®šçš„ç‰©ä»¶ã€‚\nè€Œå…©è€…å·®ç•°åªåœ¨æ–¼å¾Œé¢çš„åƒæ•¸ï¼š\n1 2 3 4 5 6 7 8  var obj = {}; function foo(a, b) { console.log(this, a, b); } foo.call(obj, 1, 2); // Object{} 1 2 foo.apply(obj, [1, 2]); // Object{} 1 2   call() ç¬¬äºŒå€‹åƒæ•¸å¾Œï¼Œèˆ‡å¹³å¸¸å‘¼å«å‡½å¼ä¸€æ¨£ï¼Œapply() å‰‡éœ€è¦ä½¿ç”¨é™£åˆ—å°‡å¼•æ•¸åŒ…èµ·ä¾†ã€‚\nä½¿ç”¨ call() å’Œ apply() ç¶å®š this å¾Œï¼Œå†ç”¨ä¸€æ¬¡å°±ç„¡æ³•æ”¹è®Š this çš„æŒ‡å‘ï¼š\n1 2 3 4 5 6 7 8 9 10  function foo() { console.log(this.a); } var boo = function () { foo.call({ a: 2 }); }; boo(); // 2 boo.call({ a: 10 }); // 2   æ­¤æ¨¡å¼ç¨±ä½œç¡¬ç¶å®šï¼ˆhard bindingï¼‰ï¼ŒæŒ‡çš„æ˜¯ç¶å®šæ—¢æ˜ç¢ºåˆä¸æœƒæ„å¤–è®Šå›é è¨­çš„ç¶å®šã€‚\n2. bind() å› ç‚ºç¡¬ç¶å®šæ¨¡å¼å¦‚æ­¤å¸¸ç”¨ï¼ŒES5 æ–°å¢äº†ä¸€å€‹æ–¹æ³•ï¼Œå°‡æ­¤æ¨¡å¼åŒ…è£äº†èµ·ä¾†ï¼Œbind() æœƒå›å‚³ä¸€å€‹æ–°çš„å‡½å¼ï¼Œç•¶è¢«å‘¼å«æ™‚ï¼Œå°‡æä¾›çš„å€¼è¨­ç‚º this å€¼ã€‚\n1 2 3 4 5 6 7 8  function foo() { console.log(this.a); } var boo = foo.bind({ a: 2 }); boo(); // 2 boo.call({ a: 10 }); // 2   3. ä½¿ç”¨å»ºæ§‹å‡½å¼ æ­¤éƒ¨åˆ†åªè¦äº†è§£å»ºæ§‹å‡½å¼çš„ this æ˜¯æŒ‡å‘ä½¿ç”¨ new å»ºç«‹çš„ç‰©ä»¶å¯¦é«”æœ¬èº«å³å¯ã€‚\n1 2 3 4 5 6  function Foo(a) { this.a = a; } var bar = new Foo(2); console.log(bar.a); // 2   3. ç®­é ­å‡½å¼ å‚³çµ±å‡½å¼çš„ this æ˜¯ä¾å‘¼å«çš„æ–¹æ³•è€Œå®šï¼Œå› æ­¤ç•¶ä½ çš„å‡½å¼æœ‰å¥½å¹¾å±¤æ™‚ï¼Œæœƒé‡åˆ°ä¸€å€‹å•é¡Œï¼š\n1 2 3 4 5 6 7 8 9 10 11 12  var obj = { a: 10, b: 20, print: function () { function add() { return this.a + this.b; } console.log(add()); }, }; obj.print(); // NaN   ä»¥ä¸Šç¯„ä¾‹å¯ä»¥çœ‹åˆ°ï¼Œæˆ‘å€‘åœ¨ print æ–¹æ³•å…§åˆå»ºç«‹ä¸€å€‹å‡½å¼ä¸¦å‘¼å«ï¼Œå› ç‚ºæ˜¯ä¸€èˆ¬å‘¼å«ï¼Œå› æ­¤ this æœƒæœƒæŒ‡å‘å…¨åŸŸç‰©ä»¶ï¼Œæ‰€ä»¥ this.a å’Œ this.b ç‚º undefinedï¼Œå› æ­¤çµæœç‚º NaNã€‚\nåœ¨ ES6 å‰ï¼Œè§£æ±ºè¾¦æ³•æ˜¯åˆ©ç”¨ä¸€å€‹è®Šæ•¸å„²å­˜ this çš„å€¼ï¼ˆå¸¸è¦‹å‘½å _thisã€thatã€vmã€selfï¼‰ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13  var obj = { a: 10, b: 20, print: function () { var _this = this; function add() { return _this.a + _this.b; } console.log(add()); }, }; obj.print(); // 30   è€Œ ES6 æ–°å¢çš„ç®­é ­å‡½å¼ï¼Œå®ƒæœ¬èº«ä¸¦æ²’æœ‰ thisï¼Œå®ƒæœƒåœ¨å®šç¾©æ™‚è¨˜ä½ this å€¼ï¼Œä¹Ÿå°±åœ¨å®£å‘Šå®ƒçš„åœ°æ–¹çš„ this æ˜¯ä»€éº¼ï¼Œå®ƒçš„ this å°±æ˜¯ä»€éº¼ï¼Œæœƒæ ¹æ“šç’°å¢ƒä¾†ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12  var obj = { a: 10, b: 20, print: function () { let add = () =\u0026gt; { return this.a + this.b; }; console.log(add()); }, }; obj.print(); // 30   ç®­é ­å‡½å¼æ³¨æ„äº‹é …ï¼š\n ç®­é ­å‡½å¼ä¸€ä½†ç¶å®šäº† this å°±ä¸æœƒå†æ”¹è®Šï¼Œä½¿ç”¨ applyã€callã€bind æ–¹æ³•ä¹Ÿç„¡æ³•ä¿®æ”¹ï¼› ç®­é ­å‡½å¼ä¹Ÿä¸èƒ½ç”¨åœ¨å»ºæ§‹å¼ä¸Šï¼Œæœƒæ‹‹å‡ºéŒ¯èª¤ï¼› ç”¨åœ¨ç›£è½ DOM çš„å›å‘¼å‡½å¼ä¸Šï¼Œthis æœƒæŒ‡å‘å…¨åŸŸç‰©ä»¶ï¼Œå› æ­¤è¦é¿å…ã€‚  åš´æ ¼æ¨¡å¼ ES5 ä¹‹å¾Œï¼Œæ–°å¢äº†åš´æ ¼æ¨¡å¼ï¼Œåœ¨åš´æ ¼æ¨¡å¼ä¸‹ï¼Œä¸€èˆ¬å‡½å¼å‘¼å«çš„ this å€¼éƒ½æ˜¯ undefinedã€‚\n1 2 3 4 5 6  \u0026#39;use strict\u0026#39;; function foo() { console.log(this); } foo(); // undefined   undefined èˆ‡å…¨åŸŸç‰©ä»¶æœ‰ä»€éº¼é—œä¿‚ï¼Ÿ\nå…ˆä¾†ä¸€æ®µç¨‹å¼ç¢¼ï¼š\n1 2 3 4 5 6  function foo() { console.log(this); } foo.call(undefined); // Window{} foo.call(null); // Window{}   æˆ‘å€‘ä½¿ç”¨ call() å°‡ this å€¼è¨­ç‚º undefinedï¼Œçµæœå»å›å‚³å…¨åŸŸç‰©ä»¶ã€‚\né€™æ˜¯å› ç‚º JavaScript çš„æ©Ÿåˆ¶ï¼Œç•¶ this å€¼ç‚º undefined æˆ– null æ™‚ï¼Œæœƒå°‡ this å€¼å¼·åˆ¶è½‰æ›ç‚ºä¸€å€‹ç‰©ä»¶ã€‚\nåœ¨åš´æ ¼æ¨¡å¼ä¸‹ï¼Œåˆ»æ„å°‡ undefined æˆ– null è¨­ç‚º this å€¼ï¼Œæœƒå›å‚³æ­£ç¢ºçš„ this å€¼ã€‚\n1 2 3 4 5 6 7  \u0026#39;use strict\u0026#39;; function foo() { console.log(this); } foo.call(undefined); // undefined foo.call(null); // null   é€™å°±æ˜¯ç‚ºä»€éº¼ä¸€èˆ¬å‡½å¼å‘¼å«æœƒå›å‚³å…¨åŸŸç‰©ä»¶çš„åŸå› ã€‚\næœ‰çš„æ›¸æœƒç”¨ã€Œthis æ°¸é æŒ‡å‘æœ€å¾Œå‘¼å«å®ƒçš„é‚£å€‹ç‰©ä»¶ã€ä¾†è§£é‡‹ä¸‹é¢é€™æ®µç¨‹å¼ç¢¼ï¼š\n1 2 3 4 5 6  function foo() { console.log(this); } foo(); // Window{} window.foo(); // Window{}   å› ç‚º foo() ç­‰åŒ window.foo()ï¼Œæœ€å¾Œå‘¼å«å®ƒçš„ç‰©ä»¶æ˜¯å…¨åŸŸç‰©ä»¶ï¼Œæ‰€ä»¥ this æŒ‡å‘å…¨åŸŸç‰©ä»¶ã€‚ä½†é€™å…¶å¯¦æ˜¯ä¸å¤ªæ­£ç¢ºçš„èªªæ³•ï¼Œthis å€¼ä¸»è¦é‚„æ˜¯ä»¥å‡½å¼çš„å‘¼å«æ–¹å¼ç‚ºä¸»ï¼Œfoo() çš„ this å€¼æœƒæ˜¯ undefinedï¼Œæœƒå¾—åˆ°å…¨åŸŸç‰©ä»¶æ˜¯å› ç‚ºè¢«å¼·åˆ¶çµ¦å€¼äº†ã€‚\nè®“æˆ‘å€‘åŠ ä¸Šåš´æ ¼æ¨¡å¼ï¼š\n1 2 3 4 5 6 7  \u0026#39;use strict\u0026#39;; function foo() { console.log(this); } foo(); // undefined window.foo(); // Window{}   window.foo() çš„å€¼é‚„æ˜¯æŒ‡å‘å…¨åŸŸç‰©ä»¶ï¼Œå› ç‚ºå®ƒæ˜¯æ–¹æ³•å‘¼å«ã€‚\n1. æ³¨æ„ ä½†é€™è£¡è¦æ³¨æ„çš„æ˜¯ï¼Œå‘¼å«åœ°é»æ˜¯åš´æ ¼æ¨¡å¼ï¼Œä¸¦ä¸æœƒå½±éŸ¿ this çš„è¦å‰‡ã€‚\n1 2 3 4 5 6 7 8 9 10  function foo() { console.log( this.a ); } var a = 2; (function() { \u0026#39;use strict\u0026#39; foo(); // 2 })();   çŒœçŒœé€™å€‹ this åˆ°åº•æ˜¯ä»€éº¼ï¼Ÿ  JavaScript - çŒœçŒœé€™å€‹ \u0026ldquo;this\u0026rdquo; åˆ°åº•æ˜¯ä»€éº¼ï¼Ÿ é åŒ— JS ä¹‹ This åˆ°åº•æ˜¯ä»€éº¼è¾£  åƒè€ƒè³‡æ–™ æ›¸ç±ï¼š\n ã€Šå¿è€…ï¼šJavaScripté–‹ç™¼æŠ€å·§æ¢ç§˜ç¬¬äºŒç‰ˆã€‹ ã€Šä½ æ‰€ä¸çŸ¥é“çš„ JS - ç¯„ç–‡èˆ‡ Closuresã€this èˆ‡ç‰©ä»¶åŸå‹ã€‹ ã€Š0 é™·é˜±ï¼0 èª¤è§£ï¼8 å¤©é‡æ–°èªè­˜JavaScriptï¼ã€‹ ã€ŠJavaScript æŠ€è¡“æ‰‹å†Šã€‹  æ–‡ç« ï¼š\n JavaScript This ç³»åˆ—æ–‡ï¼šthis ç‚ºä»€éº¼æŒ‡å‘ window JavaScript This ç³»åˆ—æ–‡ï¼šthis èˆ‡ç‰©ä»¶çš„é—œä¿‚\n ","description":"JavaScript çš„å¤§å‘ã€Œthisã€ã€‚","id":60,"section":"posts","tags":["JavaScript","ES6","è®Šæ•¸"],"title":"å‡½å¼å‘¼å«èˆ‡ this","uri":"https://chupai.github.io/posts/2008/js_this/"},{"content":"é€™é€±æ˜¯å…­è§’é¼ å¹´éµäººè³½ç¬¬äºŒåä¸ƒé€±ã€‚\næˆ‘å€‘ä¾†çœ‹ç›¸è¼ƒæ–¼ ç´…é»‘æ¨¹ï¼Œå¯ä»¥èªªæ˜¯éå¸¸ç°¡å–®çš„å¹³è¡¡æ¨¹ï¼šæ¨¹å †ï¼ˆTreapï¼‰ã€‚\n\ræ¨¹å † æ¨¹å †ï¼ˆTreapï¼‰ å…¶åç¨±æ˜¯ Tree å’Œ Heap çš„çµåˆã€‚é¡§åæ€ç¾©ï¼ŒTreap åŒæ™‚æ»¿è¶³äºŒå…ƒæœå°‹æ¨¹å’Œ Heapï¼ˆå †ç©ï¼‰çš„æ€§è³ªã€‚å±¬æ–¼ ç¬›å¡çˆ¾æ¨¹ï¼ˆCartesian Treeï¼‰ çš„ä¸€ç¨®ï¼Œå…©è€…åœ¨çµæ§‹ä¸Šæ˜¯ç›¸åŒçš„ï¼Œåªæ˜¯æ‡‰ç”¨ä¸åŒã€‚\nTreap çµæ§‹ç›¸ç•¶æ–¼ä»¥éš¨æ©Ÿè³‡æ–™æ’å…¥çš„äºŒå…ƒæœå°‹æ¨¹ï¼Œç›¸è¼ƒæ–¼å…¶å®ƒå¹³è¡¡æ¨¹ï¼Œå¯¦ç¾å¯ä»¥èªªæ˜¯éå¸¸ç°¡å–®ç›´è§€ã€‚ç”±æ–¼æ¨¹çš„çµæ§‹ä¸¦ä¸ç­‰æ–¼æ·»åŠ å…ƒç´ é †åºï¼Œå› æ­¤å¯æœ‰æ•ˆé¿å…ä¸€èˆ¬çš„äºŒå…ƒæœå°‹æ¨¹æ‰€å‡ºç¾çš„æœ€ç³Ÿæƒ…æ³ã€‚\n1. æ€§è³ª Treap åœ¨äºŒå…ƒæœå°‹æ¨¹çš„åŸºç¤ä¸Šï¼Œæ¯å€‹ç¯€é»éƒ½æœ‰ä¸€å€‹éš¨æ©Ÿçš„ å„ªå…ˆé †åºï¼ˆpriorityï¼‰ã€‚\n Treap ç‚ºä¸€æ£µäºŒå…ƒæœå°‹æ¨¹ï¼› å·¦ã€å³å­æ¨¹ä¹Ÿæ˜¯ Treapï¼› æ¯å€‹ç¯€é»éƒ½æœ‰ä¸€å€‹éš¨æ©Ÿçš„ å„ªå…ˆé †åºï¼› å„ªå…ˆé †åº ä¿æŒè‘— Heap æ€§è³ªã€‚  Max Heapï¼ˆæœ€å¤§å †ç©ï¼‰ï¼Œæ‰€æœ‰çš„çˆ¶ç¯€é»éƒ½æ¯”å­ç¯€é»è¦å¤§ï¼› Min Heapï¼ˆæœ€å°å †ç©ï¼‰ï¼Œæ‰€æœ‰çš„çˆ¶ç¯€é»éƒ½æ¯”å­ç¯€é»è¦å°ã€‚    éœ€è¦æ³¨æ„çš„å…©é»ï¼š\n Treap ç›¸è¼ƒæ–¼ Heapï¼Œä¸éœ€è¦æ»¿è¶³ Complete binary treeï¼ˆå®Œå…¨äºŒå…ƒæ¨¹ï¼‰çš„æ¢ä»¶ï¼› Treap ç›¸è¼ƒæ–¼ AVL-Treeï¼Œå±¬æ–¼éåš´æ ¼å¹³è¡¡æ¨¹ã€‚  2. æ–°å¢æ“ä½œ æ–°å¢æ™‚ï¼Œæœƒçµ¦ç¯€é»éš¨æ©Ÿåˆ†é…ä¸€å€‹å„ªå…ˆé †åºï¼Œæ–°å¢æ“ä½œå’Œä¸€èˆ¬äºŒå…ƒæœå°‹æ¨¹ç›¸åŒï¼Œæ–°å¢ç¯€é»å¾Œï¼Œéœ€è¦ç¶­è­· Heap çš„æ€§è³ªï¼Œæœƒç”¨åˆ°æ—‹è½‰æ“ä½œã€‚\nä»¥ Max Heap ç‚ºä¾‹ï¼š\n æ–°å¢ç¯€é»åˆ°ä¸€å€‹è‘‰å­ç¯€é»ä¸Šï¼› ç•¶å‰ç¯€é»çš„å„ªå…ˆé †åºæ¯”å…¶æ ¹å¤§ï¼Œå°æ ¹æ—‹è½‰ï¼š  å¦‚æœç•¶å‰ç¯€é»æ˜¯æ ¹çš„å·¦å­ç¯€é»ï¼Œå³æ—‹è½‰ï¼› å¦‚æœç•¶å‰ç¯€é»æ˜¯æ ¹çš„å³å­ç¯€é»ï¼Œå·¦æ—‹è½‰ã€‚    3. åˆªé™¤æ“ä½œ å› ç‚º Treap æ»¿è¶³ Heap æ€§è³ªï¼Œæ‰€ä»¥åªéœ€è¦æŠŠè¦åˆªé™¤çš„ç¯€é»æ—‹è½‰åˆ°è‘‰å­ç¯€é»ä¸Šï¼Œç„¶å¾Œç›´æ¥åˆªé™¤å°±å¯ä»¥äº†ã€‚\nå…·é«”çš„æ–¹æ³•ï¼š\n æ¯”è¼ƒè¢«åˆªé™¤ç¯€é»çš„å·¦ã€å³å­ç¯€é»å„ªå…ˆé †åºï¼š\n- å·¦å­æ¨¹å„ªå…ˆé †åºå¤§ï¼ŒåŸ·è¡Œå³æ—‹è½‰ï¼›\n- å³å­æ¨¹å„ªå…ˆé †åºå¤§ï¼ŒåŸ·è¡Œå·¦æ—‹è½‰ã€‚ ç›´åˆ°è¢«åˆªé™¤ç¯€é»è¢«æ—‹è½‰åˆ°äº†è‘‰å­ç¯€é»ï¼Œç„¶å¾Œç›´æ¥åˆªé™¤ã€‚  JavaScript å¯¦ä½œ Treap 1. åŸºæœ¬çµæ§‹ æˆ‘å€‘ç°¡å–®çš„å¯«ä¸€å€‹éš¨æ©Ÿå‡½å¼ï¼Œç”¨ä¾†æ¨¡æ“¬éš¨æ©Ÿåˆ†é…çš„å„ªå…ˆé †ï¼š\n1 2 3  function random() { return Math.floor(Math.random() * 1000); }   ç¯€é»ï¼š\n1 2 3 4 5 6 7 8  class TreapNode { constructor(data, priority = random()) { this.data = data; this.priority = priority; this.left = null; this.right = null; } }   ç¯€é»æ¯”ä¸€èˆ¬äºŒå…ƒæ¨¹å¤šä¸€å€‹å„ªå…ˆé †åºã€‚\næœ¬é«”ï¼š\n1 2 3 4 5 6  class Treap { constructor() { this.root = null; } // methods }   2. æ—‹è½‰æ“ä½œ èˆ‡ AVL-Tree ç›¸åŒã€‚\n1 2 3 4 5 6 7 8 9 10 11 12 13  rightRotation(node) { const temp = node.left; node.left = temp.right; temp.right = node; return temp; } leftRotation(node) { const temp = node.right; node.right = temp.left; temp.left = node; return temp; }   3. æ–°å¢æ“ä½œ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21  insert(data) { const insertHelper = (node) =\u0026gt; { let curNode = node; if (!curNode) { return new TreapNode(data); } if (data \u0026lt; curNode.data) { curNode.left = insertHelper(curNode.left); if (curNode.left.priority \u0026gt; curNode.priority) { curNode = this.rightRotation(curNode); } } else if (data \u0026gt; curNode.data) { curNode.right = insertHelper(curNode.right); if (curNode.right.priority \u0026gt; curNode.priority) { curNode = this.leftRotation(curNode); } } return curNode; }; this.root = insertHelper(this.root); }   4. åˆªé™¤æ“ä½œ å› ç‚ºç¯€é»æ˜¯å–®å‘çš„ï¼Œæ‰€ä»¥æˆ‘å€‘è¦è¨˜éŒ„çˆ¶ç¯€é»å’Œä¸€å€‹ key ç´€éŒ„ç•¶å‰ç¯€é»æ˜¯å·¦ã€å³å­æ¨¹ã€‚\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44  remove(data) { let curNode = this.root; let parentNode = null; let key = \u0026#39;\u0026#39;; // å°‹æ‰¾åˆªé™¤ç¯€é»  while (curNode) { if (data \u0026lt; curNode.data) { parentNode = curNode; key = \u0026#39;left\u0026#39;; curNode = curNode.left; } else if (data \u0026gt; curNode.data) { parentNode = curNode; key = \u0026#39;right\u0026#39;; curNode = curNode.right; } else { break; } } // æ—‹è½‰åˆªé™¤ç¯€é»ï¼Œç›´åˆ°æœ€åº•ä¸‹  while (curNode) { // åˆ¤æ–·ç¯€é»ç‹€æ…‹  const result = this.comparison(curNode); if (result === -1) { this.setNode(parentNode, null, key); return; } if (result === 1) { curNode = this.rightRotation(curNode); this.setNode(parentNode, curNode, key); key = \u0026#39;right\u0026#39;; parentNode = curNode; curNode = curNode.right; } else { curNode = this.leftRotation(curNode); this.setNode(parentNode, curNode, key); key = \u0026#39;left\u0026#39;; parentNode = curNode; curNode = curNode.left; } } }   è¼”åŠ©å‡½å¼ï¼š\n1 2 3 4 5 6 7  setNode(parent, node, key) { if (!parent) { this.root = node; } else { parent[key] = node; } }   1 2 3 4 5 6 7 8 9 10 11 12 13 14 15  comparison(node) { if (!node.left \u0026amp;\u0026amp; !node.right) { return -1; } if (node.left \u0026amp;\u0026amp; !node.right) { return 1; } if (!node.left \u0026amp;\u0026amp; node.right) { return 0; } if (node.left.priority \u0026gt; node.right.priority) { return 1; } return 0; }   See the Pen Treap with Vue.js by Chupai@Design (@chupai) on CodePen. ","description":"æ¨¹å †ï¼ˆTreapï¼‰ç›¸è¼ƒæ–¼ç´…é»‘æ¨¹ï¼Œå¯ä»¥èªªæ˜¯éå¸¸ç°¡å–®çš„å¹³è¡¡æ¨¹ã€‚","id":61,"section":"posts","tags":["è³‡æ–™çµæ§‹","äºŒå…ƒæœå°‹æ¨¹","äºŒå…ƒæ¨¹","Treap","å¹³è¡¡æ¨¹","æ¨¹å †","w3HexSchool"],"title":"JavaScript å­¸æ¼”ç®—æ³•ï¼ˆåä¹ï¼‰- æ¨¹å †","uri":"https://chupai.github.io/posts/2008/ds_treap/"},{"content":" ç«¹ç™½çš„ JS å­¸å¾’ç‰¹è¨“ç­ç­†è¨˜ - ç›®éŒ„\n è¨˜éŒ„å…­è§’å­¸é™¢æ‰€é–‹çš„ JS å­¸å¾’ç‰¹è¨“ç­ï¼Œç‚ºæœŸ 60å¤©çš„ç‰¹è¨“ã€‚\n\rç¬¬äºŒåå››é—œï¼šè³‡æ–™æ ¼å¼è™•ç†ï¼ŒforEach + é™£åˆ—è™•ç†(ä¸€)  é¡Œç›®é€£çµ\n åŠ‡æƒ…ç•¥ã€‚\n24. é¡Œç›® ä»¥ä¸‹æ˜¯é æœŸå¸Œæœ›å‡ºç¾æ­£å¸¸çš„åœ–è¡¨ï¼Œè«‹æ”¹å¯«æ­¤ Codepenï¼Œä¸¦åœ¨ Slack å›å‚³ä½ çš„è§£æ³•ï¼š\nPSï¼šHTML èˆ‡ CSS é¢æ¿å£æ‰äº†ï¼Œåªèƒ½è®Šæ›´ JS é¢æ¿\n24. åƒè€ƒè§£ç­” 1 2 3  newMonthMoney.forEach((item)=\u0026gt; { monthMoney.push(item); });   ç¬¬äºŒåäº”é—œï¼šè³‡æ–™æ ¼å¼è™•ç†ï¼ŒforEach + é™£åˆ—è™•ç†(äºŒ)  é¡Œç›®é€£çµ\n åŠ‡æƒ…ç•¥ã€‚\n25. é¡Œç›® ä»¥ä¸‹æ˜¯é æœŸå¸Œæœ›å‡ºç¾æ­£å¸¸çš„åœ–è¡¨ï¼Œè«‹æ”¹å¯«æ­¤ Codepenï¼Œä¸¦åœ¨ Slack å›å‚³ä½ çš„è§£æ³•ï¼š\nPSï¼šHTML èˆ‡ CSS é¢æ¿å£æ‰äº†ï¼Œåªèƒ½è®Šæ›´ JS é¢æ¿\n25. åƒè€ƒè§£ç­” 1 2 3 4  serverData.forEach((item)=\u0026gt; { let temp = [item.name, ...item.seasonOneData, ...item.seasonTwoData]; data.push(temp); });   æ•™å­¸ã€å»¶ä¼¸çŸ¥è­˜é€£çµ  å±•é–‹ï¼å…¶é¤˜é‹ç®—å­\n  ç¬¬äºŒåå…­é—œï¼šAJAXã€axios é¡Œç›®  é¡Œç›®é€£çµ\n 26. å•é¡Œ è§€çœ‹ JS æ–°æ‰‹æ•™å­¸ - AJAX èˆ‡è³‡æ–™è™•ç†ï¼Œè©¦è‘—æ’ˆå‡º API æ‰€æœ‰çš„å§“ååˆ—è¡¨ã€‚\nhttps://raw.githubusercontent.com/hexschool/hexschoolNewbieJS/master/data.json 26. åƒè€ƒè§£ç­” 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16  const urlAPI = \u0026#39;https://raw.githubusercontent.com/hexschool/hexschoolNewbieJS/master/data.json\u0026#39;; let data = []; axios.get(urlAPI).then((res) =\u0026gt; { data = res.data; // å–å¾—è³‡æ–™  rander(data); // æ¸²æŸ“ }); function rander(arr) { let html = \u0026#39;\u0026#39;; arr.forEach((item)=\u0026gt; { html += `\u0026lt;li\u0026gt;${item.name}\u0026lt;/li\u0026gt;` }); document.querySelector(\u0026#39;.list\u0026#39;).innerHTML = html; }   See the Pen JS å­¸å¾’ç‰¹è¨“ç­ 26 é—œ by CHUPAIWANG (@CHUPAIWANG) on CodePen.  æ•™å­¸ã€å»¶ä¼¸çŸ¥è­˜é€£çµ  axiosä¸­æ–‡æ–‡æ¡£ JSON-handle  ç¬¬äºŒåä¸ƒé—œï¼šé™£åˆ—è£œå……è§€å¿µ  é¡Œç›®é€£çµ\n 27. å•é¡Œ è«‹å¾ä»¥ä¸‹é€£çµï¼Œå­¸ç¿’ 2~3 ç¨®é™£åˆ—çš„è™•ç†æ–¹å¼ï¼Œè½èªª sort å°±è »å¸¸è¦‹çš„ï¼Œä¸¦åœ¨ slack å›å ±è‡ªå·±çš„ç¯„ä¾‹ç¨‹å¼ç¢¼èˆ‡å­¸åˆ°çš„æ±è¥¿ã€‚\n Cheatsheet for Array Methods - JavaScript é™£åˆ—æ–¹æ³•å¤§å…¨ JavaScript Array é™£åˆ—æ“ä½œæ–¹æ³•å¤§å…¨ ( å« ES6 ) JavaScript é™£åˆ—è™•ç†æ–¹æ³• [filter(), find(), forEach(), map(), every(), some(), reduce()  27. åƒè€ƒè§£ç­” æˆ‘ä»¥å‰çš„ç­†è¨˜ï¼š\n é™£åˆ—ï½œç«¹ç™½è¨˜äº‹æœ¬ è¿­ä»£é™£åˆ—ï½œç«¹ç™½è¨˜äº‹æœ¬ Sliceã€Spliceã€Split çš„å€åˆ¥ï½œç«¹ç™½è¨˜äº‹æœ¬  ç¬¬äºŒåå…«é—œï¼šé™£åˆ—æ’åºé€²åº¦  é¡Œç›®é€£çµ\n 28. å•é¡Œ APIï¼š\nhttps://raw.githubusercontent.com/hexschool/hexschoolNewbieJS/master/data.json æ’ˆå‡ºè³‡æ–™å¾Œï¼Œä¾ç…§æ¯å€‹ç‰©ä»¶çš„ process ä¾†é€²è¡Œé€²åº¦æ’åºï¼Œç¯„ä¾‹æ ¼å¼å¦‚ä¸‹åœ–ã€‚\n\u0026lt;ul\u0026gt; \u0026lt;li\u0026gt;ç¬¬ 1 åæ˜¯å»–æ´§æ°ï¼Œä»–çš„ç‰¹è¨“ç­å®Œæˆåº¦æ˜¯ 33%\u0026lt;/li\u0026gt; \u0026lt;li\u0026gt;ç¬¬ 2 åæ˜¯ç‹å°æ˜ï¼Œä»–çš„ç‰¹è¨“ç­å®Œæˆåº¦æ˜¯ 30%\u0026lt;/li\u0026gt; \u0026lt;/ul\u0026gt; 28. åƒè€ƒè§£ç­” process è³‡æ–™æ ¼å¼ç‚ºå­—ä¸²ã€æ•¸å­—éƒ¨åˆ†ç‚ºæµ®é»æ•¸ã€å–®ä½ç‚º %ï¼Œå› æ­¤è‹¥ç›´æ¥ä½¿ç”¨ parseInt() å–å¾—æ•¸å­—ï¼Œåªèƒ½å–å¾—æ•´æ•¸éƒ¨åˆ†ï¼Œå°æ•¸éƒ¨åˆ†å°±æœƒæœ‰èª¤å·®ï¼Œå› æ­¤å¯ä»¥ä½¿ç”¨ parseFloat()ã€‚\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23  const urlAPI = \u0026#39;https://raw.githubusercontent.com/hexschool/hexschoolNewbieJS/master/data.json\u0026#39;; let data = []; axios.get(urlAPI).then((res) =\u0026gt; { data = res.data; // å–å¾—è³‡æ–™  let sortedData = sortData(data); // æ’åº  rander(sortedData); // æ¸²æŸ“ }); function rander(arr) { let html = \u0026#39;\u0026#39;; arr.forEach((item, index)=\u0026gt; { html += `\u0026lt;li\u0026gt;ç¬¬ ${index + 1}åæ˜¯${item.name}ï¼Œä»–çš„ç‰¹è¨“ç­å®Œæˆåº¦æ˜¯ ${item.process}\u0026lt;/li\u0026gt;` }); document.querySelector(\u0026#39;.list\u0026#39;).innerHTML = html; } function sortData(arr) { let temp = [...arr]; // è¤‡è£½ä¸€ä»½é¿å…å‹•åˆ°åŸå§‹è³‡æ–™  temp.sort((a, b)=\u0026gt; parseFloat(b.process) - parseFloat(a.process)); return temp; }   See the Pen JS å­¸å¾’ç‰¹è¨“ç­ 28 é—œ by CHUPAIWANG (@CHUPAIWANG) on CodePen.  æ•™å­¸ã€å»¶ä¼¸çŸ¥è­˜é€£çµ  parseIntï½œMDN parseFloatï½œMDN sort()ï½œMDN  ç¬¬äºŒåä¹é—œï¼šç›£è½åˆ‡æ›æ’åºåŠŸèƒ½  é¡Œç›®é€£çµ\n 29. å•é¡Œ æ‰¿æ¥ä¸Šé¡Œï¼Œæ–°å¢åˆ‡æ›æ’åºã€‚\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16  \u0026lt;select\u0026gt; \u0026lt;option value=\u0026#34;id\u0026#34;\u0026gt;ä¾ç…§ id ç·¨è™Ÿæ’åº(ç”±1é–‹å§‹å¾ä¸Šå¾€ä¸‹)\u0026lt;/option\u0026gt; \u0026lt;option value=\u0026#34;process\u0026#34;\u0026gt;ä¾ç…§å®Œèª²ç‡æ’åº(ç”±æœ€é«˜åˆ°æœ€ä½)\u0026lt;/option\u0026gt; \u0026lt;/select\u0026gt; // ä»¥ä¸‹ç‚ºç·¨è™Ÿæ’åºç¯„ä¾‹ \u0026lt;ul class=\u0026#34;list\u0026#34;\u0026gt; \u0026lt;li\u0026gt;ç·¨è™Ÿ ID 1 ç‚ºå»–æ´§æ°ï¼Œä»–çš„å®Œæˆé€²åº¦ç‚º 5 %\u0026lt;/li\u0026gt; \u0026lt;li\u0026gt;ç·¨è™Ÿ ID 2 ç‚ºç‹å°æ˜ï¼Œä»–çš„å®Œæˆé€²åº¦ç‚º 33 %\u0026lt;/li\u0026gt; \u0026lt;/ul\u0026gt; // ä»¥ä¸‹ç‚ºå®Œèª²ç‡æ’åºç¯„ä¾‹ \u0026lt;ul class=\u0026#34;list\u0026#34;\u0026gt; \u0026lt;li\u0026gt;ç·¨è™Ÿ ID 2 ç‚ºç‹å°æ˜ï¼Œä»–çš„å®Œæˆé€²åº¦ç‚º 33 %\u0026lt;/li\u0026gt; \u0026lt;li\u0026gt;ç·¨è™Ÿ ID 1 ç‚ºå»–æ´§æ°ï¼Œä»–çš„å®Œæˆé€²åº¦ç‚º 5 %\u0026lt;/li\u0026gt; \u0026lt;/ul\u0026gt;   29. åƒè€ƒè§£ç­” ç›£è½ \u0026lt;select\u0026gt; å–å¾— \u0026lt;option\u0026gt; çš„å€¼ï¼Œç”¨ä¾†åˆ¤æ–·æ’åºæ–¹å¼ã€‚\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16  let selectDom = document.getElementById(\u0026#39;select\u0026#39;); selectDom.addEventListener(\u0026#39;change\u0026#39;, function() { let sortedData = sortData(data, this.value); rander(sortedData); }); function sortData(arr, mode = \u0026#39;id\u0026#39;) { let temp = [...arr]; // è¤‡è£½ä¸€ä»½é¿å…å‹•åˆ°åŸå§‹è³‡æ–™  if (mode === \u0026#39;id\u0026#39;) { temp.sort((a, b)=\u0026gt; a - b); } else { temp.sort((a, b)=\u0026gt; parseFloat(b.process) - parseFloat(a.process)); } return temp; }   See the Pen JS å­¸å¾’ç‰¹è¨“ç­ 29 é—œ by CHUPAIWANG (@CHUPAIWANG) on CodePen.  æ•™å­¸ã€å»¶ä¼¸çŸ¥è­˜é€£çµ  ç¾ä»£ JavaScript æ•™ç¨‹ - è¡¨å•ï¼Œæ§ä»¶  ç¬¬ä¸‰åé—œï¼šC3.js åœ–è¡¨æ•´åˆ  é¡Œç›®é€£çµ\n 30. å•é¡Œ  è«‹å˜—è©¦ç”¨ codepen é™„ä¸Šä½ çš„è§£ç­”ï¼Œé€™æ¬¡çš„éœ€æ±‚æ˜¯ã€Œç”¨ c3.js åœ–è¡¨é¡¯ç¤ºï¼Œçœ‹çœ‹èª°çš„å®Œèª²ç‡æœ€å¥½ï¼ŒåŒæ™‚å¯ä»¥çœ‹å‡ºæ’åã€ åœ–è¡¨ä¸å±€é™æ–¼ä¸Šé¢çš„é•·æ¢åœ–ï¼Œä¹Ÿå¯å°‹æ‰¾åˆé©çš„åœ– é€±å…­æ—¥è«‹å˜—è©¦å¯«ä¸€ç¯‡ blogï¼Œåˆ†äº«è§£é¡Œæµç¨‹ï¼Œè®“å…¶ä»–äººä¹Ÿå¯ä»¥å—ç›Š  30. åƒè€ƒè§£ç­” See the Pen JS å­¸å¾’ç‰¹è¨“ç­ 30 é—œ by CHUPAIWANG (@CHUPAIWANG) on CodePen.  ç¬¬ä¸‰åä¸€é—œï¼šéƒ¨è½æ ¼æ–‡ç« é–±è®€  é¡Œç›®é€£çµ\n ç•¥ã€‚\nç¬¬ä¸‰åäºŒé—œï¼šç¨‹å¼æ•´åˆç¯‡  é¡Œç›®é€£çµ\n 32. å•é¡Œ çµåˆ 29ã€30 é—œï¼Œå·¦é‚Šæ’åºåŠŸèƒ½ï¼Œå³é‚Šåœ–è¡¨é¡¯ç¤ºã€‚\n32. åƒè€ƒè§£ç­” See the Pen JS å­¸å¾’ç‰¹è¨“ç­ 32 é—œ  by CHUPAIWANG (@CHUPAIWANG) on CodePen.  ç¬¬ä¸‰åä¸‰é—œï¼šåœ“é¤…åœ–åˆ†æ  é¡Œç›®é€£çµ\n 33. å•é¡Œ  åœ“é¤…åœ–åœ–è¡¨\n ç¹ªè£½å°šæœªé–‹è³½è·Ÿå·²é–‹è³½çš„æ¯”ä¾‹åœ“é¤…åœ–ã€‚\n33. åƒè€ƒè§£ç­” 1 2 3 4 5 6 7 8 9 10 11 12  let processCount = { non: 0, start: 0, }; data.forEach((item)=\u0026gt; { if (parseFloat(item.process) \u0026gt; 0) { processCount.start += 1; } else { processCount.non += 1; } });   See the Pen JS å­¸å¾’ç‰¹è¨“ç­ 33 é—œ  by CHUPAIWANG (@CHUPAIWANG) on CodePen.  ç¬¬ä¸‰åå››é—œï¼šåœ“é¤…åœ–åˆ†æï¼ˆä¸­æ–‡å­—ä¸²åˆ¤åˆ¥ï¼‰  é¡Œç›®é€£çµ\n 34. å•é¡Œ è§€å¯Ÿæ¯å€‹åƒè³½è€…çš„ã€Œå§“åé•·åº¦çš„å­—å…ƒæ•¸ã€\n34. åƒè€ƒè§£ç­” 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20  function strLen(str) { if (str == null) return 0; if (typeof str != \u0026#39;string\u0026#39;) { str += \u0026#39;\u0026#39;; } return str.replace(/[^\\x00-\\xff]/g, \u0026#39;01\u0026#39;).length; } let nameLengthCount = { lessSix: 0, moreSeven: 0, }; data.forEach((item)=\u0026gt; { if (strLen(item.name) \u0026gt; 6) { nameLengthCount.moreSeven += 1; } else { nameLengthCount.lessSix += 1; } });   See the Pen JS å­¸å¾’ç‰¹è¨“ç­ 34 é—œ  by CHUPAIWANG (@CHUPAIWANG) on CodePen.  æ•™å­¸ã€å»¶ä¼¸çŸ¥è­˜é€£çµ  JSåˆ¤æ–­å­—ç¬¦ä¸²é•¿åº¦ï¼ˆè‹±æ–‡å 1ä¸ªå­—ç¬¦ï¼Œä¸­æ–‡æ±‰å­—å 2ä¸ªå­—ç¬¦ï¼‰  ç¬¬ä¸‰åäº”é—œï¼šåœ“é¤…åœ–èˆ‡é•·æ¢åœ–åˆä½µä½¿ç”¨ 35. å•é¡Œ  ç¯„ä¾‹é€£çµ\n çµåˆ APIï¼ŒåŒæ™‚é¡¯ç¤ºé•·æ¢åœ–èˆ‡åœ“é¤…åœ–ï¼Œä¸¦é¡¯ç¤ºå„å€é–“å®Œèª²ç‡äººæ•¸ã€‚\n35. åƒè€ƒè§£ç­” æ³¨æ„ï¼Œprocess æ˜¯æµ®é»æ•¸ï¼Œå› æ­¤åˆ¤æ–·å€é–“æ™‚ï¼Œ\u0026lt;= 20 èˆ‡ \u0026lt; 21 çµæœå¯èƒ½æœƒæœ‰äº›å¾®å·®ç•°ã€‚\nSee the Pen JS å­¸å¾’ç‰¹è¨“ç­ 34 é—œ  by CHUPAIWANG (@CHUPAIWANG) on CodePen. ","description":"JS å‡½å¼ 24 ~ 35 é—œ","id":62,"section":"posts","tags":["JavaScript","JS å­¸å¾’ç‰¹è¨“ç­"],"title":"JS å­¸å¾’ç‰¹è¨“ç­ - JS å‡½å¼ 24 ~ 35 é—œ","uri":"https://chupai.github.io/posts/2008/js60_3/"},{"content":" JavaScriptç­†è¨˜ ç›®éŒ„\n ä¸€ç›´æ²’æ™‚é–“å°‡ä¹‹å‰çš„ç­†è¨˜ä¸Ÿåˆ°é€™ä¾†ï¼Œå‰›å¥½æœ€è¿‘åƒåŠ  JS å­¸å¾’è¨“ç·´ç­ï¼Œå°±è¶é€™æ¬¡æ©Ÿæœƒé‡æ–°æ•´ç†ç­†è¨˜ã€‚\n\rè®Šæ•¸ Variable ç¨‹å¼ç¢¼æœƒéœ€è¦æš«æ™‚å„²å­˜ä¸€äº›å·¥ä½œæ‰€éœ€è¦çš„è³‡æ–™ï¼Œå®ƒå¯ä»¥æŠŠé€™äº›è³‡æ–™å„²å­˜åœ¨è®Šæ•¸ä¸­ã€‚\nè®Šæ•¸å¿…é ˆå…ˆå®£å‘Šæ‰èƒ½ä½¿ç”¨å®ƒï¼Œæœ‰ä¸‰ç¨®é—œéµå­—å¯ç”¨ä¾†å®£å‘Šï¼š\n varï¼šå‡½å¼ä½œç”¨åŸŸ letï¼šå€å¡Šä½œç”¨åŸŸã€ç„¡æ³•é‡è¤‡å®£å‘Š constï¼šå€å¡Šä½œç”¨åŸŸã€ç„¡æ³•é‡è¤‡å®£å‘Šã€ç„¡æ³•å†æ¬¡è³¦å€¼  1. ä½¿ç”¨ var å®£å‘Šè®Šæ•¸ åœ¨ ES6 ä¹‹å‰ï¼Œvar æ˜¯å”¯ä¸€å¯ç”¨æ–¼å®šç¾©è®Šæ•¸çš„é—œéµå­—ã€‚\nå®£å‘Šåç¨±ç‚º a çš„è®Šæ•¸ï¼š\n1 2 3  var a; console.log(a); // undefined   è‹¥å®£å‘Šæ™‚ï¼Œæœªè³¦å€¼ï¼Œè®Šæ•¸æœƒè¢«çµ¦äºˆç‰¹æ®Šå€¼ undefinedï¼Œè¡¨ç¤ºå€¼æ²’æœ‰è¢«å®šç¾©ã€‚\nå»ºç«‹è®Šæ•¸å¾Œå¯ä»¥ä½¿ç”¨ = æŒ‡å®šé‹ç®—å­ä¾†è³¦å€¼ã€‚\n1 2 3 4  var a; a = 10; console.log(a); // 10   var å¯ä»¥é‡è¤‡å®£å‘Šï¼š\n1 2 3 4  var a = 1; var a = 2; console.log(a); // 2   é›–ç„¶èªæ³•åˆæ³•ï¼Œä½†æ˜¯ä¸å»ºè­°é€™éº¼åšã€‚\nåœ¨å…¨åŸŸç¯„åœå®£å‘Šè®Šæ•¸ï¼Œè®Šæ•¸æœƒæˆç‚ºå…¨åŸŸç‰©ä»¶ï¼š\n1 2  var a = 10; console.log(this.a); // 10   2. è®Šæ•¸çš„è³‡æ–™å‹åˆ¥ JavaScript å±¬æ–¼å‹•æ…‹å®šå‹èªè¨€ï¼Œè®Šæ•¸æœ¬èº«ä¸¦æ²’æœ‰å‹åˆ¥è³‡è¨Šï¼Œå› æ­¤å»ºç«‹è®Šæ•¸æ™‚ï¼Œä¸éœ€è¦å®£å‘Šå‹åˆ¥ï¼ŒåŒä¸€å€‹è®Šæ•¸å¯ä»¥æŒ‡å®šä¸åŒçš„è³‡æ–™å‹åˆ¥ã€‚\n3. åŒä¸€å€‹è¿°å¥ä¸­å®£å‘Šå¤šå€‹è®Šæ•¸ 1  var a, b;   4. æ²’å®£å‘Šçš„è®Šæ•¸ ä¸éœ€å‘Šè®Šæ•¸ä¹Ÿèƒ½ä½¿ç”¨ï¼š\n1 2  a = 10; console.log(a); // 10   a æœƒè®Šæˆå…¨åŸŸè®Šæ•¸ï¼Œé€™æ˜¯ JavaScript çš„é›·é»ä¹‹ä¸€ã€‚\nä½†åœ¨ ES5 ä¹‹å¾Œï¼Œæ–°å¢äº†åš´æ ¼æ¨¡å¼ï¼Œåœ¨åš´æ ¼æ¨¡å¼ä¹‹ä¸‹ï¼Œè®Šæ•¸ä¸€å®šè¦å®£å‘Šï¼Œå¦å‰‡æœƒæ‹‹å‡ºéŒ¯èª¤ã€‚\n1 2 3 4 5 6  \u0026#39;use strict\u0026#39; a = 10; console.log(a); // Uncaught ReferenceError: msg is not defined   5. é‚„æ²’å®£å‘Šçš„è®Šæ•¸ åœ¨ var å®£å‘Šè®Šæ•¸å‰å‘¼å«ï¼Œä¹Ÿä¸æœƒå ±éŒ¯ï¼š\n1 2 3  console.log(a); // undefined var a = 10; console.log(a); // 10   é€™æ˜¯å› ç‚ºè®Šæ•¸çš„ æå‡ï¼ˆHoistingï¼‰ è¡Œç‚ºã€‚\n6. ä½œç”¨åŸŸ Scope 5.1 å‡½å¼ä½œç”¨åŸŸ ä½¿ç”¨ var å®£å‘Šè®Šæ•¸å°‡å±¬æ–¼ç•¶å‰çš„å‡½å¼ä½œç”¨åŸŸï¼Œå¦‚æœè²æ˜ä½æ–¼ä»»ä½•å‡½å¼å¤–éƒ¨çš„é ‚å±¤ï¼Œå®ƒå°±å±¬æ–¼å…¨å±€ä½œç”¨åŸŸä¹Ÿå°±æ˜¯å…¨åŸŸè®Šæ•¸ã€‚\n1 2 3 4 5  function num() { var a = 5; } console.log(a); // a is not defined   5.2 å·¢ç‹€ä½œç”¨åŸŸ ç•¶ä½ å®£å‘Šäº†ä¸€å€‹è®Šæ•¸æ™‚ï¼Œå®ƒå°±åœ¨é€™å€‹ä½œç”¨åŸŸå…§çš„ä»»ä½•åœ°æ–¹éƒ½æ˜¯å¯ç”¨çš„ï¼ŒåŒ…æ‹¬ä»»ä½•ä¸‹å±¤/å…§éƒ¨ä½œç”¨åŸŸã€‚\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21  function foo() { var a = 1; function bar() { var b = 2; function baz() { var c = 3; console.log(a, b, c); // 1 2 3  } baz(); console.log(a, b); // 1 2  } bar(); console.log(a); // 1 } foo();   7. å‘½åè¦å‰‡ è®Šæ•¸å‘½åè¦å‰‡ï¼Œå¿…é ˆéµå®ˆä»¥ä¸‹æ¢ä»¶ï¼š\n ä¸èƒ½ä»¥æ•¸å­—èµ·å§‹ ä¸èƒ½ä½¿ç”¨é—œéµå­—ã€æˆ–æ˜¯ä¿ç•™å­— ä»»ä½• Unicode éƒ½å¯ä»¥æ‹¿ä¾†ç•¶ä½œ JavaScript çš„è®Šæ•¸  ä½†é€™è£¡æœ‰ä¸€é»è¦æ³¨æ„ï¼Œundefined åœ¨ JavaScript ä¸¦ä¸æ˜¯ä¿ç•™å­—ï¼š\n1 2 3 4 5 6  function foo() { var undefined = 10; return undefined; } console.log(foo()); // 10   åœ¨å‡½å¼ä¸­ï¼Œundefined å¯ä»¥ä½œç‚ºè®Šæ•¸ã€‚\nletã€const åœ¨ ES6 æ–°å¢äº†å…©ç¨®è®Šæ•¸å®£å‘Šæ–¹å¼ã€‚let èˆ‡ const éƒ½æ˜¯ä»¥å€å¡Šç‚ºä½œç”¨åŸŸçš„å®£å‘Šï¼Œè€Œä¸”ä¸å¯ä»¥åœ¨åŒä¸€å€‹ä½œç”¨åŸŸä¸‹é‡è¤‡å®£å‘Šï¼Œå¦å¤–åœ¨å…¨åŸŸç¯„åœå®£å‘Šè®Šæ•¸ï¼Œè®Šæ•¸ä¸¦ä¸æœƒæˆç‚ºå…¨åŸŸç‰©ä»¶ã€‚\nå…©è€…å·®ç•°åœ¨æ–¼ const æ˜¯å¸¸æ•¸ç‚ºä¸èƒ½å†æ¬¡æŒ‡å®šå€¼ã€‚\n1. ä»¥å€å¡Šç‚ºä½œç”¨åŸŸçš„å®£å‘Š JavaScript çš„è®Šæ•¸ä½œç”¨åŸŸçš„åŸºæœ¬å–®ä½æ°¸é éƒ½æ˜¯å‡½å¼ã€‚å¦‚æœéœ€è¦å»ºç«‹ä¸€å€‹å€å¡Šä½œç”¨åŸŸï¼Œæœ€å¸¸ä½¿ç”¨çš„æ–¹å¼å°±æ˜¯ä½¿ç”¨ç«‹å³å‡½å¼é‹ç®—å¼ã€‚\n1 2 3 4 5 6 7 8  var a = 2; (function(){ var a = 3; console.log( a ); // 3 })(); console.log( a ); // 2   è€Œ let æˆ– const åªéœ€è¦ä¸€å° {} å°±èƒ½å»ºç«‹ä¸€å€‹ä½œç”¨åŸŸã€‚\n1 2 3 4 5 6 7  let a = 2; { let a = 3; console.log( a ); // 3 } console.log( a ); // 2   2. let let æœ€å¸¸ä½¿ç”¨çš„æƒ…å¢ƒå°±æ˜¯ if è¿´åœˆï¼Œæˆ‘å€‘å¯ä»¥å°‡è®Šæ•¸çš„ä½œç”¨åŸŸé™åˆ¶æ–¼è¿´åœˆä¸­ã€‚for åœ“æ‹¬è™Ÿä¸­çš„ let è®Šæ•¸ä»ç„¶æ˜¯åœ¨å€å¡Šä½œç”¨åŸŸã€‚\nèˆ‰ä¾‹ä¾†èªªï¼Œå¦‚æœä½¿ç”¨ var å®šç¾© iï¼š\n1 2 3 4 5  for(var i = 0; i \u0026lt; 3; i++) { console.log(i); } console.log(i); // 3   ä½ å¯ä»¥ç™¼ç¾ i æ±™æŸ“äº†å…¨åŸŸã€‚\n1 2 3 4 5  for(let i = 0; i \u0026lt; 3; i++) { console.log(i); } console.log(i); // Uncaught ReferenceError: i is not defined   for è¿´åœˆä¸­çš„ let è®Šæ•¸æœƒä½œé‡æ–°ç¶å®šã€‚\nä¾†çœ‹ä¸€å€‹ç¶“å…¸çš„ç¯„ä¾‹ï¼š\n1 2 3 4 5 6 7 8 9  for(var i = 0; i \u0026lt; 3; i++) { setTimeout(function() { console.log(i); }, i * 1000); } // 3 // 3 // 3   å› ç‚º var æœƒç›´æ¥å°‡ i å®£å‘Šæˆå…¨åŸŸè®Šæ•¸ï¼Œä¸æ–·é€é for è¿´åœˆç´¯åŠ ï¼Œåœ¨ç­‰åˆ° setTimeout() é€™å€‹éåŒæ­¥ç¨‹å¼å¯¦éš›åŸ·è¡Œæ™‚ï¼Œåªæœƒæ‹¿åˆ°ç´¯åŠ å¾Œçš„æ•¸å€¼ã€‚\n1 2 3 4 5 6 7 8 9  for(let i = 0; i \u0026lt; 3; i++) { setTimeout(function() { console.log(i); }, i * 1000); } // 0 // 1 // 2   3. const å¸¸æ•¸ constant æŒ‡æ˜¯çš„æ•¸å€¼ä¸è®Šçš„å€¼ã€‚æ—©æœŸåªæœ‰ var æ™‚ï¼Œå®£å‘Šå¸¸æ•¸æ™‚ï¼Œéƒ½æ˜¯åˆ©ç”¨åç¨±å…¨å¤§å¯«ä¾†å€åˆ†ï¼Œä½†å®ƒé‚„æ˜¯èƒ½å¤ è¢«æ›´æ”¹ã€‚\nè€Œä½¿ç”¨ const å®£å‘Šè®Šæ•¸ï¼Œæœ‰ä¸€çš„ç‰¹é»ï¼Œå°±æ˜¯ ã€Œä¸èƒ½å†æ¬¡æŒ‡å®šå€¼ã€ï¼Œå®£å‘Šæ™‚ä¸€å®šè¦è³¦å€¼ã€‚\nå¦‚æœè©¦è‘—å° const é‡æ–°è³¦å€¼ï¼Œé‚£å°‡æœƒå ±éŒ¯ï¼š\n1 2 3 4  const a = 1; a = 2; // Uncaught TypeError: Assignment to constant variable. console.log( 1 ); // 2   ä½†å¦‚æœä¸€é–‹å§‹å®£å‘Šçš„è®Šæ•¸å…§å®¹ç‚ºç‰©ä»¶å‹åˆ¥ï¼Œé‚£å…¶å…§å®¹å±¬æ€§é‚„æ˜¯å¯ä»¥è¢«æ”¹è®Šï¼š\n1 2 3  const obj = {}; obj.a = \u0026#39;aa\u0026#39;;   ä½ ç„¡æ³•æ›´æ”¹çš„åªæ˜¯è®Šæ•¸æœ¬èº«ã€‚\n3. é‡è¤‡å®£å‘Š ä¸Šé¢æåˆ°ï¼Œvar å…è¨±åœ¨åŒä¸€å€‹ä½œç”¨åŸŸä¸‹é‡è¤‡å®£å‘Šï¼Œç€è¦½å™¨ä¸æœƒå ±éŒ¯ï¼Œä½† let èˆ‡ const æœƒå‡ºéŒ¯ã€‚\n1 2 3  let a; let a = 0; // Uncaught SyntaxError: Identifier \u0026#39;a\u0026#39; has already been declared   4. é‚„æ²’å®£å‘Šçš„è®Šæ•¸ ä¸Šé¢æåˆ°ï¼Œvar åœ¨å…¶å®£å‘Šçš„å‰å¾Œç¯„åœéƒ½æ˜¯æœ‰æ•ˆçš„ï¼Œæ˜¯å› ç‚ºæœ‰ æå‡ã€‚\nä½†å¤§éƒ¨åˆ†çš„æƒ…æ³ä¸‹ï¼ŒåŒå¸¸ä¸æ‡‰è©²æœ‰æå‡è¡Œç‚ºçš„å‡ºç¾ï¼Œæˆ‘å€‘ä¾†çœ‹ let çš„æƒ…æ³ï¼š\n1 2 3  console.log(a); // Uncaught ReferenceError: Cannot access \u0026#39;a\u0026#39; before initialization let a = 10;   let åœ¨æ­£å¼å€¼è¡Œå‰ï¼Œè®Šæ•¸ä¸æœƒè³¦å€¼ï¼Œå› åœ¨æ²’å€¼çš„ç‹€æ³ä¸‹è¢«å­˜å–å°±æœƒæ‹‹å‡ºéŒ¯èª¤ã€‚\næ’°å¯«é¢¨æ ¼ åƒè€ƒä»¥ä¸‹å¸¸è¦‹ ESLint è¦ç¯„ï¼š\n Airbnb JavaScript Style Guide Google JavaScript Style Guide  ç¸½çµå¹¾é»å»ºè­°ï¼š\n let å¯å®Œå…¨æ›¿ä»£ varï¼Œä¸æ‡‰è©²å†ç¹¼çºŒä½¿ç”¨ var å®£å‘Šè®Šæ•¸ï¼› å„ªå…ˆä½¿ç”¨ constï¼Œé™¤ééœ€è¦å†æŒ‡å®šå€¼æ‰ç”¨ letï¼› ä¸ä½¿ç”¨é€—è™Ÿ , å°‡è®Šæ•¸å€¼å®£å‘Šåœ¨åŒä¸€è¡Œï¼› ä¸è¦å°‡è®Šæ•¸éƒ½æ”¾åœ¨å€å¡Šçš„æœ€ä¸Šå±¤ï¼Œè€Œæ˜¯åœ¨åˆç†ä½ç½®ï¼Œåœ¨é¦–æ¬¡è¢«ä½¿ç”¨çš„ä¸Šé¢ä¸€è¡Œä¾†å®£å‘Šè®Šæ•¸ã€‚ ","description":"JavaScript è®Šæ•¸ varã€letã€const","id":63,"section":"posts","tags":["JavaScript","ES6","è®Šæ•¸"],"title":"è®Šæ•¸","uri":"https://chupai.github.io/posts/2008/js_variable/"},{"content":" ç«¹ç™½çš„ JS å­¸å¾’ç‰¹è¨“ç­ç­†è¨˜ - ç›®éŒ„\n è¨˜éŒ„å…­è§’å­¸é™¢æ‰€é–‹çš„ JS å­¸å¾’ç‰¹è¨“ç­ï¼Œç‚ºæœŸ 60å¤©çš„ç‰¹è¨“ã€‚\n\rç¬¬åä¸€é—œï¼šå‡½å¼åƒæ•¸å†ç·´ç¿’  é¡Œç›®é€£çµ\n åŠ‡æƒ…ç•¥ã€‚\n11. å•é¡Œ é¡Œç›®ä¸€ï¼šè€é—†æƒ³è¦éš¨æ™‚æ‰£ä½ çš„è–ªæ°´\nè€é—†ï¼šã€Œä»Šå¤©æ˜¯ç™¼è–ªæ—¥ï¼Œå…ˆç™¼çµ¦ä½ è–ªè³‡ 23500 å…ƒ(éçµ¦å°æ°ã€\nè€é—†ï¼šã€Œä»¥ä¸‹ä¸‰æ­¥é©Ÿå‹•ä½œè«‹å¯«æˆç¨‹å¼ã€\nè€é—†ï¼šã€Œæ­¥é©Ÿä¸€ï¼šæ˜¨å¤©ä½ ä¸Šå»æ‰€å¤ªä¹…äº†ï¼Œæˆ‘è¦æ‰£ä½  1000 å…ƒã€\nè€é—†ï¼šã€Œæ­¥é©ŸäºŒï¼šå°é»‘èªªä¸å–œæ­¡ä½ ç…®çš„ç‹—é£Ÿï¼Œæˆ‘è¦å†æ‰£ä½  3500 å…ƒ (å†æ¬¡å–èµ°ã€\nè€é—†ï¼šã€Œæ­¥é©Ÿä¸‰ï¼šæˆ‘ä»Šå¤©å¿ƒæƒ…ä¸å¤ªå¥½ï¼Œæ‰£å€‹ 500 å…ƒæ„æ€ä¸€ä¸‹ã€\nå°æ°ï¼šã€Œå±å•¦ï¼å¿ƒæƒ…ä¸å¤ªå¥½é—œæˆ‘å•¥äº‹ï¼ã€\nè€é—†ï¼šã€Œé€™ä¸æ˜¯é‡é»ï¼Œå¿«é»ç®—ï¼å°‡ä¹‹å‰çš„å¯«æ³•æ›æˆå‡½å¼ï¼Œä¸¦å¢åŠ ä¸€å€‹åƒæ•¸ï¼Œè®“æˆ‘æ–¹ä¾¿ä½•æ™‚æ‰£ä½ å¤šå°‘éƒ½æ²’å•é¡Œã€\nè€é—†ï¼šã€Œæœ€å¾Œä½ å¯«çš„å‡½å¼ï¼Œè¦åŸ·è¡Œä¸‰æ¬¡ï¼Œæ¯æ¬¡éƒ½è¦å›å ±ä½ çš„ç¸½è–ªæ°´å‰©ä¸‹å¤šå°‘ã€‚ã€\n1 2 3 4 5  var salary = 23500; //è«‹ä¾ç…§ä¸Šé¢çš„æ­¦åŠŸç§˜ç¬ˆ Codepenï¼Œä¾åºå¯¦ç¾å…©æ­¥é©Ÿï¼Œç®—å‡ºå°æ°è¢«æ‰£äº†å¤šå°‘éŒ¢  console.log(\u0026#39;å°æ°ç›®å‰é‚„å‰©ä¸‹\u0026#39; + salary + \u0026#39;å…ƒ\u0026#39;);   é¡Œç›®äºŒï¼š if + æŒ‡æ´¾é‹ç®—å­\nè€é—†ï¼šã€Œå¥½äº†ï¼Œç¾åœ¨æˆ‘è¦å‘Šè¨´ä½ è´ˆå“æ¢ä»¶ï¼ã€\n ç›®å‰å°æ°æ‰‹ä¸Šæœ‰ 3 å€‹è´ˆå“ æ¶ˆè²»æ»¿ 100 å…ƒå°±é€å°æ–¹è´ˆå“  ä¸‹åœ–ç‚ºç¬¬å…«é—œæˆªåœ–ï¼Œè«‹ä¾ç…§ä»¥ä¸‹é‚è¼¯é€²è¡Œæ”¹å¯«ï¼š\n ç¾åœ¨ä¾†äº†ä¸‰å€‹å®¢äººï¼Œä¸¦ä¾åºæœ‰æ¶ˆè²»ï¼ŒAé¡§å®¢æ¶ˆè²» 150ã€B é¡§å®¢æ¶ˆè²» 99ã€C é¡§å®¢æ¶ˆè²» 110ã€‚ è«‹è¨­è¨ˆä¸€å€‹å‡½å¼ï¼Œè£¡é¢ä»£å…¥ä¸€å€‹åƒæ•¸ç‚ºé¡§å®¢æ¶ˆè²»é‡‘é¡ï¼Œç¢ºèªè©²å®¢æˆ¶æ˜¯å¦ç¬¦åˆè´ˆå“æ¢ä»¶ï¼Œè‹¥ç¬¦åˆå°±è®“ giftNum è®Šæ•¸æ¸›å°‘æ•¸é‡ã€‚ ä¸¦ä¾åºåŸ·è¡Œä¸‰æ¬¡å‡½å¼ï¼Œæ¯æ¬¡å‡½å¼çš†æœƒ return ç›®å‰è´ˆå“æ•¸é‡å‰©ä¸‹å¤šå°‘ã€‚  1 2 3 4 5 6 7 8 9  var giftNum = 3; // è´ˆå“æ•¸é‡ var customerA = 150; // é¡§å®¢ A æ¶ˆè²»é‡‘é¡ var customerB = 99; // é¡§å®¢ B æ¶ˆè²»é‡‘é¡ var customerC = 99; // é¡§å®¢ C æ¶ˆè²»é‡‘é¡  if (å®¢æˆ¶Aæ¢ä»¶) {} if (å®¢æˆ¶Bæ¢ä»¶) {} console.log(\u0026#39;ç›®å‰è´ˆå“å‰©ä¸‹\u0026#39; + giftNum + \u0026#39;å€‹\u0026#39;);   é¡Œç›®ä¸‰ï¼šif + æŒ‡æ´¾é‹ç®—å­\nè€é—†ï¼šã€Œæˆ‘ç¾åœ¨è£œé½Šçµ¦ä½ ç¸½è¨ˆ 200 å€‹è´ˆå“ï¼ã€\nè€é—†ï¼šã€Œç„¶å¾Œæˆ‘è¦ºå¾—ç¾åœ¨è´ˆå“é–€æª»å¤ªé«˜äº†ï¼Œæˆ‘æ±ºå®šå¤§æ”¾é€ï¼Œåªè¦æ»¿ 50 å…ƒå°±é€ä¸€å€‹ï¼ä»¥æ­¤é¡æ¨ï¼Œä»–è²· 500 å…ƒå°±é€ 10 å€‹è´ˆå“ï¼ã€\nå°æ°ï¼šã€Œè€é—†ä½ ç«Ÿç„¶åˆ©ç”¨æˆ‘çš„ç‰¹ä¼‘ï¼Œæˆ‘è·Ÿä½ æ²’å®Œå•¦ã€‚ã€\nè€é—†ï¼šã€Œåˆ¥å»¢è©±ï¼Œå®¢äººä¾†äº†å¿«é»ï¼ä»–è²·å®Œå¾Œå‘Šè¨´æˆ‘è´ˆå“é‚„å¤ ä¸å¤ ï¼ã€\nä¸‹åœ–ç‚ºç¬¬å…«é—œæˆªåœ–ï¼ŒgiftNum å·²æ”¹ç‚º 200 ä»½ï¼Œè«‹ä¾ç…§ä»¥ä¸‹é‚è¼¯é€²è¡Œæ”¹å¯«ï¼š\n è«‹ç”¨å‡½å¼æ”¹å¯«ï¼ŒåŒæ™‚ä¾†äº†ä¸‰çµ„å®¢äººï¼Œè«‹ç”¨ä½ å¯«çš„å‡½å¼é€£çºŒåŸ·è¡Œä¸‰æ¬¡ï¼Œä¾†å¹«åŠ©é¡§å®¢æ˜¯å¦æœ‰ç¬¦åˆè´ˆå“æ¢ä»¶ã€‚ å¦å¤–æ¯æ¬¡åŸ·è¡Œå‡½å¼æ™‚ï¼Œéƒ½å¿…é ˆå‘Šè¨´è€é—†ä¸€æ¬¡ç›®å‰è´ˆå“æ•¸é‡ã€‚  ç¬¬ä¸€çµ„å®¢äººï¼šMary è²·äº† 10 ä»½è–¯æ¢ï¼Œ10 ä»½æ¼¢å ¡\nç¬¬äºŒçµ„å®¢äººï¼šBob è²·äº† 1 ä»½è–¯æ¢\nç¬¬ä¸‰çµ„å®¢äººï¼šTim è²·äº† 20 ä»½è–¯æ¢ï¼Œ15 ä»½æ¼¢å ¡\n1 2 3 4 5 6 7 8 9 10 11 12 13 14  var giftNum = 200; // è´ˆå“æ•¸é‡ var friesPrice = 30; // è–¯æ¢å–®åƒ¹ var hamburgerPrice = 50; // æ¼¢å ¡å–®åƒ¹  // ä»¥ä¸‹æ˜¯é¡Œç›® // mary è²·äº† 10 ä»½è–¯æ¢ï¼Œ10 ä»½æ¼¢å ¡ // è«‹è¨ˆç®—å®Œè´ˆå“è¦å‰‡å¾Œï¼Œå–„ç”¨æŒ‡æ´¾é‹ç®—å­å»è¨ˆç®—ç›®å‰å‰©ä¸‹çš„è´ˆå“æœ‰å¹¾å€‹ // ä¸¦ç”¨ä¸‹é¢çš„ if å›å ±çµ¦è€é—†  if (æ¢ä»¶å¼) { console.log(\u0026#39;è€é—†ï¼è´ˆå“é‚„å¤ ï¼å‰©ä¸‹\u0026#39; + giftNum + \u0026#39;å€‹~\u0026#39;); } else { console.log(\u0026#39;è€é—†è´ˆå“è³£å…‰å•¦~\u0026#39;); }   11. åƒè€ƒè§£ç­” é¡Œç›®ä¸€ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16  function calculate(num) { salary -= num; return salary; } calculate(1000); console.log(\u0026#39;å°æ°ç›®å‰é‚„å‰©ä¸‹\u0026#39; + salary + \u0026#39;å…ƒ\u0026#39;); // \u0026#39;å°æ°ç›®å‰é‚„å‰©ä¸‹22500å…ƒ \u0026#39;  calculate(3500); console.log(\u0026#39;å°æ°ç›®å‰é‚„å‰©ä¸‹\u0026#39; + salary + \u0026#39;å…ƒ\u0026#39;); // \u0026#39;å°æ°ç›®å‰é‚„å‰©ä¸‹19000å…ƒ\u0026#39;  calculate(500); console.log(\u0026#39;å°æ°ç›®å‰é‚„å‰©ä¸‹\u0026#39; + salary + \u0026#39;å…ƒ\u0026#39;); // \u0026#39;å°æ°ç›®å‰é‚„å‰©ä¸‹18500å…ƒ\u0026#39;   é¡Œç›®äºŒï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18  function calculate(num) { if (num \u0026gt;= 100) { giftNum -= 1; } return giftNum; } calculate(customerA); console.log(\u0026#39;ç›®å‰è´ˆå“å‰©ä¸‹\u0026#39; + giftNum + \u0026#39;å€‹\u0026#39;); // ç›®å‰è´ˆå“å‰©ä¸‹2å€‹  calculate(customerB); console.log(\u0026#39;ç›®å‰è´ˆå“å‰©ä¸‹\u0026#39; + giftNum + \u0026#39;å€‹\u0026#39;); // ç›®å‰è´ˆå“å‰©ä¸‹2å€‹  calculate(customerC); console.log(\u0026#39;ç›®å‰è´ˆå“å‰©ä¸‹\u0026#39; + giftNum + \u0026#39;å€‹\u0026#39;); // ç›®å‰è´ˆå“å‰©ä¸‹1å€‹   é¡Œç›®æ²’èªªæ˜ï¼Œå› æ­¤é€™è£¡ä¸è€ƒæ…®è´ˆå“ä¸è¶³ï¼ˆgiftNum è®Šè² æ•¸ï¼‰çš„æƒ…æ³ã€‚\né¡Œç›®ä¸‰ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13  function calculate(friesNum = 0, hamburgerNum = 0) { let total = friesPrice * friesNum + hamburgerPrice * hamburgerNum; giftNum -= Math.floor(total / 50); if (giftNum \u0026gt; 0) { console.log(\u0026#39;è€é—†ï¼è´ˆå“é‚„å¤ ï¼å‰©ä¸‹\u0026#39; + giftNum + \u0026#39;å€‹~\u0026#39;); } else { console.log(\u0026#39;è€é—†è´ˆå“è³£å…‰å•¦~\u0026#39;); } } calculate(10, 10); // è€é—†ï¼è´ˆå“é‚„å¤ ï¼å‰©ä¸‹184å€‹ calculate(1); // è€é—†ï¼è´ˆå“é‚„å¤ ï¼å‰©ä¸‹184å€‹ calculate(20, 15); // è€é—†ï¼è´ˆå“é‚„å¤ ï¼å‰©ä¸‹157å€‹   ç¬¬åäºŒé—œï¼šDOM æ“ä½œ  é¡Œç›®é€£çµ\n åŠ‡æƒ…ç•¥ã€‚\n12. é¡Œç›®  è«‹è§€çœ‹æ­¤ Codepen çš„ç·šç´¢ï¼Œè©¦åœ–æ‰¾åˆ°å¯†ç¢¼ï¼Œä¸¦åœ¨ Slack ä¸Šå›å‚³å¯†ç¢¼ ä»¥ä¸‹ Codepen çš„ HTML èˆ‡ CSS é¢æ¿éƒ½å£æ‰äº†ï¼Œä½ åªèƒ½ç·¨è¼¯ JS é¢æ¿ï¼Œä¾†å»å°‹æ‰¾ç·šç´¢  12. åƒè€ƒè§£ç­” 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15  let url = \u0026#39;https://hexschool.github.io/JSTraining/stage12/\u0026#39;; // å€å¡Šä¸€ï¼Œè·¯å¾‘æ”¾éŒ¯äº†ï¼Œå¾—ç”¨ setAttribute æ› src å±¬æ€§ï¼Œæ›æˆ 1.png document.querySelector(\u0026#39;.keyItem1 img\u0026#39;).setAttribute(\u0026#39;src\u0026#39;, `${url}1.png`); // å€å¡ŠäºŒï¼Œå”¯ä¸€æœ‰æ”¾å°ï¼Œä¸éœ€æ›´æ”¹  // å€å¡Šä¸‰ï¼Œè«‹ç”¨ innerHTMLï¼ŒæŒ‡å®š keyItem3ï¼Œè®“ä»–æ’å…¥ 3.png åœ–ç‰‡ document.querySelector(\u0026#39;.keyItem3\u0026#39;).innerHTML = ` \u0026lt;div class=\u0026#34;keyItem keyItem3\u0026#34;\u0026gt; \u0026lt;img src=\u0026#34;${url}3.png\u0026#34; alt=\u0026#34;\u0026#34;\u0026gt; \u0026lt;/div\u0026gt;`; // å€å¡Šå››ï¼Œåªèƒ½ç”¨ style æ’å…¥ background 4.png document.querySelector(\u0026#39;.keyItem4\u0026#39;).style.background = `url(\u0026#34;${url}4.png\u0026#34;)`;   è§£ç­” Codepen\næ•™å­¸ã€å»¶ä¼¸çŸ¥è­˜é€£çµ  JavaScript æ•™ç¨‹ - DOM ç¾ä»£ JavaScript æ•™ç¨‹ - Document  ç¬¬åä¸‰é—œï¼šå‡½å¼+if åˆ¤æ–·  é¡Œç›®é€£çµ\n åŠ‡æƒ…ç•¥ã€‚\n13. å•é¡Œ ä»¥ä¸‹ç‚º BMI è¨ˆç®—æ–¹å¼ï¼š\n BMI è¨ˆç®—ç‚ºï¼šé«”é‡(å…¬æ–¤) / èº«é«˜çš„å¹³æ–¹(å–®ä½ç‚ºå…¬å°º)  ä¾‹å¦‚ 150 å…¬åˆ† 50 kg = 50/(1.5*1.5) = 22.2 BMI æŒ‡æ•¸   BMI æ•¸å€¼ç‹€æ…‹å¦‚ä¸‹  é«”é‡éè¼•ï¼šBMI ï¼œ 18.5 æ­£å¸¸ï¼š18.5 â‰¦ BMI ï¼œ 24 éé‡ï¼š24 â‰¦ BMI ï¼œ 27 è¼•åº¦è‚¥èƒ–ï¼š27 â‰¦ BMI ï¼œ 30 ä¸­åº¦è‚¥èƒ–ï¼š30 â‰¦ BMI ï¼œ 35 é‡åº¦è‚¥èƒ–ï¼šBMI â‰§3 5ã€€    å°æ°æ‰“é–‹ Code æ‰ç™¼ç¾ï¼Œè£¡é¢çš„ if åˆ¤æ–·æ ¹æœ¬éƒ½åœ¨äº‚å¯«ï¼Œè«‹ä¾ç…§ä¸Šé¢çš„ BMI ç‹€æ…‹ä¾†æ”¹å¯«ï¼Œä¸¦é‚„å°æ°ä¸€å€‹æ¸…ç™½ã€‚\nè«‹ä¿®æ”¹æ­¤ Codepenï¼Œä¸¦å°‡ä¿®æ”¹çµæœå›å‚³åˆ° Slackã€‚\n1 2 3 4 5 6 7 8 9 10  function calculationBMI(height, kg) { var bmi = kg / (height / 100 * height / 100); if (bmi \u0026gt; 20) { return \u0026#39;éèƒ–ï¼ä½†èƒ½åƒå°±æ˜¯ç¦ï¼Œç¶­æŒç¾æ³ä¹Ÿæ²’ä»€éº¼ä¸å¥½çš„~\u0026#39;; } else { return \u0026#39;ä½ å¾ˆç˜¦~ã„•ã„¡Ë‹~~\u0026#39;; } } console.log(calculationBMI(178, 70));   13. åƒè€ƒè§£ç­” 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16  if (bmi \u0026lt; 18.5) { return \u0026#39;é«”é‡éè¼•\u0026#39;; } if (bmi \u0026lt;= 24) { return \u0026#39;æ­£å¸¸\u0026#39;; } if (bmi \u0026lt;= 27) { return \u0026#39;éé‡\u0026#39;; } if (bmi \u0026lt;= 30) { return \u0026#39;è¼•åº¦è‚¥èƒ–\u0026#39;; } if (bmi \u0026lt;= 35) { return \u0026#39;ä¸­åº¦è‚¥èƒ–\u0026#39;; } return \u0026#39;é‡åº¦è‚¥èƒ–\u0026#39;;   if è£¡é¢å·²ç¶“ä½¿ç”¨ returnï¼Œå°±ä¸å»ºè­°ä½¿ç”¨å¤šé¤˜çš„ else if äº†ã€‚\næ•™å­¸ã€å»¶ä¼¸çŸ¥è­˜é€£çµ  ç¦æ­¢åœ¨ else å‰æœ‰ return (no-else-return)ï½œESLint é¿å…éš¨æ„è€Œé‡è¤‡çš„if\u0026hellip;else JavaScript å¤æ‚åˆ¤æ–­çš„æ›´ä¼˜é›…å†™æ³• WEBå‰ç«¯if else æ€§èƒ½ä¼˜åŒ–æŒ‡å—\n ç†è§£ JavaScript ä¸­çš„ç­–ç•¥æ¨¡å¼  ç¬¬åå››é—œï¼šç›£è½èˆ‡å‡½å¼è¨­è¨ˆ  é¡Œç›®é€£çµ\n åŠ‡æƒ…ç•¥ã€‚\n14. é¡Œç›® å°æ°æ‰“é–‹ç¶²é å¾Œï¼Œç™¼ç¾å·¥è®€ç”ŸåªæŠŠ HTML æ¨™ç±¤å¯«å¥½ï¼ŒJS å®Œå…¨æ²’å¯«ï¼Œ\nå› ç‚º HTML é¢æ¿å·²ç¶“å£æ‰äº†ï¼Œè«‹ç›´æ¥ä¿®æ”¹ JS Codeï¼Œ\nè®“ .total çš„é¡¯ç¤ºæ•¸å€¼ï¼Œå¯ä»¥æ­£å¸¸é‹ä½œã€‚\nä¸¦åœ¨ Slack ä¸Šå›å‚³ carbon JS Code èˆ‡ Codepenã€‚\nBMI 2.0ç‰ˆ Codepen ç¶²å€\n1 2 3 4 5 6 7  \u0026lt;input type=\u0026#34;text\u0026#34; class=\u0026#34;height\u0026#34; placeholder=\u0026#34;è«‹è¼¸å…¥æ‚¨çš„èº«é«˜(å…¬åˆ†)\u0026#34;\u0026gt; \u0026lt;input type=\u0026#34;text\u0026#34; class=\u0026#34;kg\u0026#34; placeholder=\u0026#34;è«‹è¼¸å…¥æ‚¨çš„é«”é‡(å…¬æ–¤)\u0026#34;\u0026gt; \u0026lt;input type=\u0026#34;button\u0026#34; class=\u0026#34;send\u0026#34; value=\u0026#34;è¨ˆç®—\u0026#34;\u0026gt; \u0026lt;p class=\u0026#34;total\u0026#34;\u0026gt;æ‚¨çš„ BMI æŒ‡æ•¸ç‚º \u0026lt;span class=\u0026#34;BMI\u0026#34;\u0026gt;22\u0026lt;/span\u0026gt;ï¼Œ ç‹€æ…‹æ˜¯ \u0026lt;span class=\u0026#34;status\u0026#34;\u0026gt;æ­£å¸¸\u0026lt;/span\u0026gt; \u0026lt;/p\u0026gt;   14. åƒè€ƒè§£ç­” 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38  document.querySelector(\u0026#39;.send\u0026#39;).addEventListener(\u0026#39;click\u0026#39;, function () { let heightDom = document.querySelector(\u0026#39;.height\u0026#39;); let kgDom = document.querySelector(\u0026#39;.kg\u0026#39;); let height = Number(heightDom.value); let kg = Number(kgDom.value); let totalDom = document.querySelector(\u0026#39;.total\u0026#39;); // è‹¥è¼¸å…¥ä¸åˆæ³•çš„å€¼  if (isNaN(height) || isNaN(kg) || height \u0026lt; 1 || kg \u0026lt; 1) { totalDom.textContent = \u0026#39;è«‹è¼¸å…¥å¤§æ–¼ 1 çš„æ•¸å­—\u0026#39;; return; } let bmi = Math.floor(kg / (((height / 100) * height) / 100)); let result = bmiResult(bmi); totalDom.innerHTML = ` æ‚¨çš„ BMI æŒ‡æ•¸ç‚º \u0026lt;span class=\u0026#34;BMI\u0026#34;\u0026gt;${bmi}\u0026lt;/span\u0026gt;ï¼Œ ç‹€æ…‹æ˜¯ \u0026lt;span class=\u0026#34;status\u0026#34;\u0026gt;${result}\u0026lt;/span\u0026gt;`; }); function bmiResult(bmi) { if (bmi \u0026lt; 18.5) { return \u0026#39;é«”é‡éè¼•\u0026#39;; } if (bmi \u0026lt;= 24) { return \u0026#39;æ­£å¸¸\u0026#39;; } if (bmi \u0026lt;= 27) { return \u0026#39;éé‡\u0026#39;; } if (bmi \u0026lt;= 30) { return \u0026#39;è¼•åº¦è‚¥èƒ–\u0026#39;; } if (bmi \u0026lt;= 35) { return \u0026#39;ä¸­åº¦è‚¥èƒ–\u0026#39;; } return \u0026#39;é‡åº¦è‚¥èƒ–\u0026#39;; }   æ•™å­¸ã€å»¶ä¼¸çŸ¥è­˜é€£çµ  å°tips: JS DOM innerTextå’ŒtextContentçš„åŒºåˆ«\n  ç¬¬åäº”é—œï¼šç‰©ä»¶é‹ç”¨ - è³‡æ–™èˆ‡æ¸²æŸ“åˆ†é›¢  é¡Œç›®é€£çµ\n åŠ‡æƒ…ç•¥ã€‚\n15. å•é¡Œ ä»¥ä¸‹æ˜¯è­·ç†å¸«æ”¹å¯«å°æ°çš„é‚è¼¯ï¼Œç¨‹å¼ç¢¼é€£çµ\nè­·ç†å¸«æ‹¿äº†ä¹‹å‰å·¥è®€ç”Ÿçš„ Code æ”¹å¯«ï¼Œæ ¹æœ¬æ²’ç”¨å°æ°çš„ã€‚ä½†å¯ä»¥çœ‹å¾—å‡ºä¾†ï¼Œé€™å€‹ Code æœ‰åˆ»æ„éºç•™äº†äº›ä¸å®Œæ•´çš„åœ°æ–¹ï¼Œåƒæ˜¯ bmiData çš„ç‰©ä»¶æ²’æœ‰å°‡æ¢ä»¶å¯«å®Œæ•´ï¼Œé —æœ‰æƒ³è¦å†æ¬¡è€ƒé©—å°æ°çš„å‘³é“ã€‚\nè«‹å„ä½å°‡ä½ å€‘çš„ Code è·Ÿè­·ç†å¸«çš„é€²è¡Œæ¯”è¼ƒï¼Œçœ‹çœ‹å·®ç•°åœ¨å“ªè£¡ï¼Œä¸¦é€é Slack åˆ†äº«è‡ªå·±å¸æ”¶çš„çµæœï¼Œä¸¦è©¦è‘—ä¾ç…§è‡ªå·±çš„é‚è¼¯å¯«ä¸€éã€‚\né€™æ¬¡ HTML é¢æ¿å£æ‰äº†ï¼Œä½ å”¯ä¸€å¯ä»¥æ”¹çš„é¢æ¿åªæœ‰ CSS èˆ‡ JS é¢æ¿ã€‚\n15. åƒè€ƒè§£ç­” é€™è£¡å°±ä¸å„ªåŒ–äº†ï¼Œç›´æ¥è£œé½Šç¼ºçš„éƒ¨åˆ†ã€‚\nè£œé½Šæ‰€æœ‰ç‹€æ…‹é¡è‰²ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18  .blue { color: blue; } .green { color: green; } .pink { color: pink; } .orange { color: orange; } .purple { color: purple; } .red { color: red; }   å»ºè­°èªæ„åŒ–å‘½å class åç¨±ï¼Œä½†é€™è£¡å°±ä¾ç…§é¡Œç›®å§ã€‚\nè£œé½Š BMIData ç‰©ä»¶ç‹€æ…‹ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26  var BMIData = { overThin: { statusText: \u0026#39;é«”é‡éè¼•\u0026#39;, class: \u0026#39;blue\u0026#39;, }, normal: { statusText: \u0026#39;æ­£å¸¸\u0026#39;, class: \u0026#39;green\u0026#39;, }, overweight: { statusText: \u0026#39;éé‡\u0026#39;, class: \u0026#39;pink\u0026#39;, }, mildObesity: { statusText: \u0026#39;è¼•åº¦è‚¥èƒ–\u0026#39;, class: \u0026#39;orange\u0026#39;, }, moderateObesity: { statusText: \u0026#39;ä¸­åº¦è‚¥èƒ–\u0026#39;, class: \u0026#39;purple\u0026#39;, }, severeObesity: { statusText: \u0026#39;é‡åº¦è‚¥èƒ–\u0026#39;, class: \u0026#39;red\u0026#39;, }, };   è£œé½Š calculationBMI å‡½å¼ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13  if (bmi \u0026lt; 18.5) { render(\u0026#39;overThin\u0026#39;, bmi); } else if (bmi \u0026lt;= 24) { render(\u0026#39;normal\u0026#39;, bmi); } else if (bmi \u0026lt;= 27) { render(\u0026#39;overweight\u0026#39;, bmi); } else if (bmi \u0026lt;= 30) { render(\u0026#39;mildObesity\u0026#39;, bmi); } else if (bmi \u0026lt;= 35) { render(\u0026#39;moderateObesity\u0026#39;, bmi); } else { render(\u0026#39;severeObesity\u0026#39;, bmi); }    render å‡½å¼åŠ å…¥å…¶ä»– class å‰è¦å…ˆæ¸…é™¤æ‰€æœ‰ class æ¨£å¼ï¼š\n1  statusDOM.classList.remove(...statusDOM.classList);   è§£ç­” CodePen\næ•™å­¸ã€å»¶ä¼¸çŸ¥è­˜é€£çµ  JavaScript è¨­è¨ˆæ¨¡å¼ï¼šé—œæ³¨é»åˆ†é›¢ Fastest way to clear classList  ç¬¬åå…­é—œï¼šforEach èˆ‡ HTML å­—ä¸²ç´¯åŠ   é¡Œç›®é€£çµ\n åŠ‡æƒ…ç•¥ã€‚\n16. å•é¡Œ å°æ°ä¸€æ™‚é–“é‚„ä¸çŸ¥é“æ€éº¼å¯«ï¼Œæ‰€ä»¥å…ˆå¯«äº†é™£åˆ— + forEach çš„æ–¹å¼ä¾†ç´¯åŠ  HTML å­—ä¸²ï¼Œå†ä¾†é¡¯ç¤ºä»‹é¢å‡ºä¾†ã€‚ç¯„ä¾‹ç¨‹å¼ç¢¼\nè«‹ä½ ä¾ç…§é€™é‚è¼¯ï¼Œè©¦è‘—æ”¹å¯«ç‰©ä»¶æ ¼å¼ï¼Œå‘ˆç¾çš„æ ¼å¼å¦‚ä¸‹ç¨‹å¼ç¢¼ã€‚\nè¨­è¨ˆå¥½ç‰©ä»¶å¾Œï¼Œä¾åº push äº”ç­†è³‡æ–™åˆ°é™£åˆ—è£¡ï¼Œæœ€å¾Œæ•´ç†å®Œå­—ä¸²è³‡æ–™ï¼Œå† innerHTML åˆ° ul è£¡ã€‚\né€™æ¬¡ HTML èˆ‡ CSS é¢æ¿éƒ½å£äº†ï¼Œè«‹æ”¹å¯« JS é¢æ¿ã€‚\nPS:è«‹æ‹¿ä¸Šé¢çš„ Codepen æ”¹å¯«å³å¯ï¼Œä¸éœ€æ‹¿å‰å¹¾é—œçš„ code ä¾†æ•´åˆ\n\u0026lt;ul\u0026gt; \u0026lt;li\u0026gt;å°æ°çš„èº«é«˜ç‚º 178 å…¬åˆ†ï¼Œé«”é‡æ˜¯ 70 å…¬æ–¤ï¼ŒBMI æ•¸æ“šç‚º 20ï¼Œç‹€æ…‹ç‚ºæ­£å¸¸\u0026lt;/li\u0026gt; \u0026lt;li\u0026gt;å°ç¾çš„èº«é«˜ç‚º 150 å…¬åˆ†ï¼Œé«”é‡æ˜¯ 200 å…¬æ–¤ï¼ŒBMI æ•¸æ“šç‚º 38ï¼Œç‹€æ…‹ç‚ºè¶…é‡\u0026lt;/li\u0026gt; \u0026lt;/ul\u0026gt; 16. åƒè€ƒç­”æ¡ˆï¼š ç‰©ä»¶æ ¼å¼æ”¹å¯«ï¼Œæˆ‘æ”¹ä¸€å€‹å°±å¥½ï¼Œå‰©ä¸‹é›·åŒã€‚\n1 2 3 4 5 6 7  { name: \u0026#39;å»–æ´§æ°\u0026#39;, height: 178, kg: 70, bmi: 22, status: \u0026#39;æ­£å¸¸\u0026#39;, }   str æ‹¿å‡ºä¾†ï¼Œé¿å…æ¯æ¬¡è¿­ä»£éƒ½è¢«é‡ç½®ï¼Œä¸¦ä½¿ç”¨å­—ä¸²æ¨£æ¿åŠ å…¥è®Šæ•¸ã€‚\n1 2 3 4 5 6 7 8 9 10  var str = \u0026#39;\u0026#39;; data.forEach(function (item) { var content = ` \u0026lt;li\u0026gt;${item.name}çš„èº«é«˜ç‚º ${item.height}å…¬åˆ†ï¼Œ é«”é‡æ˜¯ ${item.kg}å…¬æ–¤ï¼Œ BMI æ•¸æ“šç‚º ${item.bmi}ï¼Œ ç‹€æ…‹ç‚º${item.status}\u0026lt;li\u0026gt;`; str += content; list.innerHTML = str; });   æ•™å­¸ã€å»¶ä¼¸çŸ¥è­˜é€£çµ  æ¨£æ¿å­—é¢å€¼ï½œMDN  ç¬¬åä¸ƒé—œï¼šinnerHTML+forEach  é¡Œç›®é€£çµ\n åŠ‡æƒ…ç•¥ã€‚\n17. å•é¡Œ æ˜æ˜é™£åˆ—è£¡é¢æœ‰äº”ç­†è³‡æ–™ï¼Œä½†å¯«å‡ºä¾†çš„ç¨‹å¼ç¢¼ï¼Œåˆ—è¡¨æ°¸é åªé¡¯ç¤ºä¸€ç­†è³‡æ–™ï¼Œç©¶ç«Ÿå°æ°å“ªè£¡è§€å¿µæœ‰å•é¡Œå‘¢ï¼Ÿä¸€èµ·ä¾†å¹«åŠ©å°æ°å§~\nå°æ°ç¨‹å¼ç¢¼ç¶²å€\nè«‹æ€è€ƒä¸¦åœ¨ Slack å›è¦†ï¼š\n str æ”¾ forEach å¤–é ­è·Ÿè£¡é¢çš„å·®ç•° innerHTML æ”¾ forEach å¤–é ­è·Ÿè£¡é¢çš„å·®ç•° innerHTML ç•¶è¦å¯«å…§å®¹é€²å»æ™‚ï¼Œæœƒä¸æœƒå°‡è£¡é¢å…§å®¹çµ¦è¦†è“‹æ‰ï¼Ÿ  17. åƒè€ƒè§£ç­”  ä½œç”¨åŸŸä¸åŒï¼Œä¸€å€‹æ˜¯å…¨åŸŸï¼Œå¦ä¸€å€‹åªä½œç”¨åœ¨ forEach çš„ callback å‡½å¼å…§ã€‚æ”¾åœ¨å¤–é¢æ‰æœƒç´¯åŠ çµæœã€‚ innerHTML æ”¾åœ¨å¤–é¢å°±ä¸æœƒè¿­ä»£ï¼Œåªæœƒè·‘ä¸€æ¬¡ã€‚ æœƒè¦†è“‹ã€‚  æ•™å­¸ã€å»¶ä¼¸çŸ¥è­˜é€£çµ  append()ã€appendChild() å’Œ innerHTML çš„åŒºåˆ«\n ParentNode.append()ï½œMDN  ç¬¬åå…«é—œï¼šå­—ä¸²ç›¸åŠ  innerHTML+ æ¨£å¼æ­é…  é¡Œç›®é€£çµ\n åŠ‡æƒ…ç•¥ã€‚\n18. å•é¡Œ æŒ‘æˆ°è€…å€‘ä¸è¦å¿˜äº†ï¼ŒJS å§‹çµ‚è¦æ­é…å¦³å¯«å¥½çš„ CSS ä¾†é€²è¡Œæ¸²æŸ“ï¼Œè­·ç†å¸«å¥½åƒå·²ç¶“çœ‹è†©äº†å°æ°çˆ›åˆ°ä¸è¡Œçš„é™½æ˜¥ç‰ˆæœ¬ï¼Œå¯«äº†ä¸€å€‹ .list2 ç‰ˆæœ¬ï¼Œè«‹ä¾ç…§ä»–çš„ CSS æ¨£å¼é‚è¼¯ï¼Œå°‡ data é™£åˆ—è£¡é¢çš„è³‡æ–™ï¼Œä¾åºæ¸²æŸ“åˆ° .list2 è£¡é¢çš„ li ä¾†é¡¯ç¤ºã€‚\nè­·ç†å¸«çš„ Codepen ç¶²å€\n18. åƒè€ƒè§£ç­” 1 2 3 4 5 6 7 8 9 10 11  var list2 = document.querySelector(\u0026#39;.list2\u0026#39;); var str = \u0026#39;\u0026#39;; data.forEach(function (item) { var content = ` \u0026lt;li class=\u0026#34;list-card\u0026#34;\u0026gt; \u0026lt;h2\u0026gt;${item.name}\u0026lt;/h2\u0026gt; \u0026lt;p\u0026gt;ä½ çš„èº«é«˜æ˜¯${item.height}\u0026lt;/p\u0026gt; \u0026lt;/li\u0026gt;`; str += content; }); list.innerHTML = str;   ç¬¬åä¹é—œï¼šé©—æ”¶å‰å¤•  é¡Œç›®é€£çµ\n åŠ‡æƒ…ç•¥ã€‚\n19. å•é¡Œ å°æ°æ‰“é–‹å¸«å‚…çš„ç¨‹å¼ç¢¼ï¼Œæ‰ç™¼ç¾é€™ç¨‹å¼ç¢¼å…¶å¯¦æ˜¯ä¾†è‡ªæ–¼ Vic é€™ä½å·¥ç¨‹å¸«çš„ç¯„ä¾‹ç¨‹å¼ç¢¼ã€‚\né›–ç„¶è·Ÿè¨­è¨ˆç¨¿æœ‰éå¸¸å¤§çš„å·®ç•°ï¼Œä½†å¾ç¨‹å¼é‚è¼¯ä¸­ï¼Œæ…¢æ…¢æŒæ¡åˆ°äº†ä¸€äº›æ¦‚å¿µã€‚\nè«‹è§£è®€ Vic çš„ï¼ˆç¨‹å¼ç¢¼ï¼‰ï¼Œä¸¦åœ¨ Slack ä¸Šå›å ±ä»–ä»¥ä¸‹é‚è¼¯æ˜¯åšäº†ä»€éº¼äº‹æƒ…ï¼š\n arrayBMIrecord çš„é™£åˆ—ç”¨é€”æ˜¯ä»€éº¼ï¼Ÿ è«‹æè¿° calculateBMI å‡½å¼åšäº†ä»€éº¼äº‹æƒ… è«‹æè¿° render å‡½å¼åšäº†ä»€éº¼äº‹æƒ…  19. åƒè€ƒè§£ç­”  å„²å­˜è™•ç†éçš„è³‡æ–™ã€‚ è™•ç†è³‡æ–™ã€å°‡è³‡æ–™ä¸Ÿåˆ° arrayBMIrecordã€ä¸¦åŸ·è¡Œ render å‡½å¼ã€‚ æ¸²æŸ“ arrayBMIrecord è³‡æ–™åˆ°ç•«é¢ä¸Šã€‚  ç¬¬äºŒåé—œï¼šBMI è¨ˆç®—æ©Ÿåœ˜æˆ°é—œå¡  é¡Œç›®é€£çµ\n åŠ‡æƒ…ç•¥ã€‚\n20. é¡Œç›®  UI è¨­è¨ˆç¨¿  å®Œæˆä¸Šæ–¹ UI è¨­è¨ˆç¨¿ã€‚\n20. åƒè€ƒè§£ç­”  ä½¿ç”¨æ¨£æ¿ï¼šHexSchool-BMI (Erica) CodePenï¼šé€£çµ  æ•™å­¸ã€å»¶ä¼¸çŸ¥è­˜é€£çµ  input type numberï½œMDN  ç¬¬äºŒåä¸€é—œï¼šBMI è¿½åŠ åŠŸèƒ½  é¡Œç›®é€£çµ\n åŠ‡æƒ…ç•¥ã€‚\n22. å•é¡Œ å¯æ†çš„å°æ°åˆè¢«å¨è„…äº†ï¼ŒåŸä¾†é™¢é•·æƒ³è¦çµ±è¨ˆæ¯æ¬¡ BMI æ¸¬é‡çš„ç¸½å¹³å‡å€¼ï¼Œä¸€èµ·åšå®Œé€™æœ€å¾Œçš„éœ€æ±‚ï¼Œè®“å°æ°é †åˆ©é›¢é–‹é†«é™¢å§ï¼\n22. åƒè€ƒè§£ç­” 1  \u0026lt;span class=\u0026#34;js-bmiAverage\u0026#34;\u0026gt;0\u0026lt;/span\u0026gt;   1 2 3 4 5 6 7 8 9 10  const bmiAveragea = document.querySelector(\u0026#39;.js-bmiAverage\u0026#39;); function render() { let sum = 0; arrayBMIrecord.forEach((item) =\u0026gt; { sum += item.bmi; }); let avg = Math.floor(sum / arrayBMIrecord.length) || 0; bmiAveragea.textContent = avg; }   CodePen è§£ç­”\nç¬¬äºŒåäºŒé—œï¼šé™£åˆ—èª¿æ•´  é¡Œç›®é€£çµ\n åŠ‡æƒ…ç•¥ã€‚\n22. å•é¡Œ æœ€æ–°çš„è³‡æ–™æ”¾åœ¨ç¬¬ä¸€ç­†ï¼Œè®“æœ€æ–°è³‡æ–™éƒ½èƒ½æ’åºåœ¨æœ€å‰é¢ï¼Œå°‡è³‡æ–™é€²è¡Œåè½‰ã€‚\n22. åƒè€ƒè§£ç­” æœ‰å¥½å¹¾ç¨®åšæ³•ï¼Œæ¸²æŸ“æ™‚ï¼Œå¾å¾Œé¢è¿­ä»£è³‡æ–™ï¼š\n1 2 3 4  for (let i = arrayBMIrecord.length - 1; i \u0026gt; 0; i -= 1) { const item = arrayBMIrecord[i]; // ... }   æˆ–æ˜¯å…ˆæ·ºæ‹·è²ä¸€ä»½è³‡æ–™ï¼Œä¸¦ä½¿ç”¨ reverse() åè½‰é™£åˆ—ï¼Œå†è¿­ä»£è³‡æ–™ï¼š\n1 2 3 4 5  let temp = [...arrayBMIrecord].reverse(); temp.forEach( // ... );   æˆ–æ˜¯æ·»åŠ è³‡æ–™æ™‚ï¼Œä½¿ç”¨ unshift() å°‡æœ€æ–°è³‡æ–™åŠ åœ¨æœ€å‰é¢ï¼š\n1  arrayBMIrecord.unshift(userRecord);   ä½†ä½¿ç”¨ unshift æ•ˆç‡ä¸ä½³ï¼Œå› ç‚ºèƒŒå¾Œçš„é‹ä½œåŸç†æœƒå°‡æ¯å€‹å…ƒç´ å¾€å¾Œç§»å‹•ã€‚\nCodePen è§£ç­”\næ•™å­¸ã€å»¶ä¼¸çŸ¥è­˜é€£çµ  Arrayçš„pushä¸unshiftæ–¹æ³•æ€§èƒ½åˆ†æ  ç¬¬äºŒåä¸‰é—œï¼šè³‡æ–™æ ¼å¼è™•ç†ï¼Œé™£åˆ— unshift  é¡Œç›®é€£çµ\n åŠ‡æƒ…ç•¥ã€‚\n23. å•é¡Œ å°æ°ä¸€çœ‹åˆ°é¡Œç›®æ•´å€‹å‚»çœ¼ï¼Œè£¡é¢ç”¨äº†ä»–å¾ä¾†æ²’çœ‹éçš„åœ–è¡¨è³‡æ–™ï¼Œå¥½åœ¨è€é—†åœ¨ç¨‹å¼ç¢¼è£¡é¢å¯«äº†äº›è¨»è§£ï¼Œè®“å°æ°çŸ¥é“è‡ªå·±ä¸éœ€è¦æ‡‚åœ–è¡¨æ¡†æ¶ï¼Œå¥½å¥½çš„æŠŠè³‡æ–™è™•ç†å¥½å¾Œï¼Œåœ–è¡¨è‡ªç„¶å°±æœƒé¡¯ç¤ºæ­£å¸¸ï¼Œä¸€èµ·ä¾†å¹«å¹«å°æ°å§ï¼\nä»¥ä¸‹æ˜¯é æœŸå¸Œæœ›å‡ºç¾æ­£å¸¸çš„åœ–è¡¨ï¼Œè«‹æ”¹å¯«æ­¤ Codepenï¼Œä¸¦åœ¨ Slack å›å‚³ä½ çš„è§£æ³•ï¼š\nPSï¼šHTML èˆ‡ CSS é¢æ¿å£æ‰äº†ï¼Œåªèƒ½è®Šæ›´ JS é¢æ¿\n23. åƒè€ƒè§£ç­” 1  monthMoney.unshift(title);   ","description":"JS å‡½å¼ 23 ~ 20 é—œ","id":64,"section":"posts","tags":["JavaScript","JS å­¸å¾’ç‰¹è¨“ç­"],"title":"JS å­¸å¾’ç‰¹è¨“ç­ - JS å‡½å¼ 11 ~ 23 é—œ","uri":"https://chupai.github.io/posts/2008/js60_2/"},{"content":" ç«¹ç™½çš„ JS å­¸å¾’ç‰¹è¨“ç­ç­†è¨˜ - ç›®éŒ„\n è¨˜éŒ„å…­è§’å­¸é™¢æ‰€é–‹çš„ JS å­¸å¾’ç‰¹è¨“ç­ï¼Œç‚ºæœŸ 60å¤©çš„ç‰¹è¨“ã€‚\n\rç¬¬ä¸€é—œï¼šç’°å¢ƒèˆ‡è®Šæ•¸ç’°å¢ƒ  é¡Œç›®é€£çµ\n 1. é¡Œç›® ç¬¬ 1 é¡Œï¼š\n1 2 3 4 5 6  // 1.ç”¢ç”Ÿ console.log å¾ä¸Šåˆ°ä¸‹çš„å€¼ç‚ºï¼Ÿ // 2.å‡ºç¾å¹¾å€‹è®Šæ•¸ã€å‹åˆ¥ã€è¨˜æ†¶é«”ç‰©ä»¶? var a; a = 1; a = \u0026#39;hello\u0026#39;; console.log(a);   ç¬¬ 2 é¡Œï¼š\n1 2 3 4 5 6 7  // 1.ç”¢ç”Ÿ console.log å¾ä¸Šåˆ°ä¸‹çš„å€¼ç‚ºï¼Ÿ // 2.å‡ºç¾å¹¾å€‹è®Šæ•¸ã€å‹åˆ¥ã€è¨˜æ†¶é«”ç‰©ä»¶? var b = 3; var c = 4; console.log(d); var d = b + c; console.log(d);   ç¬¬ 3 é¡Œï¼š\n1 2 3 4 5 6 7 8  // 1.ç”¢ç”Ÿ console.log å¾ä¸Šåˆ°ä¸‹çš„å€¼ç‚ºï¼Ÿ // 2.å‡ºç¾å¹¾å€‹è®Šæ•¸ã€å‹åˆ¥ã€è¨˜æ†¶é«”ç‰©ä»¶? console.log(e); var e; e = 5; e = \u0026#39;hello\u0026#39;; e = true; console.log(e);   1. åƒè€ƒè§£ç­” ç¬¬ 1 é¡Œï¼š\n \u0026quot;hello\u0026quot; 1å€‹è®Šæ•¸ã€2å€‹å‹åˆ¥ã€3å€‹è¨˜æ†¶é«”ç‰©ä»¶  1 2 3 4  var a ; // å·²ç¶“æœ‰è¨˜æ†¶é«”ç©ºé–“ï¼Œä½†æ²’æœ‰å€¼ a = 1; // æ•¸å€¼ a = \u0026#39;hello\u0026#39;; // å­—ä¸² console.log(a); // \u0026#34;hello\u0026#34;   ç¬¬ 2 é¡Œï¼š\n undefinedã€7 3å€‹è®Šæ•¸ã€1å€‹å‹åˆ¥ã€6å€‹è¨˜æ†¶é«”ç‰©ä»¶  1 2 3 4 5 6 7 8  var b; // å·²ç¶“æœ‰è¨˜æ†¶é«”ç©ºé–“ï¼Œä½†æ²’æœ‰å€¼ var c; // å·²ç¶“æœ‰è¨˜æ†¶é«”ç©ºé–“ï¼Œä½†æ²’æœ‰å€¼ var d; // å·²ç¶“æœ‰è¨˜æ†¶é«”ç©ºé–“ï¼Œä½†æ²’æœ‰å€¼ console.log(d); // undefined b = 3; // æ•¸å€¼ c = 4; // æ•¸å€¼ d = b + c; // æ•¸å€¼ console.log(d); // 7   ç¬¬ 3 é¡Œï¼š\n undefinedã€true 1å€‹è®Šæ•¸ã€3å€‹å‹åˆ¥ã€4å€‹è¨˜æ†¶é«”ç‰©ä»¶  1 2 3 4 5 6  var e; // å·²ç¶“æœ‰è¨˜æ†¶é«”ç©ºé–“ï¼Œä½†æ²’æœ‰å€¼ console.log(e); // undefined e = 5; // æ•¸å€¼ e = \u0026#39;hello\u0026#39;; // å­—ä¸² e = true; // å¸ƒæ—å€¼ console.log(e); // true   æ•™å­¸ã€å»¶ä¼¸çŸ¥è­˜é€£çµ  è¨˜æ†¶é«”ç®¡ç†ï½œMDN éµäººè³½ï¼šJavaScript è®Šæ•¸çš„å®£å‘Šèˆ‡ä»–çš„ä½œç”¨åŸŸ ã€è¯‘ã€‘JavaScriptçš„å†…å­˜ç®¡ç†å’Œ 4 ç§å¤„ç†å†…å­˜æ³„æ¼çš„æ–¹æ³•  ç¬¬äºŒé—œï¼šè®Šæ•¸å‘½å  é¡Œç›®é€£çµ\n 2. é¡Œç›® è«‹ä¾ç…§ä»¥ä¸‹æˆ¿å‹è³‡è¨Šï¼Œå»å®šç¾©å„å€‹è®Šæ•¸åç¨±ï¼Œè®Šæ•¸å‹™å¿…è¦å‘½åæ¯”è¼ƒèªæ„åŒ–ä¸”å¥½æ‡‚ã€‚\n3. åƒè€ƒè§£ç­” 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20  const singleRoom = { peopleLimit: 1, bedSize: \u0026#39;å–®äººåºŠ\u0026#39;, bathroomNum: 1, roomSize: 18, feetSize: \u0026#39;å¹³æ–¹å…¬å°º\u0026#39;, description: \u0026#39;Single Room is only...\u0026#39;, checkInTimeFrom: \u0026#39;15:00\u0026#39;, checkInTimeTo: \u0026#39;21:00\u0026#39;, checkOutTimeFrom: \u0026#39;10:00\u0026#39;, checkOutTimeTo: \u0026#39;21:00\u0026#39;, facilities: { wifi: true, landlinePhone: true, breakfast: true, airConditioning: true, minibar: false, refrigerator: true, }, }   æ•™å­¸ã€å»¶ä¼¸çŸ¥è­˜é€£çµ  ç„¡ç‘•çš„ JavaScript ç¨‹å¼ç¢¼ï¼ˆæ­£é«”ä¸­æ–‡ç‰ˆï¼‰  ç¬¬ä¸‰é—œï¼šè®Šæ•¸å‹åˆ¥è½‰æ›  é¡Œç›®é€£çµ\n 3. é¡Œç›® è«‹ä¾åºå‘ŠçŸ¥ä»¥ä¸‹ console.log æœƒé¡¯ç¤ºä»€éº¼å€¼ã€‚\nç¬¬ä¸€é¡Œï¼š\n1 2 3 4 5 6 7 8 9 10 11 12  var a = 1; console.log(typeof a); var b = \u0026#39;hello\u0026#39;; console.log(typeof b); var c = 1 + \u0026#39;hello\u0026#39;; console.log(typeof c); var d = 1 + \u0026#39;11\u0026#39;; console.log(d); console.log(typeof d);   ç¬¬äºŒé¡Œï¼š\n1 2 3 4 5 6 7  var a; a = a + \u0026#39;hello\u0026#39;; console.log(a); console.log(typeof a); var b = 3; console.log(b * \u0026#39;hello\u0026#39;);   ç¬¬ä¸‰é¡Œï¼š\n1 2 3 4 5 6 7  var a = 9; console.log(a + 9); console.log(a + \u0026#39;9\u0026#39;); var b = \u0026#39;9\u0026#39;; console.log(b * b); console.log(typeof (b * b));   3. åƒè€ƒè§£ç­” ç¬¬ä¸€é¡Œï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13  var a = 1; console.log(typeof a); // \u0026#39;number\u0026#39;  var b = \u0026#39;hello\u0026#39;; console.log(typeof b); // \u0026#39;string\u0026#39;  var c = 1 + \u0026#39;hello\u0026#39;; console.log(typeof c); // \u0026#39;string\u0026#39;  var d = 1 + \u0026#39;11\u0026#39;; console.log(d); // \u0026#39;111\u0026#39; éš±å«çš„å¼·åˆ¶è½‰å‹ console.log(typeof d); // \u0026#39;string\u0026#39;    ä½¿ç”¨ + é‹ç®—å­ï¼Œå…¶ä¸­ä¸€é‚Šç‚ºå­—ä¸²å‹åˆ¥ï¼Œæœƒå°‡å¦ä¸€é‚Šå¼·åˆ¶è½‰å‹æˆå­—ä¸²ã€‚\nä¾æ“š ES5.1 èªè¨€è¦æ ¼çš„ section 11.6.1ï¼š\n åªè¦å…¶ä¸­ä¸€é‚Šç‚ºå­—ä¸²ï¼Œå°±æ˜¯å­—ä¸²ç›¸æ¥ï¼š  éå­—ä¸²çš„å‹åˆ¥æœƒå¼·åˆ¶è½‰å‹æˆå­—ä¸²ã€‚   è‹¥é›™æ–¹çš†ç‚ºéå­—ä¸²ï¼š  åŸºæœ¬å‹åˆ¥çš„å€¼æœƒè½‰ç‚ºæ•¸å€¼ï¼Œç‰©ä»¶å‹åˆ¥ï¼ˆç‰©ä»¶ã€é™£åˆ—ã€å‡½å¼ï¼‰æœƒå…ˆé€²è¡Œ ToPrimitive è½‰æ›ï¼› å¦‚æœé›™é‚Šéƒ½æ²’æœ‰å­—ä¸²ï¼Œå°±æœƒé€²è¡Œæ•¸å€¼é‹ç®—ã€‚    ç¬¬äºŒé¡Œï¼š\n1 2 3 4 5 6 7  var a; a = a + \u0026#39;hello\u0026#39;; console.log(a); // \u0026#39;undefinedhello\u0026#39; éš±å«çš„å¼·åˆ¶è½‰å‹ console.log(typeof a); // \u0026#39;string\u0026#39;  var b = 3; console.log(b * \u0026#39;hello\u0026#39;); // NaN éš±å«çš„å¼·åˆ¶è½‰å‹   -ã€*ã€/ é‹ç®—å­èˆ‡ + é‹ç®—å­ä¸åŒï¼Œå®ƒå€‘åªèƒ½å°æ•¸å€¼é€²è¡Œé‹ç®—ä½¿ç”¨ï¼Œå› æ­¤æœƒå°‡éæ•¸å€¼çš„å€¼è½‰æˆæ•¸å€¼ã€‚\næ•¸å€¼è½‰æ›éç¨‹æ˜¯æ ¹æ“š ES5 çš„è¦æ ¼ä¸­ section 9.3 çš„ ToNumberï¼š\n undefinedï¼šNaN nullï¼š+0 å³ 0 å¸ƒæ—å€¼ï¼š  trueï¼š1 falseï¼š+0 å³ 0   å­—ä¸²ï¼šæ•¸å€¼æˆ– NaN ç‰©ä»¶å‹åˆ¥ï¼ˆç‰©ä»¶ã€é™£åˆ—ã€å‡½å¼ï¼‰  æœƒå…ˆé€²è¡Œ ToPrimitive è½‰æ›ï¼Œå†åŸ·è¡Œ ToNumber    ç¬¬ä¸‰é¡Œï¼š\n1 2 3 4 5 6 7  var a = 9; console.log(a + 9); // 18 console.log(a + \u0026#39;9\u0026#39;); // \u0026#39;99\u0026#39; éš±å«çš„å¼·åˆ¶è½‰å‹  var b = \u0026#39;9\u0026#39;; console.log(b * b); // 81 éš±å«çš„å¼·åˆ¶è½‰å‹ console.log(typeof (b * b)); // \u0026#39;number\u0026#39;   æ•™å­¸ã€å»¶ä¼¸çŸ¥è­˜é€£çµ  You Dont Know JSï¼šå‹åˆ¥èˆ‡æ–‡æ³• ç¬¬å››ç« ï¼šå¼·åˆ¶è½‰å‹  ç¬¬å››é—œï¼šæ¯”è¼ƒé‹ç®—å­  é¡Œç›®é€£çµ\n 4. é¡Œç›® è«‹ä¾åºå‘ŠçŸ¥ä»¥ä¸‹ console.log æœƒé¡¯ç¤ºä»€éº¼å€¼ï¼Œè‹¥ä¸çŸ¥é“ç­”æ¡ˆï¼Œå¯å°‡ code è²¼åœ¨ chrome console ä¾†é¡¯ç¤ºå¾Œï¼Œå†å›é ­è£œçŸ¥è­˜é»ã€‚\nç¬¬ä¸€é¡Œï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14  var a = 2; var b = 1; console.log(a \u0026gt; 0); console.log(a + b \u0026gt; 1); var c = 4; var d = 3; console.log(c == d); var e = 8; var f = 5; console.log(f \u0026gt;= e); console.log(f != e); console.log(f == e);   ç¬¬äºŒé¡Œ æ­é…å‹åˆ¥è‡ªå‹•è½‰å‹ï¼š\n1 2 3 4 5 6 7 8 9  var a = 3; var b = \u0026#39;3\u0026#39;; console.log(a == 1); console.log(a == b); var c = 2; var d = \u0026#39;5\u0026#39;; // è«‹è§£é‡‹ç‚ºä»€éº¼ console.log(c * d \u0026gt;= 5);   ç¬¬ä¸‰é¡Œ åš´è¬¹æ¨¡å¼ï¼š\n1 2 3 4 5 6  var a = 1; var b = \u0026#39;1\u0026#39;; console.log(a == 1); console.log(a == b); console.log(a === b); console.log(a !== b);   4. åƒè€ƒè§£ç­” ç¬¬ä¸€é¡Œï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14  var a = 2; var b = 1; console.log(a \u0026gt; 0); // true console.log(a + b \u0026gt; 1); // true  var c = 4; var d = 3; console.log(c == d); // false  var e = 8; var f = 5; console.log(f \u0026gt;= e); // false console.log(f != e); // true console.log(f == e); // false   ç¬¬äºŒé¡Œï¼š\n1 2 3 4 5 6 7 8 9  var a = 3; var b = \u0026#39;3\u0026#39;; console.log(a == 1); // false console.log(a == b); // true  var c = 2; var d = \u0026#39;5\u0026#39;; // è«‹è§£é‡‹ç‚ºä»€éº¼ console.log(c * d \u0026gt;= 5); // true   ç¬¬å››é—œæœ‰èªªæ˜éäº†ï¼Œ* é‹ç®—å­åªèƒ½å°æ•¸å€¼é€²è¡Œé‹ç®—ä½¿ç”¨ï¼Œå› æ­¤æœƒå°‡éæ•¸å€¼çš„å€¼å¼·åˆ¶è½‰æˆæ•¸å€¼ã€‚\nç¬¬ä¸‰é¡Œï¼š\n1 2 3 4 5 6  var a = 1; var b = \u0026#39;1\u0026#39;; console.log(a == 1); // true console.log(a == b); // true console.log(a === b); // false console.log(a !== b); // true   æ•™å­¸ã€å»¶ä¼¸çŸ¥è­˜é€£çµ  You Dont Know JSï¼šå‹åˆ¥èˆ‡æ–‡æ³• ç¬¬å››ç« ï¼šå¼·åˆ¶è½‰å‹ JavaScript ä¸­çš„ç›¸ç­‰æ€§è¦–è¦ºåŒ–åœ–è¡¨ JavaScript Equality Table   ç¬¬äº”é—œï¼šè®Šæ•¸å¯¦ä½œæƒ…å¢ƒé¡Œ  é¡Œç›®é€£çµ\n åŠ‡æƒ…ç•¥ã€‚\n5. å•é¡Œ ç¬¬ä¸€é¡Œï¼šé¡§å®¢ Bob å‘åº—å“¡è©¢åƒ¹\né¡§å®¢ Bobï¼šã€Œè«‹å•æˆ‘è¦è²· 4 å€‹æ¼¢å ¡ï¼Œ30 ä»½è–¯æ¢ï¼Œç¸½å…±å¤šå°‘ï¼Ÿã€\n1 2 3 4 5 6 7 8 9 10  // å®šç¾©è–¯æ¢è·Ÿæ¼¢å ¡çš„é‡‘é¡ï¼ˆé‡‘é¡ä¸å¯ä»¥æ›´æ”¹ï¼‰ var hamburgerPrice = 50; var friesPrice = 40; var bobTotal; // Code å¯«åœ¨é€™ï¼Œé‹ç®—å…§å®¹è³¦äºˆåˆ° bobTotalï¼Œ // ä¸¦è¦åˆ©ç”¨åˆ° hamburgerPriceã€friesPrice // ç®—å‡º Bob çš„æå•ã€‚  console.log(\u0026#39;Bob æ‚¨å¥½ï¼Œæ‚¨è©¢å•çš„é‡‘é¡ç¸½è¨ˆç‚º\u0026#39; + bobTotal + \u0026#39;å…ƒ\u0026#39;);   ç¬¬äºŒé¡Œï¼šéŒ¢åŒ…å‰©ä¸‹å¤šå°‘éŒ¢\nMark éŒ¢åŒ…è£¡æœ‰ 200 å…ƒï¼Œè²·äº†ä¸€å€‹æ¼¢å ¡ï¼Œä¸‰å€‹è–¯æ¢ï¼Œä»–é‚„å‰©ä¸‹å¤šå°‘éŒ¢ï¼Ÿ\n1 2 3 4 5 6 7 8 9 10 11  // å®šç¾©è–¯æ¢è·Ÿæ¼¢å ¡çš„é‡‘é¡ï¼ˆé‡‘é¡ä¸å¯ä»¥æ›´æ”¹ï¼‰ var hamburgerPrice = 50; var friesPrice = 40; var markWallet = 200; var markTotal; // Code å¯«åœ¨é€™ï¼Œé‹ç®—å…§å®¹è³¦äºˆåˆ° markTotalï¼Œ // ä¸¦è¦åˆ©ç”¨åˆ° markWalletã€hamburgerPriceã€friesPrice // ç®—å‡º Mark è³¼è²·å¾Œå‰©é¤˜çš„é‡‘é¡ã€‚  console.log(\u0026#39;é¦¬å…‹è²·å®Œæ±è¥¿å¾Œï¼ŒéŒ¢åŒ…å‰©ä¸‹\u0026#39; + markTotal + \u0026#39;å…ƒ\u0026#39;);   ç¬¬ä¸‰é¡Œï¼šé¡§å®¢ Mary æä¾›æŠ˜æ‰£åˆ¸\né¡§å®¢ Mary èº«ä¸Šæœ‰ 5000 å…ƒï¼Œæƒ³è¦è²· 10 ä»½æ¼¢å ¡ã€10 ä»½è–¯æ¢ï¼Œå› ç‚ºä»–æœ‰æœƒå“¡å¡ï¼Œæ‰€ä»¥å¯ä»¥æ‰“ä¹æŠ˜å„ªæƒ ï¼Œè«‹å•ä»–é‚„å‰©ä¸‹å¤šå°‘éŒ¢ï¼Ÿ\n1 2 3 4 5 6 7 8 9 10 11 12  // å®šç¾©è–¯æ¢è·Ÿæ¼¢å ¡çš„é‡‘é¡ï¼ˆé‡‘é¡ä¸å¯ä»¥æ›´æ”¹ï¼‰ var hamburgerPrice = 50; var friesPrice = 40; var sale = 0.9; var maryWallet = 5000; var maryTotal; // Code å¯«åœ¨é€™ï¼Œé‹ç®—å…§å®¹è³¦äºˆåˆ° maryTotalï¼Œ // ä¸¦è¦åˆ©ç”¨åˆ° hamburgerPriceã€friesPriceã€saleã€maryWallet // ç®—å‡º maryTotal è³¼è²·å¾Œå‰©é¤˜çš„é‡‘é¡ã€‚  console.log(\u0026#39;Mary è²·å®Œæ±è¥¿å¾Œï¼ŒéŒ¢åŒ…å‰©ä¸‹\u0026#39; + maryTotal + \u0026#39;å…ƒ\u0026#39;);   5. åƒè€ƒè§£ç­” ç¬¬ä¸€é¡Œï¼š\n1 2 3  bobTotal = hamburgerPrice * 4 + friesPrice * 30; // Bob æ‚¨å¥½ï¼Œæ‚¨è©¢å•çš„é‡‘é¡ç¸½è¨ˆç‚º1400å…ƒâ€ˆ  ç¬¬äºŒé¡Œï¼š\n1 2 3  markTotal = markWallet - (hamburgerPrice * 1 + friesPrice * 3); // é¦¬å…‹è²·å®Œæ±è¥¿å¾Œï¼ŒéŒ¢åŒ…å‰©ä¸‹30å…ƒ   ç¬¬ä¸‰é¡Œï¼š\n1 2 3  maryTotal = maryWallet - (hamburgerPrice * 10 + friesPrice * 10) * sale; // Mary è²·å®Œæ±è¥¿å¾Œï¼ŒéŒ¢åŒ…å‰©ä¸‹4190å…ƒ   ç¬¬å…­é—œï¼šé‚è¼¯é‹ç®—å­æƒ…å¢ƒé¡Œ  é¡Œç›®é€£çµ\n åŠ‡æƒ…ç•¥ã€‚\n6. é¡Œç›® é¡Œç›®ä¸€ï¼šå¸ƒæ—èˆ‡æ¯”è¼ƒé‹ç®—å­ç·´ç¿’\næˆç‚º VIP æœƒå“¡çš„æ¢ä»¶ï¼Œåªè¦è³¼è²·æ»¿ 200 å…ƒï¼Œå°±å¯ç„¡æ¢ä»¶æˆç‚ºæœƒå“¡ï¼ŒBob è²·äº† 2 å€‹æ¼¢å ¡ï¼Œ2 å€‹ è–¯æ¢ï¼Œæ˜¯å¦æœ‰æ»¿è¶³æ¢ä»¶ï¼Ÿ\n1 2 3 4 5 6 7 8 9 10  var VIPTotal = 200; var hamburgerPrice = 50; var friesPrice = 30; var isVIP; // è«‹é€éæ¯”è¼ƒé‹ç®—å­ï¼Œå°‡æ¯”è¼ƒçµæœå¯«åœ¨ isVip ä¸Š // è«‹åˆ©ç”¨ VIPTotalã€hamburgerPriceã€friesPrice çš„è®Šæ•¸é€²è¡Œæ¯”è¼ƒ // isVIP çš„å‹åˆ¥å¿…é ˆç‚ºå¸ƒæ—å€¼ (true or false)  console.log(\u0026#39;Bob çš„ VIP æ¢ä»¶ç‚º\u0026#39; + isVIP);   é¡Œç›®äºŒï¼šä¸‰å¿ƒäºŒæ„çš„è€é—†å¸Œæœ›ç”¨é‚è¼¯é‹ç®—å­ \u0026amp;\u0026amp;\nè€é—†ç™¼ç¾å¤§å®¶éƒ½åªè²·è–¯æ¢è¡ VIP è³‡æ ¼ï¼Œå°è‡´å¤§å®¶éƒ½ä¸è²·æ¼¢å ¡ï¼Œè€é—†å¥½ç”Ÿæ°£ï¼Œä»–èªç‚ºä»–çš„ç¾å‘³èŸ¹å ¡æ˜¯å…¨ç¾æœ€å¥½åƒçš„ï¼Œå°æ°ä¹Ÿä¸çŸ¥é“ä»–çš„è‡ªä¿¡å¾å“ªè£¡ä¾†çš„ã€‚\næ‰€ä»¥ä»–è·Ÿå°æ°èªªï¼Œå¾ä»Šå¤©èµ·ï¼ŒVIP æ¢ä»¶å¿…é ˆåŒæ™‚ç¬¦åˆä»¥ä¸‹å…©é»ï¼Œæ‰èƒ½æˆç‚º VIP è³‡æ ¼ã€‚\n ä¸€æ¬¡æ¶ˆè²»æ»¿ 200 å…ƒ ä¸€å®šè¦è²· 1 å€‹æ¼¢å ¡  é€™æ™‚åˆä¾†äº†å…©ä½é¡§å®¢ï¼ŒMary èˆ‡ Markï¼Œä¾†çœ‹çœ‹ä»–å€‘æœ‰æ²’æœ‰ç¬¦åˆæ¢ä»¶å§ï¼\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24  // æ­¤è®Šæ•¸ä¸å¯æ›´æ”¹ var VIPTotal = 200; var hamburgerPrice = 50; var friesPrice = 30; var markHamburgerNum = 2; var markfriesNum = 4; var markIsVIP; // å¦‚ä¸Šé¢æ–°å¢çš„è®Šæ•¸ï¼Œé¦¬å…‹è²·äº† 2 å€‹æ¼¢å ¡ï¼Œèˆ‡ 4 å€‹è–¯æ¢ // è«‹åŒæ™‚é‹ç”¨æ¯”è¼ƒé‹ç®—å­èˆ‡é‚è¼¯é‹ç®—å­ï¼Œå°‡æ¯”è¼ƒçµæœå¯«åœ¨ markIsVIP ä¸Š // markIsVIP çš„å‹åˆ¥å¿…é ˆç‚ºå¸ƒæ—å€¼ (true or false)  console.log(\u0026#39;mark çš„ VIP æ¢ä»¶ç‚º\u0026#39; + markIsVIP); var maryHamburgerNum = 0; var maryfriesNum = 10; var maryIsVIP; // å¦‚ä¸Šé¢æ–°å¢çš„è®Šæ•¸ï¼ŒMary è²·äº† 0 å€‹æ¼¢å ¡ï¼Œèˆ‡ 10 å€‹è–¯æ¢ // è«‹åŒæ™‚é‹ç”¨æ¯”è¼ƒé‹ç®—å­èˆ‡é‚è¼¯é‹ç®—å­ï¼Œå°‡æ¯”è¼ƒçµæœå¯«åœ¨ markIsVIP ä¸Š // maryIsVIP çš„å‹åˆ¥å¿…é ˆç‚ºå¸ƒæ—å€¼ (true or false)  console.log(\u0026#39;mary çš„ VIP æ¢ä»¶ç‚º\u0026#39; + maryIsVIP);   é¡Œç›®ä¸‰ï¼šMary å¾ˆç”Ÿæ°£ï¼Œä»–è¦ºå¾—ç¾åœ¨çš„ VIP è³‡æ ¼åƒäººå¤ å¤ ï¼Œå¸Œæœ›ç”¨ || é‚è¼¯é‹ç®—å­\nMary èªªï¼šã€Œè€é—†æˆ‘å¥½æ­¹æ˜¯å¿ å¯¦è€å®¢æˆ¶æ¬¸ï¼Œæˆ‘è²·äº†ä½ å…«å¹´çš„è–¯æ¢ï¼Œè€Œä¸”é é è¶…é 200 å…ƒï¼Œç«Ÿç„¶é‚„ä¸ç®—æˆ‘æ˜¯ VIPï¼Œä½ æœ‰æ²’æœ‰æéŒ¯ï¼ã€\nè€é—†æ€•äº†ï¼Œä»–å¾ˆæ“”å¿ƒæœƒä¸Šå°ç£çš„è€å¤©éµå¨›æ¨‚è¢«ç•¶ä½œç¬‘æŸ„ï¼Œæ‰€ä»¥ä»–ç«‹é¦¬å°‡ VIP æ¢ä»¶æ”¹æˆï¼Œåªè¦ç¬¦åˆä»¥ä¸‹ä»»ä¸€é»æ¶ˆè²»æ¢ä»¶ï¼Œå°±èƒ½æˆç‚º VIP è³‡æ ¼ã€‚\n ä¸€æ¬¡æ¶ˆè²»æ»¿ 200 å…ƒ ä¸€å®šè¦è²· 1 å€‹æ¼¢å ¡  æˆ‘å€‘å†çœ‹çœ‹ Mary æœ‰æ²’æœ‰ç¬¦åˆæ¢ä»¶å§ï¼\n1 2 3 4 5 6 7 8 9 10 11 12 13  var VIPTotal = 200; var hamburgerPrice = 50; var friesPrice = 30; var maryHamburgerNum = 0; var maryfriesNum = 10; var maryIsVIP; // å¦‚ä¸Šé¢æ–°å¢çš„è®Šæ•¸ï¼ŒMary è²·äº† 0 å€‹æ¼¢å ¡ï¼Œèˆ‡ 10 å€‹è–¯æ¢ // è«‹åŒæ™‚é‹ç”¨æ¯”è¼ƒé‹ç®—å­èˆ‡é‚è¼¯é‹ç®—å­ï¼Œå°‡æ¯”è¼ƒçµæœå¯«åœ¨ markIsVIP ä¸Š // maryIsVIP çš„å‹åˆ¥å¿…é ˆç‚ºå¸ƒæ—å€¼ (true or false)  console.log(\u0026#39;mary çš„ VIP æ¢ä»¶ç‚º\u0026#39; + maryIsVIP);   6. åƒè€ƒè§£ç­” é¡Œç›®ä¸€ï¼š\n1 2 3  isVIP = hamburgerPrice * 2 + friesPrice * 2 \u0026gt;= VIPTotal; // Bob çš„ VIP æ¢ä»¶ç‚ºfalse   é¡Œç›®äºŒï¼š\n1 2 3 4 5 6 7 8 9 10 11  markIsVIP = markHamburgerNum \u0026gt; 1 \u0026amp;\u0026amp; hamburgerPrice * markHamburgerNum + friesPrice * markfriesNum \u0026gt;= VIPTotal; // mark çš„ VIP æ¢ä»¶ç‚ºtrue  maryIsVIP = maryHamburgerNum \u0026gt; 1 \u0026amp;\u0026amp; hamburgerPrice * maryHamburgerNum + friesPrice * maryfriesNum \u0026gt;= VIPTotal; // mary çš„ VIP æ¢ä»¶ç‚ºfalse   é¡Œç›®ä¸‰ï¼š\n1 2 3 4 5  maryIsVIP = maryHamburgerNum \u0026gt; 1 || hamburgerPrice * maryHamburgerNum + friesPrice * maryfriesNum \u0026gt;= VIPTotal; // mary çš„ VIP æ¢ä»¶ç‚ºtrue   æ•™å­¸ã€å»¶ä¼¸çŸ¥è­˜é€£çµ  é‹ç®—å¼èˆ‡é‹ç®—å­ï½œMDN é‹ç®—å­å„ªå…ˆåºï½œMDN  ç¬¬ä¸ƒé—œï¼šif - èªçœŸçš„å°æ°ç«Ÿè¢«å®¢è¨´  é¡Œç›®é€£çµ\n åŠ‡æƒ…ç•¥ã€‚\n7. é¡Œç›® é¡Œç›®ä¸€ï¼šif çš„ç·´ç¿’\nè€é—†èªªç¾åœ¨è¦ä¾†é©—æ”¶ if æˆæœï¼Œ\næˆç‚º VIP æœƒå“¡çš„æ¢ä»¶ï¼Œåªè¦è³¼è²·æ»¿ 200 å…ƒï¼Œ\nç¾åœ¨ æœƒå“¡ A è³¼è²·äº† 350 å…ƒï¼Œè«‹ç”¨ if åˆ¤æ–·æ˜¯å¦è¦çµ¦ä»– VIP å¡ã€‚\n1 2 3 4 5  var VIPTotal = 200; var memberPrice = 350; // è«‹é€é if ä¾†è¨­è¨ˆå›è¦†ï¼Œå¦‚æœå°æ–¹æ»¿è¶³é–€æª» // å°±å›è¦† console.log(\u0026#34;æ‚¨å¥½ï¼Œæ‚¨æœ‰é”åˆ° VIP é–€æª»ã€‚é€™è£¡çµ¦æ‚¨ VIP æœƒå“¡å¡(éä¸Š\u0026#34;)   é¡Œç›®äºŒï¼šif else çš„ç·´ç¿’\nåˆæœ‰äººä¾†ç”³è«‹ VIP æ´»å‹•äº†ï¼\næˆç‚º VIP æœƒå“¡çš„æ¢ä»¶ï¼Œåªè¦è³¼è²·æ»¿ 200 å…ƒï¼Œå°±å¯ç„¡æ¢ä»¶æˆç‚ºæœƒå“¡ï¼ŒMark è²·äº† 2 å€‹æ¼¢å ¡ï¼Œ2 å€‹ è–¯æ¢ï¼Œæ˜¯å¦æœ‰æ»¿è¶³æ¢ä»¶ï¼Ÿ\né€™æ¬¡è¦è¨˜å¾—ç”¨ ifï¼Œä»¥åŠæ³¨æ„ä½ çš„èªæ°£å•Š~ (å°æ°è¦ºå¾—äººç”Ÿå¥½é›£\n1 2 3 4 5 6 7  var VIPTotal = 200; var hamburgerPrice = 50; var friesPrice = 30; // è«‹é€é if else ä¾†å»è¨­è¨ˆå°æ–¹æ˜¯å¦æœ‰é”åˆ°æ¢ä»¶ï¼Œæœ‰æˆ–æ²’æœ‰éƒ½éœ€è¦å›è¦†å°æ–¹ // å¦‚æœæœ‰ï¼Œè«‹é¡¯ç¤º console.log(\u0026#34;å°Šæ•¬çš„å®¢æˆ¶æ‚¨å¥½ï¼Œæ‚¨æœ‰é”åˆ° VIP æ¢ä»¶\u0026#34;) // å¦‚æœæ²’æœ‰é”åˆ°æ¢ä»¶ï¼Œä¾¿ç”¨ else é¡¯ç¤º console.log(\u0026#34;å°Šæ•¬çš„å®¢æˆ¶æ‚¨å¥½ï¼Œæ‚¨é‚„å·® xx å…ƒï¼Œæ‰æœ‰ç¬¦åˆ VIP æ¢ä»¶å“¦~\u0026#34;)   é¡Œç›®ä¸‰ï¼š ifã€else ifã€else ç·´ç¿’\nå·¥ä½œä¸€æ•´å¤©ï¼Œå°æ°ç´¯åˆ°æ‡·ç–‘äººç”Ÿï¼Œç´¯æ­¸ç´¯ï¼Œä½†é‚„æ˜¯å¾—åƒæ±è¥¿ï¼Œå°æ°åƒæ±è¥¿æœ‰è‡ªå·±çš„ SOPï¼Œä¾†å¹«å¹«å°æ°çœ‹çœ‹ä»–è©²åƒä»€éº¼é£Ÿç‰©ã€‚\n å°æ°éƒ½ç”¨é£¢é¤“åº¦ 1~100 ä¾†è¨ˆç®—ï¼Œ100 å°±æ˜¯ä»£è¡¨æœ€é£¢é¤“ï¼Œæ•¸å€¼çš†ç‚ºæ•´æ•¸ï¼Œä¸æœƒæœ‰å°æ•¸é» å°æ°é£¢é¤“åº¦ 0~20 æ™‚ï¼Œéƒ½åƒé£¯ç³° å°æ°é£¢é¤“åº¦åœ¨ 21~40 æ™‚ï¼Œéƒ½åƒè‚‰ç‡¥é£¯+è²¢ä¸¸æ¹¯ å°æ°é£¢é¤“åº¦åœ¨ 41~60 æ™‚ï¼Œéƒ½åƒéº¥ç•¶å‹ å°æ°é£¢é¤“åº¦åœ¨ 61~100 æ™‚ï¼Œéƒ½åƒ 99 å…ƒç«é‹åƒåˆ°é£½  ä»Šå¤©å°æ°çš„é£¢é¤“åº¦æ˜¯ 53ï¼Œè«‹å¼•å°å°æ°å»æŒ‡å®šåœ°é»ç”¨é¤\n1 2 3 4 5 6 7 8 9 10  var hungryNum = 53; if (æ¢ä»¶å¼) { console.log(); } else if (æ¢ä»¶å¼) { console.log(); } // è«‹ç”¨ ifã€else if å»åˆ¤æ–·ä¸»äººå…¬è©²åƒä»€éº¼ // å„å€å¡Šå›è¦†å…§å®¹è«‹é¡¯ç¤º console.log(\u0026#34;ä¸»äººå…¬å› ç‚ºé£¢é¤“åº¦åœ¨\u0026#34;+hungryNum+\u0026#34;ï¼Œæ‰€ä»¥ä»–æ±ºå®šå»åƒéº¥ç•¶å‹\u0026#34;)   7. åƒè€ƒè§£ç­” é¡Œç›®ä¸€ï¼š\n1 2 3 4 5  if (memberPrice \u0026gt;= VIPTotal) { console.log(\u0026#39;æ‚¨å¥½ï¼Œæ‚¨æœ‰é”åˆ° VIP é–€æª»ã€‚é€™è£¡çµ¦æ‚¨ VIP æœƒå“¡å¡(éä¸Š\u0026#39;); } // æ‚¨å¥½ï¼Œæ‚¨æœ‰é”åˆ° VIP é–€æª»ã€‚é€™è£¡çµ¦æ‚¨ VIP æœƒå“¡å¡(éä¸Š   é¡Œç›®äºŒï¼š\n1 2 3 4 5 6 7 8 9  let total = hamburgerPrice * 2 + friesPrice * 2; if (total \u0026gt;= VIPTotal) { console.log(\u0026#39;æ‚¨å¥½ï¼Œæ‚¨æœ‰é”åˆ° VIP é–€æª»ã€‚é€™è£¡çµ¦æ‚¨ VIP æœƒå“¡å¡(éä¸Š\u0026#39;); } else { let shortage = VIPTotal - total; console.log(\u0026#39;å°Šæ•¬çš„å®¢æˆ¶æ‚¨å¥½ï¼Œæ‚¨é‚„å·® \u0026#39; + shortage + \u0026#39; å…ƒï¼Œæ‰æœ‰ç¬¦åˆ VIP æ¢ä»¶å“¦~\u0026#39;); } // å°Šæ•¬çš„å®¢æˆ¶æ‚¨å¥½ï¼Œæ‚¨é‚„å·® 40 å…ƒï¼Œæ‰æœ‰ç¬¦åˆ VIP æ¢ä»¶å“¦~â€ˆ  é¡Œç›®ä¸‰ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13  // é¡Œç›®å·²ç¶“èªªæ˜é£¢é¤“åº¦ 1~100 çš„æ•´æ•¸ï¼Œå› æ­¤å…ˆä¸è€ƒæ…®æ­¤ç¯„åœå¤–çš„è¼¸å…¥  if (hungryNum \u0026lt;= 20) { console.log(\u0026#39;ä¸»äººå…¬å› ç‚ºé£¢é¤“åº¦åœ¨\u0026#39; + hungryNum + \u0026#39;ï¼Œæ‰€ä»¥ä»–æ±ºå®šå»åƒé£¯ç³°\u0026#39;); } else if (hungryNum \u0026lt;= 40) { console.log(\u0026#39;ä¸»äººå…¬å› ç‚ºé£¢é¤“åº¦åœ¨\u0026#39; + hungryNum + \u0026#39;ï¼Œæ‰€ä»¥ä»–æ±ºå®šå»åƒè‚‰ç‡¥é£¯+è²¢ä¸¸æ¹¯\u0026#39;); } else if (hungryNum \u0026lt;= 60) { console.log(\u0026#39;ä¸»äººå…¬å› ç‚ºé£¢é¤“åº¦åœ¨\u0026#39; + hungryNum + \u0026#39;ï¼Œæ‰€ä»¥ä»–æ±ºå®šå»åƒéº¥ç•¶å‹\u0026#39;); } else { console.log(\u0026#39;ä¸»äººå…¬å› ç‚ºé£¢é¤“åº¦åœ¨\u0026#39; + hungryNum + \u0026#39;ï¼Œæ‰€ä»¥ä»–æ±ºå®šå»åƒ 99 å…ƒç«é‹åƒåˆ°é£½\u0026#39;); } // ä¸»äººå…¬å› ç‚ºé£¢é¤“åº¦åœ¨53ï¼Œæ‰€ä»¥ä»–æ±ºå®šå»åƒéº¥ç•¶å‹   ç¬¬å…«é—œï¼šif èˆ‡æŒ‡æ´¾é‹ç®—å­ - å¹«å¹«å°æ°çš„é‡‘é­šè…¦  é¡Œç›®é€£çµ\n åŠ‡æƒ…ç•¥ã€‚\n8. å•é¡Œ é¡Œç›®ä¸€ï¼šè€é—†è€ƒè€ƒä½ æŒ‡æ´¾é‹ç®—å­\nè€é—†ï¼šã€Œæˆ‘å…¶å¯¦å¾ˆæ‡·ç–‘ä½ æ˜¯ä¸æ˜¯çœŸçš„æœƒäº†ï¼Œæˆ‘è€ƒè€ƒä½ ï¼ã€\nè€é—†ï¼šã€Œå‰›å¥½ä»Šå¤©æ˜¯ç™¼è–ªæ—¥ï¼Œå…ˆç™¼çµ¦ä½ è–ªè³‡ 23500 å…ƒ(éçµ¦å°æ°ã€\nå°æ°ï¼šã€Œè¬è¬è…¦é—†ï¼Œä½†ä½ æ€éº¼æŠŠæˆ‘çš„è–ªè³‡å‘Šè¨´å¤§å®¶äº†..ã€\nè€é—†ï¼šã€Œé€™ä¸æ˜¯é‡é»ï¼Œä»¥ä¸‹å…©æ­¥é©Ÿå‹•ä½œè«‹å¯«æˆç¨‹å¼ã€\nè€é—†ï¼šã€Œæ­¥é©Ÿä¸€ï¼šå› ç‚ºä½ é²åˆ°ä¸€æ¬¡ï¼Œæˆ‘è¦æ‰£ä½  1000 å…ƒ(å–èµ°å°æ°æ‰‹ä¸Šçš„ 1000 å…ƒã€\nè€é—†ï¼šã€Œæ­¥é©ŸäºŒï¼šç„¶å¾Œä½ åˆå·åƒ Pizzaï¼Œæˆ‘è¦å†æ‰£ä½  2500 å…ƒ (å†æ¬¡å–èµ°ã€\nå°æ°ï¼šã€Œä¸æ˜¯å•Šï¼é‚£æ˜æ˜æ˜¯å°é»‘åƒ..ã€\nè€é—†ï¼šã€Œé€™ä¸æ˜¯é‡é»ï¼Œå¿«é»ç®—ï¼ç®—å‡ºä½ é‚„å‰©ä¸‹å¤šå°‘éŒ¢ï¼ã€\n1 2 3 4 5  var salary = 23500; //è«‹ä¾ç…§ä¸Šé¢çš„æ­¦åŠŸç§˜ç¬ˆ Codepenï¼Œä¾åºå¯¦ç¾å…©æ­¥é©Ÿï¼Œç®—å‡ºå°æ°è¢«æ‰£äº†å¤šå°‘éŒ¢  console.log(\u0026#39;å°æ°ç›®å‰é‚„å‰©ä¸‹\u0026#39; + salary + \u0026#39;å…ƒ\u0026#39;);   é¡Œç›®äºŒï¼š if + æŒ‡æ´¾é‹ç®—å­\nè€é—†ï¼šã€Œå¥½äº†ï¼Œç¾åœ¨æˆ‘è¦å‘Šè¨´ä½ è´ˆå“æ¢ä»¶ï¼ã€\n ç›®å‰å°æ°æ‰‹ä¸Šæœ‰ 3 å€‹è´ˆå“ æ¶ˆè²»æ»¿ 100 å…ƒå°±é€å°æ–¹è´ˆå“  è€Œç¾åœ¨ä¾†äº†å…©å€‹å®¢äººï¼Œä¸¦ä¾åºæœ‰æ¶ˆè²»ï¼Œè«‹å•ç¾åœ¨ä»–é‚„å‰©ä¸‹å¤šå°‘å€‹è´ˆå“ï¼Ÿ\n1 2 3 4 5 6 7 8 9 10  var giftNum = 3; // è´ˆå“æ•¸é‡ var customerA = 150; // é¡§å®¢ A æ¶ˆè²»é‡‘é¡ var customerB = 99; // é¡§å®¢ B æ¶ˆè²»é‡‘é¡  if (å®¢æˆ¶Aæ¢ä»¶) { } if (å®¢æˆ¶Bæ¢ä»¶) { } console.log(\u0026#39;ç›®å‰è´ˆå“å‰©ä¸‹\u0026#39; + giftNum + \u0026#39;å€‹\u0026#39;);   é¡Œç›®ä¸‰ï¼šif + æŒ‡æ´¾é‹ç®—å­\nè€é—†ï¼šã€Œæˆ‘ç¾åœ¨è£œé½Šçµ¦ä½ ç¸½è¨ˆ 50 å€‹è´ˆå“ï¼ã€\nè€é—†ï¼šã€Œç„¶å¾Œæˆ‘è¦ºå¾—ç¾åœ¨è´ˆå“é–€æª»å¤ªé«˜äº†ï¼Œæˆ‘æ±ºå®šå¤§æ”¾é€ï¼Œåªè¦æ»¿ 50 å…ƒå°±é€ä¸€å€‹ï¼ä»¥æ­¤é¡æ¨ï¼Œä»–è²· 500 å…ƒå°±é€ 10 å€‹è´ˆå“ï¼ã€\nå°æ°ï¼šã€Œè€é—†ä½ ä»Šå¤©é€™éº¼æ…·æ…¨ï¼Œé‚£æˆ‘çš„è–ª..ã€\nè€é—†ï¼šã€Œåˆ¥å»¢è©±ï¼Œå®¢äººä¾†äº†å¿«é»ï¼ä»–è²·å®Œå¾Œå‘Šè¨´æˆ‘è´ˆå“é‚„å¤ ä¸å¤ ï¼ã€\n1 2 3 4 5 6 7 8 9 10 11 12 13 14  var giftNum = 50; // è´ˆå“æ•¸é‡ var friesPrice = 30; // è–¯æ¢å–®åƒ¹ var hamburgerPrice = 50; // æ¼¢å ¡å–®åƒ¹  // ä»¥ä¸‹æ˜¯é¡Œç›® // mary è²·äº† 10 ä»½è–¯æ¢ï¼Œ10 ä»½æ¼¢å ¡ // è«‹è¨ˆç®—å®Œè´ˆå“è¦å‰‡å¾Œï¼Œå–„ç”¨æŒ‡æ´¾é‹ç®—å­å»è¨ˆç®—ç›®å‰å‰©ä¸‹çš„è´ˆå“æœ‰å¹¾å€‹ // ä¸¦ç”¨ä¸‹é¢çš„ if å›å ±çµ¦è€é—†  if (æ¢ä»¶) { console.log(\u0026#39;è€é—†ï¼è´ˆå“é‚„å¤ ï¼å‰©ä¸‹\u0026#39; + giftNum + \u0026#39;å€‹~\u0026#39;); } else { console.log(\u0026#39;è€é—†è´ˆå“è³£å…‰å•¦~\u0026#39;); }   8. åƒè€ƒè§£ç­” é¡Œç›®ä¸€ï¼š\n1 2 3 4  salary -= 1000; salary -= 2500 // \u0026#34;å°æ°ç›®å‰é‚„å‰©ä¸‹20000å…ƒ\u0026#34;   é¡Œç›®äºŒï¼š\n1 2 3 4 5 6 7 8  if (customerA \u0026gt;= 100) { giftNum -= 1; } if (customerB \u0026gt;= 100) { giftNum -= 1; } // \u0026#39;ç›®å‰è´ˆå“å‰©ä¸‹2å€‹\u0026#39;   é¡Œç›®ä¸‰ï¼š\n1 2 3 4 5 6 7 8 9 10 11  let maryTotal = friesPrice * 10 + hamburgerPrice * 10; let maryGiftNum = Math.floor(maryTotal / 50); giftNum -= maryGiftNum; if (giftNum \u0026gt; 0) { console.log(\u0026#39;è€é—†ï¼è´ˆå“é‚„å¤ ï¼å‰©ä¸‹\u0026#39; + giftNum + \u0026#39;å€‹~\u0026#39;); } else { console.log(\u0026#39;è€é—†è´ˆå“è³£å…‰å•¦~\u0026#39;); } // \u0026#39;è€é—†ï¼è´ˆå“é‚„å¤ ï¼å‰©ä¸‹34å€‹~\u0026#39;   ç¬¬ä¹é—œï¼šè§€å¿µç¸½æ•´ç† - å¹«å°æ°å­¸æœƒ Function ä¹‹å‘¼å¸  é¡Œç›®é€£çµ\n åŠ‡æƒ…ç•¥ã€‚\n9. å•é¡Œ è«‹å›è¦†ä»¥ä¸‹ console.log å…§å®¹ã€‚\nç¬¬ä¸€å¼ï¼šè®Šæ•¸å‹åˆ¥ä¹‹å‘¼å¸\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17  var a = 1; a += 1; a += 5; var b = 5; console.log(a + b); var c = 3; var d = \u0026#39;hello\u0026#39;; console.log(c * d); var e = 8 + 2 * \u0026#39;9\u0026#39;; console.log(e); var f = 1; var g = \u0026#39;2\u0026#39;; var h = 3; console.log(typeof (f + g + h));   ç¬¬äºŒå¼ï¼šé‹ç®—å­ä¹‹å‘¼å¸\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15  var total = 200; var isVip = true; console.log(total \u0026gt;= 200 \u0026amp;\u0026amp; isVip); var a = true; var b = false; console.log(a \u0026amp;\u0026amp; b); console.log(a || b); var c = 10; var d = 20; var e = 30; console.log(c == 10 \u0026amp;\u0026amp; d \u0026gt;= 5 \u0026amp;\u0026amp; e !== 20); console.log(c == 10 || d \u0026gt;= 5 || e !== 20); console.log(c == 5 || d \u0026gt;= 40 || e !== 30);   ç¬¬ä¸‰å¼ï¼šé‹ç®—å­ä¹‹å‘¼å¸\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26  var maryIsVIP = true; if (maryIsVIP) { console.log(\u0026#39;å“‡è²´å©¦é¤’ï¼\u0026#39;); } else { console.log(\u0026#39;ä½ ä¸€å®šæéŒ¯äº†ï¼Œå«ä½ å€‘åº—é•·å‡ºä¾†ï¼\u0026#39;); } var momSwim = false; var girlfriendSwim = true; if (momSwim \u0026amp;\u0026amp; girlfriendSwim) { console.log(\u0026#39;éƒ½ä¸æ•‘ï¼Œå› ç‚ºä»–å€‘éƒ½æœƒæ¸¸æ³³\u0026#39;); } else { console.log(\u0026#39;å°æ°å¤§å–Šï¼šã€Œä½ å€‘èª°ä¸æœƒæ¸¸æ³³å•Šï¼Ÿï¼Ÿã€\u0026#39;); if (girlfriendSwim) { console.log(\u0026#39;é‚£ä½ è‡ªå·±æ¸¸ä¸Šä¾†ï¼\u0026#39;); } else { console.log(\u0026#39;æˆ‘å…ˆå•æˆ‘é˜¿æ¯æœƒä¸æœƒæ¸¸æ³³ï¼\u0026#39;); } if (momSwim) { console.log(\u0026#39;åª½å¦³å…ˆè‡ªå·±æ¸¸ä¸Šä¾†ï¼\u0026#39;); } else { console.log(\u0026#39;åª½æˆ‘å»æ•‘ä½ ï¼\u0026#39;); } }   9. åƒè€ƒè§£ç­” ç¬¬ä¸€å¼ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17  var a = 1; a += 1; a += 5; var b = 5; console.log(a + b); // 12  var c = 3; var d = \u0026#39;hello\u0026#39;; console.log(c * d); // NaN  var e = 8 + 2 * \u0026#39;9\u0026#39;; console.log(e); // 26  var f = 1; var g = \u0026#39;2\u0026#39;; var h = 3; console.log(typeof (f + g + h)); // \u0026#39;string\u0026#39;   ç¬¬äºŒå¼ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15  var total = 200; var isVip = true; console.log(total\u0026gt;=200 \u0026amp;\u0026amp; isVip); // true  var a = true; var b = false; console.log( a \u0026amp;\u0026amp; b); // false console.log( a || b); // true  var c = 10; var d = 20; var e = 30; console.log(c==10 \u0026amp;\u0026amp; d\u0026gt;=5 \u0026amp;\u0026amp; e !== 20); // true console.log(c==10 || d\u0026gt;=5 || e !== 20); // true console.log(c==5 || d\u0026gt;=40 || e !== 30); // false   ç¬¬ä¸‰å¼ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26  var maryIsVIP = true; if (maryIsVIP) { console.log(\u0026#39;å“‡è²´å©¦é¤’ï¼\u0026#39;); // \u0026#34;å“‡è²´å©¦é¤’ï¼\u0026#34; } else { console.log(\u0026#39;ä½ ä¸€å®šæéŒ¯äº†ï¼Œå«ä½ å€‘åº—é•·å‡ºä¾†ï¼\u0026#39;); } var momSwim = false; var girlfriendSwim = true; if (momSwim \u0026amp;\u0026amp; girlfriendSwim) { console.log(\u0026#39;éƒ½ä¸æ•‘ï¼Œå› ç‚ºä»–å€‘éƒ½æœƒæ¸¸æ³³\u0026#39;); } else { console.log(\u0026#39;å°æ°å¤§å–Šï¼šã€Œä½ å€‘èª°ä¸æœƒæ¸¸æ³³å•Šï¼Ÿï¼Ÿã€\u0026#39;); // \u0026#34;å°æ°å¤§å–Šï¼šã€Œä½ å€‘èª°ä¸æœƒæ¸¸æ³³å•Šï¼Ÿï¼Ÿã€\u0026#34;  if (girlfriendSwim) { console.log(\u0026#39;é‚£ä½ è‡ªå·±æ¸¸ä¸Šä¾†ï¼\u0026#39;); // \u0026#34;é‚£ä½ è‡ªå·±æ¸¸ä¸Šä¾†ï¼\u0026#34;  } else { console.log(\u0026#39;æˆ‘å…ˆå•æˆ‘é˜¿æ¯æœƒä¸æœƒæ¸¸æ³³ï¼\u0026#39;); } if (momSwim) { console.log(\u0026#39;åª½å¦³å…ˆè‡ªå·±æ¸¸ä¸Šä¾†ï¼\u0026#39;); } else { console.log(\u0026#39;åª½æˆ‘å»æ•‘ä½ ï¼\u0026#39;); // \u0026#34;åª½æˆ‘å»æ•‘ä½ ï¼\u0026#34;  } }   åŸºæœ¬å•é¡Œï¼Œå°±ä¸èªªæ˜äº† ğŸ˜‰ã€‚\nç¬¬åé—œï¼šå‡½å¼åƒæ•¸è¨­è¨ˆ  é¡Œç›®é€£çµ\n åŠ‡æƒ…ç•¥ã€‚\n10. å•é¡Œ ç¬¬ä¸€é¡Œï¼šå®¢æˆ¶è©¢åƒ¹å‡½å¼ï¼Œä¾†æ›´å¤šå€‹å®¢äººä¹Ÿä¸æ€•\nè«‹æ”¹è¨­è¨ˆä¸€å€‹è©¢åƒ¹ç”¨çš„å‡½å¼ï¼Œä¸¦æ–°å¢ä¸‰å€‹åƒæ•¸ï¼Œä¾åºç‚ºå®¢æˆ¶å§“åã€è–¯æ¢æ•¸é‡ï¼Œæ¼¢å ¡æ•¸é‡ã€‚\nåŒæ™‚ä¾†äº†ä¸‰å€‹å®¢æˆ¶ï¼Œè«‹åŸ·è¡Œä¸‰æ¬¡å‡½å¼å›å ±çµæœã€‚\n1 2 3 4 5 6  // å®šç¾©è–¯æ¢è·Ÿæ¼¢å ¡çš„é‡‘é¡ï¼ˆé‡‘é¡ä¸å¯ä»¥æ›´æ”¹ï¼‰ var hamburgerPrice = 50; var friesPrice = 40; var bobTotal; console.log(\u0026#34;Bob æ‚¨å¥½ï¼Œæ‚¨è©¢å•çš„é‡‘é¡ç¸½è¨ˆç‚º\u0026#34; + bobTotal + \u0026#34;å…ƒ\u0026#34;);   ç¬¬äºŒé¡Œï¼šå¥½å¤šå®¢æˆ¶éƒ½åœ¨å•å°æ°ï¼Œä»–å€‘éŒ¢åŒ…å‰©ä¸‹å¤šå°‘éŒ¢ï¼Œå°æ°è¡¨ç¤ºç„¡è¨€\nä¸‹é¢æˆªåœ–ï¼Œè«‹æ”¹è¨­è¨ˆä¸€å€‹æŸ¥è©¢å®¢æˆ¶éŒ¢åŒ…é¤˜é¡ç”¨çš„å‡½å¼ï¼Œä¸¦æ–°å¢å››å€‹åƒæ•¸ï¼Œä¾åºç‚ºå®¢æˆ¶å§“åã€å®¢æˆ¶éŒ¢åŒ…ç¸½é¡ã€è–¯æ¢æ•¸é‡ï¼Œæ¼¢å ¡æ•¸é‡ã€‚\nåŒæ™‚ä¾†äº†ä¸‰å€‹å®¢æˆ¶ï¼Œè«‹åŸ·è¡Œä¸‰æ¬¡å‡½å¼å›å ±çµæœã€‚\n1 2 3 4 5 6 7  // å®šç¾©è–¯æ¢è·Ÿæ¼¢å ¡çš„é‡‘é¡ï¼ˆé‡‘é¡ä¸å¯ä»¥æ›´æ”¹ï¼‰ var hamburgerPrice = 50; var friesPrice = 40; var markWallet = 200; var markTotal; console.log(\u0026#39;é¦¬å…‹è²·å®Œæ±è¥¿å¾Œï¼ŒéŒ¢åŒ…å‰©ä¸‹\u0026#39; + markTotal + \u0026#39;å…ƒ\u0026#39;);   ç¬¬ä¸‰é¡Œï¼šå¥½å¤šäººéƒ½æ“æœ‰ä¹æŠ˜å„ªæƒ åˆ¸\né€™ä¸€é¡Œï¼Œæ›æ‚¨ä¾†è¨­è¨ˆå‡½å¼èˆ‡åƒæ•¸çœ‹çœ‹ã€‚\nçªç„¶é–“åŒæ™‚ä¾†äº†ä¸‰å€‹å®¢æˆ¶ï¼Œè«‹åŸ·è¡Œä¸‰æ¬¡å‡½å¼å›å ±çµæœã€‚\n1 2 3 4 5 6 7 8  // å®šç¾©è–¯æ¢è·Ÿæ¼¢å ¡çš„é‡‘é¡ï¼ˆé‡‘é¡ä¸å¯ä»¥æ›´æ”¹ï¼‰ var hamburgerPrice = 50; var friesPrice = 40; var sale = 0.9; var maryWallet = 5000; var maryTotal; console.log(\u0026#39;Mary è²·å®Œæ±è¥¿å¾Œï¼ŒéŒ¢åŒ…å‰©ä¸‹\u0026#39; + markTotal + \u0026#39;å…ƒ\u0026#39;);   10. åƒè€ƒè§£ç­” ç¬¬ä¸€é¡Œï¼š\n1 2 3 4 5  function customer(userName, hamburgerNum, friesPriceNum) { let total = hamburgerPrice * hamburgerNum + friesPrice * friesPriceNum; return userName + \u0026#39; æ‚¨å¥½ï¼Œæ‚¨è©¢å•çš„é‡‘é¡ç¸½è¨ˆç‚º\u0026#39; + total + \u0026#39;å…ƒ\u0026#39;; }   ç¬¬äºŒé¡Œï¼š\n1 2 3 4 5 6 7 8  function customer(userName, wallet, hamburgerNum, friesPriceNum) { let total = hamburgerPrice * hamburgerNum + friesPrice * friesPriceNum; let walletLast = wallet - total; return userName + \u0026#34;è²·å®Œæ±è¥¿å¾Œï¼ŒéŒ¢åŒ…å‰©ä¸‹\u0026#34; + walletLast + \u0026#34;å…ƒ\u0026#34;; }   é¡Œç›®æ²’èªªæ˜ï¼Œé€™è£¡ä¸è€ƒæ…®éŒ¢ä¸è¶³çš„æƒ…æ³ã€‚\nç¬¬ä¸‰é¡Œï¼š\n1 2 3 4 5 6  function customer(userName, wallet, hamburgerNum, friesPriceNum) { let total = hamburgerPrice * hamburgerNum + friesPrice * friesPriceNum; let walletLast = wallet - total * sale; return userName + \u0026#39;è²·å®Œæ±è¥¿å¾Œï¼ŒéŒ¢åŒ…å‰©ä¸‹\u0026#39; + walletLast + \u0026#39;å…ƒ\u0026#39;; }   é¡Œç›®æ²’èªªæ˜ï¼Œé€™è£¡ä¸è€ƒæ…®éŒ¢ä¸è¶³çš„æƒ…æ³ï¼Œä¸”å®¢æˆ¶ä¸€å®šæœ‰å„ªæƒ åˆ¸ã€‚\n","description":"JS è®Šæ•¸ 1 ~ 10 é—œ","id":65,"section":"posts","tags":["JavaScript","JS å­¸å¾’ç‰¹è¨“ç­"],"title":"JS å­¸å¾’ç‰¹è¨“ç­ - JS è®Šæ•¸ 1 ~ 10 é—œ","uri":"https://chupai.github.io/posts/2008/js60_1/"},{"content":" ç«¹ç™½çš„ JS å­¸å¾’ç‰¹è¨“ç­ç­†è¨˜ - ç›®éŒ„\n \rè¨˜éŒ„å…­è§’å­¸é™¢æ‰€é–‹çš„ JS å­¸å¾’ç‰¹è¨“ç­ï¼Œç‚ºæœŸ 60å¤©çš„ç‰¹è¨“ã€‚\n2020/08/01 ä¸­é€”åŠ å…¥ï¼Œè£œé€²åº¦ï¼š\n 2020/08/01 - JS è®Šæ•¸ 1 ~ 10 é—œ 2020/08/02 - JS å‡½å¼ 11 ~ 23 é—œ 2020/08/03 - JS å‡½å¼ 24 ~ 35 é—œ 2020/08/04 - JS å‡½å¼ 36 ~ 40 é—œ 2020/08/19 - Dateã€Location 41 ~ 46 é—œ 2020/08/19 - AJAX 47 ~ 50 é—œ ","description":"ç«¹ç™½çš„ JS å­¸å¾’ç‰¹è¨“ç­ç­†è¨˜","id":66,"section":"posts","tags":["JavaScript","JS å­¸å¾’ç‰¹è¨“ç­"],"title":"JS å­¸å¾’ç‰¹è¨“ - ç›®éŒ„","uri":"https://chupai.github.io/posts/2008/js60_menu/"},{"content":" JavaScriptç­†è¨˜ ç›®éŒ„\n \rå‰è¨€ Sliceã€Spliceã€Split é€™å¹¾å€‹æ–¹æ³•éƒ½æ˜¯ S é–‹é ­ï¼Œå› æ­¤è‹¥ä¸ç†Ÿæ‚‰å¾ˆå®¹æ˜“ææ··ï¼Œä½†å®ƒå€‘åˆæ˜¯è™•ç† é™£åˆ— æˆ– å­—ä¸² å¸¸è¦‹çš„æ–¹æ³•ã€‚\n Array.prototype.slice() Array.prototype.splice() String.prototype.split() String.prototype.slice()  slice æå– é™£åˆ—å’Œå­—ä¸²éƒ½æœ‰ slice() æ–¹æ³•ã€‚\n1. Array.prototype.slice() é™£åˆ—çš„ slice() æœƒå›å‚³ä¸€å€‹æŒ‡å®šç´¢å¼•ç¯„åœçš„æ–°é™£åˆ—ï¼ˆä¸æ”¹è®ŠåŸé™£åˆ—ï¼‰ã€‚\n1  arr.slice([begin[, end]])    beginï¼šèµ·å§‹ç´¢å¼•ï¼Œè‹¥çœç•¥é è¨­ç‚º 0ï¼› endï¼šåœæ­¢ç´¢å¼•ï¼ˆä¸åŒ…å«è‡ªå·±ï¼‰ï¼Œè‹¥çœç•¥é è¨­ç‚º arr.lengthï¼› å¯ä»¥ä½¿ç”¨è² æ•¸ç´¢å¼•ï¼Œå¾æœ«é …é–‹å§‹å€’æ•¸ã€‚  1.1 ç¯„ä¾‹ 1 2 3 4 5 6 7 8 9 10 11 12 13  const arr = [0, 1, 2, 3, 4, 5]; // ç„¡åƒæ•¸ 0 ~ (arr.length - 1) console.log( arr.slice() ); // [0, 1, 2, 3, 4, 5]  // begin 2 ~ (arr.length - 1) console.log( arr.slice(2) ); // [2, 3, 4, 5]  // begin end 2 ~ (3 - 1) console.log( arr.slice(2, 4) ); // [2, 3]  // è² æ•¸ (arr.length - 2) ~ (arr.length - 1) console.log( arr.slice(-2) ); // [4, 5]   1.2 å¸¸è¦‹ç”¨æ³• ç”¨æ³•ä¸€ï¼šæ·ºæ‹·è²é™£åˆ—\n1 2  const arr = [0, 1, 2, 3, 4, 5]; const temp = arr.slice();   ES6 å‰æ²’å±•é–‹é‹ç®—å­ï¼Œéƒ½æ˜¯ä½¿ç”¨ slice() ä¾†æ·ºæ‹·è²é™£åˆ—ã€‚\nç”¨æ³•äºŒï¼šå¾é™£åˆ—å‰ç«¯ã€æœ«ç«¯å– N å€‹å…ƒç´ ä½¿ç”¨\n1 2 3 4 5 6 7  const arr = [0, 1, 2, 3, 4, 5]; const first4 = arr.slice(0, 4); console.log( first4 ); // [0, 1, 2, 3]  const last4 = arr.slice(-4); console.log( last4 ); // [2, 3, 4, 5]   ç”¨æ³•ä¸‰ï¼šç²å–é™£åˆ—ä¸­çš„æŸæ®µé•·åº¦çš„å­é™£åˆ—\n1 2 3 4 5 6 7  const arr = [0, 1, 2, 3, 4, 5]; function pullSegment(arr, begin, len) { return arr.slice(begin, begin + len); } console.log( pullSegment(arr, 2, 3) ); // [2, 3, 4]   ç”¨æ³•å››ï¼šç¸®çŸ­é™£åˆ—é•·åº¦\n1 2 3 4  let arr = [0, 1, 2, 3, 4, 5]; arr = arr.slice(0, 3); console.log( arr ); // [0, 1, 2]   2. String.prototype.slice() å­—ä¸²çš„ slice() æœƒå›å‚³ä¸€å€‹æŒ‡å®šç´¢å¼•ç¯„åœå­—å…ƒçš„æ–°å­—ä¸²ï¼ˆä¸æ”¹è®ŠåŸå­—ä¸²ï¼‰ã€‚\n1  str.slice(beginIndex[, endIndex])   ç”¨æ³•åŸºæœ¬ä¸Šèˆ‡é™£åˆ—çš„ slice() å·®ä¸å¤šï¼Œç›´æ¥çœ‹ç¯„ä¾‹ã€‚\n2.1 ç¯„ä¾‹ 1 2 3 4 5 6  const str = \u0026#39;Hello world!\u0026#39;; console.log( str.slice() ); // \u0026#39;Hello world!\u0026#39; console.log( str.slice(2) ); // \u0026#39;llo world!\u0026#39; console.log( str.slice(2, 4) ); // \u0026#39;ll\u0026#39; console.log( str.slice(-2) ); // \u0026#39;d!\u0026#39;   2.1 é¡ä¼¼æ–¹æ³• é¡ä¼¼çš„æ–¹æ³•é‚„æœ‰ substring()ã€substr() ä½† substr() å®ƒä¸å±¬æ–¼ JavaScript æ ¸å¿ƒè¦ç¯„ï¼Œæ‰€ä»¥å¦‚æœæ˜¯éç€è¦½å™¨çš„ç’°å¢ƒå¯èƒ½ç„¡æ³•ä½¿ç”¨ï¼Œæ‰€ä»¥ç›¡å¯èƒ½é¿å…ä½¿ç”¨ã€‚è€Œ substring() å› ç‚ºç¬¬äºŒå€‹åƒæ•¸å°æ–¼ç¬¬ä¸€å€‹åƒæ•¸æ™‚ï¼Œæœƒè‡ªå‹•æ›ä½ï¼Œè€Œä¸”ä¸æ”¯æ´è² æ•¸ï¼Œæ²’æœ‰ slice() ä¾†çš„å½ˆæ€§ã€‚\nSplice æ‹¼æ¥ Array.prototype.splice() è—‰ç”±åˆªé™¤æ—¢æœ‰å…ƒç´ æˆ–åŠ å…¥æ–°å…ƒç´ ä¾†æ”¹è®Šä¸€å€‹é™£åˆ—çš„å…§å®¹ï¼Œä¸¦å›å‚³ä¸€å€‹åŒ…å«è¢«åˆªé™¤çš„å…ƒç´ é™£åˆ—ã€‚\n1  array.splice(start[, deleteCount[, item1[, item2[, ...]]]])    startï¼šè¦æ’å…¥æˆ–åˆªé™¤çš„ç´¢å¼•ä½ç½®ï¼›  å¯ä»¥ä½¿ç”¨è² æ•¸ç´¢å¼•ï¼Œå¾æœ«é …é–‹å§‹å€’æ•¸ è‹¥å¤§æ–¼ arr.length å‰‡æœƒè¢«è¨­ç‚º 0   deleteCountï¼šè¦åˆªé™¤çš„å…ƒç´ æ•¸é‡ï¼›  è‹¥çœç•¥æˆ–å¤§æ–¼ arr.lengthï¼Œstart å¾Œçš„å…ƒç´ éƒ½æœƒè¢«åˆªé™¤ï¼ˆåŒ…å« startï¼‰   item1, item2, ...ï¼šè¦æ’å…¥çš„å…ƒç´ å…§å®¹ã€‚  1. ç¯„ä¾‹ å¾æŒ‡å®šç´¢å¼•ä½ç½®é–‹å§‹ï¼Œåˆªé™¤æ‰€æœ‰å…ƒç´ ï¼ˆå«æŒ‡å®šç´¢å¼•ï¼‰ï¼š\n1 2 3 4 5  const arr = [0, 1, 2, 3, 4, 5]; const removed = arr.splice(2); console.log(arr); // [0, 1] console.log(removed); // [2, 3, 4, 5]   å¾æŒ‡å®šç´¢å¼•ä½ç½®é–‹å§‹ï¼Œåˆªé™¤æŒ‡å®šæ•¸é‡çš„å…ƒç´ ï¼š\n1 2 3 4 5  const arr = [0, 1, 2, 3, 4, 5]; const removed = arr.splice(2, 2); console.log(arr); // [0, 1, 4, 5] console.log(removed); // [2, 3]   å¾æŒ‡å®šç´¢å¼•ä½ç½®é–‹å§‹ï¼Œåˆªé™¤æŒ‡å®šæ•¸é‡çš„å…ƒç´ ï¼Œä¸¦æ’å…¥å…ƒç´ ï¼š\n1 2 3 4 5  const arr = [0, 1, 2, 3, 4, 5]; const removed = arr.splice(2, 3, \u0026#39;aa\u0026#39;); console.log(arr); // [ 0, 1, \u0026#39;aa\u0026#39;, 5 ] console.log(removed); // [2, 3, 4]   2. å¸¸è¦‹ç”¨æ³• ç§»é™¤é™£åˆ—æŒ‡å®šå…ƒç´ ï¼š\n1 2 3 4 5 6 7 8  function removeElement(arr, index) { arr.splice(index, 1); return arr; } const arr = [0, 1, 2, 3, 4, 5]; removeElement(arr, 2); console.log(arr); // [0, 1, 3, 4, 5]   split åˆ†å‰² String.prototype.split() æ–¹æ³•æœƒä¾ç…§æŒ‡å®šè¦å‰‡åˆ†å‰²å­—ä¸²ï¼Œä¸¦å›å‚³ä¸€å€‹é™£åˆ—ï¼Œå…§å®¹ç‚ºæ‹†åˆ†çš„å­—ä¸²ã€‚\n1  str.split([separator[, limit]])    separatorï¼šå­—ä¸²æˆ–æ­£å‰‡è¡¨é”å¼ï¼Œå¾ç¬¦åˆçš„å­—å…ƒä½ç½®åˆ†å‰²ï¼Œè‹¥ç‚ºç©ºå­—ä¸²ï¼Œå‰‡åˆ†å‰²æ¯å€‹å­—å…ƒï¼› limitï¼šå›å‚³çš„åˆ†å‰²å…ƒç´ æ•¸é‡ã€‚  1. ç¯„ä¾‹ 1 2 3 4 5 6 7 8 9  const monthString = \u0026#39;Jan,Feb,Mar,Apr,May,Jun,Jul,Aug,Sep,Oct,Nov,Dec\u0026#39;; console.log( monthString.split(\u0026#39;,\u0026#39;) ); // [ \u0026#39;Jan\u0026#39;,â€ˆ\u0026#39;Feb\u0026#39;,â€ˆ\u0026#39;Mar\u0026#39;,â€ˆ\u0026#39;Apr\u0026#39;,â€ˆ\u0026#39;May\u0026#39;,â€ˆ\u0026#39;Jun\u0026#39;,â€ˆ\u0026#39;Jul\u0026#39;,â€ˆ\u0026#39;Aug\u0026#39;,â€ˆ\u0026#39;Sep\u0026#39;,â€ˆ\u0026#39;Oct\u0026#39;,â€ˆ\u0026#39;Nov\u0026#39;,â€ˆ\u0026#39;Dec\u0026#39; ]  const num = \u0026#39;00000000\u0026#39;; console.log( num.split(\u0026#39;\u0026#39;, 2) ); // [ \u0026#39;0\u0026#39;, \u0026#39;0\u0026#39; ]   ","description":"è™•ç†é™£åˆ—æˆ–å­—ä¸²å¸¸è¦‹çš„æ–¹æ³•ã€‚","id":67,"section":"posts","tags":["JavaScript","é™£åˆ— Array","å­—ä¸² String"],"title":"Sliceã€Spliceã€Split çš„å€åˆ¥","uri":"https://chupai.github.io/posts/2007/js_slice_splice_split/"},{"content":"é€™é€±æ˜¯å…­è§’é¼ å¹´éµäººè³½ç¬¬äºŒåå…­é€±ã€‚\næœ€å¾Œæˆ‘å€‘ä¾†çœ‹ç´…é»‘æ¨¹åˆªé™¤æ“ä½œï¼Œç›¸è¼ƒæ–¼æ–°å¢æ“ä½œè¤‡é›œã€‚\n ç´…é»‘æ¨¹ï¼ˆä¸Šï¼‰ï¼šB æ¨¹ã€2-3-4 æ¨¹ ç´…é»‘æ¨¹ï¼ˆä¸­ï¼‰ï¼šæ–°å¢æ“ä½œ ç´…é»‘æ¨¹ï¼ˆä¸‹ï¼‰ï¼šåˆªé™¤æ“ä½œ  \rç´…é»‘æ¨¹çš„åˆªé™¤æ“ä½œ åœ¨ ç´…é»‘æ¨¹ ä¸­ï¼Œåˆªé™¤ä¸€å€‹ç¯€é»ï¼Œè·Ÿæ™®é€šäºŒå…ƒæœå°‹æ¨¹ä¸€æ¨£æœ‰ä»¥ä¸‹ä¸‰ç¨®æƒ…æ³ï¼š\n è‘‰å­ç¯€é»ï¼ˆç„¡å­æ¨¹ï¼‰ã€‚ ç¯€é»æœ‰å–®é‚Šå­æ¨¹ã€‚ ç¯€é»æœ‰å·¦å³å…©é‚Šå­æ¨¹ã€‚  æƒ…æ³ 3ï¼Œçš„è™•ç†æ–¹å¼èˆ‡æ™®é€šäºŒå…ƒæœå°‹æ¨¹ç›¸åŒï¼Œæœƒå¾å³å­æ¨¹å°‹æ‰¾æœ€å°å€¼ä»£æ›¿ï¼Œå°‡å•é¡Œè®Šæˆåˆªé™¤æ›¿ä»£ç¯€é»ï¼ˆä¸æ˜¯æƒ…æ³ 1ã€å°±æ˜¯æƒ…æ³ 2ï¼‰ã€‚\nä½†ç´…é»‘æ¨¹æœ‰å…©ç¨®é¡è‰²çš„ç¯€é»ï¼Œå› æ­¤é‚„éœ€è¦è€ƒæ…®ç¯€é»é¡è‰²çš„ä¸åŒï¼Œä¸éåˆªé™¤æ“ä½œå¾Œï¼Œéœ€è¦å¹³è¡¡ä¿®æ­£çš„ï¼ŒåŸºæœ¬ä¸Šåªæœ‰åˆªé™¤é»‘è‰²çš„è‘‰å­ç¯€é»ã€‚\næ³¨æ„ï¼Œé€™è£¡æŒ‡çš„è‘‰å­ç¯€é»æ˜¯æ²’æœ‰å­ç¯€é»çš„ç¯€é»ï¼Œè€Œä¸æ˜¯ç´…é»‘æ¨¹å®šç¾©çš„ NILã€‚\r 1. ç¯€é»æœ‰å–®é‚Šå­æ¨¹ å› ç‚ºæœ‰å…©ç¨®é¡è‰²ï¼Œæ‰€ä»¥ç¯€é»æœ‰å–®é‚Šå­æ¨¹çµ„åˆå¯èƒ½æœ‰ 4 ç¨®ï¼Œä½†å¯¦éš›å­˜åœ¨çš„åªæœ‰ 1 ç¨®ï¼š\n ç´…ç´…ï¼šä¸ç¬¦åˆæ€§è³ª 4ï¼Œä¸å­˜åœ¨ï¼› ç´…é»‘ï¼šä¸ç¬¦åˆæ€§è³ª 4ï¼Œä¸å­˜åœ¨ï¼› é»‘é»‘ï¼šä¸ç¬¦åˆæ€§è³ª 5ï¼Œä¸å­˜åœ¨ï¼› é»‘ç´…ï¼šå­˜åœ¨ã€‚  æ€§è³ª 4ã€5ï¼š\n æ€§è³ª 4ï¼šæ¯å€‹ç´…è‰²ç¯€é»å¿…é ˆæœ‰å…©å€‹é»‘è‰²çš„å­ç¯€é»ï¼ˆä¸èƒ½æœ‰å…©å€‹é€£çºŒçš„ç´…è‰²ç¯€é»ï¼‰ï¼› æ€§è³ª 5ï¼šå¾ä»»ä¸€ç¯€é»åˆ°å…¶æ¯å€‹ NIL çš„æ‰€æœ‰ç°¡å–®è·¯å¾‘éƒ½åŒ…å«ç›¸åŒæ•¸ç›®çš„é»‘è‰²ç¯€é»ã€‚  é»‘ç´…çµ„åˆï¼Œç›´æ¥åˆªé™¤é»‘è‰²ç¯€é»å¾Œï¼Œæœƒç”±ç´…è‰²ç¯€é»éè£œï¼Œä¸å½±éŸ¿å¹³è¡¡ã€‚\ngraph TB; N --\u0026gt; A; A((D)) --- B((DL)) \u0026amp; n1; N1 --\u0026gt; AAA((DL)); class A,AA,AAA black; class B,BB red; class N,N1,n1,n2 transparent; classDef black fill:black,stroke:black,color:white; classDef red fill:red,stroke:red,color:white; classDef transparent fill:transparent,stroke:transparent,color:transparent; graph TB; N --\u0026gt; AA; AA((D)) --- n2 \u0026amp; BB((DR)); N1 --\u0026gt; AAA((DR)); class A,AA,AAA black; class B,BB red; class N,N1,n1,n2 transparent; classDef black fill:black,stroke:black,color:white; classDef red fill:red,stroke:red,color:white; classDef transparent fill:transparent,stroke:transparent,color:transparent; 2. åˆªé™¤ç´…è‰²è‘‰å­ç¯€é» åˆªé™¤ç´…è‰²è‘‰å­ç¯€é»ï¼Œä¹Ÿä¸æœƒå½±éŸ¿ç´…é»‘æ¨¹çš„ç‰¹æ€§ï¼Œå› æ­¤ç›´æ¥åˆªé™¤å³å¯ï¼Œä¸éœ€è¦ä¿®æ­£ã€‚\ngraph TB; N --\u0026gt; A; A((P)) --- B((D)) \u0026amp; n1; N1 --\u0026gt; AAA((P)); class A,AA,AAA black; class B,BB red; class N,N1,n1,n2 transparent; classDef black fill:black,stroke:black,color:white; classDef red fill:red,stroke:red,color:white; classDef transparent fill:transparent,stroke:transparent,color:transparent; graph TB; N --\u0026gt; AA; AA((P)) --- n2 \u0026amp; BB((D)); N1 --\u0026gt; AAA((P)); class A,AA,AAA black; class B,BB red; class N,N1,n1,n2 transparent; classDef black fill:black,stroke:black,color:white; classDef red fill:red,stroke:red,color:white; classDef transparent fill:transparent,stroke:transparent,color:transparent; graph TB; N --\u0026gt; AA; AA((P)) --- BB((D)) \u0026amp; CC((B)); N1 --\u0026gt; A((P)); A((P)) --- n1 \u0026amp; B((B)); class AA black; class BB,CC red; class A,AA,AAA black; class B,BB red; class N,N1,n1,n2 transparent; classDef black fill:black,stroke:black,color:white; classDef red fill:red,stroke:red,color:white; classDef transparent fill:transparent,stroke:transparent,color:transparent; graph TB; N --\u0026gt; AA; AA((P)) --- BB((B)) \u0026amp; CC((D)); N1 --\u0026gt; A((P)); A((P)) --- B((B)) \u0026amp; n1; class AA black; class BB,CC red; class A,AA,AAA black; class B,BB red; class N,N1,n1,n2 transparent; classDef black fill:black,stroke:black,color:white; classDef red fill:red,stroke:red,color:white; classDef transparent fill:transparent,stroke:transparent,color:transparent; 3. åˆªé™¤é»‘è‰²è‘‰å­ç¯€é» é‡åˆ°æ­¤æƒ…æ³æœ€éº»ç…©ï¼Œå› ç‚ºå¯èƒ½æœƒç ´å£ç´…é»‘æ¨¹æ€§è³ª 4ï¼Œå› æ­¤å¿…é ˆä¿®æ­£å®ƒã€‚\nä¸éœ€è¦ä¿®æ­£çš„æƒ…æ³ï¼š\n å¦‚æœé»‘è‰²è‘‰å­ç¯€é»æ˜¯æ ¹ç¯€é»ï¼Œç›´æ¥åˆªé™¤å³å¯ï¼Œä¸ç”¨ä¿®æ­£ã€‚  ä¿®æ­£çš„æ–¹æ³•å…¶å¯¦å°±æ˜¯é‡æ–°èª¿æ•´å·¦ã€å³å­æ¨¹çš„é»‘è‰²ç¯€é»æ•¸é‡ï¼Œè®“ä»–å€‘ä¿æŒç›¸åŒï¼Œä¸é•åæ€§è³ª 4ï¼Œå› æ­¤è¦åˆ¤æ–·å…„å¼Ÿç¯€é»çš„ç‹€æ…‹ã€‚\néœ€è¦ä¿®æ­£çš„æƒ…æ³çµ„åˆï¼š\n é»‘å…„ç„¡ä¾„ç´…çˆ¶ ç´…å…„ï¼ˆé»‘ä¾„é»‘çˆ¶ï¼‰ é»‘å…„ç´…ä¾„ é»‘å…„é»‘çˆ¶  3.1 é»‘å…„é»‘å§ªç´…çˆ¶  å…„å¼Ÿç¯€é» Bï¼šé»‘è‰² å§ªå­ç¯€é»ï¼ˆå…„å¼Ÿå­ç¯€é»ï¼‰ï¼šç„¡ çˆ¶ç¯€é» Pï¼šç´…è‰²  graph TB; N --\u0026gt; P; P((P)) --- D[D] \u0026amp; B((B)); class P red; class B black; class N transparent; class D del; classDef black fill:black,stroke:black,color:white; classDef red fill:red,stroke:red,color:white; classDef transparent fill:transparent,stroke:transparent,color:transparent; classDef del fill:#fff,stroke:black,stroke-width:2px,color:#black,stroke-dasharray: 5; ä¿®æ­£è™•ç†ï¼šP è¨­ç‚ºé»‘è‰²ã€B è¨­ç‚ºç´…è‰²ã€‚\ngraph TB; N --\u0026gt; P; P((P)) --- D[D] \u0026amp; B((B)); class P white; class P black; class B red; class N,n1 transparent; class D del; classDef black fill:black,stroke:black,color:white; classDef red fill:red,stroke:red,color:white; classDef transparent fill:transparent,stroke:transparent,color:transparent; classDef del fill:#fff,stroke:black,stroke-width:2px,color:#black,stroke-dasharray: 5; ç”¨ 2-3-4 æ¨¹è¡¨ç¤ºï¼š\ngraph TB; A[P ? _] --- B[D] \u0026amp; C[B] \u0026amp; D[?]; AA[?] --- BB[P B] \u0026amp; CC[?]; class B del; classDef del fill:#fff,stroke:black,stroke-width:2px,color:#black,stroke-dasharray: 5; å¦‚æœæ˜¯é¡åƒæƒ…æ³ï¼Œç›¸åŒçš„ä¿®æ­£è™•ç†æ–¹å¼ã€‚\n3.2 ç´…å…„ï¼ˆé»‘ä¾„é»‘çˆ¶ï¼‰  å…„å¼Ÿç¯€é» Bï¼šç´…è‰² å§ªå­ç¯€é»ï¼ˆå…„å¼Ÿå­ç¯€é»ï¼‰ï¼¬ã€ï¼²ï¼šä¸€å®šæœ‰å§ªå­ç¯€é»ï¼Œä¸”ç‚ºé»‘è‰² çˆ¶ç¯€é» Pï¼šä¸€å®šæ˜¯é»‘è‰²  graph TB; N --\u0026gt; P; P((P)) --- D[D] \u0026amp; B((B)); B((B)) --- L((L)) \u0026amp; R((R)); class P,L,R black; class B red; class N transparent; class D del; classDef del fill:#fff,stroke:black,stroke-width:2px,color:#black,stroke-dasharray: 5; classDef black fill:black,stroke:black,color:white; classDef red fill:red,stroke:red,color:white; classDef transparent fill:transparent,stroke:transparent,color:transparent; ä¿®æ­£è™•ç†ï¼šå° P é€²è¡Œå·¦æ—‹è½‰ï¼Œä¸¦å°‡ P è¨­ç‚ºç´…è‰²ï¼ŒB è¨­ç‚ºé»‘è‰²ã€‚\ngraph TB; N --\u0026gt; B; B((B)) --- P((P)) \u0026amp; R((R)); P((P)) --- D[D] \u0026amp; L((L)); class B,L,R black; class P red; class N transparent; class D del; classDef del fill:#fff,stroke:black,stroke-width:2px,color:#black,stroke-dasharray: 5; classDef black fill:black,stroke:black,color:white; classDef red fill:red,stroke:red,color:white; classDef transparent fill:transparent,stroke:transparent,color:transparent; å­æ¨¹ P å°±è®Šæˆæƒ…æ³ä¸€ï¼ŒåŸ·è¡Œç›¸åŒä¿®æ­£è™•ç†ï¼š\ngraph TB; N --\u0026gt; B; B((B)) --- P((P)) \u0026amp; R((R)); P((P)) --- D[D] \u0026amp; L((L)); class B,P,R black; class L red; class N transparent; class D del; classDef del fill:#fff,stroke:black,stroke-width:2px,color:#black,stroke-dasharray: 5; classDef black fill:black,stroke:black,color:white; classDef red fill:red,stroke:red,color:white; classDef transparent fill:transparent,stroke:transparent,color:transparent; ç”¨ 2-3-4 æ¨¹è¡¨ç¤ºï¼š\ngraph TB; A[_ P B] --- B[D] \u0026amp; C[L] \u0026amp; D[R]; A2[P B _] --- B2[D] \u0026amp; C2[L] \u0026amp; D2[R]; A3[B _] --- B3[P L] \u0026amp; C3[R]; class B,B2 del; classDef del fill:#fff,stroke:black,stroke-width:2px,color:#black,stroke-dasharray: 5; å¦‚æœæ˜¯é¡åƒæƒ…æ³ï¼Œæ”¹å° P é€²è¡Œå³æ—‹è½‰ã€‚\n3.3 é»‘å…„ç´…ä¾„  å…„å¼Ÿç¯€é» Bï¼šé»‘è‰² çˆ¶ç¯€é» Pï¼šé»‘è‰²æˆ–ç´…è‰² å§ªå­ç¯€é»ï¼ˆå…„å¼Ÿå­ç¯€é»ï¼‰ï¼¬ã€ï¼²ï¼šç´…è‰²ï¼Œå…±ä¸‰ç¨®ç‹€æ…‹ï¼š  Lã€R éƒ½å­˜åœ¨ åªæœ‰ R åªæœ‰ L    åŸºæœ¬ç‹€æ…‹ï¼ŒLã€R éƒ½å­˜åœ¨ï¼š\ngraph TB; N --\u0026gt; P; P((P)) --- D[D] \u0026amp; B((B)); B((B)) --- L((L)) \u0026amp; R((R)); class P white; class D,B black; class L,R red; class N transparent; classDef white fill:white,stroke:black; classDef black fill:black,stroke:black,color:white; classDef red fill:red,stroke:red,color:white; classDef transparent fill:transparent,stroke:transparent,color:transparent; ä¿®æ­£è™•ç†ï¼šå° P åŸ·è¡Œå·¦æ—‹è½‰ï¼Œä¸¦å°‡ P è¨­ç‚ºé»‘è‰²ã€B è¨­ç‚º P çš„é¡è‰²ã€R è¨­ç‚ºé»‘è‰²ã€‚\ngraph TB; N --\u0026gt; B; B((B)) --- P((P)) \u0026amp; R((R)); P((P)) --- n1 \u0026amp; L((L)); class B white; class P,R black; class L red; class N,n1 transparent; classDef white fill:white,stroke:black; classDef black fill:black,stroke:black,color:white; classDef red fill:red,stroke:red,color:white; classDef transparent fill:transparent,stroke:transparent,color:transparent; è‹¥åªæœ‰ Rã€æ²’æœ‰ Lï¼Œå¯åŸ·è¡Œç›¸åŒä¿®æ­£è™•ç†ï¼š\ngraph TB; N --\u0026gt; P; P((P)) --- D[D] \u0026amp; B((B)); B((B)) --- n1 \u0026amp; R((R)); class P white; class D,B black; class L,R red; class N,n1 transparent; N1 --\u0026gt; B1; B1((B)) --- P1((P)) \u0026amp; R1((R)); class B1 white; class P1,R1 black; class L1 red; class N1,n11 transparent; classDef white fill:white,stroke:black; classDef black fill:black,stroke:black,color:white; classDef red fill:red,stroke:red,color:white; classDef transparent fill:transparent,stroke:transparent,color:transparent; è‹¥åªæœ‰ Lï¼Œæ²’æœ‰ Rï¼Œéœ€å…ˆå° B åŸ·è¡Œå³æ—‹è½‰ï¼Œä¸¦å°‡ L è¨­ç‚ºé»‘è‰²ã€Bè¨­ç‚ºç´…è‰²ï¼Œå°±æœƒè®Šä¸Šé¢çš„æƒ…æ³ï¼Œå†åŸ·è¡Œä¸Šé¢çš„ä¿®æ­£è™•ç†ï¼š\ngraph TB; N --\u0026gt; P; P((P)) --- D[D] \u0026amp; B((B)); B((B)) --- L((L)) \u0026amp; n1; class P white; class D,B black; class L,R red; class N,n1 transparent; N2 --\u0026gt; P2; P2((P)) --- D2[D] \u0026amp; L2((L)); L2((L)) --- n2 \u0026amp; B2((B)); class P2 white; class D2,L2 black; class B2 red; class N2,n2 transparent; classDef white fill:white,stroke:black; classDef black fill:black,stroke:black,color:white; classDef red fill:red,stroke:red,color:white; classDef transparent fill:transparent,stroke:transparent,color:transparent; ç”¨ 2-3-4 æ¨¹è¡¨ç¤ºï¼š\ngraph TB; A[P] --- B[D] \u0026amp; C[_ B R]; A3[B] --- B3[P] \u0026amp; C3[R]; class B,B2 del; classDef del fill:#fff,stroke:black,stroke-width:2px,color:#black,stroke-dasharray: 5; å¦‚æœæ˜¯é¡åƒæƒ…æ³ï¼Œå·¦æ—‹è½‰æ”¹å³æ—‹è½‰ã€å³æ—‹è½‰æ”¹å·¦æ—‹è½‰ï¼Œä¿®æ­£é‚è¼¯ç›¸åŒã€‚\n3.4 é»‘å…„é»‘çˆ¶  å…„å¼Ÿç¯€é» Bï¼šé»‘è‰² çˆ¶ç¯€é» Pï¼šç´…è‰² å§ªå­ç¯€é»ï¼ˆå…„å¼Ÿå­ç¯€é»ï¼‰ï¼šç„¡æˆ–æ˜¯é»‘è‰²ç¯€é»  graph TB; N --\u0026gt; P; P((P)) --- D[D] \u0026amp; B((B)); class P,B black; class N transparent; class D del; classDef black fill:black,stroke:black,color:white; classDef red fill:red,stroke:red,color:white; classDef transparent fill:transparent,stroke:transparent,color:transparent; classDef del fill:#fff,stroke:black,stroke-width:2px,color:#black,stroke-dasharray: 5; é¦–å…ˆï¼ŒB è¨­ç‚ºç´…è‰²ï¼š\ngraph TB; N --\u0026gt; P; P((P)) --- D[D] \u0026amp; B((B)); class P white; class P black; class B red; class N,n1 transparent; class D del; classDef black fill:black,stroke:black,color:white; classDef red fill:red,stroke:red,color:white; classDef transparent fill:transparent,stroke:transparent,color:transparent; classDef del fill:#fff,stroke:black,stroke-width:2px,color:#black,stroke-dasharray: 5; æ¨¹ä¾ç„¶æ˜¯ä¸å¹³è¡¡ï¼Œå› æ­¤å°‡ P è¨­ç‚ºç•¶å‰ç¯€é»ï¼Œå†æ¬¡åŸ·è¡Œå¹³è¡¡æ“ä½œã€‚\nç”¨ 2-3-4 æ¨¹è¡¨ç¤ºï¼š\ngraph TB; N --\u0026gt; A; A[P] --- B[D] \u0026amp; C[B]; N1 --\u0026gt; A1; A1[null] --- B1[P B]; class N,N1 transparent; class B,B2 del; classDef del fill:#fff,stroke:black,stroke-width:2px,color:#black,stroke-dasharray: 5; classDef transparent fill:transparent,stroke:transparent,color:transparent; classDef del fill:#fff,stroke:black,stroke-width:2px,color:#black,stroke-dasharray: 5; JavaScript å¯¦ä½œç´…é»‘æ¨¹åˆªé™¤æ“ä½œ 1. åˆªé™¤æ“ä½œ å› ç‚ºç´…é»‘æ¨¹çš„ç¯€é»æ˜¯é›™å‘çš„ï¼Œæˆ‘å€‘å¯ä»¥ç›´æ¥ç”¨å°‹æ‰¾æ–¹æ³•å–å¾—ç¯€é»ï¼Œä¸¦æ›´æ”¹çˆ¶ç¯€é»çš„æŒ‡å‘ã€‚\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35  remove(data, node = this.root) { const delNode = this.search(data, node); if (!delNode) { return false; } // è‘‰å­ç¯€é»  if (!delNode.left \u0026amp;\u0026amp; !delNode.right) { // ç´…è‰²  if (this.isRed(delNode)) { this.replaceParent(delNode, null); // é»‘è‰²  } else { this.deleteFixup(delNode); this.replaceParent(delNode, null); } // å–®é‚Šå­æ¨¹  } else if (!delNode.left || !delNode.right) { // å–®é‚Šå·¦å­æ¨¹  if (delNode.left) { delNode.left.color = NodeColor.BLACK; delNode.left.parent = delNode.parent; this.replaceParent(delNode, delNode.left); // å–®é‚Šå³å­æ¨¹  } else { delNode.right.color = NodeColor.BLACK; delNode.right.parent = delNode.parent; this.replaceParent(delNode, delNode.right); } } else { const aux = this.findMin(delNode.right); delNode.data = aux.data; this.remove(aux.data, delNode.right); } return this.root; }   æˆ‘å€‘èªªæ˜æ™‚ï¼Œæ˜¯åˆªé™¤å¾Œä¿®æ­£ï¼Œä½†å¯¦ä½œæ™‚ï¼Œå…ˆåˆªé™¤å°±æ²’è¾¦æ³•å‚³å…¥ç¯€é»åˆ¤æ–·äº†ï¼Œå› æ­¤é€™è£¡æ”¹æˆå…ˆåˆ¤æ–·åˆªé™¤å¾Œæ˜¯å¦æœƒå½±éŸ¿å¹³è¡¡ï¼Œè‹¥æœƒå½±éŸ¿å¹³è¡¡å…ˆèª¿æ•´åœ¨åˆªé™¤ã€‚\n1.1 è¼”åŠ©æ–¹æ³• å°‹æ‰¾ç¯€é»ã€å°‹æ‰¾æœ€å°å€¼ï¼Œåœ¨ä¸€èˆ¬çš„äºŒå…ƒæœå°‹æ¨¹éƒ½æœ‰èªªæ˜éï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20  search(data, node = this.root) { if (!node) { return false; } if (data === node.data) { return node; } if (data \u0026lt; node.data) { return this.search(data, node.left); } return this.search(data, node.right); } findMin(node = this.root) { let currentNode = node; while (currentNode \u0026amp;\u0026amp; currentNode.left) { currentNode = currentNode.left; } return currentNode; }   æ›¿æ›çˆ¶ç¯€é»çš„æŒ‡å‘ï¼Œåœ¨æ–°å¢ç¯€é»æ“ä½œèªªæ˜éï¼š\n1 2 3 4 5 6 7 8 9 10  replaceParent(curNode, newNode) { const parent = curNode.parent; if (!parent) { this.root = newNode; } else if (parent.left === curNode) { parent.left = newNode; } else { parent.right = newNode; } }   2. åˆªé™¤æ“ä½œå¹³è¡¡ä¿®æ­£ ç¯€é»ä»£è™Ÿï¼Œæ–¹ä¾¿èªªæ˜ï¼š\n ç•¶å‰ç¯€é»ï¼šN çˆ¶è¦ªç¯€é»ï¼šP ç¥–çˆ¶ç¯€é»ï¼šG å…„å¼Ÿç¯€é»ï¼šB å§ªå­ç¯€é»ï¼šLã€R  æª¢æŸ¥æ˜¯å¦éœ€è¦ä¿®æ­£ï¼Œä¿®æ­£æ¢ä»¶ã€Œéæ ¹ç¯€é»ä¸”ç‚ºé»‘è‰²ã€ï¼š\n è‹¥ N ç‚º P çš„å·¦å­ç¯€é»ï¼ŒB ç‚º P çš„å³å­ç¯€é»ï¼š  è‹¥ B æ˜¯ç´…è‰²ï¼Œå° P å·¦æ—‹è½‰ï¼Œé‡æ–°åŸ·è¡Œä¿®æ­£æª¢æŸ¥ã€‚å¦å‰‡ï¼š è‹¥ L å’Œ R çš†ç‚ºé»‘è‰²ï¼ˆåŒ…å« NILï¼‰ï¼š  è‹¥ P æ˜¯ç´…è‰²ï¼Œå°‡ P è¨­ç‚ºé»‘è‰²ã€å³å­ç¯€é»è¨­ç‚ºç´…è‰²ï¼ŒçµæŸä¿®æ­£ã€‚å¦å‰‡ï¼š å°‡ B è¨­ç‚ºç´…è‰²ï¼Œä¸¦å°‡ N è¨­ç‚º Pï¼Œé‡æ–°åŸ·è¡Œä¿®æ­£æª¢æŸ¥ã€‚   è‹¥ L æ˜¯ç´…è‰²ä¸” R ä¸å­˜åœ¨ï¼Œå° B åŸ·è¡Œå³æ—‹è½‰ï¼Œä¸¦é‡æ–°åŸ·è¡ŒåŸ·è¡Œæ“ä½œã€‚å¦å‰‡ï¼š å° P è½‰å·¦æ—‹è½‰ï¼Œä¸¦å°‡ Pã€R è¨­ç‚ºé»‘è‰²ï¼ŒçµæŸä¿®æ­£ã€‚   è‹¥ N ç‚º P çš„å³å­ç¯€é»ï¼ŒB ç‚º P çš„å·¦å­ç¯€é»ï¼š  è‹¥ B æ˜¯ç´…è‰²ï¼Œå° P å·¦æ—‹è½‰ï¼Œé‡æ–°åŸ·è¡Œä¿®æ­£æª¢æŸ¥ã€‚å¦å‰‡ï¼š è‹¥ L å’Œ R çš†ç‚ºé»‘è‰²ï¼ˆåŒ…å« NILï¼‰ï¼š  è‹¥ P æ˜¯ç´…è‰²ï¼Œå°‡ P è¨­ç‚ºé»‘è‰²ã€å·¦å­ç¯€é»è¨­ç‚ºç´…è‰²ï¼ŒçµæŸä¿®æ­£ã€‚å¦å‰‡ï¼š å°‡ B è¨­ç‚ºç´…è‰²ï¼Œä¸¦å°‡ N è¨­ç‚º Pï¼Œé‡æ–°åŸ·è¡Œä¿®æ­£æª¢æŸ¥ã€‚   è‹¥ L æ˜¯ç´…è‰²ä¸” R ä¸å­˜åœ¨ï¼Œå° B åŸ·è¡Œå·¦æ—‹è½‰ï¼Œä¸¦é‡æ–°åŸ·è¡ŒåŸ·è¡Œæ“ä½œã€‚å¦å‰‡ï¼š å° P è½‰å³æ—‹è½‰ï¼Œä¸¦å°‡ Pã€L è¨­ç‚ºé»‘è‰²ï¼ŒçµæŸä¿®æ­£ã€‚    1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51  deleteFixup(node) { let currNode = node; while (currNode !== this.root \u0026amp;\u0026amp; !this.isRed(currNode)) { const { parent } = currNode; let bother; if (currNode === parent.left) { bother = parent.right; if (this.isRed(bother)) { this.leftRotation(parent); } if (!this.isRed(bother.left) \u0026amp;\u0026amp; !this.isRed(bother.right)) { if (this.isRed(parent)) { parent.color = NodeColor.BLACK; parent.right.color = NodeColor.RED; break; } bother.color = NodeColor.RED; currNode = parent; } else if (this.isRed(bother.left) \u0026amp;\u0026amp; !this.isRed(bother.right)) { this.rightRotation(bother); } else { this.leftRotation(parent); parent.color = NodeColor.BLACK; bother.right.color = NodeColor.BLACK; break; } } else { bother = parent.left; if (this.isRed(bother)) { this.rightRotation(parent); } if (!this.isRed(bother.left) \u0026amp;\u0026amp; !this.isRed(bother.right)) { if (this.isRed(parent)) { parent.color = NodeColor.BLACK; parent.left.color = NodeColor.RED; break; } bother.color = NodeColor.RED; currNode = parent; } else if (this.isRed(bother.right) \u0026amp;\u0026amp; !this.isRed(bother.left)) { this.leftRotation(bother); } else { this.rightRotation(parent); parent.color = NodeColor.BLACK; bother.left.color = NodeColor.BLACK; break; } } } }   ç´…é»‘æ¨¹ç¸½çµ 1. ç´…é»‘æ¨¹å’Œ AVL-Tree æ¯”è¼ƒ ç´…é»‘æ¨¹å’Œ AVL-Tree ä¸€æ¨£æ˜¯è‡ªå¹³è¡¡äºŒå…ƒæœå°‹æ¨¹ï¼Œéƒ½å¯ä»¥åœ¨ $O(\\log n)$ æ™‚é–“å…§å®Œæˆå°‹æ‰¾ã€æ–°å¢å’Œåˆªé™¤æ“ä½œã€‚\nAVL-Treeï¼Œå±¬æ–¼åš´æ ¼å¹³è¡¡æ¨¹ï¼Œé€éè¨ˆç®— BFï¼Œè®“ä»»æ„å­ç¯€é»çš„å·¦å³å­æ¨¹é«˜åº¦ç›¸å·®ä¸è¶…é 1ã€‚\nè€Œç´…é»‘æ¨¹ï¼Œé€éå¢åŠ ç¯€é»é¡è‰²ï¼Œä¾†ç¶­æŒå®šç¾©çš„ç‰¹æ€§ï¼Œç›¸å°æ–¼ AVL-Tree ä¾†èªªï¼ŒçŠ§ç‰²äº†éƒ¨åˆ†å¹³è¡¡æ€§ï¼ˆå¤šä¸€å±¤ï¼‰ï¼Œæ›å–å¹³è¡¡ä¿®æ­£æ“ä½œæ™‚çš„å°‘é‡æ—‹è½‰æ“ä½œï¼Œæ•´é«”ä¾†èªªæ•ˆèƒ½è¦å„ªæ–¼ AVL-Treeã€‚\n å°æ–¼æ–°å¢æ“ä½œï¼ŒAVL-Tree å’Œ ç´…é»‘æ¨¹ æœ€å¤šåªéœ€è¦åŸ·è¡Œ 2 æ¬¡æ—‹è½‰æ“ä½œï¼Œå³å¹³è¡¡ä¿®æ­£ç‚º $O(1)$ çš„æ™‚é–“è¤‡é›œåº¦ ä½†åˆªé™¤æ“ä½œï¼ŒAVL-Tree éœ€è¦ç¶­è­·è¢«åˆªç¯€é»åˆ°æ ¹ç¯€é»è·¯å¾‘ä¸Šæ‰€æœ‰ç¯€é»çš„å¹³è¡¡æ€§ï¼Œå› æ­¤å¹³è¡¡ä¿®æ­£æ™‚é–“è¤‡é›œåº¦éœ€è¦ $O(\\log n)$ã€‚è€Œç´…é»‘æ¨¹çš„åˆªé™¤æ“ä½œï¼Œæœ€å¤šåªéœ€è¦ä¸‰æ¬¡æ—‹è½‰ï¼Œå³å¹³è¡¡ä¿®æ­£ç‚º $O(1)$ çš„æ™‚é–“è¤‡é›œåº¦ã€‚ æŸ¥è©¢æ“ä½œå‰‡æ˜¯ ç´…é»‘æ¨¹ ç•¥éœæ–¼ AVL-Treeï¼Œå› ç‚ºå®ƒæœƒæ¯” AVL-Tree å¤šä¸€å±¤ã€‚  2. è¦–è¦ºåŒ– é€™æ˜¯æˆ‘ç”¨ Vue.js è£½ä½œçš„ï¼Œå¯ä»¥å¾ˆçš„æ–¹ä¾¿è§€å¯Ÿé»‘ç´…æ¨¹çš„çµæ§‹è®ŠåŒ–ï¼š\nSee the Pen Red - Black Tree with Vue.js by Chupai@Design (@chupai) on CodePen. ","description":"æœ€å¾Œæˆ‘å€‘ä¾†çœ‹ç´…é»‘æ¨¹åˆªé™¤æ“ä½œï¼Œç›¸è¼ƒæ–¼æ–°å¢æ“ä½œè¤‡é›œã€‚","id":68,"section":"posts","tags":["è³‡æ–™çµæ§‹","äºŒå…ƒæœå°‹æ¨¹","äºŒå…ƒæ¨¹","ç´…é»‘æ¨¹","å¹³è¡¡æ¨¹","2-3 æ¨¹","2-3-4 æ¨¹","w3HexSchool"],"title":"JavaScript å­¸æ¼”ç®—æ³•ï¼ˆåå…«ï¼‰- ç´…é»‘æ¨¹ï¼ˆä¸‹ï¼‰ï¼šåˆªé™¤æ“ä½œ","uri":"https://chupai.github.io/posts/2007/ds_redblack-tree-3/"},{"content":"é€™é€±æ˜¯å…­è§’é¼ å¹´éµäººè³½ç¬¬äºŒåäº”é€±ã€‚\nä¸Šé€±æˆ‘å€‘ç°¡å–®èªªæ˜äº†ç´…é»‘æ¨¹çš„åŸºæœ¬æ€§è³ªèˆ‡ç†è§£ B æ¨¹ã€2-3-4 æ¨¹ï¼Œæ¥ä¸‹ä¾†ï¼Œæˆ‘å€‘ä¾†çœ‹ç´…é»‘æ¨¹å’Œ 2-3-4 æ¨¹çš„ç­‰åƒ¹é—œä¿‚èˆ‡æ–°å¢æ“ä½œã€‚\n ç´…é»‘æ¨¹ï¼ˆä¸Šï¼‰ï¼šB æ¨¹ã€2-3-4 æ¨¹ ç´…é»‘æ¨¹ï¼ˆä¸­ï¼‰ï¼šæ–°å¢æ“ä½œ ç´…é»‘æ¨¹ï¼ˆä¸‹ï¼‰ï¼šåˆªé™¤æ“ä½œ  \rç´…é»‘æ¨¹å’Œ 2-3-4 æ¨¹çš„ç­‰åƒ¹é—œä¿‚ 2-3-4 æ¨¹åœ¨å¤šæ•¸ç¨‹å¼èªè¨€ä¸­å¯¦ç¾èµ·ä¾†ç›¸å°å›°é›£ï¼Œå› ç‚ºåœ¨æ¨¹ä¸Šçš„æ“ä½œæ¶‰åŠå¤§é‡çš„ç‰¹æ®Šæƒ…æ³ã€‚è€Œ ç´…é»‘æ¨¹ æ˜¯åŸºæ–¼å®ƒçš„ç†è«–åŸºç¤æ‰€ç™¼æ˜çš„ï¼Œå¯¦ç¾èµ·ä¾†æ›´ç°¡å–®ä¸€äº›ã€‚\nå› æ­¤ ç´…é»‘æ¨¹æœ¬è³ªä¸Šå°±æ˜¯ 2-3-4 æ¨¹ï¼Œæ‰€æœ‰æ€§è³ªéƒ½å¯ä»¥å¾ 2-3-4æ¨¹ ä¾†ç†è§£ã€‚\n1. é»‘è‰²ç¯€é» é»‘è‰²ç¯€é»ï¼Œå…¶å¯¦å°±æ˜¯ 2-3-4 æ¨¹çš„ 2-ç¯€é»ï¼Œç‚ºä¸€å€‹ä¸­ä½æ•¸ã€‚ã€‚\ngraph TB; N[_ 40 _]; A((40)) --- n1 \u0026amp; n2; class A black; class n1,n2 transparent; classDef black fill:black,stroke:black,color:white; classDef transparent fill:transparent,stroke:transparent,color:transparent; 2. ç´…è‰²ç¯€é» é»‘è‰²ç¯€é»çš„å­æ¨¹å¦‚æœæ˜¯ç´…è‰²ç¯€é»ï¼Œè¡¨ç¤ºå½¼æ­¤èåˆçš„æ„æ€ï¼Œå…¶å¯¦å°±æ˜¯ 2-3-4 æ¨¹çš„ 3-ç¯€é»ã€4-ç¯€é»ã€‚\n3-ç¯€é»ï¼š\ngraph TB; N[30 40 _]; A((40)) --- B((30)) \u0026amp; n1; N2[_ 40 50 ]; AA((40)) --- n2 \u0026amp; BB((50)); class A,AA black; class B,BB red; class n1,n2 transparent; classDef black fill:black,stroke:black,color:white; classDef red fill:red,stroke:red,color:white; classDef transparent fill:transparent,stroke:transparent,color:transparent; 4-ç¯€é»ï¼š\ngraph TB; N[30 40 50]; A((40)) --- B((30)) \u0026amp; C((50)); class A black; class B,C red; classDef black fill:black,stroke:black,color:white; classDef red fill:red,stroke:red,color:white; 3. 2-3 æ¨¹ éƒ¨åˆ†è³‡æ–™æœƒèªªç´…é»‘æ¨¹ç­‰åƒ¹æ–¼ 2-3 æ¨¹ï¼ˆ3 éš B æ¨¹ï¼‰ï¼Œä½†æ­£ç¢ºä¾†èªªï¼Œæ˜¯ã€Œå·¦å‚¾ç´…é»‘æ¨¹ã€ï¼Œå±¬æ–¼ç´…é»‘æ¨¹çš„è®Šç¨®ï¼Œé€™è£¡ä¸è¨è«–ã€‚\nç´…é»‘æ¨¹çš„æ–°å¢æ“ä½œ ç´…é»‘æ¨¹æ–°å¢ç¯€é»å¾Œï¼Œæœƒæª¢æŸ¥æ¨¹ä½¿å¦å¹³è¡¡ï¼ˆæ˜¯å¦é•åç´…é»‘æ¨¹æ€§è³ªï¼‰ï¼Œè‹¥ä¸å¹³è¡¡ï¼Œæœƒé€éã€Œæ—‹è½‰ã€å’Œã€Œè®Šè‰²ã€æ“ä½œä¾†ä¿®æ­£ã€‚\n1. ä¿æŒæ ¹ç¯€é»æ˜¯é»‘è‰²çš„ åœ¨ 2-3-4 æ¨¹æ’å…¥å…ƒç´ æ™‚ï¼Œéƒ½æ˜¯èåˆåˆ°ç¯€é»ä¸­ï¼Œå› æ­¤åœ¨ç´…é»‘æ¨¹ä¸­ï¼Œæ–°å¢çš„ç¯€é»ä¸€å®šçš„ç´…è‰²çš„ã€‚\né¦–å…ˆï¼Œæˆ‘å€‘å†ä¸€å€‹ç©ºæ¨¹ä¸­æ–°å¢ä¸€å€‹ç¯€é»ï¼š\ngraph TB; A((N)); classDef red fill:red,stroke:red,color:white; A:::red; ä½†ç´…é»‘æ¨¹çš„æ€§è³ª2ï¼šã€Œæ¨¹çš„æ ¹ç¯€é»ç‚ºé»‘è‰²ã€ï¼Œå› æ­¤éœ€è¦å°‡å®ƒä¿®æ­£æˆé»‘è‰²çš„ï¼š\ngraph TB; A((N)); classDef black fill:black,stroke:black,color:white; A:::black; 2. 2-ç¯€é» ä¸€å€‹é»‘è‰²ç¯€é»ç„¡ä»»ä½•å­ç¯€é»ï¼Œè¡¨ç¤ºå®ƒæ˜¯ä¸€å€‹ 2-ç¯€é»ã€‚\né‚£éº¼ç•¶æˆ‘å€‘æ–°å¢ç¯€é»ï¼Œå®ƒæœƒè®Šæˆä¸€å€‹ 3-ç¯€é»ï¼Œå› æ­¤ä¸éœ€è¦åšä»»ä½•ä¿®æ­£ï¼š\ngraph TB; A((P)) --- B((N)) \u0026amp; n1; AA((P)) --- n2 \u0026amp; BB((N)); class A,AA black; class B,BB red; class n1,n2 transparent; classDef black fill:black,stroke:black,color:white; classDef red fill:red,stroke:red,color:white; classDef transparent fill:transparent,stroke:transparent,color:transparent; 3. 3-ç¯€é» ç•¶æˆ‘å€‘å°ä¸€å€‹ 3-ç¯€é»æ–°å¢ç¯€é»ï¼Œå®ƒæœƒè®Šæˆ 4-ç¯€é»ï¼Œé€™æ™‚ç´…é»‘æ¨¹å¯èƒ½æœƒé•åæ€§è³ª4ï¼šã€Œæ¯å€‹ç´…è‰²ç¯€é»å¿…é ˆæœ‰å…©å€‹é»‘è‰²çš„å­ç¯€é»ï¼ˆä¸èƒ½æœ‰å…©å€‹é€£çºŒçš„ç´…è‰²ç¯€é»ï¼‰ã€ï¼Œå› æ­¤å¿…é ˆä¿®æ­£å®ƒã€‚\nèˆ‰ä¾‹ä¾†èªªï¼Œé»‘ç´…æ¨¹è¡¨ç¤ºçš„ 3-ç¯€åœ¨ 2-3-4æ¨¹å¯èƒ½é•·é€™æ¨£ï¼š\ngraph TB; N[30 40 _]; ä½†å¦‚æœè¦å†æ’å…¥ 20ï¼Œå·¦é‚Šæ²’ä½ç½®ã€‚å› æ­¤è¦å°‡ 30 è®Šæˆä¸­ä½æ•¸ï¼š\ngraph TB; N[_ 30 40 ]; é€™æ¨£å°±èƒ½æ’å…¥ 20 äº†ï¼š\ngraph TB; N[20 30 40]; æ¥ä¸‹ä¾†ï¼Œæˆ‘å€‘ä¾†çœ‹éœ€è¦ä¿®æ­£çš„æƒ…æ³ï¼Œé¦–å…ˆä¾†å®šç¾©ç¯€é»ä»£è™Ÿï¼Œæ–¹ä¾¿èªªæ˜ï¼š\n ç¥–çˆ¶ç¯€é»ï¼šG çˆ¶è¦ªç¯€é»ï¼šP æ–°å¢çš„ç¯€é»ï¼šN  éœ€è¦ä¿®æ­£æƒ…æ³ä¸€ï¼š\ngraph TB; A((G)) --- B((P)) \u0026amp; n; B((P)) --- C((N)) \u0026amp; n1; class A black; class B,C red; class n,n1 transparent; classDef black fill:black,stroke:black,color:white; classDef red fill:red,stroke:red,color:white; classDef transparent fill:transparent,stroke:transparent,color:transparent; éœ€è¦å° G åŸ·è¡Œå³æ—‹è½‰ï¼Œä¸¦å°‡ G è¨­ç‚ºç´…è‰²ã€P è¨­ç‚ºé»‘è‰²ï¼š\ngraph TB; A((P)) --- B((N)) \u0026amp; C((G)); class A black; class B,C red; classDef black fill:black,stroke:black,color:white; classDef red fill:red,stroke:red,color:white; å¦‚æœä½ å°æ—‹è½‰æ“ä½œä¸ç†Ÿæ‚‰çš„è©±ï¼Œå¯ä»¥å…ˆåƒè€ƒæˆ‘çš„ä¸Šä¸€ç¯‡æ–‡ç« ï¼šAVL-Treeã€‚\néœ€è¦ä¿®æ­£æƒ…æ³äºŒï¼š\ngraph TB; A((G)) --- B((P)) \u0026amp; n; B((P)) --- n1 \u0026amp; C((N)); AA((G)) --- BB((N)) \u0026amp; nn; BB((N)) --- CC((P)) \u0026amp; nn1; class A,AA black; class B,C,BB,CC red; class n,n1,nn,nn1 transparent; classDef black fill:black,stroke:black,color:white; classDef red fill:red,stroke:red,color:white; classDef transparent fill:transparent,stroke:transparent,color:transparent; éœ€è¦å…ˆå° P é€²è¡Œå·¦æ—‹è½‰ï¼Œé€™æ¨£å°±è®Šæˆæƒ…æ³ä¸€äº†ï¼Œå†åŸ·è¡Œç›¸åŒè™•ç†ã€‚\næƒ…æ³ä¸‰ã€å››ï¼ŒåŸºæœ¬ä¸Šå°±æ˜¯é¡åƒæƒ…æ³ï¼Œå…ˆå° P å³æ—‹è½‰ï¼š\ngraph TB; A((G)) --- n \u0026amp; B((P)); B((P)) --- C((N)) \u0026amp; n1; A1((G)) --- n11 \u0026amp; B1((N)); B1((N)) --- n111 \u0026amp; C1((P)); class A black; class B,C red; class n,n1 transparent; class A1 black; class B1,C1 red; class n11,n111 transparent; classDef black fill:black,stroke:black,color:white; classDef red fill:red,stroke:red,color:white; classDef transparent fill:transparent,stroke:transparent,color:transparent; å†å° G å·¦æ—‹è½‰ï¼Œä¸¦å°‡ G è¨­ç‚ºç´…è‰²ã€N è¨­ç‚ºé»‘è‰²ï¼š\ngraph TB; AA((N)) --- BB((G)) \u0026amp; CC((P)); class AA black; class BB,CC red; classDef black fill:black,stroke:black,color:white; classDef red fill:red,stroke:red,color:white; 4. 4-ç¯€é» å¦‚æœå°ä¸€å€‹ 4-ç¯€é»æ–°å¢ç¯€é»ï¼Œä¹Ÿå°±æ˜¯æœƒå½¢æˆä¸€å€‹ 5-ç¯€é»ï¼Œé€™æ™‚ç´…é»‘æ¨¹ä¸€æ¨£æœƒé•åæ€§è³ª4ã€‚\ngraph TB; n --\u0026gt; A; A((A)) --- B((B)) \u0026amp; C((C)); B((B)) --- N((N)); class A black; class B,C red; class N red2; class n transparent; classDef black fill:black,stroke:black,color:black; classDef red fill:red,stroke:red,color:red; classDef red2 fill:red,stroke:red,color:white; classDef transparent fill:transparent,stroke:transparent,color:transparent; æˆ‘å€‘æœƒå°‡æ•´æ£µå­æ¨¹åŸ·è¡Œã€Œé¡è‰²ç¿»è½‰ color flipã€æ“ä½œï¼š\ngraph TB; n --\u0026gt; A; A((A)) --- B((B)) \u0026amp; C((C)); B((B)) --- N((N)); class A red; class B,C black; class N red2; class n transparent; classDef black fill:black,stroke:black,color:black; classDef red fill:red,stroke:red,color:red; classDef red2 fill:red,stroke:red,color:white; classDef transparent fill:transparent,stroke:transparent,color:transparent; é¡è‰²ç¿»è½‰ï¼Œå…¶å¯¦å°±æ˜¯ 2-3-4 æ¨¹ä¸­çš„æ‹†åˆ†èˆ‡å‘ä¸Šèåˆã€‚\nç•¶åŸ·è¡Œå®Œé¡è‰²ç¿»è½‰å¾Œï¼Œéœ€è¦é‡æ–°æª¢æŸ¥é»‘ç´…æ¨¹æ˜¯å¦é•åæ€§è³ªã€‚\nJavaScript å¯¦ä½œç´…é»‘æ¨¹æ–°å¢æ“ä½œ 1. æœ¬é«” é¡è‰²ï¼š\n1 2 3 4  const NodeColor = { RED: true, BLACK: false, };   æˆ‘å€‘ä½¿ç”¨å¸ƒæ—å€¼ä¾†å®šç¾©ç´…è‰²èˆ‡é»‘è‰²ã€‚\nç¯€é»ï¼š\n1 2 3 4 5 6 7 8 9  class RBTNode { constructor(data, parent = null) { this.data = data; this.parent = parent; this.left = null; this.right = null; this.color = NodeColor.RED; } }    dataï¼šå„²å­˜è³‡æ–™ parentï¼šçˆ¶ç¯€é» leftï¼šå·¦å­ç¯€é» rightï¼šå³å­ç¯€é» colorï¼šç¯€é»é¡è‰²ï¼ˆæ–°å¢ç¯€é»ä¸€å®šæ˜¯ç´…è‰²çš„ï¼Œæ‰€ä»¥é è¨­ç´…è‰²ï¼‰  ç´…é»‘æ¨¹çš„ç¯€é»æ¯”æ™®é€šçš„äºŒå…ƒæœå°‹æ¨¹å¤šäº†é¡è‰²å’Œç´€éŒ„çˆ¶ç¯€é»å±¬æ€§ï¼Œä¹Ÿå°±æ˜¯èªªï¼Œå®ƒæ˜¯ä¸€å€‹é›™å‘éˆçµã€‚\næ ¹ï¼š\n1 2 3 4 5 6  class RedBlackTree { constructor() { this.root = null; } // methods }   2. æ—‹è½‰æ“ä½œ ç´…é»‘æ¨¹å› ç‚ºå¤šäº†é¡è‰²å’Œçˆ¶ç¯€é»ï¼Œå› æ­¤æ—‹è½‰æ“ä½œé‚„éœ€è¦æ›´æ–°é¡è‰²ã€çˆ¶ç¯€é»ã€‚\n2.1 å³æ—‹è½‰ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17  rightRotation(node) { const temp = node.left; node.left = temp.right; temp.right = node; // æ›´æ–°é¡è‰²  temp.color = node.color; node.color = NodeColor.RED; // æ›´æ–°çˆ¶ç¯€é»  this.replaceParent(node, temp); temp.parent = node.parent; node.parent = temp; if (node.left) { node.left.parent = node; } }   2.2 å·¦æ—‹è½‰ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15  leftRotation(node) { const temp = node.right; node.right = temp.left; temp.left = node; temp.color = node.color; node.color = NodeColor.RED; this.replaceParent(node, temp); temp.parent = node.parent; node.parent = temp; if (node.right) { node.right.parent = node; } }   2.3 è¼”åŠ©æ–¹æ³• æ›¿æ›çˆ¶ç¯€é»çš„æŒ‡å‘ï¼š\n1 2 3 4 5 6 7 8 9 10  replaceParent(curNode, newNode) { const { parent } = curNode; if (!parent) { this.root = newNode; } else if (curNode === parent.left) { parent.left = newNode; } else { parent.right = newNode; } }    å¦‚æœçˆ¶ç¯€é»ä¸å­˜åœ¨ï¼Œæ›´æ–°æ¨¹çš„æ ¹ç¯€é»ï¼› å¦‚æœæ˜¯å·¦å­æ¨¹ï¼Œæ›´æ–°å·¦å­æ¨¹ï¼› è‹¥ä¸æ˜¯ï¼Œå‰‡æ›´æ–°å³å­æ¨¹ã€‚  3. æ–°å¢æ“ä½œ åŸºæœ¬ä¸Šèˆ‡æ™®é€šäºŒå…ƒæœå°‹æ¨¹ç›¸åŒï¼Œåªæ˜¯å¤šäº†çˆ¶ç¯€é»çš„æŒ‡å‘èˆ‡æª¢æŸ¥æ˜¯å¦å¹³è¡¡ã€‚\næ­¸è¿´ç‰ˆæœ¬ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28  insert(data) { const insertHelper = (node) =\u0026gt; { const curNode = node; if (data \u0026lt; curNode.data) { if (curNode.left) { insertHelper(curNode.left); } else { curNode.left = new RBTNode(data); curNode.left.parent = curNode; this.insertFixRBT(curNode.left); } } else if (data \u0026gt; curNode.data) { if (curNode.right) { insertHelper(curNode.right); } else { curNode.right = new RBTNode(data); curNode.right.parent = curNode; this.insertFixRBT(curNode.right); } } }; if (!this.root) { this.root = new RBTNode(data); this.insertFixRBT(this.root); } else { insertHelper(this.root); } }   è¿­ä»£ç‰ˆæœ¬ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31  insert(data) { if (!this.root) { this.root = new RBTNode(data); this.insertFixup(this.root); return this.root; } let curNode = this.root; while (curNode) { if (data \u0026lt; curNode.data) { if (curNode.left) { curNode = curNode.left; } else { curNode.left = new RBTNode(data, curNode); this.insertFixup(curNode.left); break; } } else if (data \u0026gt; curNode.data) { if (curNode.right) { curNode = curNode.right; } else { curNode.right = new Node(data, curNode); this.insertFixup(curNode.right); break; } } } return this.root; }   4. æ–°å¢æ“ä½œå¹³è¡¡ä¿®æ­£ æ–°å¢ç¯€é»å¾Œï¼Œæª¢æŸ¥ç´…é»‘æ¨¹æ˜¯å¦ç¬¦åˆç‰¹æ€§ï¼Œä¸¦ä¿®æ­£å®ƒã€‚\nç¯€é»ä»£è™Ÿï¼Œæ–¹ä¾¿èªªæ˜ï¼š\n ç•¶å‰ç¯€é»ï¼šN çˆ¶è¦ªç¯€é»ï¼šP ç¥–çˆ¶ç¯€é»ï¼šG å”å”ç¯€é»ï¼šU  æª¢æŸ¥æ˜¯å¦éœ€è¦ä¿®æ­£ï¼Œä¿®æ­£æ¢ä»¶ã€ŒP æ˜¯ç´…è‰²ä¸” G å­˜åœ¨ã€ï¼š\n è‹¥ P ç‚º G çš„å·¦å­ç¯€é»ï¼š  åˆ¤æ–· U æ˜¯å¦ç‚ºç´…è‰²ç¯€é»ï¼Œè‹¥æ˜¯ï¼Œå‰‡åŸ·è¡Œé¡è‰²ç¿»è½‰ã€‚ è‹¥ä¸å­˜åœ¨ï¼Œåˆ¤æ–· N æ˜¯å¦ç‚º P çš„å³å­ç¯€é»ï¼š  å¦‚æœæ˜¯å³å­ç¯€é»ï¼Œå…ˆå° P åŸ·è¡Œå·¦æ—‹è½‰ï¼›   å° G åŸ·è¡Œå³æ—‹è½‰ã€‚   è‹¥ P ç‚º G çš„å³å­ç¯€é»ï¼š  åˆ¤æ–· U æ˜¯å¦ç‚ºç´…è‰²ç¯€é»ï¼Œè‹¥æ˜¯ï¼Œå‰‡åŸ·è¡Œé¡è‰²ç¿»è½‰ã€‚ è‹¥ä¸å­˜åœ¨ï¼Œåˆ¤æ–· N æ˜¯å¦ç‚º P çš„å·¦å­ç¯€é»ï¼š  å¦‚æœæ˜¯å·¦å­ç¯€é»ï¼Œå…ˆå° P åŸ·è¡Œå³æ—‹è½‰ï¼›   å° G åŸ·è¡Œå·¦æ—‹è½‰ã€‚   ä»¥ä¸Šä¿®æ­£çµæŸï¼Œå°‡ç›®å‰ç¯€é»è¨­ç‚ºç¥–çˆ¶ç¯€é»ï¼Œå†æ¬¡æª¢æŸ¥æ˜¯å¦éœ€è¦ä¿®æ­£ã€‚  ä¿®æ­£çµæŸå¾Œï¼Œè¨˜å¾—å°‡æ ¹çµé»è¨­ç‚ºé»‘è‰²ã€‚\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30  insertFixup(node) { let curNode = node; while (this.isRed(curNode.parent) \u0026amp;\u0026amp; curNode.parent.parent) { const { parent } = curNode; const grandparent = parent.parent; if (parent === grandparent.left) { if (this.isRed(grandparent.right)) { this.flipColor(grandparent); } else { if (curNode === parent.right) { this.leftRotation(parent); } this.rightRotation(grandparent); } } else { if (this.isRed(grandparent.left)) { this.flipColor(grandparent); curNode = grandparent; } else { if (curNode === parent.left) { this.rightRotation(parent); } this.leftRotation(grandparent); } } curNode = grandparent; } this.root.color = NodeColor.BLACK; }   4.1 è¼”åŠ©æ–¹æ³• åˆ¤æ–·ç¯€é»é¡è‰²ï¼š\n1 2 3  isRed(node) { return node ? node.color : false; }   é¡è‰²ç¿»è½‰ï¼š\n1 2 3 4 5  flipColor(node) { node.color = NodeColor.RED; node.left.color = NodeColor.BLACK; node.right.color = NodeColor.BLACK; }   ç¸½çµ é€™æ˜¯æˆ‘ç”¨ Vue.js è£½ä½œçš„ï¼Œå¯ä»¥å¾ˆçš„æ–¹ä¾¿è§€å¯Ÿé»‘ç´…æ¨¹çš„çµæ§‹è®ŠåŒ–ï¼š\nSee the Pen Red - Black Tree - insert with Vue.js by Chupai@Design (@chupai) on CodePen.  ä¸‹é€±ä¾†èªªæ˜æ›´éº»ç…©çš„åˆªé™¤æ“ä½œã€‚\n","description":"ç´…é»‘æ¨¹å’Œ 2-3-4 æ¨¹çš„ç­‰åƒ¹é—œä¿‚èˆ‡æ–°å¢æ“ä½œã€‚","id":69,"section":"posts","tags":["è³‡æ–™çµæ§‹","äºŒå…ƒæœå°‹æ¨¹","äºŒå…ƒæ¨¹","ç´…é»‘æ¨¹","å¹³è¡¡æ¨¹","2-3 æ¨¹","2-3-4 æ¨¹","w3HexSchool"],"title":"JavaScript å­¸æ¼”ç®—æ³•ï¼ˆåä¸ƒï¼‰- ç´…é»‘æ¨¹ï¼ˆä¸­ï¼‰ï¼šæ–°å¢æ“ä½œ","uri":"https://chupai.github.io/posts/2007/ds_redblack-tree-2/"},{"content":"é€™é€±æ˜¯å…­è§’é¼ å¹´éµäººè³½ç¬¬äºŒåå››é€±ã€‚\nç´…é»‘æ¨¹å’Œ AVL-Tree ä¸€æ¨£æ˜¯è‡ªå¹³è¡¡äºŒå…ƒæœå°‹æ¨¹ï¼Œå› ç‚ºæ¯”è¼ƒé›£ç†è§£ã€ç¯‡å¹…è¼ƒé•·ï¼Œæ‰€ä»¥åˆ†æˆä¸‰å€‹éšæ®µä¾†èªªæ˜ï¼š\n ç´…é»‘æ¨¹ï¼ˆä¸Šï¼‰ï¼šB æ¨¹ã€2-3-4 æ¨¹ ç´…é»‘æ¨¹ï¼ˆä¸­ï¼‰ï¼šæ–°å¢æ“ä½œ ç´…é»‘æ¨¹ï¼ˆä¸‹ï¼‰ï¼šåˆªé™¤æ“ä½œ  \rç´…é»‘æ¨¹ç°¡ä»‹ ç´…é»‘æ¨¹ï¼ˆRedâ€“black treeï¼‰ æ˜¯ä¸€ç¨®è‡ªå¹³è¡¡äºŒå…ƒæœå°‹æ¨¹ï¼Œå®ƒæ˜¯ç”± Rudolf Bayer æ–¼ 1972å¹´ç™¼æ˜ï¼Œç•¶æ™‚ç¨±ç‚º å°ç¨±äºŒå…ƒ B æ¨¹ï¼ˆSymmetric binary B-treesï¼‰ã€‚å¾Œä¾†å› ç‚º Leo J. Guibas å’Œ Robert Sedgewick æ–¼ 1978å¹´å¯«çš„ä¸€ç¯‡è«–æ–‡æ”¹åæˆç¾ä»Šçš„åç¨±ã€‚\nç´…é»‘æ¨¹å’Œ AVL-Tree ä¸€æ¨£æ˜¯è‡ªå¹³è¡¡äºŒå…ƒæœå°‹æ¨¹ï¼Œéƒ½å¯ä»¥åœ¨ $O(\\log n)$ æ™‚é–“å…§å®Œæˆå°‹æ‰¾ã€æ–°å¢å’Œåˆªé™¤æ“ä½œã€‚ä½† ç´…é»‘æ¨¹ç›¸å°æ–¼ AVL-Tree ä¾†èªªï¼ŒçŠ§ç‰²äº†éƒ¨åˆ†å¹³è¡¡æ€§ä»¥æ›å–æ–°å¢ã€åˆªé™¤æ“ä½œæ™‚å°‘é‡çš„æ—‹è½‰æ“ä½œï¼Œæ•´é«”ä¾†èªªæ•ˆèƒ½è¦å„ªæ–¼ AVL-Treeã€‚\n1. æ€§è³ª é¦–å…ˆæˆ‘å€‘ä¾†çœ‹å®šç¾©ç´…é»‘æ¨¹è¦å‰‡çš„äº”é»æ€§è³ªï¼š\n ä»»ä½•ä¸€å€‹ç¯€é»éç´…å³é»‘ï¼› æ¨¹çš„æ ¹ç¯€é»ç‚ºé»‘è‰²ï¼› è‘‰å­ç¯€é»ç‚ºé»‘è‰²ï¼ˆNILï¼‰ï¼› æ¯å€‹ç´…è‰²ç¯€é»å¿…é ˆæœ‰å…©å€‹é»‘è‰²çš„å­ç¯€é»ï¼ˆä¸èƒ½æœ‰å…©å€‹é€£çºŒçš„ç´…è‰²ç¯€é»ï¼‰ï¼› å¾ä»»ä¸€ç¯€é»åˆ°å…¶æ¯å€‹ NIL çš„æ‰€æœ‰ç°¡å–®è·¯å¾‘éƒ½åŒ…å«ç›¸åŒæ•¸ç›®çš„é»‘è‰²ç¯€é»ã€‚  åœ¨ç´…é»‘æ¨¹å®šç¾©ä¸­ï¼Œè‘‰å­ç¯€é»ä¸¦ä¸æ˜¯æ²’æœ‰å­ç¯€é»çš„ç¯€é»ï¼Œè€Œæ˜¯æŒ‡æœ€å¾Œçš„ ç©ºå€¼ï¼ˆNULLï¼‰ç¯€é»ï¼Œç¨±ä½œã€ŒNILã€ã€‚\nä½†æˆ‘ç‚ºäº†ä¹‹å¾Œæ–¹ä¾¿èªªæ˜ï¼Œæˆ‘å€‘è‘‰å­ç¯€é»ï¼Œçµ±ä¸€æŒ‡ã€Œæ²’æœ‰å­ç¯€é»çš„ç¯€é»ã€ï¼Œç©ºå€¼ï¼ˆNULLï¼‰ç¯€é»ï¼Œç¨±ä½œã€ŒNILã€ã€‚\n graph TB; A((13)) --- B((8)) \u0026amp; C((17)); B((8)) --- D((1)) \u0026amp; E((11)); C((17)) --- F((15)) \u0026amp; G((25)); D((1)) --- N1[NIL] \u0026amp; I((6)); E((11)) --- N10[NIL] \u0026amp; N11[NIL]; F((15)) --- N2[NIL] \u0026amp; N3[NIL]; G((25)) --- K((22)) \u0026amp; L((27)); I((6)) --- N4[NIL] \u0026amp; N5[NIL]; K((22)) --- N6[NIL] \u0026amp; N7[NIL]; L((27)) --- N8[NIL] \u0026amp; N9[NIL]; classDef black fill:black,stroke:black,color:white; classDef red fill:red,stroke:red,color:white; classDef transparent fill:transparent,stroke:transparent,color:transparent; class A,D,E,F,G,N1,N2,N3,N4,N5,N6,N7,N8,N9,N10,N11 black; class B,C,I,K,L red; 2. èªªæ˜ç´…é»‘æ¨¹å‰ ç´…é»‘æ¨¹å¦‚æœç›´æ¥ä¾ç…§æ€§è³ªä¾†èªªæ˜å®ƒçš„æ“ä½œï¼Œæœƒéå¸¸æŠ½è±¡é›£ç†è§£ã€‚\nå› æ­¤å†èªªæ˜ç´…é»‘æ¨¹ä¹‹å‰ï¼Œå¿…é ˆå…ˆç†è§£ä»€éº¼æ˜¯ B æ¨¹ã€2-3-4 æ¨¹ï¼Œå°æ–¼ç†è§£ç´…é»‘æ¨¹æœ‰å¾ˆå¤§çš„å¹«åŠ©ã€‚å› ç‚ºç´…é»‘æ¨¹æ˜¯ 2-3-4 æ¨¹çš„ä¸€ç¨®å¯¦ç¾æ–¹å¼\nB æ¨¹ B æ¨¹ï¼ˆB-treeï¼‰ æ˜¯ä¸€ç¨®è‡ªå¹³è¡¡çš„æ¨¹ï¼ŒB æ˜¯ Balance å¹³è¡¡çš„æ„æ€ï¼Œä¹Ÿæ˜¯ç”±æ™®é€šçš„äºŒå…ƒæœå°‹æ¨¹è®Šæ›è€Œä¾†çš„ï¼Œä½†æœ€å¤§çš„ä¸åŒå°±æ˜¯ï¼Œå®ƒçš„ç¯€é»å¯ä»¥æ“æœ‰ 2 å€‹ä»¥ä¸Šçš„å­ç¯€é»ï¼Œä¹Ÿå°±èªªå®ƒå·²ç¶“ä¸æ˜¯äºŒå…ƒæ¨¹äº†ã€‚\n1. å®šç¾© ä¸€å€‹ m éšçš„ B æ¨¹ å…·æœ‰ä»¥ä¸‹æ€§è³ªï¼š\n æ¯ä¸€å€‹ç¯€é»æœ€å¤šæœ‰ m å€‹å­ç¯€é»ï¼› æ¯ä¸€å€‹éè‘‰å­ç¯€é»ï¼ˆæ ¹ç¯€é»é™¤å¤–ï¼‰ï¼Œæœ€å°‘æœ‰ ceil(m / 2) å€‹å­ç¯€é»ï¼› è‹¥æ ¹ç¯€é»éè‘‰å­ç¯€é»æ™‚ï¼Œå®ƒè‡³å°‘æœ‰ 2 å€‹å­ç¯€é»ï¼› æœ‰ k å€‹å­ç¯€é»çš„éè‘‰å­ç¯€é»æ“æœ‰ï¼Œæ“æœ‰ k âˆ’ 1 å€‹ éµ keyï¼ˆå…ƒç´ ï¼‰ï¼› æ‰€æœ‰çš„è‘‰å­ç¯€é»éƒ½åœ¨åŒä¸€å±¤ã€‚  2. çµ•å°å¹³è¡¡ å®šç¾©ç¬¬ 5 é»ï¼šæ‰€æœ‰çš„è‘‰å­ç¯€é»éƒ½åœ¨åŒä¸€å±¤ï¼Œæ‰€ä»¥ B æ¨¹æ˜¯ä¸€é¡†çµ•å°å¹³è¡¡çš„æ¨¹ã€‚\nçµ•å°å¹³è¡¡ï¼ŒæŒ‡çš„æ˜¯å°æ–¼ä»»æ„ä¸€å€‹ç¯€é»ï¼Œå·¦å³å­æ¨¹é«˜åº¦ç›¸åŒã€‚ä¹Ÿå°±æ˜¯èªªï¼Œç¯€é»ä¸æ˜¯æ²’å­ç¯€é»ï¼Œå°±æ˜¯å­ç¯€é»å…¨æ»¿ã€‚\n3. æ’å…¥æ“ä½œ è¦æ’å…¥ä¸€å€‹æ–°çš„å…ƒç´ ï¼Œä¸€å®šæ˜¯åœ¨è‘‰å­çµé»ä¸­é€²è¡Œï¼Œä¸¦åˆ¤æ–·ç•¶å‰ç¯€é»çš„ key æ•¸é‡æ˜¯å¦å°æ–¼æœ€å¤§å€¼ m - 1ï¼š\n è‹¥å°æ–¼ï¼Œè¡¨ç¤ºç•¶å‰ç¯€é»æœ‰ç©ºé–“å¯ä»¥å®¹ç´æ–°å…ƒç´ ï¼Œç›´æ¥æ’å…¥åˆ°é€™å€‹ç¯€é»ä¸­ï¼Œä¸¦ä¿æŒç¯€é»ä¸­çš„å…ƒç´ æœ‰åºã€‚ è‹¥ç¯€é»å·²æ»¿ï¼Œå°‡å®ƒæ‹†åˆ†æˆä¸€æ£µäºŒå…ƒæ¨¹ï¼š  å¾è©²ç¯€é»çš„åŸæœ‰å…ƒç´ å’Œæ–°å…ƒç´ é¸å‡ºä¸­ä½æ•¸ï¼› å°æ–¼ä¸­ä½æ•¸çš„å…ƒç´ æ”¾å…¥å·¦é‚Šç¯€é»ï¼Œå¤§æ–¼ä¸­ä½æ•¸çš„å…ƒç´ æ”¾å…¥å³é‚Šç¯€é»ï¼Œä¸­ä½æ•¸ä½œç‚ºåˆ†éš”å€¼ï¼› æœ€å¾Œï¼Œåˆ†éš”å€¼æœƒè¢«æ’å…¥åˆ°çˆ¶ç¯€é»ä¸­ï¼Œä½†å¯èƒ½æœƒé‡åˆ°ä»¥ä¸‹æƒ…æ³ï¼š  è‹¥æ²’æœ‰çˆ¶ç¯€é»ï¼Œå‰µå»ºä¸€å€‹æ–°çš„æ ¹çµé»ï¼ˆå¢åŠ äº†æ¨¹çš„é«˜åº¦ï¼‰ï¼› è‹¥çˆ¶ç¯€é»å·²æ»¿ï¼Œéœ€è¦é‡è¤‡ä¸Šè¿°æ“ä½œã€‚      ç¶“éä»¥ä¸Šåˆ¤æ–·ï¼Œæ’å…¥å…ƒç´ å¾Œï¼ŒB æ¨¹ä¾ç„¶èƒ½ä¿æŒçµ•å°å¹³è¡¡ã€‚\né¸å‡ºä¸­ä½æ•¸å¯èƒ½æœƒé‡åˆ°æ’å…¥æ–°å…ƒç´ å¾Œï¼Œè®Šæˆå¥‡æ•¸çš„æƒ…æ³ï¼Œç„¡æ³•æ•´é™¤ï¼Œä½œæ³•æœ‰å¾ˆå¤šç¨®ï¼š\n ç„¡æ¢æ¨å»æˆ–é€²ä½ã€‚ æˆ–æ˜¯å…ˆé¸å‡ºä¸­ä½æ•¸ï¼Œæ‰æ’å…¥æ–°å…ƒç´ ã€‚  4. åˆªé™¤æ“ä½œ B æ¨¹çš„åˆªé™¤æ“ä½œç›¸å°æ–¼æ’å…¥æ“ä½œæ˜¯ç›¸å°è¤‡é›œä¸€äº›ã€‚\nå…±æœ‰å…©ç¨®ç­–ç•¥ï¼š\n å®šä½ä¸¦åˆªé™¤å…ƒç´ ï¼Œç„¶å¾Œèª¿æ•´æ¨¹ä½¿å®ƒçµ•å°å¹³è¡¡ï¼› æˆ–æ˜¯ï¼Œå¾ä¸Šåˆ°ä¸‹è™•ç†é€™æ£µæ¨¹ï¼Œåœ¨é€²å…¥ä¸€å€‹ç¯€é»ä¹‹å‰ï¼Œèª¿æ•´æ¨¹ä½¿å¾—ä¹‹å¾Œä¸€æ—¦é‡åˆ°äº†è¦åˆªé™¤çš„ keyï¼Œå®ƒå¯ä»¥è¢«ç›´æ¥åˆªé™¤è€Œä¸éœ€è¦å†é€²è¡Œèª¿æ•´ã€‚  ç°¡å–®ä¾†èªªï¼Œå°±æ˜¯å…ˆåˆªé™¤å¾Œèª¿æ•´ï¼Œæˆ–è€…æ˜¯å…ˆèª¿æ•´å†åˆªé™¤ã€‚\nä»¥ä¸‹ä½¿ç”¨å‰è€…ä¾†èªªæ˜ã€‚\nB æ¨¹ åˆªé™¤ä¸€å€‹å…ƒç´ æ™‚æœ‰ä»¥ä¸‹å…©ç¨®ç‰¹æ®Šæƒ…æ³ï¼š\n é€™å€‹å…ƒç´ ä½æ–¼è‘‰å­ç¯€é»ä¸­ï¼Œä¸”æ˜¯å”¯ä¸€çš„å…ƒç´ ã€‚ é€™å€‹å…ƒç´ ä½æ–¼å…§éƒ¨ç¯€é»ä¸­ã€‚  ä¸‹é¢åˆ†åˆ¥æ˜¯é€™äº›æƒ…æ³çš„è™•ç†éç¨‹ã€‚\n4.1 åˆªé™¤è‘‰å­ç¯€é»ä¸­çš„å…ƒç´   æœå°‹è¦åˆªé™¤çš„å…ƒç´ ï¼› å¦‚æœå®ƒåœ¨è‘‰å­ç¯€é»ï¼Œå°‡å®ƒå¾ä¸­åˆªé™¤ï¼› è‹¥è©²å…ƒç´ æ˜¯åªå”¯ä¸€çš„å…ƒç´ ï¼Œåˆªé™¤å¾Œç¯€é»æœƒä¸è¦‹ï¼Œæœƒå°è‡´çˆ¶ç¯€é»çš„å­ç¯€é»æ•¸é‡ä¸ç¬¦åˆæ€§è³ª 4ï¼Œå› æ­¤éœ€è¦åŸ·è¡Œå¹³è¡¡ä¿®æ­£ã€‚  4.2 åˆªé™¤å…§éƒ¨ç¯€é»ä¸­çš„å…ƒç´  å…§éƒ¨ç¯€é»ï¼ˆéè‘‰å­ç¯€é»ï¼‰ä¸­çš„æ¯ä¸€å€‹å…ƒç´ éƒ½æ˜¯ä½œç‚ºåˆ†éš”å…©é¡†å­æ¨¹çš„åˆ†éš”å€¼ã€‚å› æ­¤åˆªé™¤å¾Œï¼Œæˆ‘å€‘å¯ä»¥å–ä¸€å€‹é„°è¿‘å…ƒç´ ä¾†ä½œç‚ºæ–°çš„åˆ†éš”å€¼ï¼Œä¸¦åˆªé™¤é€™å€‹ç”¨æ›¿ä»£çš„åŸç´ ã€‚\nå–å¾—æ–°çš„åˆ†éš”å€¼å…±å…©ç¨®æ–¹æ³•ï¼š\n å¾å·¦å­æ¨¹ä¸­ï¼Œå–æœ€å¤§çš„å…ƒç´ ã€‚ æˆ–æ˜¯ï¼Œå¾å³å­æ¨¹ä¸­ï¼Œå–æœ€å°çš„å…ƒç´ ã€‚  é€™å€‹æ–°çš„åˆ†éš”å€¼ä¸€å®šæ˜¯ä½æ–¼è‘‰å­ç¯€é»ä¸­ï¼Œå› æ­¤å°±è®Šæˆäº†ã€Œåˆªé™¤è‘‰å­ç¯€é»ä¸­çš„å…ƒç´ ã€çš„æƒ…æ³ã€‚\n4.3 å¹³è¡¡ä¿®æ­£ ç‚ºäº†é¿å…çˆ¶ç¯€é»çš„å­ç¯€é»æ•¸é‡ä¸ç¬¦åˆæ€§è³ª 4ï¼Œæˆ‘å€‘æœƒæ‰¾ä¸€å€‹å…ƒç´ ä¾†éè£œéè£œç©ºç¼ºã€‚\nå°‡ç¼ºå°‘å…ƒç´ ç¯€é»ä½œç‚ºç•¶å‰ç¯€é»ï¼Œåˆ¤æ–·å®ƒçš„å…„å¼Ÿç¯€é»å’Œçˆ¶ç¯€é»æ˜¯å¦æœ‰å¤šé¤˜çš„å…ƒç´ ï¼š\n å¦‚æœå…„å¼Ÿç¯€é»å­˜åœ¨ï¼Œä¸”æœ‰å¤šé¤˜çš„å…ƒç´ ï¼Œé‚£éº¼ï¼š  å°‡çˆ¶ç¯€é»çš„åˆ†éš”å€¼ä¸‹ç§»ï¼Œéè£œè¢«åˆªé™¤å…ƒç´ çš„ç©ºç¼ºï¼› å°‡å…„å¼Ÿç¯€é»å…ƒç´ ä¸Šç§»ï¼Œéè£œçˆ¶ç¯€é»ä¸‹ç§»åˆ†éš”å€¼çš„ç©ºç¼ºï¼› æ¨¹é‡æ–°å¹³è¡¡ã€‚   å¦‚æœå·¦ã€å³å¼Ÿéƒ½åªæœ‰æœ€å°æ•¸é‡çš„å…ƒç´ ï¼Œé‚£éº¼ï¼š  å°‡ç¼ºå°‘å…ƒç´ ç¯€é»èˆ‡å…„å¼Ÿç¯€é»åˆä½µï¼› ä¸¦å°‡çˆ¶ç¯€é»çš„åˆ†éš”å€¼ä¸‹ç§»è‡³åˆä½µå¾Œçš„ç¯€é»ï¼› æœ€å¾Œæª¢æŸ¥çˆ¶ç¯€é»ï¼š  è‹¥çˆ¶ç¯€é»ä¾ç„¶ä¿æŒæœ€å°æ•¸é‡çš„å…ƒç´ ï¼Œæ¨¹é‡æ–°å¹³è¡¡ã€‚å¦å‰‡ï¼š çˆ¶ç¯€é»ç‚ºæ ¹ç¯€é»ï¼Œä¸”æ²’æœ‰å…ƒç´ ï¼Œé‚£éº¼åˆªé™¤å®ƒï¼Œè®“åˆä½µä¹‹å¾Œçš„ç¯€é»æˆç‚ºæ–°çš„æ ¹ç¯€é»ã€‚å¦å‰‡ï¼š ä¸æ˜¯æ ¹ç¯€é»ï¼Œå°‡çˆ¶ç¯€é»ä½œç‚ºç•¶å‰ç¯€é»ï¼Œé‡æ–°åŸ·è¡Œå¹³è¡¡ä¿®æ­£ã€‚      è‹¥é‡æ–°å€¼è¡Œå¹³è¡¡ä¿®æ­£ï¼Œå…„å¼Ÿç¯€é»å·²ç¶“ä¸æ˜¯è‘‰å­ç¯€äº†ï¼Œå› æ­¤æœƒæœ‰å­æ¨¹ï¼Œè‹¥çˆ¶ç¯€é»çš„åˆ†éš”å€¼ä¸‹ç§»ï¼Œæœƒç¹¼æ‰¿å®ƒçš„å­æ¨¹ï¼ˆå·¦å…„ç¹¼æ‰¿å³å­æ¨¹ã€å³å…„æ—¢æˆå·¦å­æ¨¹ï¼‰ã€‚\n5. å¯¦éš›æ‡‰ç”¨ åœ¨å¯¦éš›æ‡‰ç”¨ä¸­çš„ B æ¨¹ çš„éšæ•¸ m éƒ½éå¸¸å¤§ï¼Œæ‰€ä»¥å³ä½¿å­˜å„²å¤§é‡çš„è³‡æ–™ï¼ŒB æ¨¹ çš„é«˜åº¦ä¾ç„¶å¾ˆå°ã€‚\nèˆ‰ä¾‹ä¾†èªªï¼Œè‹¥è³‡æ–™é‡å¾ˆå¤§æ™‚ï¼Œä½¿ç”¨ç·šæ€§æœå°‹æ•ˆç‡ç›¸ç•¶ä½ï¼Œæ‰€ä»¥åŸºæœ¬ä¸Šæœƒå»ºç«‹ç´¢å¼•ï¼ˆindexï¼‰ ä¾†å–å¾—è³‡æ–™ã€‚ä½†è³‡æ–™é‡è®Šå¾—éå¸¸å¤§æ™‚ï¼Œç´¢å¼•å¤§å°ä¹Ÿæœƒè®Šå¾—å¾ˆå¤§ï¼Œæœå°‹ç´¢å¼•çš„æ•ˆç‡ä¹Ÿæœƒé™ä½ï¼Œé€™æ™‚å°±å¯ä»¥é€é B æ¨¹é€™ç¨®è³‡æ–™çµæ§‹ï¼Œå°‡ç´¢å¼•åˆ†æˆå¾ˆå¤šä»½ï¼ˆå°æ‡‰æ¨¹çš„ç¯€é»ï¼‰ï¼Œä¹Ÿå°±æ˜¯åˆ†é ï¼Œå¾è€Œå¢åŠ æ•ˆç‡ã€‚\nB æ¨¹ ä¸»è¦æ˜¯ç”¨å¤–éƒ¨å„²å­˜çš„ä¸€ç¨®è³‡æ–™çµæ§‹ï¼Œå¸¸è¢«æ‡‰ç”¨åœ¨è³‡æ–™åº«å’Œæ–‡ä»¶ç³»çµ±çš„å¯¦ç¾ä¸Šã€‚\n2-3-4 æ¨¹ çœ‹å®Œä¸Šé¢ä¸€å †èªªæ˜å¾Œï¼Œå¯èƒ½æœƒè¦ºå¾—é€™æ²™å°ğŸ¤£ï¼Œæˆ‘å€‘é‚„æ˜¯ç›´æ¥ä¾†çœ‹ 2-3-4 æ¨¹ å§ã€‚\n2-3-4 æ¨¹ å°±æ˜¯éšç‚º 4 çš„ B æ¨¹ã€‚\n æ ¹æ“š B æ¨¹æ€§è³ª 1ï¼Œç¯€é»æœ€å¤šæœ‰ 4 å€‹å­ç¯€é»ï¼› æ ¹æ“š B æ¨¹æ€§è³ª 2ï¼Œéè‘‰å­ç¯€é»è‡³å°‘è¦æœ‰ 2 å€‹å­ç¯€é»ï¼› æ ¹æ“š B æ¨¹æ€§è³ª 1ã€4ï¼Œæ¯å€‹ç¯€é»æœ€å¤šæ“æœ‰ 3 å€‹å…ƒç´ ã€‚  1. ç¯€é» æˆ‘å€‘æœƒç”¨ç¯€é»ä¸­å­˜æ”¾çš„å…ƒç´ æ•¸é‡ä¾†æ±ºå®šç¯€é»çš„åç¨±ï¼š\n ç•¶å­˜æ”¾ 1 å€‹å…ƒç´ æ™‚ï¼Œç¨±ä½œã€Œ2-ç¯€é»ã€ï¼Œå¯æ“æœ‰ 2 å€‹å­ç¯€é»ï¼› ç•¶å­˜æ”¾ 2 å€‹å…ƒç´ æ™‚ï¼Œç¨±ä½œã€Œ3-ç¯€é»ã€ï¼Œå¯æ“æœ‰ 3 å€‹å­ç¯€é»ï¼› ç•¶å­˜æ”¾ 3 å€‹å…ƒç´ æ™‚ï¼Œç¨±ä½œã€Œ4-ç¯€é»ã€ï¼Œå¯æ“æœ‰ 4 å€‹å­ç¯€é»ã€‚ å› ç‚ºæ˜¯æ¨¹çµ•å°å¹³è¡¡çš„ï¼Œæ‰€ä»¥ç¯€é»çš„å­ç¯€é»æ•¸é‡ä¸æ˜¯é›¶ï¼Œå°±æ˜¯å¯æ“æœ‰çš„æœ€å¤§æ•¸é‡ã€‚  é€™å°±æ˜¯ç‚ºä»€éº¼éšç‚º 4 çš„ B æ¨¹å«ä½œ 2-3-4 æ¨¹ã€‚\n2. æ’å…¥æ“ä½œ 2.1 å‘ç©ºæ¨¹æ’å…¥å…ƒç´  é¦–å…ˆï¼Œå°ä¸€æ£µç©ºæ¨¹ï¼Œæ’å…¥ä¸€å€‹å…ƒç´  70ï¼Œé‚£éº¼æœƒç”¢ç”Ÿæ¨¹çš„æ ¹ç¯€é»ï¼š\ngraph TB; A[70]; 2.2 å‘æœ‰ç©ºé–“çš„ç¯€é»æ’å…¥å…ƒç´  å†æ’å…¥ä¸€å€‹å…ƒç´  60 æ™‚ï¼Œä¸æœƒåƒäºŒå…ƒæœå°‹æ¨¹ä¸€æ¨£ï¼Œæ’å…¥åˆ°ç©ºç¯€é»ä¸­ã€‚è€Œæ˜¯ã€Œèåˆã€åˆ°ç¯€é»ä¸­ï¼Œè®Šæˆä¸€å€‹ã€Œ3-ç¯€é»ã€ï¼Œä¸¦ä¿æŒç¯€é»ä¸­çš„å…ƒç´ æœ‰åºï¼š\ngraph TB; A[60 70]; ç¹¼çºŒæ’å…¥ä¸€å€‹å…ƒç´  50ï¼Œæœƒè®Šæˆä¸€å€‹ã€Œ4-ç¯€é»ã€ï¼š\ngraph TB; A[50 60 70]; æ³¨æ„ï¼Œæ­¤æ™‚ç¯€é»çš„ç©ºé–“å·²æ»¿ï¼Œå·²ç¶“æ˜¯æœ€å¤§å…ƒç´ æ•¸é‡ã€‚\n2.3 å‘ç©ºé–“å·²æ»¿çš„ç¯€é»æ’å…¥å…ƒç´  å¦‚æœç¹¼çºŒæ’å…¥ä¸€å€‹å…ƒç´  40ï¼Œä½ æœƒç™¼ç¾ï¼Œ4-ç¯€é»çš„å¯å­˜æ”¾å…ƒç´ çš„ç©ºé–“å·²æ»¿ï¼Œå› æ­¤éœ€è¦ã€Œæ‹†åˆ†ã€æˆä¸€æ£µäºŒå…ƒæ¨¹ï¼Œå†æ’å…¥å…ƒç´ ï¼š\n å°‡ 60 ä½œç‚ºåˆ†éš”å€¼æ”¾å…¥çˆ¶ç¯€é»ä¸­ï¼› å·¦é‚Šç¯€é»æ”¾å°æ–¼åˆ†éš”å€¼çš„å…ƒç´ ï¼› å³é‚Šç¯€é»æ”¾å¤§æ–¼åˆ†éš”å€¼çš„å…ƒç´ ã€‚  graph TB; A[60] --- B[50] \u0026amp; C[70]; AA[60] --- BB[40 50] \u0026amp; CC[70]; æ¥è‘—è¦å°‡é€™æ£µå­æ¨¹æ’å…¥åˆ°çˆ¶ç¯€é»ä¸­ï¼Œä½†å› ç‚ºæ²’æœ‰çˆ¶ç¯€é»ï¼Œæ‰€ä»¥ç¯€é» 60 æœƒä½œç‚ºæ–°çš„æ ¹ç¯€é»ï¼ˆæ¨¹é«˜åŠ  1ï¼‰ã€‚\n2.4 çˆ¶ç¯€é»ç©ºé–“ä¹Ÿå·²æ»¿ æ¥ä¸‹ä¾†ï¼Œæˆ‘ä¾†çœ‹ä¸€å€‹é€£çºŒ 4-ç¯€é»çš„ä¾‹å­ã€‚\nå‡å¦‚è¦æ’å…¥å…ƒç´  10ï¼Œæœƒæ’å…¥ç´…è‰²æ¡†çš„é€™å€‹ 4-ç¯€é»ä¸­ï¼š\ngraph TB; A[50 60 80] --- B[20 30 40] \u0026amp; C[55] \u0026amp; D[70] \u0026amp; E[90 100]; classDef red, fill:black,stroke:black,color:white; classDef red stroke:red; B:::red; å› æ­¤æˆ‘å€‘éœ€è¦å…ˆå°‡å®ƒæ‹†åˆ†ä¸€æ£µäºŒå…ƒæ¨¹ï¼š\ngraph TB; A[50 60 80] --- B[30] \u0026amp; C[55] \u0026amp; D[70] \u0026amp; E[90 100]; B[30] --- F[20] \u0026amp; G[40]; å°‡å…ƒç´  10 æ’å…¥åˆ°æ‹†åˆ†å¾Œçš„å­æ¨¹ä¸­ï¼š\ngraph TB; A[50 60 80] --- B[30] \u0026amp; C[55] \u0026amp; D[70] \u0026amp; E[90 100]; B[30] --- F[10 20] \u0026amp; G[40]; classDef green stroke:#61bfa6,stroke-width:2px; A:::green; å°‡å­æ¨¹èåˆåˆ°çˆ¶ç¯€é»ä¹‹å‰ï¼Œéœ€è¦æª¢æŸ¥çˆ¶ç¯€é»æ˜¯å¦ä¹Ÿæ˜¯ 4-ç¯€é»ã€‚\nå¦‚æœæ˜¯ï¼Œä¸€æ¨£å°‡å®ƒæ‹†åˆ†ï¼š\ngraph TB; A[60] --- B[50] \u0026amp; C[80]; B[50] --- D[30] \u0026amp; E[55]; C[80] --- F[70] \u0026amp; G[90]; D[30] --- H[10 20] \u0026amp; I[40]; æ¥è‘—å°±å¯ä»¥å°‡ä¹‹å‰çš„å­æ¨¹å‘ä¸Šèåˆã€‚\næ’å…¥å®Œæˆï¼š\ngraph TB; A[60] --- B[50] \u0026amp; C[80]; B[30 50] --- D[10 20] \u0026amp; E[40] \u0026amp; H[55]; C[80] --- F[70] \u0026amp; G[90]; 3. åˆªé™¤æ“ä½œ æ¥ä¸‹ä¾†çœ‹ 2-3-4 æ¨¹çš„åˆªé™¤æ“ä½œï¼Œç›´æ¥ä¾†çœ‹ç¯„ä¾‹èªªæ˜ã€‚\nåˆªé™¤å…ƒç´  5ï¼š\ngraph TB; A[50] --- B[30] \u0026amp; C[90]; B[20 40] --- D[5 10] \u0026amp; E[25 30] \u0026amp; F[45]; C[60 80] --- G[55] \u0026amp; H[70] \u0026amp; I[90]; D:::red; classDef red stroke:red,stroke-width:2px; å…ƒç´  5 ä¸æ˜¯è‘‰ç¯€é»ä¸­çš„å”¯ä¸€å…ƒç´ ï¼Œå¯ä»¥ç›´æ¥åˆªé™¤ã€‚\nåˆªé™¤å…ƒç´  45ï¼š\ngraph TB; A[50] --- B[30] \u0026amp; C[90]; B[20 40] --- D[10] \u0026amp; E[25 30] \u0026amp; F[45]; C[60 80] --- G[55] \u0026amp; H[70] \u0026amp; I[90]; F:::red; classDef red stroke:red,stroke-width:2px; å…ƒç´  45 æ˜¯ç¯€é»çš„å”¯ä¸€å€¼ï¼Œåˆªé™¤å¾Œéœ€è¦ä¿®æ­£ã€‚å…„å¼Ÿç¯€é»æœ‰å¤šé¤˜å…ƒç´ ï¼š\n åˆ†éš”å€¼ 40 ä¸‹ç§»éè£œç©ºç¼ºï¼› å…„å¼Ÿå…ƒç´  30 ä¸Šç§»ï¼Œéè£œåˆ†éš”å€¼ç©ºç¼ºã€‚  åˆªé™¤å…ƒç´  40ï¼š\ngraph TB; A[50] --- B[30] \u0026amp; C[90]; B[20 30] --- D[10] \u0026amp; E[25] \u0026amp; F[40]; C[60 80] --- G[55] \u0026amp; H[70] \u0026amp; I[90]; F:::red; classDef red stroke:red,stroke-width:2px; å…ƒç´  40 æ˜¯ç¯€é»çš„å”¯ä¸€å€¼ï¼Œåˆªé™¤å¾Œéœ€è¦ä¿®æ­£å®ƒã€‚å…„å¼Ÿç¯€é»åªæœ‰æœ€å°æ•¸é‡çš„å…ƒç´ ï¼š\n å°‡ 25 å’Œç©ºç¯€é»åˆä½µï¼ˆåˆªé™¤ç©ºç¯€é»ï¼‰ï¼› å°‡åˆ†éš”å€¼ 30 ä¸‹ç§»è‡³åˆä½µå¾Œçš„ç¯€é»ï¼› çˆ¶ç¯€é»ä¾ç„¶ä¿æŒæœ€å°æ•¸é‡çš„å…ƒç´ ã€‚  åˆªé™¤å…ƒç´  25ï¼š\ngraph TB; A[50] --- B[30] \u0026amp; C[90]; B[20] --- D[10] \u0026amp; E[25 30]; C[60 80] --- G[55] \u0026amp; H[70] \u0026amp; I[90]; E:::red; classDef red stroke:red,stroke-width:2px; å…ƒç´  25 ä¸æ˜¯è‘‰ç¯€é»ä¸­çš„å”¯ä¸€å…ƒç´ ï¼Œå¯ä»¥ç›´æ¥åˆªé™¤ã€‚\nåˆªé™¤å…ƒç´  10ï¼š\ngraph TB; A[50] --- B[30] \u0026amp; C[90]; B[20] --- D[10] \u0026amp; E[30]; C[60 80] --- G[55] \u0026amp; H[70] \u0026amp; I[90]; D:::red; classDef red stroke:red,stroke-width:2px; å…ƒç´  40 æ˜¯ç¯€é»çš„å”¯ä¸€å€¼ï¼Œåˆªé™¤å¾Œéœ€è¦ä¿®æ­£å®ƒã€‚å…„å¼Ÿç¯€é»åªæœ‰æœ€å°æ•¸é‡çš„å…ƒç´ ï¼š\n å°‡ 30 å’Œç©ºç¯€é»åˆä½µï¼ˆåˆªé™¤ç©ºç¯€é»ï¼‰ï¼› å°‡åˆ†éš”å€¼ 20 ä¸‹ç§»è‡³åˆä½µå¾Œçš„ç¯€é»ï¼› çˆ¶ç¯€é»ç„¡æ³•ä¿æŒæœ€å°æ•¸é‡çš„å…ƒç´ ã€‚  graph TB; A[50] --- B[null] \u0026amp; C[90]; B[null] --- D[20 30]; C[60 80] --- G[55] \u0026amp; H[70] \u0026amp; I[90]; B:::red; classDef red stroke:red,stroke-width:2px; å°‡ç©ºçš„çˆ¶ç¯€é»ä½œç‚ºç•¶å‰ç¯€é»ï¼Œé‡æ–°åŸ·è¡Œå¹³è¡¡ä¿®æ­£ã€‚å…„å¼Ÿç¯€é»æœ‰å¤šé¤˜å…ƒç´ ï¼š\n åˆ†éš”å€¼ 50 ä¸‹ç§»ï¼Œä¸¦ç¹¼æ‰¿åˆ†éš”å€¼ 60 çš„å·¦å­æ¨¹ 55ï¼› å…„å¼Ÿå…ƒç´  60 ä¸Šç§»ï¼Œéè£œåˆ†éš”å€¼ç©ºç¼ºã€‚  åˆªé™¤å…ƒç´  90ï¼š\ngraph TB; A[60 ] --- B[50] \u0026amp; C[80]; B[50] --- D[20 30] \u0026amp; E[55]; C[80] --- H[70] \u0026amp; I[90]; I:::red; classDef red stroke:red,stroke-width:2px; å…ƒç´  90 æ˜¯ç¯€é»çš„å”¯ä¸€å€¼ï¼Œåˆªé™¤å¾Œéœ€è¦ä¿®æ­£å®ƒã€‚å…„å¼Ÿç¯€é»åªæœ‰æœ€å°æ•¸é‡çš„å…ƒç´ ï¼š\n å°‡ 70 å’Œç©ºç¯€é»åˆä½µï¼ˆåˆªé™¤ç©ºç¯€é»ï¼‰ï¼› å°‡åˆ†éš”å€¼ 80 ä¸‹ç§»è‡³åˆä½µå¾Œçš„ç¯€é»ï¼› çˆ¶ç¯€é»ç„¡æ³•ä¿æŒæœ€å°æ•¸é‡çš„å…ƒç´ ã€‚  graph TB; A[60 ] --- B[50] \u0026amp; C[null]; B[50] --- D[20 30] \u0026amp; E[55]; C[null] --- H[70 80]; C:::red; classDef red stroke:red,stroke-width:2px; å°‡ç©ºçš„çˆ¶ç¯€é»ä½œç‚ºç•¶å‰ç¯€é»ï¼Œé‡æ–°åŸ·è¡Œå¹³è¡¡ä¿®æ­£ã€‚å…„å¼Ÿç¯€é»åªæœ‰æœ€å°æ•¸é‡çš„å…ƒç´ ï¼š\n å°‡ 50 å’Œç©ºç¯€é»åˆä½µï¼ˆåˆªé™¤ç©ºç¯€é»ï¼‰ï¼› å°‡åˆ†éš”å€¼ 60 ä¸‹ç§»è‡³åˆä½µå¾Œçš„ç¯€é»ï¼› çˆ¶ç¯€é»ç‚ºæ ¹ç¯€é»ï¼Œä¸”æ²’æœ‰å…ƒç´ ï¼Œè®“åˆä½µä¹‹å¾Œçš„ç¯€é»æˆç‚ºæ–°çš„æ ¹ç¯€é»ã€‚  åˆªé™¤å…ƒç´  60ï¼š\ngraph TB; A[50 60] --- B[20 30] \u0026amp; C[55] \u0026amp; D[70 80]; A:::red; classDef red stroke:red,stroke-width:2px; å¾å³å­æ¨¹å°‹æ‰¾æœ€å°å€¼æ›¿ä»£ã€‚æ¥ä¸‹ä¾†éœ€è¦åˆªé™¤æ›¿ä»£å…ƒç´  60ï¼š\ngraph TB; A[70 60] --- B[20 30] \u0026amp; C[55] \u0026amp; D[70 80]; D:::red; classDef red stroke:red,stroke-width:2px; å…ƒç´  70 ä¸æ˜¯è‘‰ç¯€é»ä¸­çš„å”¯ä¸€å…ƒç´ ï¼Œå¯ä»¥ç›´æ¥åˆªé™¤ã€‚\nåˆªé™¤å…ƒç´  50ï¼š\ngraph TB; A[50 70] --- B[20 30] \u0026amp; C[55] \u0026amp; D[80]; A:::red; classDef red stroke:red,stroke-width:2px; å¾å³å­æ¨¹å°‹æ‰¾æœ€å°å€¼æ›¿ä»£ã€‚æ¥ä¸‹ä¾†éœ€è¦åˆªé™¤æ›¿ä»£å…ƒç´  55ï¼š\ngraph TB; A[55 70] --- B[20 30] \u0026amp; C[null] \u0026amp; D[80]; C:::red; classDef red stroke:red,stroke-width:2px; å…ƒç´  55 æ˜¯ç¯€é»çš„å”¯ä¸€å€¼ï¼Œåˆªé™¤å¾Œéœ€è¦ä¿®æ­£å®ƒã€‚å…„å¼Ÿç¯€é»æœ‰å¤šé¤˜å…ƒç´ ï¼š\n åˆ†éš”å€¼ 55 ä¸‹ç§»ï¼› å…„å¼Ÿå…ƒç´  30 ä¸Šç§»ï¼Œéè£œåˆ†éš”å€¼ç©ºç¼ºã€‚  graph TB; A[30 70] --- B[20] \u0026amp; C[55] \u0026amp; D[80]; ç¸½çµ å° B æ¨¹ å’Œ 2-3-4 æ¨¹ æœ‰åŸºæœ¬çš„æ¦‚å¿µï¼Œä¸‹é€±å°‡èªªæ˜ ç´…é»‘æ¨¹ èˆ‡ 2-3-4 æ¨¹ çš„ç­‰åƒ¹é—œä¿‚ï¼Œé‚„æœ‰ç´…é»‘æ¨¹çš„æ–°å¢æ“ä½œã€‚\n","description":"æ¥ä¸‹ä¾†æˆ‘å€‘ä¾†çœ‹èˆ‡ AVL-Tree ä¸€æ¨£æ˜¯è‡ªå¹³è¡¡äºŒå…ƒæœå°‹æ¨¹çš„ã€Œç´…é»‘æ¨¹ã€ï¼Œå› ç‚ºæ¯”è¼ƒé›£ç†è§£ç¯‡å¹…è¼ƒé•·ï¼Œæ‰€ä»¥åˆ†æˆä¸‰å€‹éšæ®µä¾†èªªæ˜ã€‚","id":70,"section":"posts","tags":["è³‡æ–™çµæ§‹","äºŒå…ƒæœå°‹æ¨¹","äºŒå…ƒæ¨¹","ç´…é»‘æ¨¹","å¹³è¡¡æ¨¹","B æ¨¹","2-3-4 æ¨¹","w3HexSchool"],"title":"JavaScript å­¸æ¼”ç®—æ³•ï¼ˆåå…­ï¼‰- ç´…é»‘æ¨¹ï¼ˆä¸Šï¼‰ï¼šB æ¨¹ã€2-3-4 æ¨¹","uri":"https://chupai.github.io/posts/2007/ds_redblack-tree-1/"},{"content":"é€™é€±æ˜¯å…­è§’é¼ å¹´éµäººè³½ç¬¬äºŒåä¸‰é€±ã€‚\näºŒå…ƒæœå°‹æ¨¹æœ€å¤§çš„å•é¡Œå°±æ˜¯ï¼Œå®ƒæœƒå‡ºç¾æ¥µç«¯æƒ…æ³ï¼Œå‚¾æ–œæŸä¸€é‚Šï¼Œå› æ­¤å®ƒçš„æ–°å¢ã€æœå°‹ã€åˆªé™¤æ“ä½œæœ€å·®æ™‚é–“è¤‡é›œåº¦ç‚º $O(n)$ã€‚ç‚ºäº†å¯¦ç¾æ›´é«˜æ•ˆçš„æŸ¥è©¢ï¼Œå› æ­¤å°±æœ‰äººç™¼æ˜äº†ã€Œå¹³è¡¡æ¨¹ã€ã€‚\n\rå¹³è¡¡æ¨¹æ¦‚è¿° å¹³è¡¡æ¨¹ï¼ˆBalanced Treeï¼‰ æ˜¯äºŒå…ƒæœå°‹æ¨¹çš„æ”¹è‰¯ç‰ˆæœ¬ï¼Œå…¶ç›®æ¨™åœ¨ä¿æŒæ¯ä¸€ç¯€é»å…©é‚Šæ‰€å«çš„é …ç›®æ•¸é‡ç›¸ç­‰ï¼Œæ•…å¯å°‡æ ¹ç¯€é»è‡³ä»»ä¸€è‘‰ç¯€é»ä¹‹æœ€é•·è·¯å¾‘æœ€å°åŒ–ã€‚\nã€Œå¹³è¡¡ã€çš„æ„æ€ï¼Œå…¶å¯¦å°±æ˜¯è®“æ•´æ£µæ¨¹çœ‹èµ·ä¾†æ¯”è¼ƒå°ç¨±ã€æ¯”è¼ƒå¹³è¡¡ï¼Œä¸æœƒå‡ºç¾å·¦å³å­æ¨¹å…¶ä¸­ä¸€é‚Šå¾ˆé«˜æˆ–å¾ˆçŸ®çš„æƒ…æ³ã€‚å®ƒèƒ½åœ¨ $O(\\log n)$ å…§å®Œæˆæ–°å¢ã€æœå°‹å’Œåˆªé™¤æ“ä½œã€‚\nå¸¸è¦‹çš„å¹³è¡¡æ¨¹æœ‰ï¼š\n AVL-Treeï¼šæœ€æ—©è¢«ç™¼æ˜çš„å¹³è¡¡æ¨¹ï¼Œä»»æ„å­ç¯€é»çš„å·¦å³å­æ¨¹é«˜åº¦ç›¸å·®ä¸è¶…é 1ï¼Œå±¬æ–¼åš´æ ¼å¹³è¡¡æ¨¹ã€‚ ç´…é»‘æ¨¹ï¼ˆRedâ€“black treeï¼‰ï¼šç›¸è¼ƒæ–¼ AVL-Treeï¼ŒçŠ§ç‰²éƒ¨åˆ†å¹³è¡¡ï¼ˆé«˜ 1 å±¤ï¼‰ï¼Œåˆ©ç”¨ç¯€é»é¡è‰²ï¼Œæ¸›å°‘å¹³è¡¡æ“ä½œçš„æ—‹è½‰æ¬¡æ•¸ã€‚ æ¨¹å †ï¼ˆTreapï¼‰ï¼šæ˜¯æœ‰ä¸€å€‹éš¨æ©Ÿé™„åŠ åŸŸæ»¿è¶³å †ç©çš„æ€§è³ªçš„äºŒå…ƒæœå°‹æ¨¹ï¼Œå…¶çµæ§‹ç›¸ç•¶æ–¼ä»¥éš¨æ©Ÿè³‡æ–™æ–°å¢çš„äºŒå…ƒæœå°‹æ¨¹ã€‚  1. æ—‹è½‰ï¼ˆRotationï¼‰æ“ä½œ å¹¾ä¹æ‰€æœ‰çš„å¹³è¡¡æ¨¹éƒ½æ˜¯é€é æ—‹è½‰ï¼ˆRotateï¼‰ æ“ä½œï¼Œä½¿å¾—æ¨¹è¶¨æ–¼å¹³è¡¡ã€‚\né¦–å…ˆæˆ‘å€‘ä¾†çœ‹äºŒå…ƒæ¨¹åŸºæœ¬çš„æ—‹è½‰æ“ä½œï¼Œå·¦æ—‹è½‰å’Œå³æ—‹è½‰ï¼š\n3.1 å·¦æ—‹è½‰ å° A åšå·¦æ—‹è½‰ï¼š\ngraph TB; A((A)) --- n1[null] \u0026amp; B((B)); B((B)) --- n2[null] \u0026amp; C((C)); C((C)) --- nnn1[null] \u0026amp; nnn2[null]; classDef n1 fill:#c2ff8b; classDef n2 fill:#ff8b8b; classDef n3 fill:#fff68b; n1:::n1; n2:::n2; æ­¥é©Ÿå¦‚ä¸‹ï¼š\n å°‡ B çš„å·¦å­ç¯€é»ç§»å‹•åˆ° A çš„å³å­ç¯€é»ä½ç½®ï¼› å†å°‡ A ç§»å‹•åˆ° B çš„å·¦å­ç¯€é»ä½ç½®ï¼›  graph TB; A((A)) --- n1[null] \u0026amp; n2[null]; classDef n1 fill:#c2ff8b; classDef n2 fill:#ff8b8b; classDef n3 fill:#fff68b; BB((B)) --- AA((A)) \u0026amp; C((C)); AA((A)) --- nn1[null] \u0026amp; nn2[null]; C((C)) --- nnn1[null] \u0026amp; nnn2[null]; classDef n1 fill:#c2ff8b; classDef n2 fill:#ff8b8b; n1:::n1; n2:::n2; nn1:::n1; nn2:::n2; çœ‹ä¸Šå»ï¼Œå°±åƒ A é€†æ™‚é‡æ—‹è½‰ã€‚\n1.2 å³æ—‹è½‰ å° A åšå³æ—‹è½‰ï¼š\ngraph TB; A((A)) --- B((B)) \u0026amp; n1[null]; B((B)) --- C((C)) \u0026amp; n3[null]; C((C)) --- nnn1[null] \u0026amp; nnn2[null]; classDef n1 fill:#c2ff8b; classDef n2 fill:#ff8b8b; classDef n3 fill:#fff68b; n1:::n1; n3:::n3; æ­¥é©Ÿå¦‚ä¸‹ï¼š\n å°‡ B çš„å³å­ç¯€é»ç§»å‹•åˆ° A çš„å·¦å­ç¯€é»ä½ç½®ï¼› å†å°‡ A ç§»å‹•åˆ° B çš„å³å­ç¯€é»ä½ç½®ï¼›  graph TB; A((A)) --- n3[null] \u0026amp; n1[null] ; classDef n1 fill:#c2ff8b; classDef n2 fill:#ff8b8b; classDef n3 fill:#fff68b; BB((B)) --- C((C)) \u0026amp; AA((A)); AA((A)) --- nn3[null] \u0026amp; nn1[null]; C((C)) --- nnn1[null] \u0026amp; nnn2[null]; classDef n1 fill:#c2ff8b; classDef n2 fill:#ff8b8b; n1:::n1; n3:::n3; nn1:::n1; nn3:::n3; çœ‹ä¸Šå»ï¼Œå°±åƒ A é †æ™‚é‡æ—‹è½‰ã€‚\nAVL-Tree AVL-Tree å…¨åç‚º Adelson-Velsky-Landis Treeï¼Œå¾—åæ–¼å®ƒçš„ç™¼æ˜è€… G. M. Adelson-Velsky å’Œ Evgenii Landisï¼Œæ˜¯æœ€æ—©è¢«ç™¼æ˜çš„å¹³è¡¡æ¨¹ï¼Œå› ç‚ºæ˜¯äºŒå…ƒæœå°‹æ¨¹çš„å„ªåŒ–ç‰ˆï¼Œå› æ­¤åˆç¨±ä½œã€Œå¹³è¡¡äºŒå…ƒæœå°‹æ¨¹ã€ã€‚\nå®ƒçš„ä»»æ„å­ç¯€é»çš„å·¦å³å­æ¨¹é«˜åº¦ç›¸å·®ä¸è¶…é 1ï¼Œæ‰€ä»¥å®ƒä¹Ÿè¢«ç¨±ç‚ºã€Œé«˜åº¦å¹³è¡¡æ¨¹ã€ã€‚\nå¤§éƒ¨åˆ†çš„æ“ä½œèˆ‡äºŒå…ƒæœå°‹æ¨¹ç›¸åŒï¼Œå·®ç•°åœ¨æ–¼ AVL-Tree æ–°å¢æˆ–åˆªé™¤è³‡æ–™æ™‚ï¼Œæœƒé€²è¡Œå¹³è¡¡æ“ä½œï¼ˆé‡æ–°çµæ§‹åŒ–ï¼‰ï¼Œä»¥ä¿æŒæ€§è³ªåŠå‡å‹»çš„æœå°‹è·¯å¾‘ï¼Œè€Œä¸æœƒå°è‡´æ¨¹éåº¦å‚¾æ–œã€‚\n1. å¹³è¡¡å› å­ BF å¹³è¡¡å› å­ï¼ˆBalanced Factorï¼ŒBFï¼‰æ˜¯ç”¨ä¾†åˆ¤æ–·ç¯€é»çš„å·¦å³å­æ¨¹é«˜åº¦ç›¸å·®å¤šå°‘ã€‚\nè¨ˆç®—æ–¹å¼ç‚ºï¼Œå·¦å­æ¨¹çš„é«˜åº¦æ¸›å»å®ƒçš„å³å­æ¨¹çš„é«˜åº¦ï¼š\n è² æ•¸è¡¨ç¤ºå·¦å­æ¨¹æ¯”å³å­æ¨¹é«˜ï¼› æ­£æ•¸è¡¨ç¤ºå³å­æ¨¹æ¯”å·¦å­æ¨¹é«˜ï¼› é›¶è¡¨ç¤ºå·¦å­æ¨¹å’Œå³å­æ¨¹ç­‰é«˜ã€‚  åœ¨ AVL-Tree ä¸­ï¼Œæ¯ä¸€ç¯€é»çš„å¹³è¡¡å› å­ç‚º 1ã€0 æˆ– -1ã€‚å¸¶æœ‰å¹³è¡¡å› å­ -2 æˆ– 2 çš„ç¯€é»è¢«èªç‚ºæ˜¯ä¸å¹³è¡¡çš„ï¼Œéœ€è¦é‡æ–°å¹³è¡¡ã€‚\n1.1 ç¯€é»é«˜åº¦å…¬å¼ ç¯€é»é«˜åº¦ç‚ºä¸€å€‹ç¯€é»è‡³æŸå€‹è‘‰ç¯€é»çš„æœ€é•·è·é›¢ï¼Œå…¶å…¬å¼ç‚ºï¼š\n ç¯€é»é«˜åº¦ = max(å·¦å­ç¯€é»é«˜, å³å­ç¯€é»é«˜) + 1\n å­ç¯€é»ç‚º null æ™‚ï¼Œé«˜åº¦è¦–ç‚º -1ã€‚\ngraph TB; classDef transparent fill:transparent,stroke:transparent,color:transparent; A((A)) --- B((B)); A((A)) --- C((C)); B((B)) --- D((D)) \u0026amp; E((E)); D((D)) --- F((F)) \u0026amp; F2((F2)); F2:::transparent;  F Height = max(-1, -1) + 1 = 0 D Height = max(0, -1) + 1 = 1 E Height = max(-1, -1) + 1 = 0 B Height = max(1, 0) + 1 = 2 C Height = max(-1, -1) + 1 = 0 A Height = max(2, 0) + 1 = 3  1.2 å¹³è¡¡å› å­è¨ˆç®—  ç¯€é»çš„å¹³è¡¡å› å­ = å·¦å­æ¨¹çš„é«˜åº¦ - å³å­æ¨¹çš„é«˜åº¦\n graph TB; classDef transparent fill:transparent,stroke:transparent,color:transparent; A((A)) --- B((B)); A((A)) --- C((C)); B((B)) --- D((D)) \u0026amp; E((E)); D((D)) --- F((F)) \u0026amp; F2((F2)); F2:::transparent;  Fã€Eã€C æ²’æœ‰å·¦ã€å³å­æ¨¹ï¼Œæ‰€ä»¥å·¦ã€å³å­æ¨¹é«˜åº¦ç‚º -1  BF = -1 - (-1) = 0   D å·¦æ¨¹é«˜åº¦ç‚º 0ã€æ²’æœ‰å³æ¨¹ã€  BF = 0 - (-1) = 1   B å·¦æ¨¹é«˜åº¦ç‚º 1ã€å³æ¨¹é«˜åº¦ç‚º 0  BF = 1 - 0 = 1   A å·¦æ¨¹é«˜åº¦ç‚º 2ã€å³æ¨¹é«˜åº¦ç‚º 0  BF = 2 - 0 = 2    2. å¹³è¡¡æ“ä½œ æ–°å¢ï¼åˆªé™¤æ“ä½œçš„å¹³è¡¡æ“ä½œå…±æœ‰å…©ç¨®ç­–ç•¥ï¼š\n é åˆ¤æ˜¯å¦å½±éŸ¿æ¨¹çš„å¹³è¡¡ï¼Œå…ˆèª¿æ•´æ¨¹å†åŸ·è¡Œæ–°å¢ï¼åˆªé™¤æ“ä½œï¼› æˆ–æ˜¯ï¼ŒåŸ·è¡Œæ–°å¢ï¼åˆªé™¤æ“ä½œå¾Œï¼Œå†åˆ¤æ–·æ¨¹æ˜¯å¦éœ€è¦åŸ·è¡Œå¹³è¡¡æ“ä½œã€‚  ä»¥ä¸‹ä½¿ç”¨å¾Œè€…ä¾†èªªæ˜ï¼Œä¸¦ä½¿ç”¨æ–°å¢ç¯€é»ç‚ºä¾‹ã€‚\næ–°å¢ï¼åˆªé™¤æ“ä½œå¾Œï¼Œè«‹è€ƒæ…®ä»¥ä¸‹å››ç¨®æƒ…æ³ï¼Œæœƒæœ‰ä¸åŒçš„èª¿æ•´æ–¹å¼ï¼š\n LL å‹ RR å‹ LR å‹ RL å‹  4.1 LL å‹ \u0026amp; RR å‹ é€™å…©ç¨®æƒ…æ³æ˜¯é¡åƒçš„ï¼Œæ‰€ä»¥è™•ç†çš„æ€è·¯å®Œå…¨æ˜¯ä¸€è‡´çš„ï¼š\n LL å‹ï¼šç•¶æ–°å¢çš„ç¯€é»åœ¨ä¸å¹³è¡¡çš„ç¯€é»çš„å·¦å´çš„å·¦å´  å°ä¸å¹³è¡¡ç¯€é»åŸ·è¡Œ å³æ—‹è½‰ã€‚   RR å‹ï¼šç•¶æ–°å¢çš„ç¯€é»åœ¨ä¸å¹³è¡¡çš„ç¯€é»çš„å³å´çš„å³å´  å°ä¸å¹³è¡¡ç¯€é»åŸ·è¡Œ å·¦æ—‹è½‰ã€‚    ç›´æ¥çœ‹ç¯„ä¾‹ã€‚\nLL å‹ï¼š50 å› ç‚ºæ–°å¢ 30 è€Œå°è‡´ BF è®Šæˆ 2ï¼Œå› æ­¤éœ€è¦èª¿æ•´ï¼Œè€Œ 30 ä½æ–¼ 50 çš„ å·¦å´çš„å·¦å´ã€‚\ngraph TB; A((50)) --- B((40)); A((50)) --- n1[null]; B((40)) --- C((30)); B((40)) --- n2[null]; class A red; class C green; class n1,n2 transparent; classDef red stroke:red,stroke-width:2px; classDef green stroke:#61bfa6,stroke-width:2px; classDef transparent fill:transparent,color:transparent,stroke:transparent; è™•ç†æ–¹å¼ï¼Œå° 50 åšå³æ—‹è½‰ï¼š\ngraph TB; B((40)) --- C((30)) \u0026amp; A((50)); å¦ä¸€ç¨®æƒ…æ³ï¼Œ50 å› ç‚ºæ–°å¢ 20 è€Œå°è‡´ BF è®Šæˆ 2ï¼Œè€Œ 20 ä½æ–¼ 50 çš„å·¦å´çš„å·¦å´ï¼š\ngraph TB; A((50)) --- B((40)) \u0026amp; C((60)); B((40)) --- D((30)) \u0026amp; E((45)); D((30)) --- F((20)) \u0026amp; n1((null)); class A red; class F green; class n1,n2 transparent; classDef red stroke:red,stroke-width:2px; classDef green stroke:#61bfa6,stroke-width:2px; classDef transparent fill:transparent,color:transparent,stroke:transparent; ä¸€æ¨£å° 50 åšå³æ—‹è½‰ï¼š\ngraph TB; A((40)) --- B((30)) \u0026amp; C((50)); B((30)) --- D((20)) \u0026amp; n1((null)); C((50)) --- E((45)) \u0026amp; F((60)); class n1 transparent; classDef transparent fill:transparent,color:transparent,stroke:transparent; RR å‹å°±æ˜¯ LL å‹çš„é¡åƒæƒ…æ³ã€‚\n4.2 LR å‹ \u0026amp; RL å‹ é€™å…©ç¨®æƒ…æ³æ˜¯é¡åƒçš„ï¼Œæ‰€ä»¥è™•ç†çš„æ€è·¯å®Œå…¨æ˜¯ä¸€è‡´çš„ï¼š\n LR å‹ï¼šç•¶æ–°å¢çš„ç¯€é»åœ¨ä¸å¹³è¡¡çš„ç¯€é»çš„å·¦å´çš„å³å´  å…ˆå°ä¸å¹³è¡¡ç¯€é»çš„å·¦å­ç¯€é»åŸ·è¡Œ å·¦æ—‹è½‰ï¼› å†å°ä¸å¹³è¡¡ç¯€é»åŸ·è¡Œ å³æ—‹è½‰ã€‚   RL å‹ï¼šç•¶æ–°å¢çš„ç¯€é»åœ¨ä¸å¹³è¡¡çš„ç¯€é»çš„å³å´çš„å·¦å´  å…ˆå°ä¸å¹³è¡¡ç¯€é»çš„å³å­ç¯€é»åŸ·è¡Œ å³æ—‹è½‰ï¼› å†å°ä¸å¹³è¡¡ç¯€é»åŸ·è¡Œ å·¦æ—‹è½‰ã€‚    ç›´æ¥çœ‹ç¯„ä¾‹ã€‚\nLR å‹ï¼š50 å› ç‚ºæ–°å¢ 45 è€Œå°è‡´ BF è®Šæˆ 2ï¼Œå› æ­¤éœ€è¦èª¿æ•´ï¼Œè€Œ 30 ä½æ–¼ 50 çš„å·¦å´çš„å³å´ã€‚\ngraph TB; A((50)) --- B((40)); A((50)) --- n1[null]; B((40)) --- n2[null]; B((40)) --- C((45)); class A red; class C green; class n1,n2 transparent; classDef red stroke:red,stroke-width:2px; classDef green stroke:#61bfa6,stroke-width:2px; classDef transparent fill:transparent,color:transparent,stroke:transparent; è™•ç†æ–¹å¼ï¼Œå…ˆå° 40 åšå·¦æ—‹è½‰ï¼Œæœƒè®Šæˆ LL å‹ï¼Œå†å° 50 åšå³æ—‹è½‰ï¼š\ngraph TB; A((50)) --- B((40)) \u0026amp; n1[null]; B((45)) --- C((40)) \u0026amp; n2[null]; BB((45)) --- CC((40)) \u0026amp; AA((50)); class n1,n2 transparent; classDef red stroke:red,stroke-width:2px; classDef green stroke:#61bfa6,stroke-width:2px; classDef transparent fill:transparent,color:transparent,stroke:transparent; å¦ä¸€ç¨®æƒ…æ³ï¼Œ50 å› ç‚ºæ–°å¢ 41 è€Œå°è‡´ BF è®Šæˆ 2ï¼Œè€Œ 41 ä½æ–¼ 50 çš„å·¦å´çš„å³å´ï¼š\ngraph TB; A((50)) --- B((40)) \u0026amp; C((60)); B((40)) --- D((30)) \u0026amp; E((45)); E((45)) --- F((41)) \u0026amp; n1((null)); class A red; class F green; class n1,n2 transparent; classDef red stroke:red,stroke-width:2px; classDef green stroke:#61bfa6,stroke-width:2px; classDef transparent fill:transparent,color:transparent,stroke:transparent; ä¸€æ¨£å…ˆå° 40 åšå·¦æ—‹è½‰ï¼Œæœƒè®Šæˆ LL å‹ï¼Œå†å° 50 åšå³æ—‹è½‰ï¼š\ngraph TB; AA((50)) --- BB((45)) \u0026amp; CC((60)); BB((45)) --- DD((40)) \u0026amp; n11((null)) DD((40)) --- FF((30)) \u0026amp; EE((41)); A((45)) --- B((40)) \u0026amp; C((50)); B((30)) --- D((30)) \u0026amp; E((41)); C((50)) --- n1((null)) \u0026amp; F((60)); class n1,n11 transparent; classDef transparent fill:transparent,color:transparent,stroke:transparent; RL å‹å°±æ˜¯ LR å‹çš„é¡åƒæƒ…æ³ã€‚\nJavaScript å¯¦ä½œ AVL-Tree äºŒå…ƒæ¨¹çš„ç¯€é»ï¼š\n1 2 3 4 5 6 7  class BTNode { constructor(data) { this.data = data; this.left = null; this.right = null; } }   æœ¬é«”ï¼š\n1 2 3 4 5 6  class AVLTree { constructor() { this.root = null; } // methods }   1. è¨ˆç®—å¹³è¡¡å› å­ è¨ˆç®—å¹³è¡¡å› å­éœ€è¦ç¯€é»é«˜åº¦ï¼Œå› æ­¤æˆ‘å€‘éœ€è¦è¨ˆç®—ç¯€é»é«˜åº¦çš„æ–¹æ³•ï¼š\n1 2 3 4 5 6 7 8  getNodeHeight(node) { if(!node) { return -1; } // 1  // 2  const lh = this.getNodeHeight(node.left); const rh = this.getNodeHeight(node.right); return Math.max(lh, rh) + 1; // 3 }    å­ç¯€é»ç‚º null æ™‚ï¼Œé«˜åº¦è¦–ç‚º -1ã€‚ ä½¿ç”¨æ­¸è¿´å–å¾—å·¦å­ç¯€é»é«˜ã€å³å­ç¯€é»é«˜ã€‚ ç¯€é»é«˜åº¦ = max(å·¦å­ç¯€é»é«˜, å³å­ç¯€é»é«˜) + 1ã€‚  è¨ˆç®—å¹³è¡¡å› å­ï¼š\n1 2 3  getBF(node) { return this.getNodeHeight(node.left) - this.getNodeHeight(node.right); }   å…¬å¼ï¼šBF = å·¦å­æ¨¹çš„é«˜åº¦ - å³å­æ¨¹çš„é«˜åº¦ã€‚\n2. æ—‹è½‰æ“ä½œ å³æ—‹è½‰ï¼š\n1 2 3 4 5 6  rightRotation(node) { const temp = node.left; node.left = temp.right; temp.right = node; return temp; }   å·¦æ—‹è½‰ï¼š\n1 2 3 4 5 6  leftRotation(node) { const temp = node.right; node.right = temp.left; temp.left = node; return temp; }   3. å¹³è¡¡æ“ä½œ å¹³è¡¡æ“ä½œï¼Œæª¢æŸ¥ç¯€é»æ˜¯å¦å¹³è¡¡ï¼š\n è‹¥ BF \u0026gt; 1ï¼Œè¡¨ç¤ºä¸å¹³è¡¡ï¼Œä¸”å·¦å­æ¨¹é«˜æ–¼å³å­æ¨¹ï¼Œåˆ¤æ–·æ˜¯ LLã€é‚„æ˜¯ LRï¼š  è‹¥æ˜¯ LR å‹ï¼š  å…ˆå°ä¸å¹³è¡¡ç¯€é»çš„å·¦å­ç¯€åŸ·è¡Œå·¦æ—‹è½‰ï¼Œè®Šæˆ LL å‹ï¼›   LL å‹ï¼Œå°ä¸å¹³è¡¡ç¯€é»åŸ·è¡Œå³æ—‹è½‰ã€‚   è‹¥ BF \u0026lt; -1ï¼Œè¡¨ç¤ºä¸å¹³è¡¡ï¼Œä¸”å³å­æ¨¹é«˜æ–¼å·¦å­æ¨¹ï¼Œåˆ¤æ–·æ˜¯ RRã€é‚„æ˜¯ RLï¼š  è‹¥æ˜¯ RL å‹ï¼š  å…ˆå°ä¸å¹³è¡¡ç¯€é»çš„å·¦å­ç¯€åŸ·è¡Œå³æ—‹è½‰ï¼Œè®Šæˆ LL å‹ï¼›   RR å‹ï¼Œå°ä¸å¹³è¡¡ç¯€é»åŸ·è¡Œå·¦æ—‹è½‰ã€‚    åˆ¤æ–·æ–°å¢çš„ç¯€é»æ˜¯è¢«åŠ åœ¨å·¦å´é‚„æ˜¯å³å´ï¼Œå¯ä»¥è¨ˆç®—å·¦ã€å³å­æ¨¹å“ªé‚Šé«˜ï¼Œå°±èƒ½çŸ¥é“åŠ åœ¨å“ªé‚Šï¼Œå› æ­¤æˆ‘å€‘å¯ä»¥è¨ˆç®— BFï¼Œè‹¥æ˜¯è² çš„å³å­æ¨¹é«˜ï¼Œåä¹‹ï¼Œæ­£çš„å·¦å­æ¨¹é«˜ã€‚\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18  balance(node) { if (!node) { return node; } const nodeBF = this.getBF(node); if (nodeBF \u0026gt; 1) { if (this.getBF(node.left) \u0026lt; 0) { node.left = this.leftRotation(node.left); } node = this.rightRotation(node); } else if (nodeBF \u0026lt; -1) { if (this.getBF(node.right) \u0026gt; 0) { node.right = this.rightRotation(node.right); } node = this.leftRotation(node); } return node; }   4. æ–°å¢æ“ä½œ æ–°å¢ç¯€é»å¾Œï¼Œéœ€è¦æª¢æŸ¥ç¯€é»è‡³æ ¹ç¯€é»é€™æ¢è·¯å¾‘ï¼Œæ˜¯å¦ç¬¦åˆå¹³è¡¡æ¢ä»¶ï¼Œå› æ­¤æˆ‘å€‘å¯ä»¥ä½¿ç”¨éè¿´çš„æ–¹å¼å›é ­æª¢æŸ¥ç¯€é»æ˜¯å¦ç¬¦åˆå¹³è¡¡ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16  insert(data) { const insertHelper = (node) =\u0026gt; { let curNode = node; if (!curNode) { return new BTNode(data); } if (data \u0026lt; curNode.data) { curNode.left = insertHelper(curNode.left); } else if (data \u0026gt; curNode.data) { curNode.right = insertHelper(curNode.right); } curNode = this.balance(curNode); return curNode; }; this.root = insertHelper(this.root); }   5. åˆªé™¤ç¯€é» åˆªé™¤æ“ä½œèˆ‡æ™®é€šçš„äºŒå…ƒç´ æœå°‹æ¨¹ç›¸åŒï¼Œåˆªé™¤ç¯€é»å¾Œï¼Œæª¢æŸ¥ç¯€é»è‡³æ ¹ç¯€é»é€™æ¢è·¯å¾‘ï¼Œæ˜¯å¦ç¬¦åˆå¹³è¡¡æ¢ä»¶ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36  remove(data) { const removeNode = (data, node) =\u0026gt; { let curNode = node; // let  if (!curNode) { return false; } if (data \u0026lt; curNode.data) { curNode.left = removeNode(data, curNode.left); } else if (data \u0026gt; curNode.data) { curNode.right = removeNode(data, curNode.right); } else { if (!curNode.left \u0026amp;\u0026amp; !curNode.right) { return null; } if (!curNode.left) { return curNode.right; } if (!curNode.right) { return curNode.left; } const aux = this.findMin(curNode.right); curNode.data = aux.data; curNode.right = removeNode(aux.data, curNode.right); } curNode = this.balance(curNode); // new  return curNode; }; this.root = removeNode(data, this.root); }   ç¸½çµ 1. åˆ†æ äºŒå…ƒæœå°‹æ¨¹æœ€å¤§çš„å•é¡Œå°±æ˜¯ï¼Œå®ƒæœƒå‡ºç¾æ¥µç«¯æƒ…æ³ï¼Œå‚¾æ–œæŸä¸€é‚Šï¼Œå› æ­¤å®ƒçš„æ–°å¢ã€æœå°‹ã€åˆªé™¤æ“ä½œæœ€å·®æ™‚é–“è¤‡é›œåº¦ç‚º $O(n)$ã€‚\nè€Œ AVL-Tree å†æ–°å¢å’Œåˆªé™¤æ™‚ï¼Œå°±æœƒè‡ªå‹•å¹³è¡¡äºŒå…ƒæ¨¹ï¼Œå› æ­¤ä¸æœƒæœ‰æ¥µç«¯æƒ…æ³ç™¼ç”Ÿã€‚å› æ­¤å®ƒçš„æ–°å¢ã€æœå°‹ã€åˆªé™¤æ“ä½œå¹³å‡ã€æœ€å·®æ™‚é–“è¤‡é›œåº¦éƒ½ç‚º $O(\\log n)$ã€‚\n2. å¹³è¡¡æ“ä½œæ™‚é–“è¤‡é›œåº¦ å¹³è¡¡æ“ä½œæ˜¯é€éæ—‹è½‰ 1 æ¬¡æˆ– 2 æ¬¡ä¾†é™ä½æ¨¹é«˜ã€‚\næ–°å¢æ“ä½œå› ç‚ºæ˜¯å¢åŠ æ¨¹é«˜ï¼Œè€Œé€ æˆæ¨¹ä¸å¹³è¡¡ï¼Œå› æ­¤æœ€å¤šåªéœ€è¦åŸ·è¡Œ 1 æ¬¡å¹³è¡¡æ“ä½œå³å¯å¹³è¡¡æ•´æ£µæ¨¹ï¼ˆæœ€å¤šæ—‹è½‰ 2 æ¬¡ï¼‰ï¼Œæ‰€ä»¥æ–°å¢çš„å¹³è¡¡æ“ä½œæ™‚é–“è¤‡é›œåº¦ç‚º $O(1)$ã€‚\nä½†åˆªé™¤æ“ä½œæ˜¯å› ç‚ºé™ä½æ¨¹é«˜ï¼Œè€Œé€ æˆæ¨¹ä¸å¹³è¡¡ï¼Œå› æ­¤åŸ·è¡Œå¹³è¡¡æ“ä½œå¾Œï¼Œçˆ¶ç¯€é»å¯èƒ½åˆæœƒä¸å¹³è¡¡ï¼Œè¦å†æ¬¡åŸ·è¡Œå¹³è¡¡æ“ä½œï¼Œæ‰€ä»¥æœ€ç³Ÿçš„æƒ…æ³ä¸‹éœ€è¦åŸ·è¡Œå¤šæ¬¡å¹³è¡¡æ“ä½œï¼Œæ™‚é–“è¤‡é›œåº¦ç‚º $O(\\log n)$ã€‚\næˆ‘å€‘ä¸‹é€±è¦è¬›çš„ç´…é»‘æ¨¹çš„åˆªé™¤å¹³è¡¡æ“ä½œå¯ä»¥åœ¨ 3 æ¬¡æ—‹è½‰å…§å®Œæˆå¹³è¡¡æ“ä½œã€‚\n3. è¦–è¦ºåŒ– é€™æ˜¯æˆ‘ç”¨ Vue.js è£½ä½œçš„ï¼Œå¯ä»¥å¾ˆæ–¹ä¾¿çš„è§€å¯Ÿ AVL-Tree çµæ§‹è®ŠåŒ–ï¼š\nSee the Pen AVL-Tree Tree with Vue.js by Chupai@Design (@chupai) on CodePen. ","description":"AVL-Tree æ˜¯æœ€æ—©è¢«ç™¼æ˜çš„å¹³è¡¡æ¨¹ã€‚","id":71,"section":"posts","tags":["è³‡æ–™çµæ§‹","äºŒå…ƒæœå°‹æ¨¹","äºŒå…ƒæ¨¹","AVL-Tree","å¹³è¡¡æ¨¹","w3HexSchool"],"title":"JavaScript å­¸æ¼”ç®—æ³•ï¼ˆåäº”ï¼‰- AVL-Tree","uri":"https://chupai.github.io/posts/2007/ds_avl-tree/"},{"content":"é€™é€±æ˜¯å…­è§’é¼ å¹´éµäººè³½ç¬¬äºŒåäºŒé€±ã€‚\nä¹‹å‰æˆ‘å€‘å·²ç¶“ç°¡å–®ä»‹ç´¹ æ¨¹ \u0026amp; äºŒå…ƒæ¨¹ï¼Œä½†æˆ‘å€‘æ²’æœ‰å¯¦ä½œå®ƒï¼Œæ¥ä¸‹ä¾†æˆ‘å€‘å°‡èªªæ˜ä¸€ç¨®æœ€å¸¸ä½¿ç”¨çš„äºŒå…ƒæ¨¹è³‡æ–™çµæ§‹ï¼šã€ŒäºŒå…ƒæœå°‹æ¨¹ï¼ˆBinary Search Treeï¼‰ã€ï¼Œé‚„æœ‰å¯¦ä½œäºŒå…ƒæ¨¹çš„èµ°è¨ªã€‚\n\räºŒå…ƒæœå°‹æ¨¹ äºŒå…ƒæœå°‹æ¨¹ï¼ˆBinary Search Tree, BSTï¼‰ã€äºŒå…ƒæœç´¢æ¨¹ï¼Œä¹Ÿç¨±ç‚º æœ‰åºäºŒå…ƒæ¨¹ï¼ˆOrdered binary treeï¼‰ æˆ– æ’åºäºŒå…ƒæ¨¹ï¼ˆSorted binary treeï¼‰ï¼Œæ˜¯ä¸€ç¨®å…·æœ‰ç‰¹æ®Šæ€§å€¼çš„äºŒå…ƒæ¨¹ã€‚\n1. å®šç¾© å¯ä»¥æ˜¯ä¸€æ£µç©ºæ¨¹æˆ–è€…å…·æœ‰ä¸‹åˆ—æ€§è³ªçš„äºŒå…ƒæ¨¹ï¼š\n è‹¥ä»»æ„ç¯€é»çš„å·¦å­æ¨¹ä¸ç©ºï¼Œå‰‡å·¦å­æ¨¹ä¸Šæ‰€æœ‰ç¯€é»çš„å€¼å‡å°æ–¼å®ƒçš„æ ¹ç¯€é»çš„å€¼ï¼› è‹¥ä»»æ„ç¯€é»çš„å³å­æ¨¹ä¸ç©ºï¼Œå‰‡å³å­æ¨¹ä¸Šæ‰€æœ‰ç¯€é»çš„å€¼å‡å¤§æ–¼å®ƒçš„æ ¹ç¯€é»çš„å€¼ï¼› ä»»æ„ç¯€é»çš„å·¦ã€å³å­æ¨¹ä¹Ÿåˆ†åˆ¥ç‚ºäºŒå…ƒæœå°‹æ¨¹ã€‚  é€™å€‹å®šç¾©å¯èƒ½æœƒå‡ºç¾ä¸€äº›è®ŠåŒ–ï¼š\n ä¸Šé¢çš„å®šç¾©ï¼Œä¸èƒ½å…è¨±å‡ºç¾é‡è¤‡çš„è³‡æ–™ã€‚ è‹¥å…è¨±é‡è¤‡çš„è³‡æ–™ï¼Œå®šç¾©æœƒæ›´æ”¹æˆï¼š  å·¦å­æ¨¹ï¼Œå°æ–¼ç­‰æ–¼ï¼›æˆ–æ˜¯ï¼š å³å­æ¨¹ï¼Œå¤§æ–¼ç­‰æ–¼ã€‚    é€™æ˜¯ä¸€é¡†æ™®é€šçš„äºŒå…ƒæœå°‹æ¨¹çš„çµæ§‹ï¼š\ngraph TB; 10((10)) --- 5((5)); 10((10)) --- 15((15)); 5((5)) --- 4((4)); 15((15)) --- 12((12)); 5((5)) --- 8((8)); 8((8)) --- 6((6)); 8((8)) --- 9((9)); 15((15)) --- 16((16)); JavaScript å¯¦ä½œäºŒå…ƒæœå°‹æ¨¹ 1. äºŒå…ƒæ¨¹çš„åŸºæœ¬çµæ§‹ å¯¦ä½œäºŒå…ƒæ¨¹é€šå¸¸æœƒç”¨éˆçµä¸²åˆ—è¡¨ç¤ºæ³•ã€‚\näºŒå…ƒæ¨¹çš„ç¯€é»ï¼š\n1 2 3 4 5 6 7  class BTNode { constructor(data) { this.data = data; this.left = null; this.right = null; } }    dataï¼šç”¨ä¾†å­˜æ”¾çš„è³‡æ–™å€¼ï¼› leftï¼šæŒ‡å‘å·¦å­æ¨¹çš„æŒ‡æ¨™ï¼› rightï¼šæŒ‡å‘å³å­æ¨¹çš„æŒ‡æ¨™ã€‚  äºŒå…ƒæœå°‹æ¨¹æœ¬é«”ï¼š\n1 2 3 4 5 6  class BinarySearchTree { constructor() { this.root = null; } // methods }   æ“ä½œæ–¹æ³•ï¼š\n äºŒå…ƒæœå°‹æ¨¹åŸºæœ¬æ“ä½œï¼š  æœå°‹ æ–°å¢ åˆªé™¤   äºŒå…ƒæ¨¹çš„èµ°è¨ªæ“ä½œï¼š  DFSï¼šå‰åºã€ä¸­åºã€å¾Œåº BFSï¼šå±¤åº    2. æœå°‹æ“ä½œ æ ¹æ“š BST çš„æ€§è³ªï¼Œå°æ–¼æ¯å€‹ç¯€é»ï¼š\n è‹¥ç›®æ¨™å€¼ç­‰æ–¼ç¯€é»çš„å€¼ï¼Œå‰‡å›å‚³ç¯€é»ï¼› è‹¥ç›®æ¨™å€¼å°æ–¼ç¯€é»çš„å€¼ï¼Œå‰‡ç¹¼çºŒåœ¨å·¦å­æ¨¹ä¸­æœå°‹ï¼› è‹¥ç›®æ¨™å€¼å¤§æ–¼ç¯€é»çš„å€¼ï¼Œå‰‡ç¹¼çºŒåœ¨å³å­æ¨¹ä¸­æœå°‹ï¼› è‹¥ç¯€é»ä¸å­˜åœ¨ï¼Œå›å‚³ nullã€‚  ä½¿ç”¨è¿­ä»£çš„æ–¹å¼å¯¦ä½œï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14  search(data, node = this.root) { let curNode = node; while (curNode) { if (data === curNode.data) { return curNode; } if (data \u0026lt; curNode.data) { curNode = curNode.left; } else { curNode = curNode.right; } } return null; }   ä½¿ç”¨éè¿´å¯¦ä½œï¼š\n1 2 3 4 5 6 7 8 9 10 11 12  search(data, node = this.root) { if (!node) { return null; } if (data === node.data) { return node; } if (data \u0026lt; node.data) { return this.search(data, node.left); } return this.search(data, node.right); }   ç°¡åŒ–ï¼š\n1 2 3 4  search(data, node = this.root) { if (!node || node.data === data) return node; return node.data \u0026lt; data ? this.search(data, node.right) : this.search(data, node.left); }   3. æ–°å¢æ“ä½œ æ–°å¢æ“ä½œæ˜¯å»ºç«‹ BST çš„åŸºç¤æ“ä½œï¼Œæœ‰è¨±å¤šä¸åŒçš„åšæ³•ï¼Œä½†é€™è£¡åªè¨è«–æœ€ç¶“å…¸çš„æ–¹å¼ã€‚\nèˆ‡æœå°‹æ“ä½œé¡ä¼¼ï¼Œå°æ–¼æ¯å€‹ç¯€é»ï¼š\n è‹¥ä¸å…é‡è¤‡å€¼ï¼Œç›®æ¨™å€¼ç­‰æ–¼ç¯€é»çš„å€¼æ™‚ï¼ŒçµæŸæ“ä½œã€‚ è‹¥ç›®æ¨™å€¼å°æ–¼ç¯€é»çš„å€¼ï¼Œå‰‡å‰å¾€å·¦å­æ¨¹ï¼› è‹¥ç›®æ¨™å€¼å¤§æ–¼ç¯€é»çš„å€¼ï¼Œå‰‡å‰å¾€å³å­æ¨¹ï¼› è‹¥ç¯€é»ç‚ºç©ºï¼Œè¨­ç½®æ–°ç¯€é»ã€‚  ä½¿ç”¨è¿­ä»£å¯¦ä½œï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27  insert(data) { if (!this.root) { this.root = new BTNode(data); return; } let curNode = this.root; while (curNode) { if (data \u0026lt; curNode.data) { if (curNode.left) { curNode = curNode.left; } else { curNode.left = new BTNode(data); break; } } else if (data \u0026gt; curNode.data) { if (curNode.right) { curNode = curNode.right; } else { curNode.right = new BTNode(data); break; } } else { break; } } }    å…ˆåˆ¤æ–·æ¨¹æ˜¯å¦ç‚ºç©ºæ¨¹ï¼Œè‹¥æ˜¯ï¼Œå‰‡å°‡æ–°ç¯€é»è¨­ç‚ºæ ¹ç¯€é»ï¼Œæ–°å¢çµæŸï¼›å¦å‰‡ï¼š åˆ¤æ–·ç•¶å‰ç¯€é»ï¼Œé è¨­ç‚ºæ ¹ç¯€é»ï¼š  è‹¥å°æ–¼ç•¶å‰ç¯€é»è³‡æ–™ï¼Œåˆ¤æ–·å·¦å­æ¨¹æ˜¯å¦å­˜åœ¨ï¼š  å­˜åœ¨ï¼Œå°‡ç•¶å‰ç¯€é»è¨­ç‚ºå·¦å­æ¨¹ï¼Œé‡æ–°åˆ¤æ–·ã€‚ ä¸å­˜åœ¨ï¼Œå°‡å³å­æ¨¹è¨­ç‚ºæ–°ç¯€é»ï¼Œæ–°å¢çµæŸã€‚   è‹¥å¤§æ–¼ç•¶å‰ç¯€é»è³‡æ–™ï¼Œåˆ¤æ–·å³å­æ¨¹æ˜¯å¦å­˜åœ¨ï¼š  å­˜åœ¨ï¼Œå°‡ç•¶å‰ç¯€é»è¨­ç‚ºå³å­æ¨¹ï¼Œé‡æ–°åˆ¤æ–·ã€‚ ä¸å­˜åœ¨ï¼Œå°‡å³å­æ¨¹è¨­ç‚ºæ–°ç¯€é»ï¼Œæ–°å¢çµæŸã€‚ã€‚   è‹¥ç­‰æ–¼ç•¶å‰ç¯€é»è³‡æ–™ï¼Œæ–°å¢å¤±æ•—ã€‚    ä½¿ç”¨éè¿´å¯¦ä½œï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24  insert(data) { const insertHelper = (node) =\u0026gt; { const curNode = node; if (data \u0026lt; curNode.data) { if (curNode.left) { insertHelper(curNode.left); } else { curNode.left = new BTNode(data); } } else if (data \u0026gt; curNode.data) { if (curNode.right) { insertHelper(curNode.right); } else { curNode.right = new BTNode(data); } } }; if (!this.root) { this.root = new BTNode(data); } else { insertHelper(this.root); } }   ï¼”. æœ€å°å€¼ï¼æœ€å¤§å€¼ å°‹æ‰¾æœ€å°å€¼ç¯€é»ï¼Œå°±æ˜¯ä¸€ç›´å¾€å·¦å­æ¨¹ç§»å‹•ï¼Œç›´åˆ°ç©ºå­æ¨¹ï¼Œå›å‚³æœ€å¾Œä¸€å€‹å·¦å­æ¨¹ï¼š\n1 2 3 4 5 6 7  findMin(node = this.root) { let currentNode = node; while (currentNode \u0026amp;\u0026amp; currentNode.left ) { currentNode = currentNode.left; } return currentNode; }   å°‹æ‰¾æœ€å¤§å€¼ç¯€é»ï¼Œåéä¾†å°±æ˜¯ä¸€ç›´å¾€å³å­æ¨¹ç§»å‹•ï¼Œç›´åˆ°ç©ºå­æ¨¹ï¼Œå›å‚³æœ€å¾Œä¸€å€‹å³å­æ¨¹ï¼š\n1 2 3 4 5 6 7  findMax(node = this.root) { let currentNode = node; while (currentNode \u0026amp;\u0026amp; currentNode.right) { currentNode = currentNode.right; } return currentNode; }   5. åˆªé™¤æ“ä½œ åœ¨äºŒå…ƒæœå°‹æ¨¹åˆªé™¤ä¸€å€‹ç¯€é»ï¼Œéœ€è¦è€ƒæ…®ç¯€é»çš„ä¸‰ç¨®æƒ…æ³ï¼š\n è‘‰å­ç¯€é»ï¼ˆç„¡å­æ¨¹ï¼‰ï¼Œç›´æ¥åˆªé™¤ã€‚ ç¯€é»æœ‰å–®é‚Šå­æ¨¹ï¼Œç”¨å­æ¨¹ä»£æ›¿è©²ç¯€é»ã€‚ ç¯€é»æœ‰å·¦å³å…©é‚Šå­æ¨¹ï¼Œè™•ç†æ–¹å¼ç‚ºï¼š  å°‹æ‰¾è¢«åˆªé™¤ç¯€é»é„°è¿‘çš„ç¯€é»å€¼ä¾†ä»£æ›¿ï¼› å–å¾—é„°è¿‘çš„ç¯€é»æ–¹å¼ï¼š  å‰é©…ç¯€é»ï¼šå·¦å­æ¨¹å–æœ€å¤§å€¼ å¾Œç¹¼ç¯€é»ï¼šå³å­æ¨¹å–æœ€å°å€¼ï¼ˆç¯„ä¾‹ä½¿ç”¨å®ƒï¼‰   æ¥è‘—åˆªé™¤ç”¨ä¾†ä»£æ›¿çš„ç¯€é»ã€‚    æ¯”è¼ƒéº»ç…©çš„æ˜¯ï¼ŒäºŒå…ƒæœå°‹æ¨¹ç¯€é»æ˜¯å–®å‘çš„ï¼Œæ²’æœ‰çˆ¶ç¯€é»æŒ‡æ¨™ï¼Œæ‰€ä»¥æˆ‘å€‘éœ€è¦é€ééè¿´çš„æ–¹å¼ä¾†æ›´æ–°ç¯€é»ã€‚\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35  remove(data) { const removeNode = (data, node) =\u0026gt; { const curNode = node; // 1  if (!curNode) { return false; } // 2  if (data \u0026lt; curNode.data) { curNode.left = removeNode(data, curNode.left); // 3  } else if (data \u0026gt; curNode.data) { curNode.right = removeNode(data, curNode.right); // 4  } else { // 4.1  if (!curNode.left \u0026amp;\u0026amp; !curNode.right) { return null; } // 4.2  if (!curNode.left) { return curNode.right; } if (!curNode.right) { return curNode.left; } // 4.3  const aux = this.findMin(curNode.right); curNode.data = aux.data; curNode.right = removeNode(aux.data, curNode.right); } return curNode; }; this.root = removeNode(data, this.root); }   è¦åˆªé™¤ç¯€é»ï¼Œå°±æ¯”é ˆå…ˆæ‰¾åˆ°å®ƒï¼š\n ç¯€é»ä¸å­˜åœ¨ã€‚ å°æ–¼ç•¶å‰ç¯€é»è³‡æ–™ï¼Œå‰å¾€å·¦å­æ¨¹ï¼› å¤§æ–¼ç•¶å‰ç¯€é»è³‡æ–™ï¼Œå‰å¾€å³å­æ¨¹ï¼› ç­‰æ–¼ç•¶å‰ç¯€é»ï¼Œåˆªé™¤ï¼š  è‘‰å­ç¯€é»ï¼Œç›´æ¥åˆªé™¤ã€‚ å–®é‚Šå­æ¨¹ï¼Œç”¨å­æ¨¹ä»£æ›¿ã€‚ å·¦å³å…©é‚Šå­æ¨¹ï¼š  å–å¾—å³å­æ¨¹æœ€å°å€¼ï¼› æ›¿æ›å€¼ï¼› åˆªé™¤å³å­æ¨¹æœ€å°å€¼ç¯€é»ã€‚      6. DFS DFS å…±æœ‰ä¸‰ç¨®èµ°è¨ªé †åºï¼š\n å‰åºèµ°è¨ª ä¸­åºèµ°è¨ª å¾Œåºèµ°è¨ª   é—œæ–¼èµ°è¨ªï¼Œä¹‹å‰åœ¨ æ¨¹ \u0026amp; äºŒå…ƒæ¨¹ æœ‰èªªæ˜ã€‚\n 6.1 éè¿´ é¦–å…ˆæ˜¯å‰åºèµ°è¨ªï¼ŒåŸ·è¡Œé †åºç‚ºï¼š\n ï¼ˆNï¼‰è¨ªå•ç•¶å‰ç¯€é» ï¼ˆLï¼‰èµ°è¨ªå·¦å­æ¨¹ ï¼ˆRï¼‰èµ°è¨ªå³å­æ¨¹  éè¿´ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13  preOrderTraversal() { const temp = []; preHelper(this.root); return temp; function preHelper(node) { if (node) { temp.push(node.data); preHelper(node.left); preHelper(node.right); } } }   ä¸­åºã€å¾Œåºèµ°è¨ªå·®ç•°ä¸å¤§ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27  inOrderTraversal() { const temp = []; inHelper(this.root); return temp; function inHelper(node) { if (node) { inHelper(node.left); temp.push(node.data); inHelper(node.right); } }; } postOrderTraversal() { const temp = []; postHelper(this.root); return temp; function postHelper(node) { if (node) { postHelper(node.left); postHelper(node.right); temp.push(node.data); } }; }   6.2 è¿­ä»£ æˆ‘å€‘å¯ä»¥ä½¿ç”¨å †ç–Šï¼ˆstackï¼‰ä¾†æ¨¡æ“¬éè¿´çµæ§‹ã€‚\nå‰åºèµ°è¨ªï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22  preOrderTraversal() { const temp = []; const stack = []; if (this.root) { stack.push(this.root); } while (stack.length) { const node = stack.pop(); temp.push(node.data); if (node.right) { stack.push(node.right); } if (node.left) { stack.push(node.left); } } return temp; }   å› ç‚ºå †ç–Šæ˜¯å¾Œé€²å…ˆå‡ºï¼Œå› æ­¤è¦å…ˆå°‡å³å­æ¨¹æ¨å…¥å †ç–Šå†æ¨å…¥å·¦å­æ¨¹ã€‚\nä¸­åºèµ°è¨ªï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18  inOrderTraversal() { const temp = []; const stack = []; let node = this.root; while (node || stack.length) { while (node) { stack.push(node); node = node.left; } node = stack.pop(); temp.push(node.data); node = node.right; } return temp; }   å…ˆå°‡å·¦å­æ¨¹å…¨éƒ¨åŠ å…¥å †ç–Šä¸­ï¼Œç„¶å¾Œé€å€‹å–å‡ºã€‚\nå¾Œåºèµ°è¨ªå¯ä»¥å°‡å‰åºä½œæ³•çš„å³å­æ¨¹èˆ‡å·¦å­æ¨¹çš„å †å…¥é †åºäº¤æ›ï¼Œå³ NLR è®Šæˆ NRLï¼Œæœ€å¾Œè¼¸å‡ºæ™‚åè½‰é™£åˆ—ï¼Œè®Šæˆ LRNã€‚\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20  postOrderTraversal() { const temp = []; const stack = []; if (this.root) { stack.push(this.root); } while (stack.length) { const node = stack.pop(); temp.push(node.data); if (node.left) { stack.push(node.left); } if (node.right) { stack.push(node.right); } } return temp.reverse(); }   6.3 è¼¸å‡º é€™æ˜¯äºŒå…ƒæœå°‹æ¨¹çµæ§‹ï¼š\ngraph TB; 10((10)) --- 5((5)); 10((10)) --- 15((15)); 5((5)) --- 4((4)); 15((15)) --- 12((12)); 5((5)) --- 8((8)); 8((8)) --- 6((6)); 8((8)) --- 9((9)); 15((15)) --- 16((16)); è¼¸å‡ºï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15  const nums = [10, 5, 4, 8, 6, 9, 15, 12, 16]; const BST = new BinarySearchTree(); for (const data of nums) { BST.insert(data); } console.log( BST.preOrderTraversal() ); // [ 10, 5, 4, 8, 6, 9, 15, 12, 16 ]â€ˆ console.log( BST.inOrderTraversal() ); // [ 4, 5, 6, 8, 9, 10, 12, 15, 16 ]â€ˆ console.log( BST.postOrderTraversal() ); // [ 4, 6, 9, 8, 5, 12, 16, 15, 10 ]â€ˆ  äºŒå…ƒæœå°‹æ¨¹ä½¿ç”¨ä¸åŒé †åºçš„èµ°è¨ªï¼Œæœ‰ä¸åŒçš„åŠŸèƒ½ï¼š\n ä½¿ç”¨å…ˆåºèµ°è¨ªï¼Œå¯ä»¥çµæ§‹åŒ–è¼¸å‡ºã€‚ ä½¿ç”¨ä¸­åºèµ°è¨ªï¼Œå¯ä»¥å¾å°åˆ°å¤§è¼¸å‡ºï¼Œå…·æœ‰æ’åºçš„åŠŸèƒ½ã€‚ ä½¿ç”¨å¾Œåºèµ°è¨ªï¼Œå¯ä»¥ç”¨æ–¼è¨ˆç®—æœ‰å±¤ç´šé—œä¿‚çš„æ‰€æœ‰å…ƒç´ çš„å¤§å°ã€‚  7. BFS å±¤åºèµ°è¨ªæœƒå…ˆè¨ªå•é›¢æ ¹ç¯€é»æœ€è¿‘çš„ç¯€é»ï¼Œä¹Ÿå°±æ˜¯å®ƒæœƒç”±ä¸Šè€Œä¸‹ï¼Œä¸¦åœ¨åŒä¸€å€‹éšå±¤ï¼Œç”±å·¦è‡³å³ä¾åºè¨ªå•ç¯€é»ã€‚\né€šå¸¸æœƒä½¿ç”¨ä½‡åˆ—ï¼ˆqueueï¼‰ä¾†å¯¦ç¾ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20  levelorderTraversal() { const temp = []; const queue = []; if (this.root) { queue.push(this.root); } while(queue.length) { const node = queue.shift(); temp.push(node.data); if(node.left) { queue.push(node.left); } if(node.right) { queue.push(node.right); } } return temp; }   å±¤åºèµ°è¨ªæœƒä¾ç…§éšå±¤ï¼Œç”±å·¦è‡³å³ä¾åºè¨ªå•ç¯€é»ï¼š\n1 2  console.log( BST.levelorderTraversal() ); // [ 10, 5, 15, 4, 8, 12, 16, 6, 9 ]â€ˆ  æˆ‘å€‘å¯ä»¥ç¨ä½œä¿®æ”¹ï¼Œç”¨é™£åˆ—å­˜å„²æ¯ä¸€å±¤çš„ç¯€é»ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27  levelorderTraversal() { const temp = []; const queue = []; if (this.root) { queue.push(this.root); } while (queue.length) { const subTemp = []; const len = queue.length; for (let i = 0; i \u0026lt; len; i += 1) { const node = queue.shift(); subTemp.push(node.data); if (node.left) { queue.push(node.left); } if (node.right) { queue.push(node.right); } } temp.push(subTemp); } return temp; }   1 2  console.log( BST.levelorderTraversal() ); // [ [ 10 ], [ 5, 15 ], [ 4, 8, 12, 16 ], [ 6, 9 ] ]â€ˆ  ç¸½çµ 1. åˆ†æ äºŒå…ƒæœå°‹æ¨¹çš„æ–°å¢ã€æœå°‹ã€åˆªé™¤æ“ä½œæ™‚é–“è¤‡é›œåº¦æœƒæ ¹æ“šæ¨¹çš„é«˜ä¾†æ±ºå®šï¼Œæœ€ä½³ã€å¹³å‡çš„æ™‚é–“è¤‡é›œåº¦ç‚º $O(\\log n)$ã€‚\nä½†äºŒå…ƒæœå°‹æ¨¹æœ€å¤§çš„å•é¡Œå°±æ˜¯ï¼Œå®ƒæœƒå‡ºç¾æ¥µç«¯æƒ…æ³ï¼Œå‚¾æ–œæŸä¸€é‚Šã€‚èˆ‰ä¾‹ä¾†èªªï¼Œç•¶æˆ‘å€‘é †åºæ–°å¢å…ƒç´ ï¼ŒäºŒå…ƒæœå°‹æ¨¹æœƒé€€åŒ–æˆéˆçµä¸²åˆ—ï¼Œå…ƒç´ æ•¸é‡å¤šå°‘ï¼Œæ¨¹é«˜å°±æ˜¯å¤šå°‘ï¼Œé€ æˆæ–°å¢ã€æœå°‹ã€åˆªé™¤æ“ä½œæœ€å·®æ™‚é–“è¤‡é›œåº¦ç‚º $O(n)$ã€‚\nèˆ‰ä¾‹ï¼Œä¾åºè¼¸å…¥1 2 3 4ï¼š\ngraph TB; 11((1)) --- 2((null)) \u0026amp; 22((2)); 22((2)) --- 3((null)) \u0026amp; 33((3)); 33((3)) --- 4((null)) \u0026amp; 44((4)); 2. å°‡äºŒå…ƒæœå°‹æ¨¹è®Šå¹³è¡¡ å¦‚æœè¦å°‡ä¸€æ£µå‚¾æ–œçš„äºŒå…ƒæœå°‹æ¨¹è®Šå¾—å¹³è¡¡ï¼Œå¯ä»¥é€™æ¨£è™•ç†ï¼š\n å°äºŒå…ƒæœå°‹æ¨¹åŸ·è¡Œçš„ä¸­åºèµ°è¨ªå–å¾—æœ‰åºçš„é™£åˆ—ï¼› åˆ©ç”¨æœ‰åºçš„é™£åˆ—ï¼Œé‡å»ºä¸€æ£µå¹³è¡¡çš„äºŒå…ƒæœå°‹æ¨¹ï¼š  å¾é™£åˆ—çš„ä¸­é–“ä½ç½®å–ä¸€å€‹å…ƒç´ ï¼Œå¾—åˆ°æ¨¹çš„æ ¹ç¯€é»ã€‚ å°é™£åˆ—çš„å·¦é‚Šå’Œå³é‚Šéè¿´åŸ·è¡Œç›¸åŒæ“ä½œï¼Œå¾—åˆ°æ ¹ç¯€é»çš„å·¦ã€å³å­æ¨¹ã€‚    1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20  balanceBST() { const nodeList = this.inOrderTraversal(); const { length } = nodeList; if (length \u0026lt; 3) { return this.root; } this.root = rebuild(0, length - 1); function rebuild(start, end) { if (start \u0026gt; end) { return null; } const mid = Math.floor((start + end) / 2); const node = new BTNode(nodeList[mid]); node.left = rebuild(start, mid - 1); node.right = rebuild(mid + 1, end); return node; } }   3. å¹³è¡¡æ¨¹ ç‚ºäº†é¿å…äºŒå…ƒæœå°‹æ¨¹å‡ºç¾æ¥µç«¯æƒ…æ³ï¼Œæœ‰äººç™¼æ˜äº†ã€Œå¹³è¡¡æ¨¹ï¼ˆBalanced Treeï¼‰ã€ï¼Œå®ƒèƒ½åœ¨æ–°å¢ç¯€é»æ™‚ï¼Œè‡ªå‹•å¹³è¡¡ï¼Œä¸‹é€±è©³ç´°èªªæ˜ã€‚\n4. è¦–è¦ºåŒ– é€™æ˜¯æˆ‘ç”¨ Vue.js è£½ä½œçš„ï¼Œå¯ä»¥å¾ˆæ–¹ä¾¿çš„è§€å¯ŸäºŒå…ƒæœå°‹æ¨¹çµæ§‹è®ŠåŒ–ï¼š\nSee the Pen Binary Search Tree with Vue.js by Chupai@Design (@chupai) on CodePen. ","description":"äºŒå…ƒæœå°‹æ¨¹æ˜¯ä¸€ç¨®å…·æœ‰ç‰¹æ®Šæ€§å€¼çš„äºŒå…ƒæ¨¹ã€‚","id":72,"section":"posts","tags":["è³‡æ–™çµæ§‹","äºŒå…ƒæœå°‹æ¨¹","äºŒå…ƒæ¨¹","w3HexSchool"],"title":"JavaScript å­¸æ¼”ç®—æ³•ï¼ˆåå››ï¼‰- äºŒå…ƒæœå°‹æ¨¹","uri":"https://chupai.github.io/posts/2006/ds_binary_search_tree/"},{"content":"é€™é€±æ˜¯å…­è§’é¼ å¹´éµäººè³½ç¬¬äºŒåä¸€é€±ï¼Œä¸Šé€±å·²ç¶“ç°¡å–®æè¿°æ¨¹ç‹€çµæ§‹çš„æ¦‚å¿µï¼Œæ¥ä¸‹ä¾†ç¹¼çºŒçœ‹æ’åºæ¼”ç®—æ³•çš„ å †ç©æ’åºã€‚\n\rå †ç©ï¼ˆHeapï¼‰ å †ç©ï¼ˆHeapï¼‰ æ˜¯ä¸€ç¨®ç”¨æ–¼æ’åºçš„ç‰¹æ®ŠäºŒå…ƒæ¨¹ï¼Œå§‹æ–¼ J. W. J. Williams åœ¨ 1964å¹´ç™¼è¡¨çš„ å †ç©æ’åºï¼ˆHeap sortï¼‰ï¼Œç•¶æ™‚ä»–æå‡ºäº†äºŒå…ƒå †ç©æ¨¹ä½œç‚ºæ­¤æ¼”ç®—æ³•çš„è³‡æ–™çµæ§‹ã€‚\nå †ç©å…·æœ‰ä»¥ä¸‹å…©ç¨®ç‰¹æ€§ï¼š\n ç‚º Complete binary treeï¼ˆå®Œå…¨äºŒå…ƒæ¨¹ï¼‰ï¼Œé™¤äº†æœ€åº•å±¤ï¼Œå…¶ä»–å±¤çš„ç¯€é»éƒ½æ˜¯å¡«æ»¿çš„ï¼Œè€Œä¸”æœ€å¾Œä¸€éšå±¤çš„ç¯€é»å¿…é ˆç”±å·¦è‡³å³å¡«å…¥ï¼› ä»»æ„ç¯€é»å°æ–¼ï¼ˆæˆ–å¤§æ–¼ï¼‰å®ƒçš„æ‰€æœ‰å¾Œè£”ï¼Œæœ€å°å…ƒï¼ˆæˆ–æœ€å¤§å…ƒï¼‰åœ¨å †ç©çš„æ ¹ä¸Šï¼ˆå †ç©åºæ€§ï¼‰ã€‚  æ‰€æœ‰çš„çˆ¶ç¯€é»éƒ½æ¯”å­ç¯€é»è¦å°ï¼Œç¨±ä½œ æœ€å°å †ç©ï¼ˆMin Heapï¼‰ æ‰€æœ‰çš„çˆ¶ç¯€é»éƒ½æ¯”å­ç¯€é»è¦å¤§ï¼Œç¨±ä½œ æœ€å¤§å †ç©ï¼ˆMax Heapï¼‰    1. Complete binary tree Complete treeï¼ŒæŒ‡çš„æ˜¯ä¸€æ£µäºŒå…ƒæ¨¹ä¸­ï¼Œé™¤äº†æœ€å¾Œä¸€å±¤ï¼Œå…¶é¤˜å±¤éƒ½æ˜¯æ»¿çš„äºŒå…ƒæ¨¹ï¼Œæœ€å¾Œä¸€éšå±¤çš„ç¯€é»å¿…é ˆç”±å·¦è‡³å³å¡«å…¥ã€‚\nè‹¥æ¨¹çš„æ·±åº¦ç‚º kï¼Œé‚£éº¼è‡³å°‘æœ‰ $2^{k}$ å€‹ç¯€é»ï¼Œæœ€å¤šæœ‰ $2^{k+1} - 1$å€‹ç¯€é»ã€‚\ngraph TB; A((A)) --- B((B)) \u0026amp; C((C)); B((B)) --- D((D)) é€™æ˜¯ä¸€æ£µæ·±åº¦ç‚º 2 çš„äºŒå…ƒæ¨¹ï¼Œå®ƒè‡³å°‘æœ‰ $2^{2} = 4$ çš„ç¯€é»ã€‚\n2. æœ€å°å †ç© æœ€å°å †ç©ï¼Œæ‰€æœ‰çš„çˆ¶ç¯€é»éƒ½æ¯”å­ç¯€é»è¦å°ã€‚\ngraph TB; A((1)) --- B((3)) \u0026amp; C((4)); B((3)) --- D((6)) \u0026amp; E((7)) 3. æœ€å¤§å †ç© æœ€å¤§å †ç©ï¼Œæ‰€æœ‰çš„çˆ¶ç¯€é»éƒ½æ¯”å­ç¯€é»è¦å¤§ã€‚\ngraph TB; A((7)) --- B((6)) \u0026amp; C((4)); B((6)) --- D((3)) \u0026amp; E((1)) å †ç©æ’åº å †ç©æ’åºï¼ˆHeap sortï¼‰ æ˜¯æŒ‡åˆ©ç”¨ å †ç© æ‰€è¨­è¨ˆçš„ä¸€ç¨®æ’åºæ¼”ç®—æ³•ã€‚å¯ä»¥çœ‹æˆæ˜¯ é¸æ“‡æ’åº çš„æ”¹è‰¯ç‰ˆã€‚\næµç¨‹ï¼š\n å…ˆå°‡è³‡æ–™å †ç©åŒ–ï¼ˆæœ€å¤§æˆ–æœ€å°ï¼‰ï¼› ç„¶å¾Œå°‡ç¬¬ä¸€å€‹å…ƒç´ èˆ‡æœ€å¾Œå…ƒç´ äº¤æ›ä½ç½®ï¼› é‡è¤‡ä¸Šè¿°æ­¥é©Ÿï¼Œç›´åˆ°æ’åºå®Œæˆã€‚  é€™è£¡æœ‰ä¸€çµ„æ•¸åˆ—è³‡æ–™ï¼š\nnums = [10, 50, 30, 60, 15, 40] å°‡ä»–è½‰æˆ Complete binary treeï¼Œçµæ§‹å¦‚ä¸‹ï¼š\ngraph TB; 0((10)) --- 1((50)) \u0026amp; 2((30)); 1((50)) --- 3((60)) \u0026amp; 4((15)); 2((30)) --- 5((40)); æ¥ä¸‹ä¾†æˆ‘å€‘è¦å°‡ Complete binary tree èª¿æ•´æˆå †ç©è³‡æ–™çµæ§‹ï¼Œå¦‚æœæ˜¯éå¢æ’åºæœƒèª¿æ•´æˆæœ€å¤§å †ç©ï¼Œéæ¸›æ’åºå‰‡èª¿æ•´æˆæœ€å°å †ç©ã€‚\nå…©è€…èª¿æ•´éç¨‹å·®ç•°ä¸å¤§ï¼Œé€™é‚Šå°±åªèªªæ˜å¦‚ä½•éå¢æ’åºã€‚\n1. å †ç©åŒ– é¦–å…ˆè¦å–å¾—æœ€å¾Œä¸€å€‹çˆ¶ç¯€é»ä½ç½®ï¼Œå¦‚æœç¯€é»æ•¸é‡ç‚º nï¼Œé‚£éº¼æœ€å¾Œä¸€å€‹çˆ¶ç¯€é»çš„ä½ç½®æœƒæ˜¯ n / 2ï¼ˆå–å•†ï¼‰ã€‚\nå¾æœ€å¾Œä¸€å€‹çˆ¶ç¯€é»é–‹å§‹ï¼Œç”±å³è‡³å·¦é–‹å§‹æ¯”è¼ƒå…¶å­ç¯€é»ï¼Œè‹¥å­ç¯€é»å€¼å¤§æ–¼çˆ¶ç¯€é»ï¼Œå‰‡ç›¸äº’å°èª¿ã€‚\n6 / 2 = 3ï¼Œå¾ç¬¬ä¸‰å€‹ä½ç½®çš„ç¯€é»é–‹å§‹ï¼š\n çˆ¶ç¯€é» 30  æ¯” 40 å°ï¼Œäº¤æ›ä½ç½®   çˆ¶ç¯€é» 50  50ã€60ã€15 ä¸‰è€…ä¹‹é–“å·¦å­ç¯€é»æœ€å¤§ï¼Œäº¤æ›ä½ç½®    graph TB; 0((10)) --- 1((50)) \u0026amp; 2((40)); 1((60)) --\u0026gt; 4((50)); 1((60)) --- 3((15)); 2((40)) --\u0026gt; 5((30)); æ¥ä¸‹ä¾†ï¼Œæå‡äº†ä¸€å±¤ï¼Œäº¤æ›å¾Œé‚„æœ‰å­ç¯€é»ï¼Œéœ€è¦ç¹¼çºŒå¾€ä¸‹æ¯”è¼ƒï¼š\n çˆ¶ç¯€é» 10  10ã€60ã€40 ä¸‰è€…ä¹‹é–“å·¦å­ç¯€é»æœ€å¤§ï¼Œäº¤æ›ä½ç½® 10ã€50ã€15 ä¸‰è€…ä¹‹é–“å·¦å­ç¯€é»æœ€å¤§ï¼Œäº¤æ›ä½ç½®    graph TB; 0((60)) --\u0026gt; 1((50)); 0((60)) --- 2((40)); 1((50)) --\u0026gt; 3((10)); 1((50)) --- 4((15)); 2((40)) --- 5((30)); 2. æ’åº å†ä¾†æ˜¯æ’åºå‹•ä½œï¼Œæˆ‘å€‘å°‡æœ€å¤§å †ç©çš„æœ€é ‚å±¤å…ƒç´ ï¼Œèˆ‡æœ€å¾Œä¸€å€‹å…ƒç´ äº¤æ›ä½ç½®ï¼š\ngraph TB; 0((30)) --- 1((50)) \u0026amp; 2((40)); 1((50)) --- 3((10)) \u0026amp; 4((15)); 2((40)) --- 5((60)); classDef sorted fill:#9dff96,stroke:#6afd5e; 5:::sorted; å¦‚æ­¤ä¸€ä¾†æˆ‘å€‘çš„éå¢æ’åºå°±å·²ç¶“æ’å¥½ä¸€å€‹å…ƒç´ äº†ï¼Œå› æ­¤å¯ä»¥å°‡å®ƒæ’é™¤ã€‚\næ¥ä¸‹ä¾†æˆ‘å€‘è¦ç¹¼çºŒç¶­æŒ æœ€å¤§å †ç©ï¼Œå› æ­¤è¦å†æ¬¡èª¿æ•´æ¨¹ï¼Œæœ€é ‚å±¤çš„å°±æœƒæ˜¯ç¬¬äºŒå¤§çš„ï¼š\ngraph TB; 0((50)) --- 1((30)) \u0026amp; 2((40)); 1((30)) --- 3((10)) \u0026amp; 4((15)); 2((40)) --- 5((60)); classDef sorted fill:#9dff96,stroke:#6afd5e; 5:::sorted; ä¸€æ¨£å°‡å®ƒèˆ‡æœ€å¾Œä¸€å€‹å…ƒç´ äº¤æ›ä½ç½®å¾Œæ’é™¤ï¼š\ngraph TB; 0((15)) --- 1((30)) \u0026amp; 2((40)); 1((30)) --- 3((10)) \u0026amp; 4((50)); 2((10)) --- 5((60)); classDef sorted fill:#9dff96,stroke:#6afd5e; 5:::sorted; 4:::sorted; æŒçºŒé‡è¤‡ä¸Šè¿°æ­¥é©Ÿï¼Œç›´åˆ°æ’åºå®Œæˆï¼š\ngraph TB; 0((10)) --- 1((15)) \u0026amp; 2((30)); 1((15)) --- 3((40)) \u0026amp; 4((50)); 2((30)) --- 5((60)); æ¼”ç®—æ³•å¯¦ä½œ 1. å°‡é™£åˆ—èª¿æ•´æˆæœ€å¤§å †ç© 1 2 3 4 5 6 7 8  function buildMaxHeap(arr) { let n = arr.length; const lastParent = Math.floor(n / 2) - 1; for (let i = lastParent; i \u0026gt;= 0; i--) { maxHeapify(arr, i, n); } }    å–å¾—æœ€å¾Œä¸€å€‹çˆ¶ç¯€é»ç´¢å¼•ä½ç½®ã€‚ å¾æœ€å¾Œä¸€å€‹çˆ¶ç¯€é–‹å§‹åŸ·è¡Œæœ€å¤§å †ç©èª¿æ•´æ“ä½œè‡³æ ¹ç¯€é»ã€‚  2. æœ€å¤§å †ç©èª¿æ•´æ“ä½œï¼š åƒæ•¸ï¼š\n arrï¼šå¾…æ’åºé™£åˆ—ã€‚ indexï¼šæª¢æŸ¥çš„èµ·å§‹ç´¢å¼•ä½ç½®ã€‚ heapSizeï¼šç›®å‰å †ç©å¤§å°ï¼Œå› ç‚ºæˆ‘å€‘ç›´æ¥åœ¨åŸé™£åˆ—ä¸Šæ“ä½œï¼Œå› æ­¤é€™æ˜¯ç”¨ä¾†åˆ¤æ–·ç›®å‰è¦èª¿æ•´çš„ç¯„åœã€‚  1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18  function maxHeapify(arr, index, heapSize) { const iLeft = 2 * index + 1; // 1  const iRight = iLeft + 1; // 2  let iMax = index; // 3  // 4  if (iLeft \u0026lt; heapSize \u0026amp;\u0026amp; arr[iMax] \u0026lt; arr[iLeft]) { iMax = iLeft; } if (iRight \u0026lt; heapSize \u0026amp;\u0026amp; arr[iMax] \u0026lt; arr[iRight]) { iMax = iRight; } // 5  if (iMax !== index) { swap(arr, iMax, index); maxHeapify(arr, iMax, heapSize); } }    å·¦å­ç¯€é»ä½ç½®ã€‚ å³å­ç¯€é»ä½ç½®ã€‚ ç´€éŒ„ç›®å‰æœ€å¤§ç¯€é»çš„ä½ç½®ï¼Œé è¨­ç‚ºç•¶å‰ç¯€é»ã€‚ é¦–å…ˆåˆ¤æ–·ç¯€é»ä½ç½®æ˜¯å¦æœ‰è¶…å‡ºå †ç©ç¯„åœï¼Œå†æ¯”è¼ƒæ˜¯å¦ç‚ºæœ€å¤§çš„ã€‚ å¦‚æœç›®å‰æœ€å¤§ç¯€é»çš„ä½ç½®ä¸ç­‰æ–¼ç•¶å‰ç¯€é»ä½ç½®ï¼Œè¡¨ç¤ºå·¦æˆ–å³å­ç¯€é»æ¯”è¼ƒå¤§ï¼Œå› æ­¤åŸ·è¡Œäº¤æ›æ“ä½œèˆ‡ç¹¼çºŒå¾€ä¸‹åŸ·è¡Œèª¿æ•´å‡½å¼ï¼ˆéè¿´æ“ä½œï¼‰ã€‚  é™£åˆ—äº¤æ›å‡½å¼ï¼š\n1 2 3 4 5  function swap(arr, a, b) { let temp = arr[a]; arr[a] = arr[b]; arr[b] = temp; }   ä¸Šé¢ç¨‹å¼ç¢¼ä½¿ç”¨äº†ä½¿ç”¨åˆ°äº†éè¿´æ“ä½œï¼Œé‚£éº¼ç•¶è³‡æ–™æ•¸é‡éå¸¸éå¸¸å¤§æ™‚ï¼Œå¾ˆå®¹æ˜“å°è‡´ å †ç–Šæº¢ä½ï¼Œå› æ­¤å¯ä»¥æ”¹å¯«ç”¨è¿­ä»£æ–¹å¼ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25  function maxHeapify(arr, index, heapSize) { let iLeft; let iRight; let iMax; let iCur = index; while (true) { iLeft = 2 * iCur + 1; iRight = iLeft + 1; iMax = iCur; if (iLeft \u0026lt; heapSize \u0026amp;\u0026amp; arr[iMax] \u0026lt; arr[iLeft]) { iMax = iLeft; } if (iRight \u0026lt; heapSize \u0026amp;\u0026amp; arr[iMax] \u0026lt; arr[iRight]) { iMax = iRight; } if (iMax === iCur) { break; } else { swap(arr, iMax, iCur); iCur = iMax; } } }   3. æ’åºæ“ä½œ 1 2 3 4 5 6 7 8 9 10 11  function heapSort(arr) { const n = arr.length; buildMaxHeap(arr); // 1  // 2  for (let i = n - 1; i \u0026gt; 0; i--) { swap(arr, 0, i); // 3  maxHeapify(arr, 0, i); // 4  } }    å°‡é™£åˆ—èª¿æ•´æˆæœ€å¤§å †ç©ï¼Œç¬¬ä¸€å€‹ç¯€é»å°‡æœƒæ˜¯å€¼æœ€å¤§çš„ã€‚ å°‡æœ€å¾Œä¸€å€‹ç¯€é»èˆ‡ç¬¬ä¸€å€‹ç¯€é»äº¤æ›ä½ç½®ï¼Œä¸¦é‡æ–°å°ç¬¬ä¸€å€‹ç¯€é»åŸ·è¡Œå †ç©èª¿æ•´æ“ä½œï¼ˆè¨˜å¾—ç§»é™¤å·²æ’åºå¥½ç¯€é»ï¼‰ã€‚ äº¤æ›å‡½å¼çš„ i æŒ‡çš„æ˜¯æœ€å¾Œä¸€å€‹ç¯€é»ä½ç½®ã€‚ èª¿æ•´æ“ä½œçš„ i æŒ‡çš„æ˜¯ç›®å‰å †ç©é•·åº¦ã€‚  åˆ†æ å †ç©æ’åº å¯ä»¥çœ‹æˆæ˜¯ é¸æ“‡æ’åº çš„æ”¹è‰¯ç‰ˆï¼Œåˆ©ç”¨ å †ç© é€™ç¨® åŠæ’åºï¼ˆpartially sortedï¼‰ çš„è³‡æ–™çµæ§‹è¼”åŠ©ä¸¦åŠ é€Ÿæ’åºã€‚ä¸»è¦é‹è¡Œæ™‚é–“ä¸»è¦æ˜¯æ¶ˆè€—åœ¨åˆå§‹å †ç©åŒ–èˆ‡é‡æ–°å †ç©åŒ–ä¸Šã€‚\n ä¸ç©©å®šæ’åº æ™‚é–“è¤‡é›œåº¦  æœ€ä½³ï¼š$O(n \\log n)$ æœ€å·®ï¼š$O(n \\log n)$ å¹³å‡ï¼š$O(n \\log n)$   ç©ºé–“è¤‡é›œåº¦ç‚ºï¼š$O(1)$ ","description":"å †ç©æ’åºï¼ˆHeap Sortï¼‰ å¯ä»¥çœ‹æˆæ˜¯ é¸æ“‡æ’åº çš„æ”¹è‰¯ç‰ˆæœ¬ã€‚","id":73,"section":"posts","tags":["æ’åºæ¼”ç®—æ³•","å †ç©æ’åº","w3HexSchool"],"title":"JavaScript å­¸æ¼”ç®—æ³•ï¼ˆåä¸‰ï¼‰- å †ç©æ’åº","uri":"https://chupai.github.io/posts/2006/sort_algorithm_heap_sort/"},{"content":"é€™é€±æ˜¯å…­è§’é¼ å¹´éµäººè³½ç¬¬äºŒåé€±ï¼Œç¶“å…¸çš„æ’åºæ¼”ç®—æ³•é‚„æœ‰ä¸€å€‹ å †ç©æ’åºï¼Œå†èªªæ˜å †ç©æ’åºå‰ï¼Œå…ˆä¾†çœ‹ä¹‹å‰é‚„æ²’æåˆ°çš„æ¨¹ç‹€è³‡æ–™çµæ§‹ï¼Œä¹‹å¾Œæ‰æ¯”è¼ƒå¥½ç†è§£ å †ç©æ’åºã€‚\n\ræ¨¹ï¼ˆTreeï¼‰ æ¨¹ï¼ˆTreeï¼‰ï¼Œæ˜¯ä¸€ç¨®æ¨¡æ“¬ç¾å¯¦ç”Ÿæ´»ä¸­çš„æ¨¹å¹¹å’Œæ¨¹æçš„è³‡æ–™çµæ§‹ã€‚å±¬æ–¼ä¸€ç¨®éšå±¤æ¶æ§‹çš„éç·šæ€§è³‡æ–™çµæ§‹ã€‚\nç”Ÿæ´»ä¸­å¸¸è¦‹æ¨¹ç‹€çµæ§‹è³‡æ–™ï¼Œä¾‹å¦‚ï¼šå®¶æ—æ—è­œã€æ±ºç­–æ¨¡å‹ã€æ·˜æ±°è³½æ¯”è³½åœ–ç­‰ç­‰ã€‚å°æ–¼å‰ç«¯å·¥ç¨‹å¸«ä¾†èªªï¼Œæˆ‘å€‘æœ€å¸¸æ“ä½œçš„ DOM å°±æ˜¯æ¨¹ç‹€çµæ§‹è³‡æ–™ã€‚\n1. æ¨¹çš„åŸºæœ¬è§€å¿µ åœ¨æ¨¹ç‹€çµæ§‹ä¸­çš„æœ€åŸºæœ¬å–®ä½ï¼Œç¨±ç‚º ç¯€é»ï¼ˆNodeï¼‰ï¼Œç¯€é»ä¹‹é–“çš„é€£çµå³æ¨¹çš„ åˆ†æ”¯ï¼ˆBranchï¼‰ã€‚\ngraph TB; A((A)) --- B((B)) \u0026amp; C((C)); æ¨¹çš„èµ·é»ç¨±ç‚º æ ¹ç¯€é»ï¼ˆRootï¼‰ï¼Œå…·æœ‰å”¯ä¸€æ€§ï¼Œä¾‹å¦‚ A å³æ ¹ç¯€é»ã€‚æ¨¹æ ¹å»¶å±•å‡ºå»å°±æ˜¯æ¨¹æï¼Œä¹Ÿå°±æ˜¯æ ¹ç¯€é»å¯ä»¥åˆ†æ”¯ 0 è‡³ n å€‹ç¯€é»ï¼Œåˆ†æ”¯å‡ºå»çš„ç¯€é»ç‚º å­ç¯€é»ï¼ˆChildï¼‰ã€‚\ngraph TB; A((A)) --- B((B)) \u0026amp; C((C)); B((B)) --- D((D)) \u0026amp; E((E)); C((C)) --- F((F)) \u0026amp; G((G)) \u0026amp; H((H)); F((F)) --- I((I)); H((H)) --- J((J)); J((J)) --- K((K)); åœ¨æ¨¹æä¸‹ä¸€æ¨£å¯ä»¥æ“æœ‰ä¸‹ä¸€å±¤æ¨¹æï¼ŒD å’Œ E ç‚º B çš„å­ç¯€é»ï¼ŒB ç‚º D å’Œ E çš„ çˆ¶ç¯€é»ï¼ˆParentï¼‰ã€‚B å’Œ E å› ç‚ºçˆ¶ç¯€é»ç›¸åŒï¼Œå…©è€…ç‚º å…„å¼Ÿç¯€é»ï¼ˆSiblingsï¼‰ã€‚å¾æ ¹ç¯€é»åˆ°æŸç¯€é» è·¯å¾‘ï¼ˆPathï¼‰ ä¸Šçš„æ‰€æœ‰ç¯€é»ï¨¦æ˜¯æ­¤ç¯€é»çš„ ç¥–å…ˆç¯€é»ï¼ˆAncestorï¼‰ï¼Œä¾‹å¦‚ K çš„ç¥–å…ˆç¯€é»å°±åŒ…å« Jã€Hã€Cã€Aã€‚åä¹‹ï¼ŒæŸç¯€é»åº•ä¸‹çš„æ‰€æœ‰ç¯€é»ç¨±ç‚º å¾Œä»£ç¯€é»ï¼ˆDescendantï¼‰ã€‚\nç¯€é»å’Œå…¶å­ç¯€é»å¯ä»¥æ§‹æˆ å­æ¨¹ï¼ˆSubtreeï¼‰ï¼Œä¾‹å¦‚ Bã€Dã€E å°±å½¢æˆä¸€æ£µå­æ¨¹ã€‚\næ²’æœ‰å­ç¯€é»çš„ç¯€é»ç¨±ç‚º è‘‰ç¯€é»ï¼ˆLeafï¼‰ æˆ– å¤–éƒ¨ç¯€é»ï¼ˆExternalï¼‰ï¼Œä¾‹å¦‚ Dã€Eã€Iã€Gã€Kã€‚å…¶é¤˜æœ‰å­ç¯€é»çš„ç¯€é»å‰‡ç¨±ä½œ åˆ†æ”¯ï¼ˆBranchï¼‰ç¯€é» æˆ– å…§éƒ¨ç¯€é»ï¼ˆInternalï¼‰ ï¼Œè€Œä¸€å€‹ç¯€é»æ“æœ‰çš„å­ç¯€é»æ•¸é‡ç¨±ä½œ åˆ†æ”¯åº¦ï¼ˆDegreeï¼‰ã€‚\nç¯€é»çš„ éšå±¤ï¼ˆLevelï¼‰ æ˜¯å¾æ ¹é–‹å§‹å®šç¾©èµ·ï¼Œæ ¹ç‚ºç¬¬ä¸€å±¤ï¼Œæ ¹çš„å­ç‚ºç¬¬äºŒå±¤ï¼Œä»¥æ­¤é¡æ¨ï¼Œä¾‹å¦‚æ ¹ç¯€é»æ–¼ 1 éšå±¤ï¼Œè€Œ D ä½æ–¼ 3 éšå±¤ã€‚\nç¯€é» æ·±åº¦ï¼ˆDepthï¼‰ ç‚ºä¸€å€‹ç¯€é»è‡³æ ¹ç¯€é»çš„è·é›¢ï¼Œä¾‹å¦‚æ ¹ç¯€é»çš„æ·±åº¦ç‚º 0ï¼ŒD çš„æ·±åº¦ç‚º 2ã€‚éšå±¤èˆ‡æ·±åº¦çš„é—œä¿‚ç‚ºï¼šLevel = Depth + 1ã€‚\nä¸€å€‹ç¯€é»è‡³æŸå€‹è‘‰ç¯€é»çš„æœ€é•·è·é›¢å‰‡ç¨±ä½œ ç¯€é»é«˜åº¦ï¼ˆHeight of nodeï¼‰ï¼Œä¾‹å¦‚ F çš„é«˜åº¦ç‚º 1ã€C çš„é«˜åº¦ç‚º 3ï¼Œæ‰€æœ‰è‘‰ç¯€é»çš„é«˜åº¦ç‚º 0ã€‚æ ¹ç¯€é»çš„é«˜åº¦ç­‰åŒ æ¨¹é«˜ï¼ˆHeight of treeï¼‰ï¼Œä¹Ÿç­‰åŒ æ¨¹çš„æ·±åº¦ï¼ˆDepth of treeï¼‰ã€‚\næ³¨æ„ï¼Œæœ‰éƒ¨åˆ†çš„æ–‡ç»æœƒå°‡æ ¹ç¯€é»çš„ éšå±¤ï¼ˆLevelï¼‰ å®šç¾©ç‚º 0ï¼Œä¹Ÿå°±æ˜¯ç­‰åŒæ–¼ æ·±åº¦ï¼ˆDepthï¼‰ã€‚\r 2. æ¨¹çš„ç‰¹é» æ¨¹æ˜¯ç”±ä¸€å€‹æˆ–å¤šå€‹ç¯€é»æ‰€çµ„æˆçš„æœ‰é™é›†åˆï¼Œä¸¦ä¸”æœ‰ä»¥ä¸‹ç‰¹é»ï¼š\n å­˜åœ¨ä¸”åªæœ‰ä¸€å€‹ æ ¹ç¯€é»ï¼ˆRootï¼‰ï¼› æ¨¹è£¡é¢ä¸å­˜åœ¨ ç’°è·¯ï¼ˆCycleï¼‰ï¼Œè‹¥è¦å°‹æ‰¾ç‰¹å®šç¯€é»ï¼Œåªå­˜åœ¨ä¸€æ¢ è·¯å¾‘ï¼ˆPathï¼‰ï¼› é™¤äº†æ ¹ç¯€é»å¤–ï¼Œæ¯å€‹ç¯€é»åªæœƒæœ‰ä¸€å€‹ çˆ¶ç¯€é»ï¼ˆParentï¼‰ã€‚ é™¤äº†æ ¹ç¯€é»å¤–ï¼Œæ¯å€‹å­ç¯€é»å¯ä»¥åˆ†ç‚ºå¤šå€‹ä¸ç›¸äº¤çš„å­æ¨¹ã€‚  ç’°è·¯ï¼ˆCycleï¼‰ï¼ŒæŒ‡çš„æ˜¯æ¨¹åœ¨å„ç¯€é»ä¹‹é–“ï¥§å¯ä»¥æœ‰è¿´åœˆï¼Œæˆ–ï¥§ï¦šçµçš„å·¦ã€å³å­æ¨¹ã€‚\n3. æ¨¹çš„ç¨®é¡ é™¤éç‰¹åˆ¥æŒ‡æ˜ï¼Œä¸€èˆ¬çš„æ¨¹éƒ½æ˜¯ æœ‰åºæ¨¹ï¼ˆOrderedTreeï¼‰ï¼Œæ˜¯æŒ‡æ¨¹ä¸­ä»»æ„ç¯€é»çš„å­ç¯€é»ä¹‹é–“æœ‰é †åºé—œä¿‚ï¼Œæ¯å€‹çµé»çš„å„å­æ¨¹çœ‹æˆæ˜¯å¾å·¦åˆ°å³æœ‰æ¬¡åºçš„ï¼ˆå³ä¸èƒ½äº’æ›ï¼‰ï¼Œå¸¸è¦‹çš„æœ‰ä»¥ä¸‹å¹¾ç¨®ï¼š\n äºŒå…ƒæ¨¹ï¼ˆBinary treeï¼‰ äºŒå…ƒæœå°‹æ¨¹ï¼ˆBinary Search Treeï¼‰ AVL-Tree ç´…é»‘æ¨¹ï¼ˆRedâ€“black treeï¼‰  å¦å¤–é‚„æœ‰ ç„¡åºæ¨¹ï¼ˆUnoderedTreeï¼‰ï¼Œåˆç¨±ã€Œè‡ªç”±æ¨¹ã€ï¼Œæ¨¹ä¸­ä»»æ„ç¯€é»çš„å­ç¯€é»ä¹‹é–“æ²’æœ‰é †åºé—œä¿‚ã€‚\nä»€éº¼æ˜¯äºŒå…ƒæ¨¹ æ¨¹ä¾ä¸åŒåˆ†æ”¯åº¦ï¼ˆDegreeï¼‰å¯ä»¥å€åˆ†ç¨‹å¾ˆå¤šç¨®ï¼Œåœ¨è³‡æ–™çµæ§‹ä¸­ï¼Œæœ€å»£æ³›ä½¿ç”¨çš„æ¨¹ç‹€çµæ§‹å°±æ˜¯ äºŒå…ƒæ¨¹ï¼ˆBinary treeï¼‰ã€‚\näºŒå…ƒæ¨¹ï¼ˆBinary treeï¼‰ï¼Œç°¡å–®ä¾†èªªå°±æ˜¯é™åˆ¶æ¯å€‹ç¯€é»æœ€å¤šåªèƒ½æœ‰å…©å€‹çš„å­ç¯€é»ï¼Œä¹Ÿå°±æ˜¯ç¯€é»åˆ†æ”¯åº¦åªèƒ½å°æ–¼ç­‰æ–¼ 2ã€‚\näºŒå…ƒæ¨¹ç‰¹é»ï¼š\n å¯ä»¥ç‚ºç©ºé›†åˆï¼› åˆ†æ”¯åº¦åªèƒ½å°æ–¼ç­‰æ–¼ 2ï¼› å­æ¨¹æœ‰å·¦ã€å³æ–¹å‘çš„åˆ†åˆ¥ã€‚  1. å·¦å­æ¨¹èˆ‡å³å­æ¨¹ éç©ºé›†åˆçš„äºŒå…ƒæ¨¹ç”±ä¸‰å€‹å…ƒç´ çµ„åˆï¼š\n æ ¹ç¯€é»ï¼ˆRootï¼‰ å·¦å­æ¨¹ï¼ˆLeft Subtreeï¼‰ å³å­æ¨¹ï¼ˆRight Subtreeï¼‰  graph TB; A((A)) --- B((B)) \u0026amp; C((C)); subgraph Right Subtree C((C)) --- F((F)) \u0026amp; G((G)); G((G)) --- H((H)) \u0026amp; I((I)); end subgraph Left Subtree B((B)) --- D((D)) \u0026amp; E((E)); end 2. æ­ªæ–œæ¨¹ æ­ªæ–œæ¨¹ï¼ˆSkewed Treeï¼‰ï¼ŒæŒ‡ä¸€æ£µæ¨¹å®Œå…¨æ²’æœ‰å·¦æˆ–å³å…¶ä¸­ä¸€é‚Šç¯€é»çš„äºŒå…ƒæ¨¹ï¼Œå¦‚æœé›†ä¸­å·¦é‚Šç¨±ä½œã€Œå·¦æ­ªæ–œæ¨¹ã€ï¼Œåä¹‹é›†ä¸­å³é‚Šç¨±ä½œã€Œå³æ­ªæ–œæ¨¹ã€ã€‚\ngraph TB; classDef transparent fill:transparent,stroke:transparent,color:transparent; A((A)) --- B((B)) \u0026amp; B2((B2)); B((B)) --- C((C)) \u0026amp; C2((C2)); B2((B2)):::transparent; C2((C2)):::transparent; 3. Strictly binary tree Strictly binary treeï¼ŒæŒ‡çš„æ˜¯æ¯å€‹ç¯€é»çš„å­ç¯€é»åªèƒ½æ˜¯ 0 æˆ– 2 çš„äºŒå…ƒæ¨¹ï¼Œç°¡å–®ä¾†èªªå°±æ˜¯ã€Œé™¤äº†è‘‰ç¯€é»ä»¥å¤–ï¼Œæ¯å€‹ç¯€é»éƒ½æœ‰å…©å€‹å­ç¯€é»ã€ã€‚\ngraph TB; A((A)) --- B((B)) \u0026amp; C((C)); B((B)) --- D((D)) \u0026amp; E((E)); 4. Perfect binary tree Perfect binary treeï¼ŒæŒ‡çš„æ˜¯æ¯ä¸€å±¤ä¸Šçš„ç¯€é»æ•¸éƒ½æ˜¯æœ€å¤§ç¯€é»çš„äºŒå…ƒæ¨¹ã€‚ä¸€æ£µæ·±åº¦ç‚º k çš„æ¨¹ï¼Œå®ƒçš„ç¸½ç¯€é»æ•¸é‡ç‚º $2^{k+1} - 1$ã€‚ç‰¹é»æ˜¯\ngraph TB; A((A)) --- B((B)) \u0026amp; C((C)); B((B)) --- D((D)) \u0026amp; E((E)); C((C)) --- F((F)) \u0026amp; G((G)); é€™æ˜¯ä¸€æ£µæ·±åº¦ç‚º 2 çš„æ¨¹ï¼Œå®ƒçš„ç¸½ç¯€é»æ•¸é‡ç‚º $2^{2+1} - 1 = 7$ã€‚\n5. Complete binary tree Complete treeï¼ŒæŒ‡çš„æ˜¯ä¸€æ£µäºŒå…ƒæ¨¹ä¸­ï¼Œé™¤äº†æœ€å¾Œä¸€å±¤ï¼Œå…¶é¤˜å±¤éƒ½æ˜¯æ»¿çš„äºŒå…ƒæ¨¹ï¼Œæœ€å¾Œä¸€éšå±¤çš„ç¯€é»å¿…é ˆç”±å·¦è‡³å³å¡«å…¥ã€‚\nè‹¥æ¨¹çš„æ·±åº¦ç‚º kï¼Œé‚£éº¼è‡³å°‘æœ‰ $2^{k}$ å€‹ç¯€é»ï¼Œæœ€å¤šæœ‰ $2^{k+1} - 1$å€‹ç¯€é»ã€‚\ngraph TB; A((A)) --- B((B)) \u0026amp; C((C)); B((B)) --- D((D)) é€™æ˜¯ä¸€æ£µæ·±åº¦ç‚º 2 çš„æ¨¹ï¼Œå®ƒè‡³å°‘æœ‰ $2^{2} = 4$ çš„ç¯€é»ã€‚\n6. Full Binary tree Full Binary tree å®šç¾©åŸºæœ¬ä¸Šç­‰åŒæ–¼ Strictly binary treeã€‚ä½†ä¸­æ–‡è³‡æ–™å°æ–¼ Full Binary tree çš„å®šç¾©ï¼Œå¤§å¤šæ•¸ç­‰åŒ Perfect binary treeã€‚é—œæ–¼é€™éƒ¨åˆ†çš„å·®ç•°æˆ‘å°±ä¸çŸ¥é“ç‚ºä»€éº¼äº†ã€‚\näºŒå…ƒæ¨¹çš„è¡¨ç¤ºæ³• äºŒå…ƒæ¨¹åœ¨å¯¦ä½œä¸Šæœ‰å¤šç¨®æ–¹æ³•å¯ä»¥å»ºï§·ï¼Œä»¥ä¸‹ç°¡å–®èªªæ˜æœ€å¸¸è¦‹çš„å…©ç¨®æ–¹å¼ã€‚\n1. é™£åˆ—è¡¨ç¤ºæ³• ä½¿ç”¨ä¸€ç¶­é™£åˆ—å„²å­˜ï¼Œå°‡äºŒå…ƒæ¨¹çš„ç¯€é»æ ¹æ“šå…¬å¼ä¾åºæ”¾åœ¨å°æ‡‰çš„é™£åˆ—ç´¢å¼•ï¼š\n æ ¹ç¯€é»æ”¾åœ¨é™£åˆ—ç´¢å¼•ä½ç½® 0ã€‚ è‹¥ç¯€é»ç´¢å¼•ç‚º iï¼š  ç¯€é»çš„å·¦å­ç¯€é»ï¼Œæ”¾åœ¨é™£åˆ—ç´¢å¼•ä½ç½® (2 * i) + 1ã€‚ ç¯€é»çš„å³å­ç¯€é»ï¼Œæ”¾åœ¨é™£åˆ—ç´¢å¼•ä½ç½® (2 * i) + 2ã€‚ è‹¥ç¯€é»ä¸ç‚ºæ ¹ç¯€é»ï¼Œç¯€é»çš„çˆ¶ç¯€é»æ”¾åœ¨é™£åˆ—ç´¢å¼•ä½ç½® (i - 1) / 2ï¼ˆå–å•†ï¼‰ã€‚    ä»¥ä¸€æ£µæ·±åº¦ç‚º 2 çš„ Perfect binary tree ç‚ºä¾‹ï¼š\ngraph TB; A((A)) --- B((B)) \u0026amp; C((C)); B((B)) --- D((D)) \u0026amp; E((E)); C((C)) --- F((F)) \u0026amp; G((G));    é™£åˆ—ç´¢å¼• 0 1 2 3 4 5 6     ç¯€é» A B C D E F G    B ç¯€é»çš„ç´¢å¼•ç‚º 1ï¼š\n å·¦å­ç¯€é»ï¼ˆï¼¤ï¼‰çš„ç´¢å¼•ä½ç½®ç‚º 2 * 1 + 1 = 3 å³å­ç¯€é»ï¼ˆEï¼‰çš„ç´¢å¼•ä½ç½®ç‚º 2 * 2 + 2 = 4 çˆ¶ç¯€é»ï¼ˆAï¼‰çš„ç´¢å¼•ä½ç½®ç‚º (2 - 1) / 2 = 0  é™£åˆ—è¡¨ç¤ºæ³•é©åˆç”¨ä¾†å„²å­˜ Perfect binary treeï¼Œå¯ä»¥å¿«é€Ÿå°‹æ‰¾å·¦å³å­ç¯€é»å’Œçˆ¶ç¯€é»ï¼Œä½†ç¼ºé»ä¹Ÿå¾ˆæ˜é¡¯ï¼š\n ç•¶äºŒå…ƒæ¨¹ç¨€ç–æˆ–ä¸å¹³è¡¡æ™‚ï¼Œå³ä½¿ç¯€é»ä¸å­˜åœ¨ï¼Œä»ç„¶æœƒä¿ç•™å°æ‡‰çš„é™£åˆ—ç´¢å¼•ä½ç½®ï¼Œå› æ­¤æœƒé€ æˆé–’ç½®çš„ç©ºé–“é…ç½®ã€‚ è‹¥å¢åŠ æˆ–åˆªé™¤ç¯€é»æ™‚ï¼Œéœ€è¦ç§»å‹•å¤šå€‹ç¯€é»ã€‚  2. éˆçµä¸²åˆ—è¡¨ç¤ºæ³• éˆçµä¸²åˆ—è¡¨ç¤ºæ³•æ˜¯ç”¨ä¸€å€‹ç¯€é»çµæ§‹è¡¨ç¤ºæ¨¹ä¸Šçš„æ¯å€‹ç¯€é»ï¼Œçµæ§‹å…§é™¤äº†å„²å­˜è©²ç¯€é»æœ¬èº«çš„å€¼ï¼Œå¦å¤–æœ‰å…©å€‹ æŒ‡æ¨™ï¼ˆPointerï¼‰ï¼Œåˆ†åˆ¥æŒ‡å‘ç¯€é»çš„å·¦å­ç¯€é»å’Œå³å­ç¯€é»ï¼Œæ²’æœ‰å­ç¯€é»å‰‡æŒ‡å‘ nullã€‚\n   æŒ‡æ¨™ è³‡æ–™ æŒ‡æ¨™     left data right    éˆçµä¸²åˆ—è¡¨ç¤ºæ³•ï¼Œç¯€é»æ–°å¢æˆ–åˆªé™¤å®¹æ˜“æ“ä½œï¼Œä½†å°‹æ‰¾çˆ¶ç¯€é»è¼ƒä¸æ˜“ï¼Œè€Œä¸”ç•¶äºŒå…ƒæ¨¹ç¨€ç–æˆ–ä¸å¹³è¡¡æ™‚ï¼Œå°±æœƒæµªè²»æŒ‡æ¨™ç©ºé–“ã€‚\näºŒå…ƒæ¨¹çš„èµ°è¨ª äºŒå…ƒæ¨¹çš„èµ°è¨ªï¼ˆBinary tree traversalï¼‰ï¼Œèµ°è¨ªï¼ˆTraversalï¼‰ æˆ–ç¨±ä½œ éæ­·ã€æœå°‹ï¼ˆSearchï¼‰ï¼Œç°¡å–®ä¾†èªªå°±æ˜¯è¨ªå•æ¨¹ä¸­çš„æ¯å€‹ç¯€é»ï¼Œä¸¦åŸ·è¡Œç‰¹å®šçš„æ“ä½œï¼ˆå¯èƒ½æ˜¯æª¢æŸ¥å€¼ã€æ›´æ–°ã€åˆªé™¤ç­‰ç­‰ï¼‰ã€‚\näºŒå…ƒæ¨¹çš„èµ°è¨ªæ–¹å¼æœ‰å…©ç¨®ï¼š\n æ·±åº¦å„ªå…ˆæœå°‹ï¼ˆDepth-first Searchï¼ŒDFSï¼‰\nç”±æ ¹ç¯€é»å‡ºç™¼ï¼Œé¸æ“‡æŸä¸€å­æ¨¹ä¸¦ä»¥å‚ç›´æ–¹å‘ç”±ä¸Šåˆ°ä¸‹è™•ç†ï¼Œå°‡å…¶å¾Œä»£ç¯€é»è¨ªå•å®Œå¾Œï¼Œå†é¸æ“‡å¦ä¸€å­æ¨¹éè¿´åœ°è™•ç†ã€‚ å»£åº¦å„ªå…ˆæœå°‹ï¼ˆBreath-first Searchï¼ŒBFSï¼‰\nç”±æ ¹ç¯€é»å‡ºç™¼ï¼Œä»¥æ°´å¹³æ–¹å‘ç”±å·¦åˆ°å³è™•ç†ï¼Œå°‡åŒéšå±¤çš„å…„å¼Ÿç¯€é»è¨ªå•å®Œç•¢å¾Œï¼Œæ¥çºŒè™•ç†ä¸‹ä¸€æ¥å±¤çš„æ‰€æœ‰ç¯€é»ã€‚  DFS - å‰åºï¼š\nBFSï¼š\n1. æ·±åº¦å„ªå…ˆæœå°‹ DFS èµ°è¨ªä¸€å€‹ç¯€é»æœ‰ä¸‰å€‹å‹•ä½œï¼š\n ï¼ˆLï¼‰èµ°è¨ªå·¦å­æ¨¹ ï¼ˆRï¼‰èµ°è¨ªå³å­æ¨¹ ï¼ˆNï¼‰è¨ªå•ç•¶å‰ç¯€é»  graph TB; N((N)) --- L((L)) \u0026amp; R((R)); é€™ä¸‰å€‹å‹•ä½œæ ¹æ“šåŸ·è¡Œé †åºï¼Œä¸€å…±æœƒæœ‰ 3! = 6 ç¨®çµ„åˆï¼šNLRã€NRLã€LNRã€LRNã€RNLã€RLNã€‚é™åˆ¶åªèƒ½å…ˆèµ°å·¦å­æ¨¹ã€å†èµ°å³å­æ¨¹ï¼Œå› æ­¤åªæœƒå‰©ä¸‹ä¸‰ç¨®çµ„åˆï¼šNLRã€LNRã€LRNã€‚\næ‰€ä»¥ï¼ŒDFS æ ¹æ“šè¨ªå•ç¯€é»çš„é †åºä¸åŒï¼Œæœ‰ä»¥ä¸‹ä¸‰ç¨®é¡å‹ï¼š\n å‰åºï¼ˆPreorderï¼‰ ä¸­åºï¼ˆInorderï¼‰ å¾Œåºï¼ˆPostorderï¼‰  graph TB; 1((1)) --- 2((2)) \u0026amp; 3((3)); 2((2)) --- 4((4)) \u0026amp; 5((5)); 3((3)) --- 6((6)) \u0026amp; 7((7)); 4((4)) --- 8((8)); ä»¥ä¸­åº LNR ç‚ºä¾‹ï¼ŒåŸ·è¡Œå‹•ä½œé †åºï¼š\n ï¼ˆLï¼‰èµ°è¨ªå·¦å­æ¨¹ ï¼ˆNï¼‰è¨ªå•ç•¶å‰ç¯€é» ï¼ˆRï¼‰èµ°è¨ªå³å­æ¨¹  å¾æ ¹ç¯€é» 1 èµ·æ­¥ èµ°è¨ª 1 å·¦æ¨¹ï¼Œ2 èµ°è¨ª 2 å·¦æ¨¹ï¼Œ4 èµ°è¨ª 4 å·¦æ¨¹ï¼Œ8 èµ°è¨ª 8 å·¦æ¨¹ï¼Œç©ºå­æ¨¹ è¨ªå•ï¼š8 èµ°è¨ª 8 å³æ¨¹ï¼Œç©ºå­æ¨¹ è¨ªå•ï¼š4 èµ°è¨ª 4 å³æ¨¹ï¼Œç©ºå­æ¨¹ è¨ªå•ï¼š2 èµ°è¨ª 2 å³æ¨¹ï¼Œ5 èµ°è¨ª 5 å·¦æ¨¹ï¼Œç©ºå­æ¨¹ è¨ªå•ï¼š5 èµ°è¨ª 5 å³æ¨¹ï¼Œç©ºå­æ¨¹ è¨ªå•ï¼š1 èµ°è¨ª 1 å³æ¨¹ï¼Œ3 èµ°è¨ª 3 å·¦æ¨¹ï¼Œ6 èµ°è¨ª 6 å·¦æ¨¹ï¼Œç©ºå­æ¨¹ è¨ªå•ï¼š6 èµ°è¨ª 6 å³æ¨¹ï¼Œç©ºå­æ¨¹ è¨ªå•ï¼š3 èµ°è¨ª 3 å³æ¨¹ï¼Œ7 èµ°è¨ª 7 å·¦æ¨¹ï¼Œç©ºå­æ¨¹ è¨ªå•ï¼š7 èµ°è¨ª 7 å³æ¨¹ï¼Œç©ºå­æ¨¹ æ ¹æ“šèµ°è¨ªéç¨‹ï¼Œæ­¤ä¸­åºèµ°è¨ªçµæœç‚ºï¼š8 4 2 5 1 6 3 7  å‰åº NLRï¼š  åŸ·è¡Œé †åºï¼š1 2 4 8 5 3 6 7   ä¸­åº LNRï¼š  åŸ·è¡Œé †åºï¼š8 4 2 5 1 6 3 7   å¾Œåº LRNï¼š  åŸ·è¡Œé †åºï¼š8 4 5 2 6 7 3 1    DFS é€šå¸¸æœƒä½¿ç”¨ éè¿´ï¼ˆRecursionï¼‰ æˆ– å †ç–Šï¼ˆStackï¼‰ å¯¦ä½œã€‚\n2. å»£åº¦å„ªå…ˆæœå°‹ BFS å’Œæ·±åº¦å„ªå…ˆæœå°‹ä¸åŒï¼Œå»£åº¦å„ªå…ˆæœå°‹æœƒå…ˆè¨ªå•é›¢æ ¹ç¯€é»æœ€è¿‘çš„ç¯€é»ã€‚ä¹Ÿå°±æ˜¯å®ƒæœƒç”±ä¸Šè€Œä¸‹ï¼Œä¸¦åœ¨åŒä¸€å€‹éšå±¤ï¼Œç”±å·¦è‡³å³ä¾åºè¨ªå•ç¯€é»ï¼Œå› æ­¤åˆç¨±ä½œ å±¤åºèµ°è¨ªï¼ˆLevelorder Traversalï¼‰ã€‚\nDFS é€šå¸¸æœƒä½¿ç”¨ ä½‡åˆ—ï¼ˆQueueï¼‰ å¯¦ä½œã€‚\nç¸½çµ ç°¡å–®ç´€éŒ„æ¨¹èˆ‡äºŒå…ƒæ¨¹çš„æ¦‚å¿µï¼Œä¸‹é€±æœƒå…ˆèªªæ˜å †ç©æ’åºï¼Œè€Œæ¨¹çš„å¯¦ä½œéƒ¨åˆ†å‰‡å†ä¹‹å¾Œæœƒä½¿ç”¨äºŒå…ƒæœå°‹æ¨¹ä¾†èªªæ˜ã€‚\n","description":"å†èªªæ˜å †ç©æ’åºå‰ï¼Œå…ˆä¾†çœ‹ä¹‹å‰é‚„æ²’æåˆ°çš„æ¨¹ç‹€è³‡æ–™çµæ§‹ã€‚","id":74,"section":"posts","tags":["è³‡æ–™çµæ§‹","æ¨¹","äºŒå…ƒæ¨¹","w3HexSchool"],"title":"JavaScript å­¸æ¼”ç®—æ³•ï¼ˆåäºŒï¼‰- æ¨¹ \u0026 äºŒå…ƒæ¨¹","uri":"https://chupai.github.io/posts/2006/ds_tree_and_binary_tree/"},{"content":"é€™é€±æ˜¯å…­è§’é¼ å¹´éµäººè³½ç¬¬åä¹é€±ï¼Œé€™é€±ä¾†èªªæ˜ å¸Œçˆ¾æ’åºï¼ˆShell Sortï¼‰ã€‚\n\rå¸Œçˆ¾æ’åºï¼ˆShell Sortï¼‰ å¸Œçˆ¾æ’åºï¼ˆShell Sortï¼‰ï¼Œä¹Ÿç¨± éæ¸›å¢é‡æ’åºï¼Œæ˜¯ æ’å…¥æ’åº çš„ä¸€ç¨®æ›´é«˜æ•ˆçš„æ”¹é€²ç‰ˆæœ¬ï¼Œç‚ºä¸ç©©å®šæ’åºã€‚\næ’å…¥æ’åºï¼ˆInsertion Sortï¼‰ çš„å…©é»ç‰¹æ€§ï¼š\n åœ¨å·²ç¶“æ’å¥½åºçš„è³‡æ–™æ“ä½œæ™‚ï¼Œæ˜¯æ•ˆç‡é«˜çš„ï¼Œå³å¯ä»¥é”åˆ° $O(n)$ã€‚ ä½†ä¸€èˆ¬æƒ…æ³æ˜¯ä½æ•ˆï¼Œæ¯æ¬¡åªèƒ½å°‡è³‡æ–™ç§»å‹•ä¸€ä½ã€‚  è€Œ å¸Œçˆ¾æ’åº æ˜¯åœ¨ æ’å…¥æ’åº åŸºç¤ä¸Šæ·»åŠ äº† é–“éš”é•·åº¦ï¼ˆgapï¼‰ çš„æ¦‚å¿µï¼Œä½¿å¾— æ’å…¥æ’åº å¯ä»¥åˆ†çµ„åŸ·è¡Œï¼Œä¸¦ä¸”è³‡æ–™çš„ç§»å‹•è·é›¢å¯ä»¥å¤§æ–¼ä¸€ã€‚\nå…¶æ¦‚å¿µç‚ºï¼Œå°‡æ•´å€‹é™£ä¾ç…§é å…ˆæŒ‡å®šçš„ gapï¼Œäº¤éŒ¯åˆ†å‰²æˆæ•¸å€‹å°é™£åˆ—ï¼Œä¸¦ä»¥æ’å…¥æ’åºçš„æ–¹å¼å°‡é€™äº›å°é™£åˆ—å€‹åˆ¥æ’åºï¼Œç„¶å¾Œé€æ¼¸ç¸®å° gapï¼Œç›´åˆ° gap ç­‰æ–¼ 1ã€‚æ­¤æ™‚å†ä½œæœ€å¾Œä¸€æ¬¡æ’å…¥æ’åºã€‚\nèˆ‰ä¾‹ï¼š\nnums = [9, 8, 7, 6, 5, 4, 3, 2, 1] gap = 3 9 8 7 6 5 4 3 2 1 9 6 3 =\u0026gt; 3 6 9 8 5 2 =\u0026gt; 2 5 8 7 4 1 =\u0026gt; 1 4 7 3 2 1 6 5 4 9 8 7 gap = 2 3 2 1 6 5 4 9 8 7 3 1 5 9 7 =\u0026gt; 1 3 5 7 9 2 6 4 8 =\u0026gt; 2 4 6 8 1 2 3 4 5 6 7 8 9 gap = 1 1 2 3 4 5 6 7 8 9 =\u0026gt; 1 2 3 4 5 6 7 8 9 æ¼”ç®—æ³•å¯¦ä½œ é€™æ˜¯åŸºæœ¬çš„æ’å…¥æ’åºï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13  function insertionSort(arr) { const n = arr.length; for (let i = 1; i \u0026lt; n; i++) { const temp = arr[i]; let j = i; while (j \u0026gt; 0 \u0026amp;\u0026amp; temp \u0026lt; arr[j - 1]) { arr[j] = arr[j - 1]; j -= 1; } arr[j] = temp; } return arr; }   å¸Œçˆ¾æ’åºçš„è¨­è¨ˆè€… Donald Shell æœ€åˆå»ºè­°é¸æ“‡ gap = n / 2 æ¯”è¼ƒå¥½ç†è§£ã€‚\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19  function shellSort(arr) { const n = arr.length; let gap = Math.floor(n / 2); while (gap \u0026gt; 0) { // èˆ‡æ’å…¥æ’åºæ¥µç‚ºç›¸ä¼¼  for (let i = gap; i \u0026lt; n; i++) { const temp = arr[i]; let j = i; while (j \u0026gt;= gap \u0026amp;\u0026amp; temp \u0026lt; arr[j - gap]) { arr[j] = arr[j - gap]; j -= gap; } arr[j] = temp; } gap = Math.floor(gap / 2); // ç¸®å°é–“éš”é•·åº¦  } return arr; }   ç°¡æ˜“åŸ·è¡Œæ™‚é–“æ¯”è¼ƒï¼š\nSee the Pen Shell Sort by Chupai@Design (@chupai) on CodePen.  å„ªåŒ–é–“éš”é•·åº¦ é–“éš”é•·åº¦çš„é¸æ“‡æ˜¯æ˜¯å¸Œçˆ¾æ’åºçš„é‡è¦éƒ¨åˆ†ã€‚\nå¸Œçˆ¾æ’åºçš„æ™‚é–“è¤‡é›œåº¦ä¸å®¹æ˜“è¨ˆç®—ï¼Œå› ç‚ºæœƒæ ¹æ“šé–“è·å€¼ä¾†æ±ºå®šã€‚\n ä½¿ç”¨æœ€å·®çš„é–“è·ï¼Œæœ€å·®æ™‚é–“è¤‡é›œåº¦ï¼š$O(n^2)$ ä½¿ç”¨æœ€ä½³çš„é–“è·ï¼Œæœ€ä½³æ™‚é–“è¤‡é›œåº¦ï¼š$O(n \\log n)$ å¹³å‡è¤‡é›œæœƒæ ¹æ“šé–“è·å€¼ä¾†æ±ºå®š ç©ºé–“è¤‡é›œåº¦ç‚ºï¼š $O(1)$  æœ€ä½³çš„é–“éš”é•·åº¦æ˜¯é€éè¤‡é›œçš„æ•¸å­¸å…¬å¼æ‰€è¨ˆç®—å‡ºä¾†çš„ï¼Œè€Œä¸”æœƒæ ¹æ“šè³‡æ–™å¤§å°ï¼Œè€Œæœ‰æ‰€ä¸åŒã€‚é€™è£¡ä¸åšæ·±ç©¶ï¼Œç›¸é—œç´°ç¯€å¯åƒè€ƒ wikipediaã€‚\næˆ‘å€‘ä»¥æœ€å¸¸è¦‹çš„ Marcin Ciura ç‚ºä¾‹ã€‚\nå®šç¾©é–“éš”é•·åº¦å¸¸æ•¸ï¼Œä¸¦åœ¨åŸ·è¡Œæ’åºæ™‚å‚³å…¥ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21  const CIURA_GAPS = [1750, 701, 301, 132, 57, 23, 10, 4, 1]; function shellSort(arr, gaps) { const n = arr.length; for (let gap of gaps) { for (let i = gap; i \u0026lt; n; i++) { const temp = arr[i]; let j = i; while (j \u0026gt;= gap \u0026amp;\u0026amp; temp \u0026lt; arr[j - gap]) { arr[j] = arr[j - gap]; j -= gap; } arr[j] = temp; } } return arr; } shellSort(arr, CIURA_GAPS);   ","description":"å¸Œçˆ¾æ’åºï¼ˆShell Sortï¼‰ æ˜¯æ’å…¥æ’åºçš„ä¸€ç¨®æ›´é«˜æ•ˆçš„æ”¹é€²ç‰ˆæœ¬ã€‚","id":75,"section":"posts","tags":["æ’åºæ¼”ç®—æ³•","å¸Œçˆ¾æ’åº","w3HexSchool"],"title":"JavaScript å­¸æ¼”ç®—æ³•ï¼ˆåä¸€ï¼‰- å¸Œçˆ¾æ’åº","uri":"https://chupai.github.io/posts/2006/sort_algorithm_shell_sort/"},{"content":"é€™é€±æ˜¯å…­è§’é¼ å¹´éµäººè³½ç¬¬åå…«é€±ï¼Œé€™é€±ç°¡å–®èªªæ˜ å¿«é€Ÿæ’åºï¼ˆQuick Sortï¼‰ã€‚\n\rå¿«é€Ÿæ’åºï¼ˆQuick Sortï¼‰ å¿«é€Ÿæ’åºï¼ˆQuick Sortï¼‰ æ˜¯å¯¦ç”¨æ€§å¾ˆé«˜çš„æ’åºæ³•ï¼Œèˆ‡åˆä½µæ’åºä¸€æ¨£æ˜¯ä½¿ç”¨ åˆ†æ²»æ³• çš„æ‡‰ç”¨ã€‚\næ“ä½œæµç¨‹ï¼š\n å¿«é€Ÿæ’åºæ˜¯å¾æ•¸åˆ—ä¸­éš¨æ©Ÿé¸æ“‡ä¸€å€‹æ•¸ä½œç‚º åŸºæº–ï¼ˆpivotï¼‰ã€‚ å°‡æ¯”åŸºæº–å°çš„ç§»è‡³ åŸºæº– å·¦é‚Šï¼Œå½¢æˆå·¦å€å¡Š å°‡æ¯”åŸºæº–å¤§çš„ç§»è‡³ åŸºæº– å³é‚Šï¼Œå½¢æˆå³å€å¡Š åˆ†åˆ¥å°å·¦é‚Šå’Œå³é‚Šçš„å€å¡Šé‡è¤‡å‰é … 3 æ“ä½œï¼ˆéè¿´ï¼‰ï¼Œç›´åˆ°å€å¡Šä¸­åªå‰©ä¸€å€‹å…ƒç´ ã€‚  æ¼”ç®—æ³•å¯¦ä½œ 1. ç°¡å–®å¥½æ‡‚ç‰ˆæœ¬ æ­¤ç‰ˆæœ¬ä½¿ç”¨éè¿´çµæ§‹ï¼Œä¸¦ä½¿ç”¨é¡å¤–ç©ºé–“å„²å­˜æ¯”è¼ƒå¾Œçš„å…ƒç´ ï¼Œä¸æœƒæ”¹è®ŠåŸé™£åˆ—ã€‚\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18  function quickSort(arr) { const n = arr.length; if (n \u0026lt; 2) { return arr; } // 1  const pivot = arr[0]; // 2  const [leftArr, rightArr] = [[], []]; // 3  for (let i = 1; i \u0026lt; n; i++) { if (pivot \u0026gt; arr[i]) { leftArr.push(arr[i]); } else { rightArr.push(arr[i]); } } // 4  return [...quickSort(leftArr), pivot, ...quickSort(rightArr)]; }    éè¿´åœæ­¢æ¢ä»¶ï¼šå¦‚æœé™£åˆ—å…§åªå‰©ä¸€å€‹å…ƒç´ å°±åœæ­¢æˆ–é™£åˆ—ç‚ºç©ºï¼Œä¹Ÿå¯ä»¥å¯«æˆ n \u0026lt;= 1ã€‚ é¸æ“‡ç¬¬ä¸€å€‹å…ƒç´ ä½œç‚ºåŸºæº–ã€‚ æ¯”è¼ƒå…ƒç´ ï¼Œå°‡å…ƒç´ åˆ†ç‚ºå·¦å³å…©é‚Šã€‚ éè¿´ã€åˆä½µï¼ˆå°çš„æ”¾åŸºæº–å‰é¢ï¼Œå¤§çš„æ”¾å¾Œé¢ï¼‰ï¼Œä¹Ÿå¯ä»¥å¯«æˆ quickSort(left).concat([pivot], quickSort(rightArr))ã€‚  æ­¤ç‰ˆæœ¬é›–ç„¶ç°¡å–®å¥½æ‡‚ï¼Œä½†ç©ºé–“è¤‡é›œåº¦ä¸ä½³ï¼Œæœƒæ¶ˆè€—å¤§é‡è¨˜æ†¶é«”ã€‚\n2. åŸåœ°ï¼ˆin-placeï¼‰åŠƒåˆ†ç‰ˆæœ¬ åŸåœ°ï¼ˆin-placeï¼‰åŠƒåˆ†ç‰ˆæœ¬æ˜¯ä½¿ç”¨äº¤æ›ä½ç½®ä¾†åŠƒåˆ†å…©å€‹å€å¡Šã€‚\nå°‡ç¬¬ä¸€å€‹å…ƒç´ ä½œç‚º åŸºæº–ï¼Œæ¯”è¼ƒå…ƒç´ å¾Œï¼Œæœƒåˆ†æˆå…©å€‹å€å¡Šï¼š\n å·¦é‚Šå€å¡Šï¼šæ¯”åŸºæº–å°çš„å…ƒç´  å³é‚Šå€å¡Šï¼šæ¯”åŸºæº–å¤§çš„å…ƒç´ ï¼ŒåŒ…å«ç­‰æ–¼  æµç¨‹ï¼š\n å³é‚Šå€å¡Šç¬¬ä¸€å€‹å…ƒç´ é è¨­ç‚ºç¬¬äºŒå€‹ä½ç½®ã€‚ ç•¶é‡åˆ°æ¯”åŸºæº–å°çš„å€¼ï¼Œæœƒèˆ‡å³é‚Šå€å¡Šçš„ç¬¬ä¸€å€‹å€¼äº¤æ›ä½ç½®ã€‚ å…¨éƒ¨æ¯”è¼ƒå®Œç•¢å¾Œï¼ŒåŸºæº–èˆ‡å·¦é‚Šå€å¡Šæœ€å¾Œä¸€å€‹å…ƒç´ äº¤æ›ä½ç½®ã€‚  See the Pen å¿«é€Ÿæ’åº - åŠƒåˆ†æ“ä½œï¼šç¬¬ä¸€å€‹å…ƒç´ ç‚ºåŸºæº– by CHUPAIWANG (@CHUPAIWANG) on CodePen.  åŠƒåˆ†æ“ä½œï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19  function partition(arr, start, end) { const swap = (arr, a, b) =\u0026gt; [arr[a], arr[b]] = [arr[b], arr[a]]; // 1  const pivot = arr[start]; // 2  let firstRightIndex = start + 1; // 3  // 4  for (let i = start + 1; i \u0026lt;= end; i++) { // 5  if (arr[i] \u0026lt; pivot) { swap(arr, i, firstRightIndex); firstRightIndex += 1; } } const lastLeftIndex = firstRightIndex - 1; // 6  swap(arr, start, lastLeftIndex); return lastLeftIndex; }    é™£åˆ—äº¤æ›ä½ç½®å‡½å¼ å°‡ç¬¬ä¸€å…ƒç´ ä½œç‚ºåŸºæº–å…ƒç´ ã€‚ ç´€éŒ„ç›®å‰å·¦é‚Šå€å¡Šçš„ç¬¬ä¸€å…ƒç´ ä½ç½®ï¼Œé è¨­ç‚ºåŸºæº–å…ƒç´ çš„ä¸‹ä¸€å€‹ã€‚ å¾ç¬¬äºŒå€‹å…ƒç´ é–‹å§‹éæ­·è‡³æœ€å¾Œä¸€å€‹ã€‚ é‡åˆ°æ¯”åŸºæº–å°çš„å…ƒç´ å°±äº¤æ›ï¼Œä¸¦éå¢ç´€éŒ„è®Šæ•¸ firstRightIndexã€‚ firstMaxIndex - 1 å³é‚Šå€å¡Šçš„ç¬¬ä¸€å…ƒç´ ä½ç½®çš„å‰ä¸€å€‹å°±æ˜¯å·¦é‚Šå€å¡Šæœ€å¾Œä¸€å€‹å…ƒç´ ã€‚ æœ€å¾Œå›å‚³ç›®å‰åŸºæº–å…ƒç´ çš„ä½ç½®ï¼Œå› ç‚ºå·²ç¶“äº¤æ›ä½ç½®äº†ï¼Œæ‰€ä»¥å›å‚³ lastLeftIndexã€‚  æ¥ä¸‹ä¾†å›åˆ°å‡½å¼æœ¬é«”ï¼š\n1 2 3 4 5 6 7 8 9  function quickSort(arr, start = 0, end = arr.length - 1) { if( start \u0026gt;= end) { return arr; } // 1  const pivotIndex = partition(arr, start, end); // 2  // 3  quickSort(arr, start, pivotIndex - 1); quickSort(arr, pivotIndex + 1, end); return arr; }    åœæ­¢æ­¸éæ¢ä»¶ åŸ·è¡ŒåŠƒåˆ†æ“ä½œ æ­¸é  æœ€çµ‚ç¨‹å¼ç¢¼ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24  function quickSort(arr, start = 0, end = arr.length - 1) { if (start \u0026gt;= end) { return arr; } const pivotIndex = partition(arr, start, end); quickSort(arr, start, pivotIndex - 1); quickSort(arr, pivotIndex + 1, end); return arr; function partition(arr, start, end) { const swap = (arr, a, b) =\u0026gt; ([arr[a], arr[b]] = [arr[b], arr[a]]); const pivot = arr[start]; let firstRightIndex = start + 1; for (let i = start + 1; i \u0026lt;= end; i++) { if (arr[i] \u0026lt; pivot) { swap(arr, i, firstRightIndex); firstRightIndex += 1; } } const lastLeftIndex = firstRightIndex - 1; swap(arr, start, lastLeftIndex); return lastLeftIndex; } }   3. å„ªåŒ–åŸºæº–çš„é¸æ“‡ å¿«é€Ÿæ’åºæ™‚é–“è¤‡é›œæœ€ä½³çš„æƒ…æ³å¿…é ˆå‰›å¥½ åŸºæº– ç‚ºæ•¸åˆ—çš„ä¸­é–“å€¼ï¼Œå¦‚æœé¸å–åˆ°æœ€å°æˆ–æœ€å¤§å€¼ï¼Œå‰‡æœƒæ˜¯æœ€ç³Ÿçš„æƒ…æ³ã€‚é‚£éº¼æˆ‘å€‘é¸æ“‡ç¬¬ä¸€å€‹å…ƒç´ ä½œç‚º åŸºæº–ï¼Œå¦‚æœæ•¸åˆ—å·²æ˜¯æ’åºç‹€æ…‹ï¼Œå°±æœƒå°è‡´æ¼”ç®—æ³•æ™‚é–“è¤‡é›œåº¦æ˜¯æœ€ç³Ÿçµæœã€‚\nç‚ºäº†é¿å…é€™ç¨®æ¥µç«¯çš„ åŸºæº– å‡ºç¾ï¼Œæ¯”è¼ƒå¸¸è¦‹çš„åšæ³•ç‚ºé¸å–ä¸­é–“ä½ç½®æˆ–æ˜¯éš¨æ©Ÿé¸å–ä½œç‚º åŸºæº–ï¼Œé¸å–åˆ°æœ€å°æˆ–æœ€å¤§å€¼çš„æ©Ÿç‡æœƒé™ä½ã€‚\nå–ä¸­é–“ä½ç½®çš„å…ƒç´ ï¼Œå†æ¯”è¼ƒå‰éœ€å…ˆå°‡å…ƒç´ æ›åˆ°é–‹é ­ã€‚\nSee the Pen å¿«é€Ÿæ’åº - åŠƒåˆ†æ“ä½œï¼šä¸­é–“å…ƒç´ ç‚ºåŸºæº– by CHUPAIWANG (@CHUPAIWANG) on CodePen.  1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19  function partition(arr, start, end) { const swap = (arr, a, b) =\u0026gt; [arr[a], arr[b]] = [arr[b], arr[a]]; const mid = Math.floor((start + end) / 2); // 1  const pivot = arr[mid]; let firstRightIndex = start + 1; swap(arr, mid, start); // 2  for (let i = start + 1; i \u0026lt;= end; i++) { if (arr[i] \u0026lt; pivot) { swap(arr, i, firstRightIndex); firstRightIndex += 1; } } const lastLeftIndex = firstRightIndex - 1; swap(arr, start, lastLeftIndex); return lastLeftIndex; }    å–ä¸­é–“ä½ç½®ç´¢å¼•ã€‚ å°‡åŸºæº–å…ƒç´ å…ˆæ›è‡³é–‹é ­ã€‚  éš¨æ©Ÿé¸å–åŸºæº–ï¼š\n1 2 3 4 5  // 1 æ”¹æˆ const pivotIndex = Math.floor(Math.random() * (end - start + 1) + start); const pivot = arr[pivotIndex]; // 2 æ”¹æˆ swap(arr, pivotIndex, start);   See the Pen å¿«é€Ÿæ’åº - åŠƒåˆ†æ“ä½œï¼šéš¨æ©Ÿé¸å–åŸºæº– by CHUPAIWANG (@CHUPAIWANG) on CodePen.  é™¤äº†é¸å–ä¸­é–“ä½ç½®å…ƒç´ å’Œéš¨æ©Ÿé¸å–å…ƒç´ ä½œç‚º åŸºæº–ï¼Œå¦å¤–é‚„æœ‰å…¶ä»–é¿å…æ¥µç«¯æƒ…æ³çš„å„ªåŒ–æ–¹å¼ï¼š\n ä¸‰æ•¸ä¸­ä½æ•¸ Median of three ä¸­ä½æ•¸çš„ä¸­ä½æ•¸ Median of medians  4. è¿­ä»£çµæ§‹ è·Ÿåˆä½µæ’åºä¸€æ¨£ï¼Œç•¶è³‡æ–™æ•¸é‡éå¸¸éå¸¸å¤§æ™‚ï¼Œæ­¸éçµæ§‹çš„æ“ä½œå¾ˆå®¹æ˜“å°è‡´ å †ç–Šæº¢ä½ï¼Œå› æ­¤å¯ä»¥æ”¹å¯«æˆè¿­ä»£çµæ§‹ã€‚\næˆ‘å€‘å¯ä»¥ç”¨é™£åˆ—æ¨¡æ“¬å †ç–Šç©ºé–“ï¼Œå°‡å¾…åŠƒåˆ†å€å¡Šçš„ start å’Œ end ä¿å­˜åœ¨è£¡é¢ã€‚\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19  function quickSort1(arr) { const stack = []; stack.push(0); stack.push(arr.length - 1); while (stack.length \u0026gt; 0) { const end = stack.pop(); const start = stack.pop(); if (start \u0026lt; end) { const pivotIndex = partition(arr, start, end); stack.push(start); stack.push(pivotIndex - 1); stack.push(pivotIndex + 1); stack.push(end); } } return arr; }   åˆ†æ ç°¡æ˜“åˆ†æï¼Œè‹¥æ¯æ¬¡éƒ½æœƒå°‡æ•¸åˆ—å‰›å¥½åŠƒåˆ†æˆä¸€åŠï¼Œåè¦†åŠƒåˆ†ç›´åˆ°å‰©ä¸€å€‹å…ƒç´ ï¼Œéœ€è¦æ“ä½œ $\\log_{2}n$ æ¬¡ã€‚æ¯æ¬¡åŠƒåˆ†æ“ä½œæ¯å€‹å…ƒç´ éƒ½æœƒåŸ·è¡Œæ¯”è¼ƒï¼Œä¹Ÿå°±æ˜¯ $n$ æ¬¡ï¼Œå› æ­¤æ•´é«”åŸ·è¡Œæ™‚é–“ç´„ç‚º $n \\log_{2} n$ã€‚\nä½† åŸºæº– å¦‚æœé¸å–åˆ°æœ€å°æˆ–æœ€å¤§å€¼ï¼Œæ¯æ¬¡åŠƒåˆ†å…ƒç´ éƒ½æœƒé›†ä¸­ä¸€é‚Šï¼Œéœ€è¦æ“ä½œ $n$ æ¬¡ æ‰æœƒå‰©ä¸€å€‹å…ƒç´ ã€‚å› æ­¤æ•´é«”åŸ·è¡Œæ™‚é–“æœƒè®Šæˆç‚º $n^2$ã€‚\n ä¸ç©©å®šæ’åº æ™‚é–“è¤‡é›œåº¦  æœ€ä½³ï¼š$O(n \\log n)$ æœ€å·®ï¼š$O(n^2)$ å¹³å‡ï¼š$O(n \\log n)$   ç©ºé–“è¤‡é›œåº¦ç‚ºï¼šæ ¹æ“šå¯¦ç¾çš„æ–¹å¼ä¸åŒè€Œä¸åŒ ","description":"å¿«é€Ÿæ’åºï¼ˆQuick Sortï¼‰ æ˜¯å¯¦ç”¨æ€§å¾ˆé«˜çš„æ’åºæ³•ï¼Œèˆ‡åˆä½µæ’åºä¸€æ¨£æ˜¯ä½¿ç”¨ åˆ†æ²»æ³•çš„æ‡‰ç”¨ã€‚","id":76,"section":"posts","tags":["æ’åºæ¼”ç®—æ³•","å¿«é€Ÿæ’åº","w3HexSchool"],"title":"JavaScript å­¸æ¼”ç®—æ³•ï¼ˆåï¼‰- å¿«é€Ÿæ’åº","uri":"https://chupai.github.io/posts/2000601_sort_algorithm_quick_sort/"},{"content":"é€™é€±æ˜¯å…­è§’é¼ å¹´éµäººè³½ç¬¬åä¸ƒé€±ï¼Œé€™é€±ç°¡å–®èªªæ˜ åˆä½µæ’åºï¼ˆMerge Sortï¼‰ã€‚\n\råˆä½µæ’åºï¼ˆMerge Sortï¼‰ åˆä½µæ’åºï¼ˆMerge Sortï¼‰ åˆç¨±ç‚º æ­¸ä½µæ’åºï¼Œæ˜¯å»ºç«‹åœ¨åˆä½µæ“ä½œä¸Šçš„ä¸€ç¨®æœ‰æ•ˆçš„æ’åºæ¼”ç®—æ³•ï¼Œæ˜¯æ¡ç”¨ åˆ†æ²»æ³• çš„ä¸€å€‹éå¸¸å…¸å‹çš„æ‡‰ç”¨ã€‚\nåˆ†æ²»æ³•ï¼ˆDivide and Conquerï¼‰ç°¡å–®ä¾†èªªå°±æ˜¯å°‡å•é¡Œåˆ†æˆå…©å€‹å­å•é¡Œæˆ–æ›´å¤šçš„å­å•é¡Œï¼Œå†ç¹¼çºŒå°‡å­å•é¡Œåˆ†è§£æˆæ›´å°çš„å­å•é¡Œï¼Œç›´åˆ°å¯ä»¥ç°¡å–®æ±‚è§£ï¼Œæ¥è‘—å°‡æ‰€æœ‰å­å•é¡Œçš„çµæœåˆä½µï¼Œå°±èƒ½æ±‚å¾—å…ƒå•é¡Œçš„è§£ã€‚åˆ†æ²»æ³•ä¸€èˆ¬æœƒä½¿ç”¨éè¿´å¯¦ç¾ã€‚\næ“ä½œæµç¨‹ï¼Œæ¡ç”¨åˆ†æ²»æ³•ï¼Œåˆ†ç‚ºå…©å€‹æ“ä½œï¼š\n åˆ†å‰²ï¼šå°‡æ•¸åˆ—å¹³å‡åˆ†å‰²æˆå…©åŠï¼Œé‡è¤‡æ“ä½œç›´åˆ°å€å¡Šä¸­åªå‰©ä¸€å€‹å…ƒç´ ã€‚ åˆä½µï¼šæ¥è‘—å†å°‡å„å€‹å­é™£åˆ—åˆä½µï¼Œåˆä½µæ™‚æœƒåè¦†æ¯”è¼ƒç¬¬ä¸€å€‹æ•¸ï¼Œä¸¦å°‡è¼ƒå°çš„å…ƒç´ ç§»è‡³ä¸Šä¸€å±¤ä¸­ã€‚é‡è¤‡æ“ä½œç›´åˆ°å‰©ä¸€å€‹æ•¸åˆ—ï¼Œæ’åºå®Œç•¢ã€‚  åˆä½µæ’åºçš„å¯¦ç¾æœ‰å…©ç¨®æ–¹æ³•ï¼š\n éè¿´çµæ§‹ï¼ˆè‡ªé ‚å‘ä¸‹ Top-downï¼‰ è¿­ä»£çµæ§‹ï¼ˆè‡ªåº•å‘ä¸Š Bottom-upï¼‰  ä¸€èˆ¬ä¾†èªªï¼Œåˆä½µæ’åºæ˜¯ä½¿ç”¨éè¿´çµæ§‹ä¾†å¯¦ç¾çš„ï¼Œä½†éè¿´æœ‰ä¸€å€‹å•é¡Œï¼Œå°±æ˜¯éœ€è¦ä½¿ç”¨åˆ°é¡å¤–ç©ºé–“ä¾†å„²å­˜å­é™£åˆ—ï¼Œè€Œä¸”ç•¶éè¿´å‡½å¼è¢«å‘¼å«çš„éæ–¼é »ç¹ï¼Œå¯èƒ½å°è‡´ å †ç–Šæº¢ä½ã€‚\nç‚ºäº†å„ªåŒ–åˆä½µæ’åºï¼ˆè¿­ä»£çµæ§‹ï¼‰ï¼Œæˆ‘å€‘å¯ä»¥è·³éåˆ†å‰²é€™å€‹æ“ä½œï¼Œä¹Ÿå°±æ˜¯ä¸€é–‹å§‹å°±å°‡å®ƒå€‘è¦–ç‚ºå·²åˆ†å‰²ç‹€æ…‹ï¼Œæ¯”è¼ƒç›¸é„°å…©å€‹å…ƒç´ é€²è¡Œåˆä½µæ“ä½œï¼Œæ¯è¼ªé€²è¡Œåˆä½µæ“ä½œçš„å…ƒç´ éƒ½æœƒç¿»å€æˆé•·ã€‚\néè¿´çµæ§‹å¯¦ä½œ éè¿´çµæ§‹ä¸€å…±éœ€è¦å…©å€‹å‡½å¼ï¼Œä¸¦é€ééè¿´å‡½å¼çš„æ–¹å¼ä¾†è™•ç†ã€‚\n1. åˆ†å‰²æ“ä½œ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15  function mergeSort(arr) { const n = arr.length; // 1  // 2  if (n \u0026lt; 2) { return arr; } const midIndex = Math.floor(n / 2); // 3  // 4  const leftArray = arr.slice(0, midIndex); const rightArray = arr.slice(midIndex); // 5  mergeSort(leftArray); mergeSort(rightArray); }    é™£åˆ—å…ƒç´ æ•¸é‡ã€‚ éè¿´åœæ­¢æ¢ä»¶ï¼šå¦‚æœé™£åˆ—å…§åªå‰©ä¸€å€‹å…ƒç´ å°±åœæ­¢æˆ–é™£åˆ—ç‚ºç©ºã€‚ å–é™£åˆ—çš„ä¸­é–“ç´¢å¼•ã€‚ ä½¿ç”¨ slice() å°‡é™£åˆ—åˆ†å‰²æˆå…©å€‹å­é™£åˆ—ã€‚ ä½¿ç”¨éè¿´ç¹¼çºŒåˆ†å‰²å…©å€‹å­é™£åˆ—ã€‚  2. åˆä½µæ“ä½œ åˆä½µæ“ä½œå‡½å¼ï¼Œæœƒå‚³å…¥å…©å€‹é™£åˆ—ï¼Œä¸¦ä¾å…ƒç´ å¤§å°æ’åºï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14  function merge(leftArr, rightArr) { const temp = []; // 1  // 2  while (leftArr.length \u0026amp;\u0026amp; rightArr.length) { // 3  if (leftArr[0] \u0026lt; rightArr[0]) { temp.push(leftArr.shift()); } else { temp.push(rightArr.shift()); } } return temp.concat(leftArr, rightArr); // 4 }    å®£å‘Šè®Šæ•¸å„²å­˜åˆä½µçµæœã€‚ while è¿´åœˆçµ‚æ­¢æ¢ä»¶ï¼šç•¶ä¸€å€‹é™£åˆ—ç‚ºç©ºå°±è·³å‡ºè¿´åœˆã€‚ æ¯”è¼ƒå¤§å°å¾Œï¼Œä½¿ç”¨ shift() å°‡å…ƒç´ åˆªé™¤ï¼Œä¸¦åŠ åˆ°çµæœé™£åˆ—ä¸­ã€‚ å°‡å‰©é¤˜å…ƒç´ çš„é™£åˆ—èˆ‡çµæœåˆä½µã€‚  ä»¥ä¸Šå¯¦ä½œæ³•æ–¹é‚è¼¯ä¸Šæ²’å•é¡Œï¼Œç¶²è·¯ä¸Šå¾ˆå¤šæ–‡ç« çš„ç¯„ä¾‹ä¹Ÿéƒ½æ˜¯é€™æ¨£å¯¦ä½œçš„ï¼ˆåŒ…å« ç¶­åŸºç™¾ç§‘ï¼‰ ã€‚\nä½† shift æ–¹æ³•èƒŒå¾ŒåŸç†æ“ä½œï¼Œåœ¨åˆªé™¤ç¬¬ä¸€å€‹å…ƒç´ å¾Œï¼Œå…¶é¤˜çš„å…ƒç´ éƒ½æœƒå¾€å‰ç§»å‹•ï¼Œå…¶å¯¦ä¸¦ä¸é«˜æ•ˆã€‚\nå› æ­¤å»ºè­°ä½¿ç”¨ä»¥ä¸‹æ–¹å¼ä¾†å¯¦ä½œï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26  function merge(leftArr, rightArr) { const temp = []; // 1  let [leftIndex, rightIndex] = [0, 0]; // 2  // 3  while (leftIndex \u0026lt; leftArr.length \u0026amp;\u0026amp; rightIndex \u0026lt; rightArr.length) { if (leftArr[leftIndex] \u0026lt; rightArr[rightIndex]) { // 4  temp.push(leftArr[leftIndex]); leftIndex += 1; } else { temp.push(rightArr[rightIndex]); rightIndex += 1; } } // 5  while (leftIndex \u0026lt; leftArr.length) { temp.push(leftArr[leftIndex]); leftIndex += 1; } while (rightIndex \u0026lt; rightArr.length) { temp.push(rightArr[rightIndex]); rightIndex += 1; } return temp; }    å®£å‘Šè®Šæ•¸å„²å­˜åˆä½µçµæœã€‚ å®£å‘Šè®Šæ•¸ä¾†ç´€éŒ„ç•¶å‰ç´¢å¼•ã€‚ while è¿´åœˆçµ‚æ­¢æ¢ä»¶ï¼šç•¶å‰ç´¢å¼•å¤§æ–¼é™£åˆ—é•·åº¦ï¼Œè¡¨ç¤ºé€™å€‹é™£åˆ—éƒ½åŠ åˆ°çµæœé™£åˆ—ä¸­äº†ã€‚ æ¯”è¼ƒå¤§å°å¾Œï¼Œå°‡å…ƒç´ æ”¾é€²çµæœé™£åˆ—ä¸­ï¼Œä¸¦å°‡ç•¶å‰ç´¢å¼•å¾€å‰ï¼ˆ+1ï¼‰ã€‚ å°‡å‰©é¤˜å…ƒç´ çš„é™£åˆ—èˆ‡çµæœåˆä½µã€‚  æ›´ç°¡æ½”çš„å¯«æ³•ï¼š\n1 2 3 4 5  // 4 temp.push(leftArr[leftIndex++]); // 5 return [...temp, ...leftArr.slice(leftIndex), ...rightArr.slice(rightIndex)];   ä»¥ä¸‹ç‚ºä½¿ç”¨ shift() å’Œä½¿ç”¨ç´¢å¼•å…©ç¨®æ–¹å¼çš„ç°¡æ˜“çš„åŸ·è¡Œæ™‚é–“æ¯”è¼ƒï¼Œä½ å¯ä»¥ç™¼ç¾ï¼Œé›–ç„¶ shift() å¯¦ä½œç°¡æ½”å¥½ç†è§£ï¼Œä½†åŸ·è¡Œé€Ÿåº¦å·®ç•°éå¸¸å¤§ã€‚\nSee the Pen åˆä½µæ’åºï¼ˆMerge Sortï¼‰ by Chupai@Design (@chupai) on CodePen.  3. å®Œæˆæ¼”ç®—æ³• å°‡åˆ†å‰²çš„å­é™£åˆ—ï¼Œå‘¼å« merge() åˆä½µï¼š\n1 2 3 4 5 6 7 8 9  function mergeSort(arr) { const n = arr.length; if (n \u0026lt; 2) { return arr; } const midIndex = Math.floor(n / 2); const leftArray = arr.slice(0, midIndex); const rightArray = arr.slice(midIndex); return merge(mergeSort(leftArray), mergeSort(rightArray)); }   å®Œæ•´ç¨‹å¼ç¢¼ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21  function mergeSort(arr) { const n = arr.length; if (n \u0026lt; 2) { return arr; } const midIndex = Math.floor(n / 2); const leftArray = arr.slice(0, midIndex); const rightArray = arr.slice(midIndex); return merge(mergeSort(leftArray), mergeSort(rightArray)); function merge(leftArr, rightArr) { const temp = []; let [leftIndex, rightIndex] = [0, 0]; while (leftIndex \u0026lt; leftArr.length \u0026amp;\u0026amp; rightIndex \u0026lt; rightArr.length) { if (leftArr[leftIndex] \u0026lt; rightArr[rightIndex]) { temp.push(leftArr[leftIndex++]); } else { temp.push(rightArr[rightIndex++]); } } return [...temp, ...leftArr.slice(leftIndex), ...rightArr.slice(rightIndex)]; } }   é€™ç¨®å¯¦ä½œæ–¹å¼ï¼Œä¸¦ä¸æœƒæ›´æ”¹åŸé™£åˆ—ï¼Œæœƒå›å‚³ä¸€å€‹æ’åºå¾Œçš„æ–°é™£åˆ—ã€‚\n4. å„ªåŒ–ç‰ˆæœ¬ ä½¿ç”¨ slice() åˆ†å‰²é™£åˆ—çš„æ–¹å¼ï¼Œé›–ç„¶ç°¡æ½”å¥½ç†è§£ï¼Œä½†æœƒé¡å¤–ä½¿ç”¨å¾ˆå¤šè¨˜æ†¶é«”ç©ºé–“ï¼Œå› æ­¤æˆ‘å€‘å¯ä»¥ç›´æ¥åœ¨åŸé™£åˆ—ä¸Šé€²è¡Œåˆ†å‰²çš„æ“ä½œã€‚\nè¦åœ¨åŸé™£åˆ—ä¸Šé€²è¡Œåˆ†å‰²æ“ä½œï¼Œæˆ‘å€‘æœƒä½¿ç”¨ç´€éŒ„ç´¢å¼•ä½ç½®çš„æ–¹å¼ã€‚\nä¸€å…±éœ€è¦å‚³å…¥ start é–‹é ­å’Œ end çµå°¾ï¼Œå†è¨ˆç®—å‡º mid ä¸­é–“ä½ç½®ã€‚\n å·¦å­é™£åˆ—ç‚º start è‡³ mid å³å­é™£åˆ—ç‚º mid + 1 è‡³ end  1 2 3 4 5 6 7 8 9 10 11 12 13  // 1 function mergeSort(arr, start = 0, end = arr.length - 1) { if (start === end) { return arr; } // 2  const mid = Math.floor((start + end) / 2); // 3  // 4  mergeSort(arr, start, mid); mergeSort(arr, mid + 1, end); merge(arr, start, mid, end); // 3  return arr; }    start å’Œ end çš„åƒæ•¸é è¨­å€¼ç‚ºé™£åˆ—é–‹é ­å’Œçµå°¾ã€‚ åœæ­¢æ­¸éæ¢ä»¶ï¼šé–‹é ­èˆ‡çµå°¾ç´¢å¼•ç›¸åŒæ™‚å°±åœæ­¢ã€‚ è¨ˆç®—ä¸­é–“çš„ç´¢å¼•ä½ç½®ã€‚ æ­¸é åˆä½µæ“ä½œ  åˆä½µæ“ä½œå‡½å¼ï¼ŒåŸºæœ¬é‚è¼¯èˆ‡åŸæœ¬çš„å·®ä¸å¤šï¼Œä½†æœ€å¾Œä¸€æ­¥ä¸å›å‚³æ’åºå¥½çš„é™£åˆ—ï¼Œè€Œæ˜¯ç”¨è¨˜éŒ„ä¸‹ä¾†çš„ç´¢å¼•ä½ç½®ï¼Œç›´æ¥è¦†è“‹æ‰åŸé™£åˆ—ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22  function merge(arr, start, mid, end) { let temp = []; let [leftIndex, rightIndex] = [start, mid + 1]; // 1  while (leftIndex \u0026lt;= mid \u0026amp;\u0026amp; rightIndex \u0026lt;= end) { if (arr[leftIndex] \u0026lt; arr[rightIndex]) { temp.push(arr[leftIndex++]); } else { temp.push(arr[rightIndex++]); } } while (leftIndex \u0026lt;= mid) { temp.push(arr[leftIndex++]); } while (rightIndex \u0026lt;= end) { temp.push(arr[rightIndex++]); } // 3  for (let i = start; i \u0026lt;= end; i++) { arr[i] = temp[i - start]; } }    å·¦å³é™£åˆ—èµ·å§‹ç´¢å¼•ã€‚ çµ‚æ­¢æ¢ä»¶ï¼šèµ·å§‹ç´¢å¼•ç­‰æ–¼çµå°¾ç´¢å¼•ã€‚ å°‡æ’åºå®Œçš„å…ƒç´ ï¼Œè¦†è“‹æ‰åŸé™£åˆ—ã€‚  å®Œæ•´ç¨‹å¼ç¢¼ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29  function mergeSort(arr, start = 0, end = arr.length - 1) { if (start === end) { return arr; } const mid = Math.floor((start + end) / 2); mergeSort(arr, start, mid); mergeSort(arr, mid + 1, end); merge(arr, start, mid, end); return arr; function merge(arr, start, mid, end) { let temp = []; let [leftIndex, rightIndex] = [start, mid + 1]; while (leftIndex \u0026lt;= mid \u0026amp;\u0026amp; rightIndex \u0026lt;= end) { if (arr[leftIndex] \u0026lt; arr[rightIndex]) { temp.push(arr[leftIndex++]); } else { temp.push(arr[rightIndex++]); } } while (leftIndex \u0026lt;= mid) { temp.push(arr[leftIndex++]); } while (rightIndex \u0026lt;= end) { temp.push(arr[rightIndex++]); } for (let i = start; i \u0026lt;= end; i++) { arr[i] = temp[i - start]; } } }   æ­¤ä½œæ³•å¯ä»¥æ¸›å°‘è¨˜æ†¶é«”çš„ä½¿ç”¨ï¼ˆæ¸›å°‘ç©ºé–“è¤‡é›œåº¦ï¼‰ï¼Œä½†æœƒæ›´å‹•åŸé™£åˆ—ã€‚\nè¿­ä»£çµæ§‹å¯¦ä½œ ç•¶è³‡æ–™æ•¸é‡éå¸¸éå¸¸å¤§æ™‚ï¼Œæ­¸éçµæ§‹çš„æ“ä½œå¾ˆå®¹æ˜“å°è‡´ å †ç–Šæº¢ä½ï¼Œå› æ­¤å¯ä»¥æ”¹ç”¨è¿­ä»£çµæ§‹ã€‚\nä¸Šé¢å¯¦ä½œå®Œæˆå¾Œï¼Œä½ å¯ä»¥ç™¼ç¾ï¼Œæˆ‘å€‘å¯ä»¥ç›´æ¥è·³éåˆ†å‰²é€™å€‹æ­¥é©Ÿï¼Œç›´æ¥å°‡å®ƒè¦–ç‚ºå·²åˆ†å‰²å¾Œçš„ç‹€æ…‹ï¼Œç›´æ¥é€²è¡Œåˆä½µæ“ä½œã€‚\næµç¨‹ï¼š\n å°‡é™£åˆ—ä¸­ç›¸é„°å…©å€‹å…ƒç´ é€²è¡Œåˆä½µæ“ä½œï¼ˆæ’åºï¼‰ã€‚ æ¯è¼ªé€²è¡Œæ“ä½œçš„å…ƒç´ æ•¸é‡æœƒç¿»å€æˆé•·ã€‚ ç•¶é•·åº¦å¤§æ–¼ç­‰æ–¼é™£åˆ—å…ƒç´ æ•¸é‡ï¼Œæ’åºå®Œç•¢ã€‚  1 2 3 4 5 6 7 8 9 10 11 12  function mergeSort(arr) { let n = arr.length; for (let i = 1; i \u0026lt;= n; i *= 2) { for (let j = 0; j + i \u0026lt; n; j += i * 2) { const start = j; const end = Math.min(j + i * 2 - 1, n - 1); const mid = j + i - 1; merge(arr, start, mid, end); } } return arr; }    i = 1ï¼šèµ·å§‹å…ƒç´ æ•¸é‡ç‚º 1ã€‚ i \u0026lt;= nï¼šç•¶å…ƒç´ æ•¸é‡å¤§æ–¼ç­‰æ–¼ n è¡¨ç¤ºæ’åºå®Œç•¢ã€‚ i *= 2ï¼šæ¯è¼ªå…ƒç´ æ•¸é‡æœƒç¿»å€ã€‚ j = 0ï¼šå¾é ­é–‹å§‹å–å…ƒç´ éæ­·ã€‚ j + i \u0026lt; nï¼šç•¶ç´¢å¼• j + i è¶…é n è¡¨ç¤ºé€™è¼ªéƒ½åˆä½µæ“ä½œéäº†ã€‚ j += i * 2ï¼šä¸€æ¬¡æ“ä½œå…ƒç´ çš„æ•¸é‡æœƒæ˜¯ i å…©å€ã€‚ endï¼šè‹¥è¦æ“ä½œçš„å…ƒç´ ç´¢å¼•å¤§æ–¼é™£åˆ—ï¼Œå°±å–é™£åˆ—çš„æœ€å¾Œä¸€å€‹å…ƒç´ ã€‚  å®Œæ•´ç¨‹å¼ç¢¼ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34  function mergeSort(arr) { let n = arr.length; for (let i = 1; i \u0026lt;= n; i *= 2) { for (let j = 0; j + i \u0026lt; n; j += i * 2) { const start = j; const end = Math.min(j + i * 2 - 1, n - 1); const mid = j + i - 1; merge(arr, start, mid, end); } } return arr; function merge(arr, start, mid, end) { let temp = []; let [leftIndex, rightIndex] = [start, mid + 1]; while (leftIndex \u0026lt;= mid \u0026amp;\u0026amp; rightIndex \u0026lt;= end) { if (arr[leftIndex] \u0026lt; arr[rightIndex]) { temp.push(arr[leftIndex++]); } else { temp.push(arr[rightIndex++]); } } while (leftIndex \u0026lt;= mid) { temp.push(arr[leftIndex++]); } while (rightIndex \u0026lt;= end) { temp.push(arr[rightIndex++]); } for (let i = start; i \u0026lt;= end; i++) { arr[i] = temp[i - start]; } } }   åˆ†æ ç°¡æ˜“åˆ†æï¼Œå‡è¨­è³‡æ–™ç‚º $n$ï¼Œåˆ†å‰²æ“ä½œå¯ä»¥ç•¥éä¸è¨ˆã€‚æ¯è¼ªæ“ä½œçš„è³‡æ–™æ•¸é‡å›ºå®šç‚º $n$ï¼Œå…±æœƒåŸ·è¡Œ $\\log_{2}n$ è¼ªåˆä½µæ“ä½œï¼Œæ•´é«”åŸ·è¡Œæ™‚é–“ç´„ç‚º $n \\log_{2}n$ã€‚\n ç©©å®šæ’åº æ™‚é–“è¤‡é›œåº¦  æœ€ä½³ï¼š$O(n \\log n)$ æœ€å·®ï¼š$O(n \\log n)$ å¹³å‡ï¼š$O(n \\log n)$   ç©ºé–“è¤‡é›œåº¦ç‚ºï¼š $O(n)$ ","description":"åˆä½µæ’åºï¼ˆMerge Sortï¼‰ åˆç¨±ç‚º æ­¸ä½µæ’åºï¼Œæ˜¯å»ºç«‹åœ¨åˆä½µæ“ä½œä¸Šçš„ä¸€ç¨®æœ‰æ•ˆçš„æ’åºæ¼”ç®—æ³•ï¼Œæ˜¯æ¡ç”¨ åˆ†æ²»æ³• çš„ä¸€å€‹éå¸¸å…¸å‹çš„æ‡‰ç”¨ã€‚","id":77,"section":"posts","tags":["æ’åºæ¼”ç®—æ³•","æ’åºæ¼”ç®—æ³•","åˆä½µæ’åº","w3HexSchool"],"title":"JavaScript å­¸æ¼”ç®—æ³•ï¼ˆä¹ï¼‰- åˆä½µæ’åº","uri":"https://chupai.github.io/posts/200525_sort_algorithm_merge_sort/"},{"content":"é€™é€±æ˜¯å…­è§’é¼ å¹´éµäººè³½ç¬¬åå…­é€±ï¼Œè³‡æ–™çµæ§‹å…ˆæš«åœä¸€ä¸‹ï¼Œæ›æ›å£å‘³ï¼Œä¾†çœ‹æ’åºã€‚æ’åºæ¼”ç®—æ³•ï¼ˆSort Algorithmï¼‰æ˜¯åŸºç¤æ¼”ç®—æ³•ä¹‹ä¸€ï¼Œæ˜¯ä¸€ç¨®èƒ½å°‡ä¸€ä¸²è³‡æ–™ä¾ç…§ç‰¹å®šæ’åºæ–¹å¼é€²è¡Œæ’åˆ—çš„ä¸€ç¨®æ¼”ç®—æ³•ã€‚\n\rä»€éº¼æ˜¯æ’åºï¼ˆSortï¼‰ 1. å®šç¾© æ’åºï¼ˆSortï¼‰ï¼Œå°‡ä¸€çµ„è³‡æ–™ä¸€ä½¿ç”¨è€…éœ€æ±‚ï¼Œäºˆä»¥é‡æ–°æ’åˆ—å…¶é †åºã€‚\nä¸€èˆ¬æœƒä¾è³‡æ–™ä¹‹å¤§å°é †åºæ’åºï¼ˆç”±å¤§è‡³å°ã€æˆ–ç”±å°è‡³å¤§ï¼‰ã€‚\n2. åˆ†é¡ æ’åºæ¼”ç®—æ³•åˆ†é¡æ–¹å¼æœ‰ä»¥ä¸‹é€™å¹¾ç¨®ã€‚\nç¬¬ä¸€é¡ï¼šå…§éƒ¨èˆ‡å¤–éƒ¨\n å…§éƒ¨æ’åºï¼ˆInternal Sortï¼‰ åˆç¨±ã€Œé™£åˆ—æ’åºã€  å®šç¾©ï¼šæ’åºä¹‹å·¥ä½œï¼Œä¸»è¦åœ¨ä¸»è¨˜æ†¶é«”ï¼ˆRAMï¼‰å®Œæˆã€‚ æ„æŒ‡è³‡æ–™é‡å°ï¼Œå¯ä»¥ç›´æ¥æ”¾åœ¨è¨˜æ†¶é«”å…§é€²è¡Œã€‚   å¤–éƒ¨æ’åºï¼ˆExternal Sortï¼‰ åˆç¨±ã€Œæª”æ¡ˆæ’åºã€  å®šç¾©ï¼šæ’åºä¹‹å·¥ä½œï¼Œä¸»è¦æ˜¯åœ¨è¼”åŠ©è¨˜æ†¶é«”ï¼ˆDisk, Fileï¼‰å®Œæˆã€‚ æ„æŒ‡è³‡æ–™é‡å¤§ï¼Œç„¡æ³•ç›´æ¥å­˜æ”¾åœ¨è¨˜æ†¶é«”ï¼Œå¿…é ˆå…ˆå­˜æ”¾æ–¼è¼”åŠ©è¨˜æ†¶é«”å…§å†è™•ç†ã€‚    ç¬¬äºŒé¡ï¼šç©©å®šæ€§èˆ‡ä¸ç©©å®šæ€§\n ç©©å®šæ€§ï¼ˆStableï¼‰ï¼šç›¸åŒå€¼çš„è³‡æ–™ï¼Œæ’åºå¾Œé †åºå’Œæ’åºå‰ä¸€æ¨£ã€‚ ä¸ç©©å®šæ€§ï¼ˆUnstableï¼‰ï¼šç›¸åŒå€¼çš„è³‡æ–™ï¼Œæ’åºå¾Œé †åºä¸ä¸€å®šå’Œæ’åºå‰ä¸€æ¨£ã€‚  ç¬¬ä¸‰é¡ï¼šç°¡å–®èˆ‡é«˜ç­‰\n ç°¡å–®æ’åºï¼šæ’åºæ¼”ç®—æ³•ç°¡å–®ï¼Œä½†åŸ·è¡Œæ™‚é–“è¼ƒé•·ã€‚ é«˜ç­‰æ’åºï¼šæ’åºæ¼”ç®—æ³•è¤‡é›œï¼ŒåŸ·è¡Œæ™‚é–“è¼ƒçŸ­ã€‚  ç¬¬å››é¡ï¼šæ¯”è¼ƒèˆ‡éæ¯”è¼ƒ\n æ¯”è¼ƒæ’åºï¼šé€šéæ¯”è¼ƒä¾†æ±ºå®šå…ƒç´ é–“çš„ç›¸å°æ¬¡åºã€‚ éæ¯”è¼ƒæ’åºï¼šä¸é€šéæ¯”è¼ƒä¾†æ±ºå®šå…ƒç´ é–“çš„ç›¸å°æ¬¡åºã€‚  3. å¸¸è¦‹æ’åºæ¼”ç®—æ³• æ’åºç›¸é—œå‹•ç•«å½±ç‰‡ï¼Œå¯ä»¥ç¨å¾®çš„çœ‹ä¸€ä¸‹ï¼š\n å¦‚ä½•æœ€æœ‰æ•ˆç‡åœ°æ•´ç†æ›¸æ¶ï¼Ÿ - Chand John 15 Sorting Algorithms in 6 Minutes  ç°¡å–®æ’åºï¼š\n æ°£æ³¡æ’åºï¼ˆBubble Sortï¼‰ é¸æ“‡æ’åºï¼ˆSelection Sortï¼‰ æ’å…¥æ’åºæ³•ï¼ˆInsertion Sortï¼‰  åˆå­¸æ’åºæ‰€å¿…é ˆçŸ¥é“çš„ä¸‰å€‹æœ€åŸºæœ¬æ’åºæ¼”ç®—æ³•ï¼Œä½†å®ƒå€‘ç”±æ–¼é€Ÿåº¦ä¸å¿«è€Œä¸å¯¦ç”¨ã€‚\né«˜ç­‰æ’åºï¼š\n åˆä½µæ’åº Merge Sort å¿«é€Ÿæ’åº Quick Sort å¸Œçˆ¾æ’åº Shell Sort å †ç©æ’åº Heap Sort  é«˜ç­‰æ’åºé€šå¸¸ç”¨æ–¼é«˜æ•ˆè™•ç†å¤§é‡è³‡æ–™ï¼ˆå¹¾è¬èµ·è·³ï¼‰ï¼Œä¸éæœ‰äº›å°æ–¼è³‡æ–™éæ–¼å°ï¼ˆå¹¾åƒå¹¾ç™¾ï¼‰å¯èƒ½åè€Œæ¯”ç°¡å–®æ’åºé‚„æ…¢ã€‚\nç°¡å–®æ’åº 1. æ°£æ³¡æ’åºï¼ˆBubble Sortï¼‰ æ°£æ³¡æ’åºï¼ˆBubble Sortï¼‰åˆç¨±ç‚ºå†’æ³¡æ’åºã€æ³¡æ²«æ’åºï¼Œæ˜¯æ’åºæ¼”ç®—æ³•ä¸­æœ€ç°¡å–®çš„ï¼Œä½†é‹è¡Œæ™‚é–“æ˜¯æœ€å·®çš„ã€‚\nå…¶æ’åºæ–¹å¼ç‚ºç›¸è‡¨è³‡æ–™åè¦†é€²è¡Œæ¯”è¼ƒï¼Œè‹¥ç™¼ç¾è³‡æ–™é †åºä¸å°ï¼Œå°±å°‡è³‡æ–™äº’æ›ã€‚è³‡æ–™å°‡å¦‚æ°£æ³¡èˆ¬ï¼Œå¾ä¸€ç«¯æ¼‚æµ®åˆ°å¦ä¸€ç«¯ã€‚\næµç¨‹æ¨¡æ“¬å‹•ç•«ï¼š\nSee the Pen Sort Algorithm - Bubble Sort with Vue.js by Chupai@Design (@chupai) on CodePen.  éå¢æ’åˆ—é‹ä½œåŸç†ï¼š\n ç¬¬ä¸€è¼ª\næ¯”è¼ƒç›¸é„°çš„å…ƒç´ ï¼Œå¦‚æœå‰è€…å¤§æ–¼å¾Œè€…å°±ç›¸äº’äº¤æ›ï¼›\nå¾é ­åˆ°å°¾åŸ·è¡Œæ¯”è¼ƒå‹•ä½œï¼Œå¯ä»¥ç¢ºä¿æœ€å¾Œä¸€å€‹å…ƒç´ å°‡æœƒæ˜¯æœ€å¤§çš„ã€‚ ç¬¬äºŒè¼ª\næ‰£é™¤æœ€å¾Œä¸€å€‹å…ƒç´ ï¼ˆå·²æ’åºå®Œç•¢å…ƒç´ ï¼‰ï¼Œé‡å°å…¶é¤˜å…ƒç´ é‡è¤‡ä¸Šè¿°æ­¥é©Ÿï¼›  æ¯è¼ªåŸ·è¡Œæ¯”è¼ƒçš„å…ƒç´ æœƒè¶Šä¾†è¶Šå°‘ï¼ŒåŸ·è¡Œè‡³å‰©ä¸€å€‹å…ƒç´ ï¼Œæ’åºå®Œç•¢ã€‚\næ°£æ³¡æ’åºçš„éç¨‹ç¯„ä¾‹ï¼š\nnums = [4, 2, 3, 1]; ç¬¬ä¸€è¼ª 4 2 äº¤æ› =\u0026gt; 2 4 3 1 4 3 äº¤æ› =\u0026gt; 2 3 4 1 4 1 äº¤æ› =\u0026gt; 2 3 1 4 ç¬¬äºŒè¼ª 2 3 ä¸æ› =\u0026gt; 2 3 1 4 3 1 äº¤æ› =\u0026gt; 2 1 3 4 ç¬¬ä¸‰è¼ª 2 1 äº¤æ› =\u0026gt; 1 2 3 4 æ°£æ³¡æ’åºåˆ†æï¼š\n ç©©å®šæ’åº æ™‚é–“è¤‡é›œåº¦  æœ€ä½³ï¼š$O(n)$ æœ€å·®ï¼š$O(n^2)$ å¹³å‡ï¼š$O(n^2)$   ç©ºé–“è¤‡é›œåº¦ç‚ºï¼š $O(1)$  æ¼”ç®—æ³•å¯¦ä½œï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18  function bubbleSort (arr) { const n = arr.length; // 1  // 2  for(let i = 0; i \u0026lt; n - 1; i++) { // 3  for(let j = 0; j \u0026lt; n - 1 - i; j++) { // 4  if(arr[j] \u0026gt; arr[j + 1]) { // 5  const temp = arr[j]; arr[j] = arr[j + 1]; arr[j + 1] = temp; } } } return arr; }    å…ƒç´ æ•¸é‡ã€‚ åŸ·è¡Œ n - 1 è¼ªï¼ˆæœ€å¾Œä¸€æ¬¡åªå‰©è‡ªå·±ï¼Œæ‰€ä»¥ä¸æ¯”è¼ƒï¼‰ã€‚ äº¤æ› n - 1 - i æ¬¡ï¼ˆå…©å…©äº’ç›¸æ¯”è¼ƒï¼Œæ‰€ä»¥ -1ï¼Œä¸¦æ‰£é™¤æ¯è¼ªå·²ç¶“æ’å¥½çš„å…ƒç´ ï¼Œæ‰€ä»¥æ¸› iï¼‰ã€‚ æ¯”è¼ƒå¤§å°ã€‚ å…ƒç´ äº¤æ›ä½ç½®ã€‚  äº¤æ›ä½ç½®ä¹Ÿå¯ä»¥ä½¿ç”¨ ES6 çš„è§£æ§‹æŒ‡å®šï¼ˆdestructuring assignmentï¼‰ï¼š\n1  [arr[j], arr[j+1]] = [arr[j+1], arr[j]];   ä½ å¯ä»¥å»ºç«‹ä¸€å€‹äº¤æ›å‡½å¼ï¼Œä¹‹å¾Œå¾ˆå¤šæ’åºæ³•éƒ½æœƒç”¨åˆ°ï¼š\n1 2 3 4 5 6 7 8  function swap(arr, index1, index2) { const temp = arr[index1]; arr[index1] = arr[index2]; arr[index2] = temp; // - ES6 çš„æ–¹å¼  // [array[index1], array[index2]] = [array[index2], array[index1]]; }   æ°£æ³¡æ’åºçš„å¹³å‡èˆ‡æœ€å·®çš„æ™‚é–“è¤‡é›œåº¦éƒ½æ˜¯ $O(n^2)$ï¼Œä½†æœ€ä½³çš„æƒ…æ³ï¼ˆè¼¸å…¥é™£åˆ—å·²æ˜¯æ’åºå¥½çš„ï¼‰æ™‚é–“è¤‡é›œåº¦ç‚º $O(n)$ï¼ˆå…ƒç´ ä¸åšä»»ä½•çš„äº¤æ›ï¼‰ã€‚\nè¦è®“æœ€ä½³çš„æƒ…æ³æ™‚é–“è¤‡é›œåº¦ç‚º $O(n)$ï¼Œéœ€è¦å„ªåŒ–ä¸€ä¸‹ç¨‹å¼ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15  function bubbleSort (arr) { const n = arr.length; let swapped = true; for(let i = 0; (i \u0026lt; n - 1) \u0026amp;\u0026amp; swapped; i++) { swapped = false; for(let j = 0; j \u0026lt; n - 1 - i; j++) { if(arr[j] \u0026gt; arr[j + 1]) { swapped = true; swap(arr, j, j + 1); } } } return arr; }   åŠ ä¸Šä¸€å€‹æ¨™æ³¨ï¼ˆflagï¼‰ï¼Œåœ¨æ–°çš„ä¸€è¼ªé–‹å§‹æ™‚ï¼Œåˆ¤æ–·ä¸Šä¸€è¼ªæ˜¯å¦æœ‰ç™¼ç”Ÿäº¤æ›ï¼Œå¦‚æœæ²’æœ‰è¡¨ç¤ºå‰©é¤˜çš„å…ƒç´ å·²ç¶“æ’åºå®Œç•¢ï¼Œä¸‹ä¸€è¼ªæœƒå› ç‚º swapped è¢«è¨­ç‚º false å°±æœƒè·³å‡ºè¿´åœˆã€‚\n2. é¸æ“‡æ’åºï¼ˆSelection Sortï¼‰ é¸æ“‡æ’åºï¼ˆSelection Sortï¼‰ æ˜¯ä¸€ç¨®ç°¡å–®ç›´è§€çš„æ’åºæ¼”ç®—æ³•ï¼Œé¡ä¼¼æ°£æ³¡æ’åºã€‚\nå…¶æ’åºæ–¹å¼ç‚ºåè¦†é€²è¡Œæœæ•¸åˆ—ä¸­çš„æœ€å°å€¼ï¼Œä¸¦èˆ‡æœ€å·¦å´çš„è³‡æ–™äº¤äº’ã€‚\næµç¨‹æ¨¡æ“¬å‹•ç•«ï¼š\nSee the Pen Sort Algorithm - Selection Sort with Vue.js by Chupai@Design (@chupai) on CodePen.  éå¢æ’åˆ—é‹ä½œåŸç†ï¼š\n ç¬¬ä¸€è¼ª\né è¨­ç¬¬ä¸€å€‹å…ƒç´ ç‚ºæœ€å°å€¼ï¼Œå¾€å³å´é€²è¡Œæœå°‹æœ€å°å€¼ï¼›\nè‹¥é‡åˆ°æ¯”ç›®å‰æœ€å°å€¼é‚„å°çš„å…ƒç´ å°±æ›¿æ›æ‰ï¼›\næœå°‹è‡³æœ€å¾Œï¼Œå°‡æœ€å°å€¼èˆ‡æœ€å·¦å´å…ƒç´ äº¤æ›ä½ç½®ã€‚ ç¬¬äºŒè¼ª\næ‰£é™¤ç¬¬ä¸€å€‹å…ƒç´ ï¼Œé‡å°å…¶é¤˜å…ƒç´ é‡è¤‡ä»¥ä¸Šçš„æ­¥é©Ÿã€‚  æŒçºŒä¸Šè¿°æ­¥é©Ÿï¼Œæ¯è¼ªåŸ·è¡Œæ¯”è¼ƒçš„å…ƒç´ æœƒè¶Šä¾†è¶Šå°‘ï¼Œç›´åˆ°æ’åºå®Œç•¢ã€‚\né¸æ“‡æ’åºçš„éç¨‹ç¯„ä¾‹ï¼š\nnums = [4, 1, 3, 2]; ç¬¬ä¸€è¼ª min 4 (é è¨­) min 1 äº¤æ›ä½ç½® =\u0026gt; 1 4 3 2 ç¬¬äºŒè¼ª min 4 (é è¨­) min 3 min 2 äº¤æ›ä½ç½® =\u0026gt; 1 2 4 3 ç¬¬ä¸‰è¼ª min 4 (é è¨­) min 3 äº¤æ›ä½ç½® =\u0026gt; 1 2 3 4 é¸æ“‡æ’åºåˆ†æï¼š\n ä¸ç©©å®šæ’åºã€‚ æ™‚é–“è¤‡é›œåº¦  Best Caseï¼š$O(n^2)$ Worst Caseï¼š$O(n^2)$ Average Caseï¼š$O(n^2)$   ç©ºé–“è¤‡é›œåº¦ç‚ºï¼š $O(1)$  æ¼”ç®—æ³•å¯¦ä½œï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17  function selectionSort(arr) { const n = arr.length; // 1  // 2  for(let i = 0; i \u0026lt; n; i++) { // 3  let minIndex = i; // 4  for(let j = 1 + i; j \u0026lt; n; j++) { // 5  if(arr[j] \u0026lt; arr[minIndex]) { minIndex = j; } } swap(arr, i, minIndex); // 6  } return arr; }    å…ƒç´ æ•¸é‡ã€‚ åŸ·è¡Œ n è¼ªã€‚ minIndex ç”¨ä¾†ç´€éŒ„æœ€å°å€¼çš„ç´¢å¼•ã€‚ å› ç‚º minIndex é è¨­ç‚ºç¬¬ä¸€å…ƒç´  j å¾ 1 é–‹å§‹å°‹æ‰¾ï¼Œæ¯è¼ªæœƒæ‰£é™¤å·²æ’å¥½çš„å…ƒç´ ï¼Œæ‰€ä»¥åŠ  iã€‚ æ¯”è¼ƒæ˜¯å¦ç‚ºæœ€å°å€¼ã€‚ ä¸€è¼ªçµæŸå¾Œå°±å°‡æœ€å°å€¼èˆ‡ i äº¤æ›ã€‚  é¸æ“‡æ’åºå°±ç®—é™£åˆ—å·²ç¶“æ˜¯æ’åºå¥½çš„ç‹€æ…‹ï¼Œé‚„æ˜¯è¦ç¶“éå¤šè¼ªæ¯”è¼ƒï¼Œæ‰€ä»¥ä¸è«–æ˜¯æœ€å¥½ã€æœ€å£ã€å¹³å‡çš„æ™‚é–“è¤‡é›œåº¦çš†ç‚º $O(n^2)$ã€‚ä½†è·Ÿæ°£æ³¡æ’åºæ¯”èµ·ä¾†ï¼ŒåŸ·è¡Œäº¤æ›æ“ä½œåªéœ€è¦ n æ¬¡ã€‚\n3. æ’å…¥æ’åºï¼ˆInsertion Sortï¼‰ æ’å…¥æ’åºï¼ˆInsertion Sortï¼‰æ˜¯ä¹Ÿä¸€ç¨®ç°¡å–®ç›´è§€çš„æ’åºæ¼”ç®—æ³•ï¼Œä½ å¦‚æœç©éæ’²å…‹ç‰Œï¼Œå°±éƒ½æœ‰ç”¨éã€‚\nå…¶æ’åºæ–¹å¼ç‚ºï¼Œå°‡å·¦å´ä½œç‚ºå·²æ’åºæ•¸åˆ—ï¼Œå³å´ç‚ºæœªæ’åºæ•¸åˆ—ï¼Œå¾æœªæ’åºçš„æ•¸åˆ—ä¸­å–ç¬¬ä¸€å€‹ï¼Œæ”¾åˆ°å·²æ’åºæ•¸åˆ—ä¸­çš„é©ç•¶ä½ç½®ã€‚\næµç¨‹æ¨¡æ“¬å‹•ç•«ï¼š\nSee the Pen Sort Algorithm - Insertion Sort with Vue.js by Chupai@Design (@chupai) on CodePen.  éå¢æ’åˆ—é‹ä½œåŸç†ï¼š\n ç¬¬ä¸€è¼ª\nå¾ç¬¬ä¸€å€‹å…ƒç´ é–‹å§‹ï¼Œè©²å…ƒç´ è¦–ç‚ºå·²ç¶“è¢«æ’åºï¼›\nå–å‡ºä¸‹ä¸€å€‹å…ƒç´ ï¼Œåˆ¤æ–·è¦æ’å…¥å·¦å´å…ƒç´ çš„å‰é¢é‚„æ˜¯å¾Œé¢ã€‚ ç¬¬äºŒè¼ª\nå·²ç¶“è¢«æ’åºå·²æœ‰å…©å€‹å…ƒç´ ï¼›\nå–å‡ºä¸‹ä¸€å€‹å…ƒç´ ï¼Œåˆ¤æ–·è¦æ’å…¥å·¦å´å…ƒç´ çš„å‰é¢é‚„æ˜¯å¾Œé¢ï¼›\nå¦‚æœæ˜¯å‰é¢å°±ä¾åºå¾€ä¸‹åˆ¤æ–·ã€‚  æŒçºŒä¸Šè¿°æ­¥é©Ÿï¼Œå³å´ä½è¢«æ’åºçš„å…ƒç´ æœƒéæ¸›ï¼Œç›´åˆ°æ’åºå®Œç•¢ã€‚\næ’å…¥æ’åºçš„éç¨‹ç¯„ä¾‹ï¼š\nnums = [4, 2, 3, 1]; ç¬¬ä¸€è¼ª [4] [2 3 1] [ 4] 2 [2 4] ç¬¬äºŒè¼ª [2 4] [3 1] [2 4] 3 [2 3 4] ç¬¬ä¸‰è¼ª [2 3 4] [1] [2 3 4] 1 [2 3 4] 1 [ 2 3 4] 1 [1 2 3 4] åˆ†æï¼š\n ç©©å®šæ’åºã€‚ æ™‚é–“è¤‡é›œåº¦  Best Caseï¼š$O(n)$ Worst Caseï¼š$O(n^2)$ Average Caseï¼š$O(n^2)$   ç©ºé–“è¤‡é›œåº¦ç‚ºï¼š $O(1)$  æ¼”ç®—æ³•å¯¦ä½œï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15  function insertionSort(arr) { const n = arr.length; // 1  // 2  for (let i = 1; i \u0026lt; n; i++) { let temp = arr[i]; // 3  let j = i; // 4  // 5  while (j \u0026gt; 0 \u0026amp;\u0026amp; temp \u0026lt; arr[j - 1]) { arr[j] = arr[j - 1]; // 6  j -= 1; } arr[j] = temp; // 7  } return arr; }    å…ƒç´ æ•¸é‡ã€‚ å¾ç¬¬äºŒå€‹å…ƒç´ é–‹å§‹ï¼Œæ‰€ä»¥ i = 1ã€‚ ä½¿ç”¨ä¸€å€‹è®Šæ•¸å„²å­˜è¦åˆ¤æ–·å…ƒç´ çš„å€¼ã€‚ ä½¿ç”¨ä¸€å€‹è®Šæ•¸å„²å­˜å‰è¦åˆ¤æ–·å…ƒç´ çš„ç•¶å‰ç´¢å¼•ã€‚ åªè¦ç•¶å‰ç´¢å¼•æ¯” 0 å¤§ï¼Œä¸¦ä¸”å°æ–¼å·¦å´çš„å€¼ï¼Œå°±ç¹¼çºŒæ¯”è¼ƒã€‚ å°‡å·¦å´çš„å€¼å¾€å¾Œç§»ã€‚ å°‡è¦åˆ¤æ–·å…ƒç´ çš„å€¼æ’å…¥æ­£ç¢ºä½ç½®ä¸Šã€‚  4. ç¸½çµ é€™ä¸‰ç¨®ç°¡å–®æ¼”ç®—æ³•è¤‡é›œåº¦åŸºæœ¬ä¸Šå·®ä¸å¤šï¼š\n   æ’åºæ–¹æ³• æœ€ä½³æ™‚é–“ æœ€å·®æ™‚é–“ å¹³å‡æ™‚é–“ ç©ºé–“ ç©©å®šæ€§     æ°£æ³¡ Bubble $O(n)$ $O(n^2)$ $O(n^2)$ $O(1)$ ç©©å®š   é¸æ“‡ Selection $O(n^2)$ $O(n^2)$ $O(n^2)$ $O(1)$ ä¸ç©©å®š   æ’å…¥ Insertion $O(n)$ $O(n^2)$ $O(n^2)$ $O(1)$ ç©©å®š    é€™æ˜¯ä¸€å€‹ç°¡æ˜“çš„åŸ·è¡Œæ™‚é–“è¨ˆæ™‚å™¨ï¼Œå° 100 ~ 10000 å€‹éš¨æ©Ÿæ•¸å­—é€²è¡Œæ’åºã€‚\nSee the Pen Simple Sorting Algorithm EXECUTION TIME by Chupai@Design (@chupai) on CodePen.  åŸ·è¡Œæ™‚é–“æœƒæ ¹æ“šåŸ·è¡Œç’°å¢ƒè€Œæœ‰æ‰€ä¸åŒï¼Œä¸éåŸºæœ¬ä¸Šå…ƒç´ æ•¸é‡è¶Šå°ï¼Œçœ‹ä¸å‡ºå½¼æ­¤é–“çš„å·®ç•°ï¼Œä½†ä½ å¯ä»¥è§€å¯Ÿåˆ°ç•¶å…ƒç´ é”åˆ° 10000 æ™‚ï¼Œæ°£æ³¡æ’åºæ˜é¡¯æ˜¯æœ€å·®çš„ï¼Œè€Œæ’å…¥æ’åºç¨å¾®å¿«æ–¼é¸æ“‡æ’åºã€‚\nä¸éé€™ä¸‰ç¨®æ’åºæ³•ï¼Œè³‡æ–™é‡éå¸¸å¤§æ™‚ï¼ˆå¹¾åè¬èµ·è·³ï¼‰ï¼ŒåŸºæœ¬ä¸Šéƒ½è¦è·‘å¾ˆä¹…ï¼Œæ‰€ä»¥å¯¦éš›æ‡‰ç”¨ä¸Šéƒ½ä¸é©åˆï¼Œä¸‹é€±ä¾†çœ‹æ¯”è¼ƒå¯¦ç”¨çš„åˆä½µæ’åºã€‚\n","description":"æ’åºæ¼”ç®—æ³•ï¼ˆSort Algorithmï¼‰æ˜¯åŸºç¤æ¼”ç®—æ³•ä¹‹ä¸€ï¼Œæ˜¯ä¸€ç¨®èƒ½å°‡ä¸€ä¸²è³‡æ–™ä¾ç…§ç‰¹å®šæ’åºæ–¹å¼é€²è¡Œæ’åˆ—çš„ä¸€ç¨®æ¼”ç®—æ³•ã€‚","id":78,"section":"posts","tags":["æ’åºæ¼”ç®—æ³•","æ°£æ³¡æ’åº","æ’å…¥æ’åº","é¸æ“‡æ’åº","w3HexSchool"],"title":"JavaScript å­¸æ¼”ç®—æ³•ï¼ˆå…«ï¼‰- æ’åºæ¼”ç®—æ³•","uri":"https://chupai.github.io/posts/200518_sort_algorithm/"},{"content":"é€™é€±æ˜¯ å…­è§’é¼ å¹´éµäººè³½ ç¬¬åäº”é€±ï¼Œé€™é€±ä¾†çœ‹å…·æœ‰ä¸é‡çˆ¶å…ƒç´ ç‰¹æ€§çš„è³‡æ–™çµæ§‹ï¼Œã€Œé›†åˆã€ \u0026amp;ã€Œ æ˜ å°„ã€ã€‚\n\ré›†åˆï¼ˆSetï¼‰ é›†åˆï¼ˆSetï¼‰ æ˜¯ä¸€çµ„ç„¡é †åºä¸”å”¯ä¸€çš„è³‡æ–™æ‰€çµ„æˆçš„è³‡æ–™çµæ§‹ï¼Œæ¦‚å¿µè¡ç”Ÿè‡ªæ•¸å­¸çš„ã€Œé›†åˆã€ã€‚\nç‰¹æ€§ï¼š\n ç„¡åºæ€§ï¼šé›†åˆå…§å„å…ƒç´ ç„¡ç‰¹å®šæ’åºæˆ–æ’åºä¸é‡è¦ã€‚ äº’ç•°æ€§ï¼šé›†åˆå…§æ¯å€‹å…ƒç´ ä¸”åªèƒ½å‡ºç¾ä¸€æ¬¡ã€‚ ç¢ºå®šæ€§ï¼šçµ¦å®šä¸€å€‹é›†åˆï¼Œä»»çµ¦ä¸€å€‹å…ƒç´ ï¼Œè©²å…ƒç´ æˆ–è€…å±¬æ–¼æˆ–è€…ä¸å±¬æ–¼è©²é›†åˆï¼ŒäºŒè€…å¿…å±…å…¶ä¸€ã€‚  åŸºæœ¬æ“ä½œï¼š\n æª¢æŸ¥æŸå…ƒç´ æ˜¯å¦åœ¨é›†åˆå…§ æ–°å¢å…ƒç´  åˆªé™¤å…ƒç´ ã€‚  é›†åˆçš„åŸºæœ¬æ“ä½œï¼Œæ²’æœ‰å–å¾—æŒ‡å®šå…ƒç´ çš„æ“ä½œï¼Œé€™æ˜¯å› ç‚ºé›†åˆæ˜¯ç„¡åºçš„è³‡æ–™çµæ§‹ï¼Œæ²’æœ‰ç´¢å¼•æˆ–éµåå¯ä»¥å¿«é€Ÿå–å¾—å…ƒç´ ï¼Œå¿…é ˆé€éè¿­ä»£ä¾†æŸ¥è©¢ã€‚\né‹ç®—ï¼š\n è¯é›†ï¼šå°‡å…©å€‹é›†åˆçš„å…ƒç´ åˆä½µæˆä¸€å€‹æ–°é›†åˆï¼ˆå…ƒç´ ä¸é‡è¤‡ï¼‰ã€‚ äº¤é›†ï¼šå°‡å…©å€‹é›†åˆä¸­å…±æœ‰çš„å…ƒç´ ï¼Œçµ„æˆä¸€å€‹æ–°é›†åˆã€‚ å°ç¨±å·®ï¼šå°‡å…©å€‹é›†åˆä¸­ä¸é‡è¤‡çš„å…ƒç´ ï¼Œçµ„æˆä¸€å€‹æ–°é›†åˆã€‚ å·®é›†ï¼šçµ¦å®šå…©é›†åˆï¼Œå›å‚³ä¸€å€‹åŒ…å«å­˜åœ¨ç¬¬ä¸€å€‹é›†åˆå…ƒç´ ä½†ä¸å­˜åœ¨æ–¼ç¬¬äºŒé›†åˆçš„é›†åˆ  JavaScript å¯¦ä½œé›†åˆ JavaScript åœ¨ ES6 å°±æ–°å¢äº† Set ç‰©ä»¶ï¼Œä½†æˆ‘å€‘é€™è£¡å˜—è©¦ä½¿ç”¨ç‰©ä»¶æ¨¡æ“¬ç°¡æ˜“çš„ Setã€‚\n1. å»ºç«‹é¡åˆ¥ 1 2 3 4 5 6  class MySet { constructor() { this.items = {}; } // methods }   è£è³‡æ–™çš„å®¹å™¨ items ä½¿ç”¨ç‰©ä»¶è€Œéé™£åˆ—ï¼Œæ˜¯å› ç‚º JavaScript çš„ç‰©ä»¶å±¬æ€§ä¸æœƒé‡è¤‡ï¼Œå¯ä»¥ç¢ºä¿é›†åˆå…§çš„å…ƒç´ éƒ½æ˜¯å”¯ä¸€çš„ã€‚\n2. æ–¹æ³• åŸºæœ¬æ“ä½œï¼š\n add(element)ï¼šæ–°å¢å…ƒç´ ã€‚ delete(element)ï¼šç§»é™¤å…ƒç´ ã€‚ has(element)ï¼šæª¢æŸ¥å…ƒç´ æ˜¯å¦å­˜åœ¨ã€‚  å› ç‚º add å’Œ delete æ–¹æ³•æœƒç”¨åˆ° has æ–¹æ³•ï¼Œæ‰€ä»¥å…ˆä¾†å¯¦ç¾ has æ–¹æ³•ã€‚å¯ä»¥ä½¿ç”¨ in é—œä¿‚é‹ç®—å­ï¼Œä¾†åˆ¤æ–·å…ƒç´ æ˜¯å¦æ˜¯ items ç‰©ä»¶çš„å±¬æ€§ï¼š\n1 2 3  has(element) { return element in this.items; }   æˆ–æ˜¯ä½¿ç”¨ hasOwnProperty() ä¾†åˆ¤æ–·ç‰©ä»¶æ˜¯å¦æœ‰è©²å±¬æ€§ï¼š\n1 2 3  has(element) { return this.items.hasOwnProperty(element); }   å¦‚æœä½ æœ‰ä½¿ç”¨ ESLint æœƒæ‹‹å‡º éŒ¯èª¤ï¼Œå¯ä»¥æ”¹æˆ Object.prototype.hasOwnProperty.call(this.items, element)ã€‚\næ–°å¢å…ƒç´  add æ–¹æ³•ï¼Œå¿…é ˆå…ˆæª¢æŸ¥å…ƒç´ æ˜¯å¦å­˜åœ¨ï¼Œå¦‚æœå…ƒç´ å·²å­˜åœ¨å°±è·³å‡ºï¼š\n1 2 3 4  add(element) { if (this.has(element)) return; this.items[element] = element; }   åˆªé™¤å…ƒç´  delete æ–¹æ³•ï¼Œä¹Ÿè¦æª¢æŸ¥å…ƒç´ æ˜¯å¦å­˜åœ¨ï¼Œå¦‚æœå…ƒç´ å·²å­˜åœ¨å°±åˆªé™¤ï¼š\n1 2 3 4 5  delete(element) { if (this.has(element)) { delete this.items[element]; } }   å…¶é¤˜è¼”åŠ©å±¬æ€§æ–¹æ³•ï¼š\n clear()ï¼šæ¸…ç©ºã€‚ size()ï¼šå…ƒç´ æ•¸é‡ã€‚ values()ï¼šå›å‚³ä¸€å€‹åŒ…å«æ‰€æœ‰å…ƒç´ çš„é™£åˆ—ã€‚  æœ€çµ‚ç¨‹å¼ç¢¼ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32  class MySet { constructor() { this.items = {}; } has(element) { return Object.prototype.hasOwnProperty.call(this.items, element); } add(element) { if (this.has(element)) return; this.items[element] = element; } delete(element) { if (this.has(element)) { delete this.items[element]; } } clear() { this.items = {}; } size() { return Object.keys(this.items).length; } values() { return Object.values(this.items); } }   å»ºç«‹å¯¦é«”ï¼š\n1 2 3 4 5 6 7 8 9  const set = new MySet(); set.add(1); set.add(2); set.add(3); console.log(set.values()); // [1, 2, 3]  set.delete(1); console.log(set.values()); // [2, 3]   å› ç‚ºæ˜¯ç°¡æ˜“çš„ Setï¼Œæ‰€ä»¥æœ‰å¾ˆå¤šå•é¡Œï¼Œä¾‹å¦‚ï¼šç‰©ä»¶çš„å±¬æ€§åªèƒ½å„²å­˜å­—ä¸²ï¼Œå¦‚æœå…ƒç´ å€¼ç‚ºå…¶ä»–çš„å‹åˆ¥éƒ½æœƒè¢«å¼·åˆ¶è½‰å‹æˆå­—ä¸²ã€‚\n3. ES6 åŸç”Ÿ Set Set åªèƒ½ä½¿ç”¨å»ºæ§‹å¼å»ºç«‹ï¼š\n1  new Set([iterable]);   èƒ½å¤ æ¥å—ä¸€å€‹åƒæ•¸ iterableï¼ˆå¯è¿­ä»£ç‰©ä»¶ï¼‰ã€‚\n1 2 3 4 5  const set1 = new Set([\u0026#39;a\u0026#39;, \u0026#39;b\u0026#39;, \u0026#39;c\u0026#39;]); console.log(set1); // Set {\u0026#39;a\u0026#39;, \u0026#39;b\u0026#39;, \u0026#39;c\u0026#39;}  const set2 = new Set(\u0026#39;Hello\u0026#39;); console.log(set2); // Set {\u0026#39;H\u0026#39;, \u0026#39;e\u0026#39;, \u0026#39;l\u0026#39;, \u0026#39;o\u0026#39;}   å±¬æ€§æ–¹æ³•ï¼š\n add()ï¼šæ–°å¢å…ƒç´ ã€‚ clear()ï¼šç§»é™¤å…¶æ‰€æœ‰å…ƒç´ ã€‚ delete()ï¼šç§»é™¤æŒ‡å®šå…ƒç´ ã€‚ has()ï¼šæª¢æŸ¥å“¡ç´ æ˜¯å¦å­˜åœ¨ã€‚ values()ï¼šå›å‚³ä¸€å€‹ Iterator ç‰©ä»¶ï¼ŒåŒ…å«è‘— Set ç‰©ä»¶ä¸­æ‰€æœ‰å…ƒç´ ï¼Œç”±æ’å…¥é †åºæ’åºã€‚ sizeï¼šå…ƒç´ æ•¸é‡ã€‚ forEach()ï¼šè¿­ä»£è™•ç†å…ƒç´ ï¼Œç”¨æ³•ç­‰åŒé™£åˆ—çš„ forEach()ã€‚  1 2 3 4 5 6 7 8 9  const set = new Set(); set.add(\u0026#39;a\u0026#39;); set.add(\u0026#39;b\u0026#39;); set.add(\u0026#39;c\u0026#39;); console.log(set); // Set {\u0026#39;a\u0026#39;, \u0026#39;b\u0026#39;, \u0026#39;c\u0026#39;}  set.delete(\u0026#39;b\u0026#39;); console.log(set);    æ›´è©³ç´°å…§å®¹è«‹åƒè€ƒ MDNã€‚\n é›†åˆæ“ä½œ ä½¿ç”¨ ES6 åŸç”Ÿ Setã€‚\n1. è¯é›† å‰µå»ºä¸€å€‹å‡½å¼ï¼Œå›å‚³å…©å€‹é›†åˆä¸­æ‰€æœ‰å…ƒç´ çš„æ–°é›†åˆã€‚\næœ€åŸºæœ¬çš„ä½œæ³•å°±æ˜¯è¿­ä»£é›†åˆï¼Œå°‡å…ƒç´ æ–°å¢è‡³æ–°é›†åˆä¸­ï¼š\n1 2 3 4 5 6  function uion(set1, set2) { const newSet = new Set(); set1.forEach(item =\u0026gt; newSet.add(item) ); set2.forEach(item =\u0026gt; newSet.add(item) ); return newSet; }   æ›´ç°¡å–®çš„çš„ä½œæ³•å°±æ˜¯ï¼Œä½¿ç”¨å±•é–‹é‹ç®—å­ï¼ˆspread operatorï¼‰ï¼Œå°‡å…©å€‹é›†åˆåœ¨ä¸€å€‹é™£åˆ—ä¸­å±•é–‹ï¼Œä¸¦å»ºç«‹æ–°é›†åˆã€‚\n1 2 3  function union(set1, set2) { return new Set([...set1, ...set2]); }   1 2 3 4  const set1 = new Set([\u0026#39;a\u0026#39;, \u0026#39;b\u0026#39;, \u0026#39;c\u0026#39;]); const set2 = new Set([\u0026#39;a\u0026#39;, \u0026#39;c\u0026#39;, \u0026#39;e\u0026#39;]); console.log(union(set1, set2)); // Set {\u0026#39;a\u0026#39;, \u0026#39;b\u0026#39;, \u0026#39;c\u0026#39;, \u0026#39;e\u0026#39;}   2. äº¤é›† å°‡å…©å€‹é›†åˆä¸­å…±æœ‰çš„å…ƒç´ ï¼Œçµ„æˆä¸€å€‹æ–°é›†åˆã€‚\n1 2 3 4 5 6 7 8 9  function intersection(set1, set2) { const temp = new Set(); set1.forEach(item =\u0026gt; { if(set2.has(item)) { temp.add(item); } }); return temp; }   ä½¿ç”¨ has() å»æª¢æŸ¥å…ƒç´ ã€‚\n1 2 3 4  const set1 = new Set([\u0026#39;a\u0026#39;, \u0026#39;b\u0026#39;, \u0026#39;c\u0026#39;]); const set2 = new Set([\u0026#39;a\u0026#39;, \u0026#39;c\u0026#39;, \u0026#39;e\u0026#39;]); console.log(intersection(set1, set2)); // Set {\u0026#39;a\u0026#39;, \u0026#39;c\u0026#39;}   3. å°ç¨±å·® å°‡å…©å€‹é›†åˆä¸­ä¸é‡è¤‡çš„å…ƒç´ ï¼Œçµ„æˆä¸€å€‹æ–°é›†åˆã€‚\n1 2 3 4 5 6 7 8 9 10 11  function difference(set1, set2) { const temp = union(set1, set2); const intersectionSet = intersection(set1, set2); intersection.forEach(item =\u0026gt; { if(temp.has(item)) { temp.delete(item); } }); return temp; }   ç°¡å–®ä¾†èªªå°±æ˜¯è¯é›†æ¸›å»äº¤é›†ã€‚\n1 2 3 4  const set1 = new Set([\u0026#39;a\u0026#39;, \u0026#39;b\u0026#39;, \u0026#39;c\u0026#39;]); const set2 = new Set([\u0026#39;a\u0026#39;, \u0026#39;c\u0026#39;, \u0026#39;e\u0026#39;]); console.log(difference(set1, set2)); // Set {\u0026#39;b\u0026#39;, \u0026#39;e\u0026#39;}   4. å·®é›† çµ¦å®šå…©é›†åˆï¼Œå›å‚³ä¸€å€‹åŒ…å«å­˜åœ¨ç¬¬ä¸€å€‹é›†åˆå…ƒç´ ä½†ä¸å­˜åœ¨æ–¼ç¬¬äºŒé›†åˆçš„é›†åˆã€‚\n1 2 3 4 5 6 7 8 9  function subtracting(set1, set2) { const temp = new Set(set1); set2.forEach((item) =\u0026gt; { if (temp.has(item)) { temp.delete(item); } }); return temp; }   å…ˆè¤‡è£½ set1 å†æ¸›å» set2 æ“æœ‰çš„å…ƒç´ ã€‚\næˆ–è€…æ˜¯æ–°å»ºä¸€å€‹é›†åˆï¼Œå†å°‡æ²’é‡è¤‡çš„å…ƒç´ æ–°å¢è‡³æ–°é›†åˆä¸­ï¼š\n1 2 3 4 5 6 7 8 9  function subtracting(set1, set2) { const temp = new Set(); set2.forEach((item) =\u0026gt; { if (!temp.has(item)) { temp.add(item); } }); return temp; }   1 2 3 4  const set1 = new Set([\u0026#39;a\u0026#39;, \u0026#39;b\u0026#39;, \u0026#39;c\u0026#39;]); const set2 = new Set([\u0026#39;a\u0026#39;, \u0026#39;c\u0026#39;, \u0026#39;e\u0026#39;]); console.log(subtracting(set1, set2)); // Set {\u0026#39;b\u0026#39;}   5. å­é›† æª¢æŸ¥è©²é›†åˆæ˜¯æ˜¯å¦ç‚ºå¦ä¸€å€‹é›†åˆçš„å­é›†ã€‚\n1 2 3 4 5 6 7 8  function subSet(set1, set2) { if (set1.size \u0026gt; set2.size) return false; for (let item of set1) { if (!set2.has(item)) return false; } return true; }   forEach æ²’è¾¦æ³• return æ‰€ä»¥æˆ‘å€‘ä½¿ç”¨ for of ä¾†è¿­ä»£ Setã€‚\n1 2 3 4 5  console.log(subSet(new Set([\u0026#39;a\u0026#39;, \u0026#39;b\u0026#39;, \u0026#39;c\u0026#39;]), new Set([\u0026#39;a\u0026#39;, \u0026#39;c\u0026#39;, \u0026#39;e\u0026#39;]))); // false  console.log(subSet(new Set([\u0026#39;a\u0026#39;, \u0026#39;b\u0026#39;, \u0026#39;c\u0026#39;]), new Set([\u0026#39;a\u0026#39;, \u0026#39;b\u0026#39;, \u0026#39;c\u0026#39;, \u0026#39;e\u0026#39;]))); // true   æ˜ å°„ï¼ˆMapï¼‰ æ˜ å°„ï¼ˆMapï¼‰æˆ–ç¨± é—œè¯é™£åˆ—ï¼ˆAssociative Arrayï¼‰ã€å­—å…¸ï¼ˆDictionaryï¼‰æ˜¯ä¸€ç¨®ä»¥ã€Œéµå€¼å° {key: value} ã€å½¢å¼å„²å­˜çš„æœ‰åºè³‡æ–™çµæ§‹ï¼Œæœƒæ ¹æ“šä¸åŒèªè¨€æœ‰ä¸åŒçš„åç¨±ã€‚\næ˜ å°„ï¼Œå°±å¦‚åŒé›»è©±ç°¿ä¸­çš„åå­—å’Œè™Ÿç¢¼ä¸€æ¨£ï¼Œå…ˆæ‰¾åˆ°åå­—ï¼Œå°±çŸ¥é“å®ƒçš„é›»è©±è™Ÿç¢¼ã€‚éµï¼ˆkeyï¼‰å°±æ˜¯å§“åï¼Œè€Œå€¼ï¼ˆvalueï¼‰å¦‚åŒé›»è©±è™Ÿç¢¼ã€‚\nå®šç¾©ï¼š\n key ä¸€å®šå°æ˜  value ä¸€å€‹æ˜ å°„ä¸èƒ½åŒ…å«é‡è¤‡çš„ key æ¯å€‹ key æœ€å¤šåªèƒ½å°æ˜ åˆ°ä¸€å€‹ value  åŸºæœ¬æ“ä½œï¼š\n æ–°å¢ åˆªé™¤ æŸ¥è©¢  JavaScript ä¸­çš„æ˜ å°„ JavaScript çš„ç‰©ä»¶ç‰©ä»¶æœ¬è³ªä¸Šæ˜¯éµå€¼å°çš„è³‡æ–™çµæ§‹ï¼Œç•¶ä½ éœ€è¦å°‡ key å°æ‡‰åˆ° value æ™‚ï¼Œå¯ä»¥å°‡å­—ä¸²ä½œç‚º key å°æ‡‰åˆ°ä»»ä½•å‹åˆ¥çš„ valueï¼Œæ­é… inã€deleteã€[] ç­‰ï¼Œèƒ½é”åˆ°æ˜ å°„çš„ç›¸é—œæ“ä½œã€‚\nç„¶è€Œï¼Œç‰©ä»¶çµ‚ç©¶ä¸æ˜¯æ˜ å°„é¡å‹ï¼Œå¯èƒ½æœƒé‡åˆ°ä»¥ä¸‹å•é¡Œï¼š\n å› ç‚ºç‰©ä»¶åŸå‹çš„ç‰¹æ€§ï¼Œå› æ­¤å¯èƒ½å°æ‡‰åˆ°æ„å¤–çš„æ±è¥¿ã€‚ ä¸æ˜“çŸ¥é“ç‰©ä»¶è£¡æœ‰å¤šå°‘å°æ‡‰ã€‚ ç‰©ä»¶ç„¡æ³•ä½¿ç”¨éå­—ä¸²å€¼ä½œç‚º keyã€‚ ç„¡æ³•ä¿è­‰ key çš„é †åºã€‚  è«‹è€ƒæ…®ä»¥ä¸‹æƒ…æ³ï¼Œç‰©ä»¶ç„¡æ³•ä½¿ç”¨éå­—ä¸²å€¼ä½œç‚ºå±¬æ€§åï¼š\n1 2 3 4 5 6 7 8 9  const m = {}; const x = { id: 1 }; const y = { id: 1 }; m[x] = \u0026#39;foo\u0026#39;; m[y] = \u0026#39;bar\u0026#39;; console.log(m[x]); // bar   ä½ å¯ä»¥ç™¼ç¾ { id: 1 } è¢«å¼·åˆ¶è½‰å‹æˆå­—ä¸²ï¼Œm[x] èˆ‡ m[y] æŒ‡å‘åŒä¸€å€‹å±¬æ€§ã€‚\n1. ES6 åŸç”Ÿ Map ç‰©ä»¶ JavaScript åœ¨ ES6 å¯¦ç¾äº† Map ç‰©ä»¶ï¼Œå°±æ˜¯å­—å…¸ã€‚\nMap åªèƒ½ä½¿ç”¨å»ºæ§‹å¼å»ºç«‹ï¼š\n1  new Map([iterable]);   iterable åŸºæœ¬ä¸Šç‚ºé™£åˆ—ï¼ˆæˆ–å…¶ä»–å…ƒç´ æˆéµå€¼å°çš„å¯è¿­ä»£ç‰©ä»¶ï¼‰ã€‚\nç”¨æ³•å¦‚ä¸‹ï¼š\n1 2 3 4 5 6  const m = new Map([ [\u0026#39;a\u0026#39;, 1], [\u0026#39;b\u0026#39;, 2], ]); console.log(m); // Map { \u0026#39;a\u0026#39; =\u0026gt; 1, \u0026#39;b\u0026#39; =\u0026gt; 2 }   é™£åˆ—çš„ç¬¬ä¸€å€‹é …ç›®å°± keyï¼Œç¬¬äºŒå€‹ç‚º valueã€‚\næˆ–æ˜¯ä½¿ç”¨ Object.entries æ–¹æ³•ï¼Œå®ƒå›å‚³çš„æ ¼å¼å°±å¦‚åŒä¸Šé¢æ‰€éœ€è¦çš„ï¼š\n1 2 3 4 5 6  const obj = { a: 1, b: 2 }; const iterable = Object.entries(obj); console.log(iterable); // [ [ \u0026#39;a\u0026#39;, 1 ], [ \u0026#39;b\u0026#39;, 2 ] ]  const m = new Map(iterable); console.log(m); // Map { \u0026#39;a\u0026#39; =\u0026gt; 1, \u0026#39;b\u0026#39; =\u0026gt; 2 }   ä¹Ÿå°±æ˜¯èªªå¯ä»¥ä½¿ç”¨æ­¤æ–¹æ³•å°‡ç‰©ä»¶è½‰æˆ Mapã€‚\nå­˜å–å…ƒç´ çš„æ–¹æ³•ç‚ºï¼š\n set(key, value)ï¼šæ ¹æ“š key å­˜å„² valueã€‚ get(key)ï¼šæ ¹æ“š key å›å‚³ valueï¼Œå¦‚æœ map ä¸­è©² key ä¸å­˜åœ¨ï¼Œå›å‚³ undefinedã€‚  1 2 3 4 5 6  const m = new Map(); m.set(\u0026#39;a\u0026#39;, 1); console.log( m.get(\u0026#39;a\u0026#39;) ); // 1 console.log( m.get(\u0026#39;b\u0026#39;) ); // undefined   set() æœƒå›å‚³ç•¶å‰ map å¯¦é«”ï¼Œå› æ­¤å¯ä»¥æ¡éˆå¼å¯«æ³•ï¼š\n1 2 3 4 5  const m = new Map(); m.set(\u0026#39;a\u0026#39;, 1) .set(\u0026#39;b\u0026#39;, 2) .set(\u0026#39;c\u0026#39;, 3);   ç§»é™¤å…ƒç´ éœ€è¦ä½¿ç”¨ delete(key)ï¼Œè€Œä¸æ˜¯ delete é‹ç®—å­ï¼Œè€Œ has(key) å¯ä»¥åˆ¤æ–· key æ˜¯å¦å­˜åœ¨ã€‚\n1 2 3 4 5 6 7 8  const m = new Map([ [\u0026#39;a\u0026#39;, 1], [\u0026#39;b\u0026#39;, 2] ]); console.log( m.has(\u0026#39;a\u0026#39;) ); // true m.delete(\u0026#39;a\u0026#39;); console.log( m.has(\u0026#39;a\u0026#39;) ); // false   Map èˆ‡ç‰©ä»¶å¦ä¸€å€‹æœ€å¤§å·®ç•°å°±æ˜¯æœ‰ forEach æ–¹æ³•å’Œå¯ä»¥ä½¿ç”¨ for of è¿­ä»£ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19  const m = new Map([ [\u0026#39;a\u0026#39;, 1], [\u0026#39;b\u0026#39;, 2], [\u0026#39;c\u0026#39;, 3], ]); m.forEach((value, key) =\u0026gt; { console.log(value, key); }); // 1 \u0026#39;a\u0026#39; // 2 \u0026#39;b\u0026#39; // 3 \u0026#39;c\u0026#39;  for (let key of m) { console.log(key); } // [\u0026#39;a\u0026#39;, 1] // [\u0026#39;b\u0026#39;, 2] // [\u0026#39;c\u0026#39;, 3]    æ›´è©³ç´°å…§å®¹è«‹åƒè€ƒ Mapã€‚\n 2. WeakMap é™¤äº† Mapï¼ŒES6 é‚„æ–°å¢äº† WeakMapã€‚\nWeakMap èˆ‡ Map åŸºæœ¬ä¸Šä¸€æ¨£ï¼Œé™¤äº†ä»¥ä¸‹å¹¾é»ï¼š\n WeakMap çš„ key åªæ¥å—ç‰©ä»¶ä½œç‚º key ã€‚ WeakMap çš„ key æ‰€æŒ‡å‘çš„ç‰©ä»¶å¯ä»¥è¢«åƒåœ¾å›æ”¶ã€‚ WeakMap ç„¡æ³•è¢«è¿­ä»£æˆ–æ¸…é™¤ã€‚  1 2 3 4 5 6  const wm = new WeakMap(); const obj = {}; wm.set(obj, 1); // æ­£å¸¸ wm.set(\u0026#39;a\u0026#39;, 2); // Uncaught TypeError Invalid value used as weak map key   WeakMap åªæœ‰ä»¥ä¸‹å±¬æ€§æ–¹æ³•ï¼š\n get(key) set(key, value) delete(key) has(key)  sizeã€values()ã€entries()ã€forEach() ç­‰çš†æ²’æœ‰ã€‚\nWeakMap å° key å¼•ç”¨æ˜¯ã€Œå¼±å¼•ç”¨ã€ï¼Œé€™æ„å‘³è‘—è‹¥æ²’æœ‰å…¶ä»–å¼•ç”¨å­˜åœ¨æ™‚ï¼Œåƒåœ¾å›æ”¶æ©Ÿåˆ¶å°±æœƒé‡‹æ”¾è©²ç‰©ä»¶æ‰€ä½”ç”¨çš„è¨˜æ†¶é«”ç©ºé–“ã€‚å› æ­¤ WeakMap è¢«è¨­è¨ˆæˆç„¡æ³•è¿­ä»£ã€‚\nèˆ‰ä¾‹ä¾†èªªï¼Œæˆ‘å€‘ä½¿ç”¨ä¸€å€‹ Map ä¾†è¨˜éŒ„ç”¨æˆ¶çš„è¨ªå•æ¬¡æ•¸ï¼š\n1 2 3 4  let john = { name: \u0026#39;John\u0026#39; }; const visitsCountMap = new Map(); visitsCountMap.set(john, 1);   æŸå¤©é€™å€‹ç”¨æˆ¶éƒ½ä¸æœƒä¾†äº†ï¼Œæ‰€ä»¥æˆ‘å€‘ä¸éœ€è¦å®ƒçš„è¨ªå•è³‡æ–™äº†ï¼Œæˆ‘å€‘å¦‚æœåªæœ‰ç§»é™¤ john çš„æŒ‡å‘ï¼Œmap å…§çš„å…§å®¹é‚„æ˜¯æœƒå­˜åœ¨ï¼š\n1 2 3  john = null; console.log( visitsCountMap.size ); // 1   å› ç‚ºé‚„éœ€è¦æ¸…é™¤ map çš„å…§å®¹ï¼Œæ‰€ä»¥ä¸èƒ½å…ˆç§»é™¤ john çš„æŒ‡å‘ï¼Œéœ€è¦æ”¹æˆå…ˆç§»é™¤ map å…§çš„å¼•ç”¨ï¼Œå†ç§»é™¤ john çš„æŒ‡å‘ï¼š\n1 2 3 4 5 6 7  // ä¸Šæ®µç¨‹å¼ç¢¼æ”¹æˆé€™æ¨£  visitsCountMap.delete( john ); console.log( visitsCountMap.size ); // 0  // æ¸…é™¤ map çš„å…§å®¹å†ç§»é™¤æŒ‡å‘ john = null;   ä½†é€™æ¨£çš„è³‡æ–™ç§»é™¤éå¸¸éº»ç…©ï¼Œå› æ­¤å°±æœ‰äº† WeakMapï¼š\n1 2 3 4 5  let john = { name: \u0026#39;John\u0026#39; }; const visitsCountWeakMap = new WeakMap(); visitsCountWeakMap.set(john, 1); john = null;   { name: 'John' } é€™å€‹ç‰©ä»¶ï¼Œé™¤äº† WeakMap æ²’æœ‰å…¶ä»–å¼•ç”¨äº†ï¼Œæ‰€ä»¥é€™å€‹ç‰©ä»¶æœƒè‡ªå‹•çš„å¾è¨˜æ†¶é«”å’Œ visitsCountWeakMap ä¸­åˆªé™¤ã€‚\n æ›´è©³ç´°å…§å®¹è«‹åƒè€ƒ WeakMapã€‚\n","description":"é€™é€±æ˜¯å…­è§’é¼ å¹´éµäººè³½ç¬¬åäº”é€±ï¼Œé€™é€±ä¾†çœ‹å…·æœ‰ä¸é‡è¤‡å…ƒç´ ç‰¹æ€§çš„è³‡æ–™çµæ§‹ï¼Œã€Œé›†åˆã€èˆ‡ã€Œ æ˜ å°„ã€ã€‚","id":79,"section":"posts","tags":["è³‡æ–™çµæ§‹","é›†åˆ","æ˜ å°„","w3HexSchool"],"title":"JavaScript å­¸æ¼”ç®—æ³•ï¼ˆä¸ƒï¼‰- é›†åˆ \u0026 æ˜ å°„","uri":"https://chupai.github.io/posts/200517_ds_set_map/"},{"content":" JavaScriptç­†è¨˜ ç›®éŒ„\n \rDate ç‰©ä»¶ JavaScript æ²’æœ‰æ—¥æœŸè³‡æ–™å‹æ…‹ï¼Œä½†æ˜¯å®ƒæœ‰æä¾› Date ç‰©ä»¶ï¼Œä½¿ç”¨å…§ä»¶çš„æ—¥æœŸç‰©ä»¶èˆ‡æ–¹æ³•ã€å¯ä»¥å–å¾—èˆ‡æ“ä½œæ—¥æœŸæ™‚é–“ã€‚\nDate ç‰©ä»¶ä»¥ä¸–ç•Œæ¨™æº–æ™‚é–“ï¼ˆUTCï¼‰ 1970 å¹´ 1 æœˆ 1 æ—¥ç‚ºé›¶é»ï¼Œç¯„åœç‚ºå‰å¾Œå„ 1 å„„å¤©ï¼ˆ+-100,000,000ï¼‰ï¼Œå–®ä½ç‚ºæ¯«ç§’ã€‚\nDate ç‰©ä»¶åªèƒ½ç”± new Date() ä½œç‚ºå»ºæ§‹å™¨ä¾†ç”¢ç”Ÿï¼Œå¦‚æœ Date() ä½œç‚ºæ™®é€šå‡½å¼ç›´æ¥å‘¼å«ï¼Œæœƒå›å‚³ç•¶å‰æ™‚é–“çš„å­—ä¸²ï¼Œè€Œé Date ç‰©ä»¶ï¼š\n1 2  console.log( Date ); // \u0026#34;Sat Jan 11 2020 06:49:39 GMT+0800 (å°åŒ—æ¨™æº–æ™‚é–“)\u0026#34;   1. å¤šæ™‚å€  UTC æŒ‡çš„æ˜¯ä¸–ç•Œå”èª¿æ™‚é–“ï¼ˆCoordinated Universal Timeï¼‰ã€‚ GTM æŒ‡æ ¼æ—å¨æ²»æ¨™æº–æ™‚é–“ï¼ˆGreenwich Mean Timeï¼‰ã€‚  GMT å’Œ UTC åœ¨ä¸€èˆ¬ä½¿ç”¨çš„æƒ…æ³ä¸‹æ²’æœ‰å·®åˆ¥ï¼Œä½ è¦èªªå°ç£çš„æ™‚å€æ˜¯ UTC+8 æˆ–æ˜¯ GMT+8 éƒ½å¯ä»¥ã€‚\n åç§»ï¼ˆoffsetï¼‰ æŒ‡çš„æ˜¯æŸåœ°å€èˆ‡ UTC åç§»çš„æ™‚é–“ï¼Œä¾‹å¦‚ +08:00 è¡¨ç¤ºè©²åœ°å€çš„æ™‚é–“æ¯” UTC å¿«äº† 8 å°æ™‚ã€‚ å¤æ—¥æ™‚é–“ï¼ˆDaylight Saving Time, DSTï¼‰  å»ºç«‹ Date ç‰©ä»¶ new Date() çš„ä½¿ç”¨æ–¹æ³•åŸºæœ¬ç‚ºå››ç¨®ï¼š\n1 2 3 4  new Date(); new Date(milliseconds); new Date(dateString); new Date(year, month, date, [hours, minutes, seconds, ms]);   1. ä¸å¸¶åƒæ•¸ new Date() ä¸å¸¶åƒæ•¸ï¼Œè¡¨ç¤ºç•¶å‰æ—¥æœŸå’Œæ™‚é–“çš„ Date ç‰©ä»¶ã€‚\n1 2 3 4  let now = new Date(); console.log( now ); // Sat Jan 11 2020 06:41:55 GMT+0800 (å°åŒ—æ¨™æº–æ™‚é–“)   2. milliseconds new Date(milliseconds)ï¼Œmilliseconds è¡¨ç¤ºå¾ 1970-01-01 00:00:00 UTC+0 é–‹å§‹æ‰€ç¶“éçš„æ¯«ç§’æ•¸ã€‚\n1 2 3 4 5  console.log( new Date(0) ); // Thu Jan 01 1970 08:00:00 GMT+0800 (å°åŒ—æ¨™æº–æ™‚é–“)  console.log( new Date(24 * 3600 * 1000) ); // å¢åŠ  24 å°æ™‚ // Fri Jan 02 1970 08:00:00 GMT+0800 (å°åŒ—æ¨™æº–æ™‚é–“)   3. datestring new Date(datestring)ï¼Œdatestring è¡¨ç¤ºä¸€å€‹æ—¥æœŸæˆ–æ™‚é–“æ ¼å¼çš„å­—ä¸²ï¼Œè©²åƒæ•¸æœƒé€šé Date.parse ç®—æ³•è§£æå­—ä¸²ã€‚\næ³¨æ„æ™‚é–“æ ¼å¼ï¼Œä½ å¯ä»¥ç™¼ç¾ï¼Œä¸åŒçš„æ™‚é–“æ ¼å¼ï¼Œæœƒæœ‰ä¸åŒçš„çµæœï¼š\n1 2 3 4 5  console.log(new Date(\u0026#39;2020/01/01\u0026#39;)); // Wed Jan 01 2020 00:00:00 GMT+0800 (å°åŒ—æ¨™æº–æ™‚é–“)  console.log(new Date(\u0026#39;2020-01-01\u0026#39;)); // å¤šäº†8å°æ™‚ // Wed Jan 01 2020 08:00:00 GMT+0800 (å°åŒ—æ¨™æº–æ™‚é–“)â€ˆ  é€™æ˜¯å› ç‚º 2020-01-01 æ–¹å¼å»ºç«‹çš„ Date ç‰©ä»¶ï¼Œæœƒè¢«ç€è¦½å™¨è§£æç‚ºæ ¼æ—å¨æ²»æ¨™æº–æ™‚é–“çš„æ—¥æœŸï¼Œä½†å°ç£æœ¬åœ°æ™‚é–“æœƒå¤š 8 å€‹å°æ™‚ï¼Œå› æ­¤é¡¯ç¤ºä¸Šæœƒè‡ªå‹•åŠ ä¸Šã€‚\næ—¥æœŸæˆ–æ™‚é–“æ ¼å¼å­—ä¸²å®šç¾©ï¼Œå…¶å¯¦æœ‰ç‰¹å®šè¦æ±‚ï¼ˆISO8601ï¼‰ï¼š\nYYYY-MM-DDTHH:mm:ss.sssZ éµå¾ªä¸Šè¿°è¦æ ¼æ˜¯æœ€å®‰å…¨çš„ç”¨æ³•ã€‚\n æ—¥æœŸ YYYY-MM-DDï¼šå¹´-æœˆ-æ—¥ å­—ä¸² \u0026quot;T\u0026quot;ï¼šæ˜¯ä¸€å€‹åˆ†éš”ç¬¦ æ™‚é–“ HH:mm:ss.sssï¼šå°æ™‚ã€åˆ†é˜ã€ç§’ã€æ¯«ç§’ å¯é¸å­—ä¸² \u0026quot;Z\u0026quot;ï¼šä»£è¡¨æ™‚å€ï¼Œå–®å€‹å­—ç¬¦ Z ä»£è¡¨ UTC+0  4. æ™‚é–“å–®ä½ new Date(year, month, [date, hours, minutes, seconds, ms])\n å¿…è¦åƒæ•¸ï¼šå¹´ã€æœˆ  å¹´ï¼ˆå¿…é ˆæ˜¯å››ä½æ•¸ï¼‰ æœˆï¼ˆæœˆä»½æ˜¯å¾ 0ï¼ˆä¸€æœˆï¼‰é–‹å§‹åˆ° 11ï¼ˆåäºŒæœˆï¼‰ï¼‰   é¸æ“‡æ€§çš„åƒæ•¸ï¼šæ—¥ã€æ™‚ã€åˆ†ã€ç§’ã€æ¯«ç§’  æ—¥ï¼ˆé è¨­ç‚º 1ï¼‰ æ™‚ã€åˆ†ã€ç§’ã€æ¯«ç§’ï¼ˆé è¨­ç‚º 0ï¼‰    1 2  console.log( new Date(2020,0) ); // Wed Jan 01 2020 00:00:00 GMT+0800 (å°åŒ—æ¨™æº–æ™‚é–“)â€ˆ  å¦‚æœè¶…å‡ºæ­£ç¢ºç¯„åœå…§çš„æ•¸å­—æœƒè‡ªå‹•è½‰æ›æˆå°æ‡‰æ™‚é–“ï¼š\n1 2  console.log( new Date(2020, 0, 31, 25) ); // Sat Feb 01 2020 01:00:00 GMT+0800 (å°åŒ—æ¨™æº–æ™‚é–“)â€ˆ  ç²å–/è¨­å®š 1. ç²å– å¾ Date ç‰©ä»¶å–çš„ç›¸å°æ‡‰çš„æ™‚é–“æ•¸å€¼ï¼ˆnumberï¼‰ï¼š\n getFullYear()ï¼šå¹´ä»½ï¼ˆå››ä½æ•¸ï¼‰ getMonth()ï¼šæœˆä»½å¾ 0 åˆ° 11 getDate()ï¼šç•¶æœˆçš„æ—¥æœŸï¼Œå¾ 1 åˆ° 31 getHours()ï¼šæ™‚ getMinutes()ï¼šåˆ† getSeconds()ï¼šç§’ getMilliseconds()ï¼šæ¯«ç§’ getDay()ï¼šç²å–ä¸€é€±ä¸­çš„ç¬¬å¹¾å¤©ï¼Œ0ï¼ˆæ˜ŸæœŸå¤©ï¼‰åˆ° 6ï¼ˆæ˜ŸæœŸå…­ï¼‰  1 2 3 4 5 6 7 8 9  let today = new Date(); console.log( today.getFullYear() ); // 2020 console.log( today.getMonth() ); // 0 console.log( today.getDate() ); // 11 console.log( today.getHours() ); // 8 console.log( today.getSeconds() ); // 35 console.log( today.getMilliseconds() ); // 111 console.log( today.getDay() ); // 6   ä»¥ä¸Šæ‰€æœ‰çš„æ–¹æ³•å›å‚³çš„è¨Šæ¯éƒ½æ˜¯åŸºæ–¼ç•¶åœ°æ™‚å€çš„ã€‚\nå¦‚æœè¦ç²å–æ¨™æº–æ™‚é–“ï¼Œå‰‡å¯ä»¥åŠ ä¸Š UTCï¼Œä¾‹å¦‚ getUTCHours()ï¼š\n1  console.log( today.getUTCHours() ); // 0   2. è¨­å®š ä»¥ä¸‹æ–¹æ³•å¯ä»¥è¨­ç½®æ™‚é–“è¨Šæ¯ï¼š\n setFullYear(year [, month, date]) setMonth(month [, date]) setDate(date) setHours(hour [, min, sec, ms]) setMinutes(min [, sec, ms]) setSeconds(sec [, ms]) setMilliseconds(ms)  ä»¥ä¸Šæ–¹æ³•æœƒå›å‚³æ”¹è®Šå¾Œçš„æ™‚é–“æˆ³ï¼Œå¦å¤–ï¼Œä¹Ÿéƒ½æœ‰å°æ‡‰çš„ UTC ç‰ˆæœ¬ï¼Œä¾‹å¦‚ setUTCHours()ã€‚\n3. çµåˆä½¿ç”¨ ç²å–/è¨­å®š æ–¹æ³•çµåˆä½¿ç”¨ï¼Œå¾—åˆ°ç›¸å°æ™‚é–“ï¼š\n1 2 3 4 5 6 7 8  let d = new Date(); // å°‡æ—¥æœŸå‘å¾Œæ¨1000å¤© console.log( d.setDate(d.getDate() + 1000) ); // å°‡æ™‚é–“è¨­ç‚º6å°æ™‚å¾Œ console.log( d.setHours(d.getHours() + 6) ); // å°‡å¹´ä»½è¨­ç‚ºå»å¹´ console.log( d.setFullYear(d.getFullYear() - 1) );   æ™‚é–“æˆ³ï¼ˆTimestampï¼‰ æ™‚é–“æˆ³ï¼ˆTimestampï¼‰å¾ 1970-1-1 00:00:00 UTC+0 é–‹å§‹çš„æ¯«ç§’æ•¸ã€‚\nDate çš„éœæ…‹æ–¹æ³•ï¼š\n Date.now()ï¼šå›å‚³ç•¶å‰æ™‚é–“çš„æ™‚é–“æˆ³ã€‚ Date.parse()ï¼šè§£ææ—¥æœŸæˆ–æ™‚é–“æ ¼å¼çš„å­—ä¸²ï¼Œå›å‚³è©²æ™‚é–“çš„æ™‚é–“æˆ³ã€‚ Date.UTC()ï¼šéœ€è¦å‚³å…¥èˆ‡å»ºæ§‹å™¨ç›¸åŒçš„åƒæ•¸ï¼ˆå³å¹´æœˆæ—¥ç­‰ç­‰åƒæ•¸ï¼‰ï¼Œå›å‚³è©²æ™‚é–“çš„æ™‚é–“æˆ³ã€‚  1 2 3 4  console.log( Date.now() ); // 1578705450196 console.log( Date.parse(\u0026#39;2020-01-01\u0026#39;) ); // 1577836800000 console.log( Date.parse(\u0026#39;2020/01/01\u0026#39;) ); // 1577808000000 console.log( Date.UTC(2020, 0, 1) );   Date ç‰©ä»¶è½‰æ™‚é–“æˆ³çš„æ–¹æ³•ï¼š\n getTime()ï¼šå›å‚³æ—¥æœŸçš„æ™‚é–“æˆ³  1 2 3  let time = new Date(2020, 0, 1); console.log( time.getTime() ); // 1577808000000   å¦‚æœå°‡ Date ç‰©ä»¶è½‰æˆæ•¸å€¼ï¼ˆå‘¼å« valueOf()ï¼‰ï¼Œç›¸ç•¶æ–¼ getTime() æ–¹æ³•ï¼š\n1  console.log( Number(time) ); // 1577808000000   1. Unix æ™‚é–“æˆ³ ä¸€èˆ¬ä¾†èªªï¼Œå¾Œç«¯çµ¦çš„æ™‚é–“æœƒæ˜¯ä»¥ç§’ç‚ºå–®ä½çš„ Unix æ™‚é–“æˆ³ï¼Œè€Œ JavaScript çš„æ™‚é–“æˆ³ç‚ºæ¯«ç§’ã€‚\nç›®å‰å–å¾— Unix æ™‚é–“æˆ³ æœ€ç°¡å–®å’Œå¿«é€Ÿçš„æ–¹å¼æ˜¯ï¼š\n1 2 3 4 5 6  const dateTime = Date.now(); const timestamp = Math.floor(dateTime / 1000); // æˆ–æ˜¯ const dateTime = new Date().getTime(); const timestamp = Math.floor(dateTime / 1000);   æ—¥æœŸåŠ æ¸› é¦–å…ˆå¿…é ˆå…ˆå°‡æ™‚é–“è½‰æ›æˆæˆæ¯«ç§’ï¼š\n1 2 3  const hour = 10 * 60 * 60 * 1000; const min = 10 * 60 * 1000; const sec = 10 * 1000;   æ¸›æ³•é‹ç®—ï¼š\n1 2 3 4 5 6 7  let date = new Date(\u0026#39;2020/3/30\u0026#39;); console.log(date); // Mon Mar 30 2020 00:00:00 GMT+0800 (å°åŒ—æ¨™æº–æ™‚é–“)  date = new Date(date - hour); console.log(date); // Sun Mar 29 2020 14:00:00 GMT+0800 (å°åŒ—æ¨™æº–æ™‚é–“)   æ¸›æ³•é‹ç®—å¯ä»¥ç›´æ¥ç›¸æ¸›ï¼Œä½†åŠ æ³•é‹ç®—å¿…é ˆä½¿ç”¨ getTime() è½‰æ¯«ç§’å†é‹ç®—ï¼š\n1 2 3 4 5  let date = new Date(\u0026#39;2020/3/30\u0026#39;); console.log(date); // Mon Mar 30 2020 00:00:00 GMT+0800 (å°åŒ—æ¨™æº–æ™‚é–“)  date = new Date(date.getTime() + hour); console.log(date); // Mon Mar 30 2020 10:00:00 GMT+0800 (å°åŒ—æ¨™æº–æ™‚é–“)   è½‰æ›æ ¼å¼  toString()ï¼šå›å‚³å®Œæ•´çš„æ—¥æœŸå­—ä¸²ã€‚ toUTCString()ï¼šå›å‚³ UTC æ™‚é–“ã€‚ toISOString()ï¼šå›å‚³ ISO8601 æ ¼å¼ã€‚ toJSON()ï¼šå›å‚³ç¬¦åˆ JSON æ ¼å¼çš„ ISO æ—¥æœŸå­—ä¸²ï¼Œèˆ‡ toISOString() å›å‚³çµæœç›¸åŒã€‚ toDateString()ï¼šå›å‚³æ—¥æœŸå­—ä¸²ï¼Œä¸å«å°æ™‚ã€åˆ†å’Œç§’ toTimeString()ï¼šå›å‚³æ™‚é–“å­—ä¸²ï¼Œä¸å«å¹´æœˆæ—¥  1 2 3 4 5 6 7 8  let d = new Date(2020, 0, 1); console.log( d.toString() ); // \u0026#34;Wed Jan 01 2020 00:00:00 GMT+0800 (å°åŒ—æ¨™æº–æ™‚é–“)â€ˆ\u0026#34; console.log( d.toUTCString() ); // \u0026#34;Tue, 31 Dec 2019 16:00:00 GMT\u0026#34; console.log( d.toISOString() ); // \u0026#34;2019-12-31T16:00:00.000Z\u0026#34; console.log( d.toJSON() ); // \u0026#34;2019-12-31T16:00:00.000Z\u0026#34; console.log( d.toDateString() ); // \u0026#34;Wed Jan 01 2020\u0026#34; console.log( d.toTimeString() ); // \u0026#34;00:00:00 GMT+0800 (å°åŒ—æ¨™æº–æ™‚é–“)\u0026#34;   æœ¬åœ°æ™‚é–“ï¼š\n toLocaleString()ï¼šå®Œæ•´çš„æœ¬åœ°æ—¥æœŸæ™‚é–“ toLocaleDateString()ï¼šæœ¬åœ°æ—¥æœŸï¼Œä¸å«å°æ™‚ã€åˆ†å’Œç§’ toLocaleTimeString()ï¼šæœ¬åœ°æ™‚é–“ï¼Œä¸å«å¹´æœˆæ—¥  1 2 3 4 5  let d = new Date(2020, 0, 1); console.log(d.toLocaleString()); // \u0026#34;2020-1-1 00:00:00\u0026#34; console.log(d.toLocaleDateString()); // \u0026#34;2020-1-1\u0026#34; console.log(d.toLocaleTimeString()); // \u0026#34;00:00:00\u0026#34;   é€™ä¸‰å€‹æ–¹æ³•éƒ½æœ‰å…©å€‹å¯é¸çš„åƒæ•¸\n localesï¼šå­—ä¸²ï¼ŒæŒ‡å®šæ‰€ç”¨èªè¨€ optionsï¼šé¸é …ç‰©ä»¶ï¼Œè¨­å®šæ ¼å¼åŒ–è¦å‰‡  æ ¼å¼åŒ–è¦å‰‡çš„è©³ç´°åƒæ•¸å¯ä»¥åƒè€ƒ Natively Format JavaScript Dates and Timesã€‚\n","description":"JavaScript æ²’æœ‰æ—¥æœŸè³‡æ–™å‹æ…‹ï¼Œä½†æ˜¯å®ƒæœ‰æä¾› Date ç‰©ä»¶ï¼Œä½¿ç”¨å…§ä»¶çš„æ—¥æœŸç‰©ä»¶èˆ‡æ–¹æ³•ã€å¯ä»¥å–å¾—èˆ‡æ“ä½œæ—¥æœŸæ™‚é–“ã€‚","id":80,"section":"posts","tags":["JavaScript","æ—¥æœŸæ™‚é–“","Date ç‰©ä»¶"],"title":"æ—¥æœŸæ™‚é–“","uri":"https://chupai.github.io/posts/200516_js_date/"},{"content":" JavaScriptç­†è¨˜ ç›®éŒ„\n \rES6 ç‚º {} ç‰©ä»¶å­—é¢å€¼æ–°å¢äº†å¹¾å€‹æ–¹ä¾¿æ“´å……åŠŸèƒ½ï¼Œä»¥ä¸‹åªæå¹¾å€‹å¸¸ç”¨ã€‚\nç°¡å¯« 1. å±¬æ€§å€¼ç°¡å¯« èˆ‰ä¸€å€‹ç°¡å–®çš„ç¯„ä¾‹ä¾†èªªæ˜ã€‚\nè®Šæ•¸èˆ‡å±¬æ€§åç›¸åŒï¼Œé€™ç¨®æ‡‰ç”¨å ´æ™¯å¾ˆå¸¸è¦‹ï¼š\n1 2 3 4 5 6 7 8  function foo(a, b) { return { a: a, b: b }; } console.log(foo(1, 2)); // {a: 1, b: 2}   ä½†åœ¨ ES6 ç’°å¢ƒä¸‹ï¼Œå¯ä»¥é€™æ¨£å¯«ï¼š\n1 2 3 4 5  function foo(a, b) { return { a, b }; } console.log(foo(1, 2)); // {a: 1, b: 2}   ç•¶å±¬æ€§åèˆ‡å€¼åç¨±ç›¸åŒæ™‚ï¼Œå¯ä»¥çœç•¥å¾Œé¢çš„å€¼ã€‚\næˆ–è€…æ˜¯ï¼š\n1 2 3 4 5  const foo = \u0026#39;bar\u0026#39;; const baz = {foo}; // ç­‰åŒæ–¼ const baz = {foo: foo};   2. æ–¹æ³•ç°¡å¯« å®šç¾©æ–¹æ³•æ™‚ï¼Œéƒ½æœƒæœ‰ function å®£å‘Šã€‚\n1 2 3 4 5 6 7  const obj = { foo: function(a) { console.log(a); }, }; obj.foo(1); // 1   åœ¨ ES6 ç’°å¢ƒä¸‹ï¼Œå¯ä»¥çœç•¥é€™å€‹ function å®£å‘Šï¼š\n1 2 3 4 5 6 7  const obj = { foo(a) { console.log(a); }, }; obj.foo(1); // 1   ä½†ä½¿ç”¨ç°¡å¯«çš„æ”¾å¼ï¼Œå‡½å¼ç‚ºä¸å…·åï¼Œè€Œä¸”ç„¡æ³•ä½¿ç”¨ç®­é ­å‡½å¼ã€‚\nå±¬æ€§åç¨± åœ¨ ES6 æ–°å¢äº†å¯è¨ˆç®—çš„åŠŸèƒ½ï¼Œå¯ä»¥åˆ©ç”¨ [] åŒ…è£¹é‹ç®—å¼ï¼Œç•¶ä½œéµåã€‚\n1 2 3 4 5 6 7 8 9  let prefix = \u0026#39;foo\u0026#39;; let myObject = { [prefix + \u0026#39;bar\u0026#39;]: \u0026#39;hello\u0026#39;, [prefix + \u0026#39;baz\u0026#39;]: \u0026#39;world\u0026#39; }; myObject.foobar; // hello myObject[\u0026#39;foobaz\u0026#39;]; // world   ","description":"ES6 ç‚ºç‰©ä»¶å­—é¢å€¼ {} æ–°å¢äº†å¹¾å€‹é‡è¦çš„æ–¹ä¾¿æ“´å……åŠŸèƒ½ã€‚","id":81,"section":"posts","tags":["JavaScript","ç‰©ä»¶å­—é¢å€¼æ“´å……åŠŸèƒ½","ES6"],"title":"ç‰©ä»¶å­—é¢å€¼æ“´å……åŠŸèƒ½","uri":"https://chupai.github.io/posts/200515_js_object_literal_extension/"},{"content":" JavaScriptç­†è¨˜ ç›®éŒ„\n \rè§£æ§‹æŒ‡å®š ES6 å¼•é€²äº†ä¸€å€‹æ–°èªæ³•åŠŸèƒ½ï¼Œè§£æ§‹æŒ‡å®šï¼ˆdestructuring assignmentï¼‰æˆ–ç¨±è§£æ§‹è³¦å€¼ï¼Œå¯ä»¥æƒ³æˆæ˜¯ä¸€ç¨®æœ‰çµæ§‹çš„æŒ‡å®šã€‚\nåœ¨ JavaScript ä¸­æœ€å¸¸ç”¨çš„å…©ç¨®è³‡æ–™çµæ§‹ç‚ºé™£åˆ—èˆ‡ç‰©ä»¶ï¼Œè€Œè§£æ§‹æŒ‡å®šç”¨æ–¼æå–é™£åˆ—æˆ–ç‰©ä»¶ä¸­çš„è³‡æ–™ï¼Œå­˜æ”¾åˆ°ä¸€ç³»åˆ—çš„è®Šæ•¸ä¸­ã€‚\nè«‹è€ƒæ…®ä»¥ä¸‹ç¨‹å¼ç¢¼ï¼š\n1 2 3  function foo() { return [1, 2, 3]; }   å¦‚æœæœ‰ä¸€å€‹å‡½å¼å›å‚³äº†ä¸€å€‹é™£åˆ—ï¼Œè¦å°‡é™£åˆ—ä¸­çš„å…§å®¹ä¸€ä¸€ç”¨è®Šæ•¸å„²å­˜ã€‚\nå‚³çµ±ä½œæ³•ç‚ºï¼š\n1 2 3 4 5 6  var tmp = foo(); var a = tmp[0]; var b = tmp[1]; var c = tmp[2]; console.log(a, b, c); // 1 2 3   å¿…é ˆå…ˆå°‡å‡½å¼çµæœå„²å­˜ï¼Œåœ¨ä¸€å€‹ä¸€å€‹å®£å‘Šè®Šæ•¸çµ¦å€¼ã€‚\nä½†å¦‚æœæ”¹ç”¨æ–°èªæ³•ï¼š\n1 2 3  let [a, b ,c] = foo(); console.log(a, b, c); // 1 2 3   å°±é€™éº¼éº¼ç°¡å–®ã€‚\n1. é™£åˆ—è§£æ§‹ é™£åˆ—è§£æ§‹çš„åŸºæœ¬èªæ³•ï¼š\n1 2 3  let [a,b] = [1, 2]; console.log(a, b); // 1 2   2. ç‰©ä»¶è§£æ§‹ ç‰©ä»¶è§£æ§‹çš„åŸºæœ¬èªæ³•ï¼š\n1 2 3  let { a, b } = { x: 1, y: 2 }; console.log(a, b); // 1 2   å·¦é‚Šå¯¦éš›ä¸Šæ˜¯ **ç‰©ä»¶å­—é¢å€¼çš„ç°¡çŸ­èªæ³•ï¼š\n1 2 3 4  // ç­‰åŒ let { a: a, b: b } = { a: 1, b: 2 }; console.log(a, b); // 1 2   å·¦å´çš„å±¬æ€§å€¼å±¬æ–¼è®Šæ•¸åç¨±ï¼š\n1 2 3  let { a: x, b: y } = { a: 1, b: 2 }; console.log(x, y); // 1 2   å¿…é ˆæ³¨æ„ï¼Œå·¦å´çš„å¿…é ˆæœ‰å°æ‡‰çš„çš„å±¬æ€§åæ‰èƒ½æŒ‡å®šï¼š\n1 2 3  let { a } = { b: 1 }; console.log(a); // undefined   å±¬æ€§é †åºä¸¦ä¸é‡è¦ï¼Œåªè¦æœ‰å°æ‡‰çš„å±¬æ€§åå³å¯ï¼š\n1 2 3  let { a, b } = { b: 2, a: 1 }; console.log(a, b); // 1 2   å…è¨±åŒä¸€å€‹å±¬æ€§è¢«åˆ—å‡ºå¤šæ¬¡ï¼š\n1 2 3  let { a: x, a: y } = { a: 1 }; console.log(x, y); // 1 1   é€™è¡¨ç¤ºèƒ½å¤ è§£æ§‹ä¸€å€‹å­ç‰©ä»¶ï¼Œä¸¦ä¸”æ•æ‰é‚£å€‹å­ç‰©ä»¶ï¼Œèˆ‰ä¾‹ä¾†èªªï¼š\n1 2 3 4 5 6 7 8  let { a: { x: X, x: Y }, a: a, } = { a: { x: 1 } }; console.log(X); // 1 console.log(Y); // 1 console.log(a); // { x: 1 }   å­é™£åˆ—ä¹Ÿå¯ä»¥ï¼š\n1 2 3 4 5  let { a: X, a: Y, a: [Z] } = { a: [1] }; console.log(X); // [1] console.log(Y); // [1] console.log(Z); // 1   3. ä¸åªæ˜¯å®£å‘Š æŒ‡å®šå°±æ˜¯ä½¿ç”¨ = é‹ç®—å­ï¼Œæ‰€ä»¥è§£æ§‹æŒ‡å®šä¸ä¸€å®šåªèƒ½ç”¨åœ¨å®£å‘Šä¸Šã€‚\nèˆ‰ä¾‹ä¾†èªªï¼š\n1 2 3 4  let a,b; [a, b] = [1, 2]; console.log(a, b); // 1 2   è®Šæ•¸å·²å®£å‘Šï¼Œè§£æ§‹åªè² è²¬é€²è¡ŒæŒ‡å®šå‹•ä½œã€‚\nä½†å¦‚æœæ˜¯ç‰©ä»¶å°±éœ€è¦æ³¨æ„ï¼š\n1 2 3  let a,b; {a, b} = {a:1, b: 2}; // SyntaxError: Unexpected token \u0026#39;=\u0026#39;   æœƒæ‹‹å‡ºéŒ¯èª¤æ˜¯å› ç‚º {a, b} çš„ {} è¢«è§£ææˆå€å¡Šï¼Œè€Œéç‰©ä»¶å­—é¢å€¼ï¼Œå› æ­¤å¯ä»¥åŠ ä¸Š ()ï¼Œé¿å…é€™ç¨®æƒ…æ³ï¼š\n1 2 3 4  let a, b; ({ a, b } = { a: 1, b: 2 }); console.log(a, b); // 1 2   æ‡‰ç”¨ äº¤æ›å€¼ï¼š\n1 2 3 4 5 6  let a = 1; let b = 2; [a, b] = [b, a]; console.log(a, b); // 2 1   å»ºç«‹ç‰©ä»¶æ˜ å°„ï¼ˆmapï¼‰ï¼š\n1 2 3 4 5 6  let o1 = { a: 1, b: 2, c: 3 }; let o2 = {}; ({ a: o2.x, b: o2.y, c: o2.z } = o1); console.log(o2); // {x: 1, y: 2, z: 3}   æˆ–æ˜¯å°‡ä¸€å€‹ç‰©ä»¶æ˜ å°„è‡³é™£åˆ—ï¼Œæˆ–æ˜¯åéä¾†ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13  let o1 = { a: 1, b: 2, c: 3 }; let a2 = []; ({ a: a2[0], b: a2[1], c: a2[2] } = o1); console.log(a2); // [1, 2, 3]  // åéä¾† let a1 = [1, 2, 3]; let o2 = {}; [o2.a, o2.b, o2.c] = a1; console.log(o2); // {a: 1, b: 2, c: 3}   è§£æ§‹æŒ‡å®šé‹ç®—å¼ è§£æ§‹æŒ‡å®šé‹ç®—å¼æœƒå›å‚³å³é‚Šå®Œæ•´çš„ç‰©ä»¶æˆ–é™£åˆ—ã€‚\n1 2 3 4  let o = {a:1, b:2}; let a,b; console.log({a,b} = o); // {a: 1, b: 2}   é©—è­‰ï¼š\n1 2 3 4 5 6  let obj = { a: 1, b: 2 }; let a, b, obj2; obj2 = { a, b } = obj; console.log(obj2 === obj); // ture   é™£åˆ—ä¹Ÿæ˜¯å¦‚æ­¤ï¼š\n1 2 3 4 5 6  let arr = [1, 2]; let a, b, arr2; arr2 = [a, b] = arr; console.log(arr === arr2); // ture   è§£æ§‹çš„æ•¸é‡ ä¸å¿…æŒ‡å®šæ‰€æœ‰å‡ºç¾çš„å€¼ï¼š\n1 2 3 4 5 6 7 8 9  let [a] = [1, 2, 3, 4]; let [, b] = [1, 2, 3, 4]; console.log(a); // 1 console.log(b); // 2  let {c} = {a:1, b:2, c: 3}; console.log(c); // 3   ä¹Ÿå¯ä»¥ç•™ç©ºä¾†ç•¥éæŸäº›å€¼ã€‚\nå¦‚æœæŒ‡å®šéå¤šçš„å€¼ï¼Œè®Šæ•¸æ²’æœ‰å°æ‡‰å€¼ï¼Œå…§å®¹å°±æœƒæ˜¯ undefinedã€‚\n1 2 3 4 5 6 7  let [a, b, c] = [1, 2]; console.log(c); // undefined  let { x, y } = { x: 1 }; console.log(y); // undefined   1. å±•é–‹é‹ç®—å­ åœ¨è§£æ§‹ä¸­ï¼Œä½¿ç”¨å±•é–‹é‹ç®—å­ï¼Œå°‡æœƒæ”¶é›†é‚£äº›å¤šå‡ºä¾†çš„å€¼ã€‚\né™£åˆ—ï¼š\n1 2 3 4  let [a, ...b] = [1, 2, 3, 4]; console.log(a); // 1 console.log(b); // [2, 3, 4]   ç‰©ä»¶ï¼š\n1 2 3 4  let { a, ...b } = { a: 1, b: 2, c: 3, d: 4 }; console.log(a); // 1 console.log(b); // {b: 2, c: 3, d: 4}   é è¨­å€¼ ä½¿ç”¨é¡ä¼¼é è¨­å‡½å¼å¼•æ•¸çš„ = èªæ³•ï¼Œå°±å¯ä»¥çµ¦äºˆè®Šæ•¸é è¨­å€¼ã€‚\n1 2 3 4 5 6 7 8 9  let [a = 1, b = 2] = [10]; console.log(a); // 10 console.log(b); // 2  let { x = 5, y = 10 } = { x: 20 }; console.log(x); // 20 console.log(y); // 10   åƒæ•¸è§£æ§‹ ä¸€å€‹ç°¡å–®çš„å‡½å¼èˆ‡å‘¼å«ï¼š\n1 2 3 4 5  function foo(x) { console.log(x); } foo(42);   foo(42) åŸ·è¡Œçš„æ™‚å€™ï¼Œå¼•æ•¸ 42 è¢«æŒ‡å®šçµ¦äº†åƒæ•¸ xã€‚ç”±ä¸Šè¿°å¯åˆç†æ¨è«–è§£è§£æ§‹æŒ‡å®šï¼Œç•¶ç„¶ä¹Ÿå¯ä»¥ç”¨æ–¼å‡½å¼åƒæ•¸ã€‚\nåƒæ•¸çš„è§£æ§‹ï¼š\n1 2 3 4 5 6 7 8 9 10  function foo([a, b]) { console.log(a, b); } function boo({ a, b }) { console.log(a, b); } foo([1, 2]); // 1 2 boo({ a: 1, b: 2 }); // 1 2   1. é è¨­å€¼ ä¸Šé¢æœ‰æåˆ°è§£æ§‹è³¦å€¼ä¹Ÿèƒ½çµ¦äºˆé è¨­å€¼ï¼Œå‡½å¼åƒæ•¸ä¹Ÿèƒ½çµ¦é è¨­å€¼ï¼Œå› æ­¤å¿…é ˆç•™æ„å…©è€…ä¹‹é–“çš„è¡Œç‚ºå·®ç•°ã€‚\n1 2 3 4 5 6 7 8 9  function foo({ x = 10 }) { console.log(x); } foo(123); // 10 foo(1); // 10 foo([]); // 10 foo({}); // 10 foo(); // TypeError   è¼¸å…¥çš„å¼•æ•¸ï¼Œæ²’æœ‰å°æ‡‰çš„å€¼å°‡æœƒä½¿ç”¨é è¨­å€¼ï¼Œä½†å¦‚æœå¼•æ•¸æ˜¯ç©ºçš„å°‡æœƒæ‹‹å‡ºéŒ¯èª¤ã€‚\nå› æ­¤å¯ä»¥ä½¿ç”¨åƒæ•¸é è¨­å€¼ä¾†è§£æ±ºï¼Œé è¨­çµ¦äºˆä¸€å€‹ç©ºç‰©ä»¶ï¼š\n1 2 3 4 5 6 7 8  function foo({ x = 10 } = {}) { console.log(x); } foo(123); // 10 foo(1); // 10 foo([]); // 10 foo({}); // 10 foo(); // 10   åˆ¥å¯«æˆé€™æ¨£ï¼š\n1 2 3 4 5  function foo({ x } = { x: 10 }) { console.log(x); } foo(); // 10   é›–ç„¶ç•¶å¼•æ•¸æ²’æœ‰å‚³å…¥ï¼Œä¹Ÿæœƒå¾—åˆ°é è¨­å€¼ï¼Œä½†å®Œå…¨æ˜¯ä¸åŒæ„æ€ã€‚\n1 2 3 4 5 6  // æ‰¿æ¥ä¸Šæ–¹ç¨‹å¼ç¢¼  foo(123); // undefined foo(1); // undefined foo([]); // undefined foo({}); // undefined   ç¬¬ä¸€ç¨®ä½œæ³•ç‚ºï¼Œç•¶å¼•æ•¸æ²’è¼¸å…¥æœƒå¥—ç”¨ç©ºç‰©ä»¶ï¼Œä¸è«–å¼•æ•¸æ˜¯å•¥ï¼Œéƒ½æœƒå¥—ç”¨ { x: 10 } ä¾†è§£æ§‹ã€‚\nè€Œç¬¬äºŒç¨®åšæ³•å‰‡æ˜¯å°‡ { x: 10 } ä½œç‚ºåƒæ•¸é è¨­å€¼ï¼Œè€Œéè§£æ§‹é è¨­å€¼ï¼Œå› æ­¤åªåœ¨å¼•æ•¸æ²’è¢«è¼¸å…¥æ™‚é©ç”¨ï¼Œå¦‚æœè¼¸å…¥çš„å¼•æ•¸ç„¡æ³•è§£æ§‹ï¼Œéƒ½æœƒç²å¾— undefined çš„çµæœã€‚\n1. å…·ååƒæ•¸ æœ‰æ™‚å€™ä¸€å€‹å‡½å¼å¯èƒ½æœƒæœ‰è¨±å¤šåƒæ•¸ï¼Œèˆ‰ä¾‹ä¾†èªªï¼š\n1 2 3  function showMenu(title, width, height, items) { // ... }   ç•¶åƒæ•¸è®Šå¤šæ™‚ï¼Œè¦è¼¸å…¥å¼•æ•¸æ™‚ï¼Œå°±å¿…é ˆè¨˜ä½è¼¸å…¥é †åºï¼Œæ‰èƒ½æ­£ç¢ºè¼¸å…¥ï¼Œè€Œä¸”ç•¶è¦æ’å…¥æ–°åƒæ•¸ï¼Œä»¥å‰æ‰€å‘¼å«çš„å‡½å¼æœƒè®Šå¾—é›£ä»¥ç¶­è­·ã€‚\nå› æ­¤é€™è£¡å°±å¯ä»¥ç”¨è§£æ§‹è³¦å€¼èªæ³•ä¾†è™•ç†ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15  function showMenu({ title = \u0026#39;new Title\u0026#39;, width = 200, height = 200, items = [], }) { //... } let options = { title: \u0026#39;My menu\u0026#39;, items: [\u0026#39;Item1\u0026#39;, \u0026#39;Item2\u0026#39;], }; showMenu(options);   å…·ååƒæ•¸çš„å„ªé»ï¼š\n åƒæ•¸å¤šçš„æƒ…æ³ä¸‹ï¼Œä¹Ÿå®¹æ˜“ç†è§£ç¨‹å¼æ„ç¾© æ–¹ä¾¿é¡¯ç¤ºå¯çœç•¥åƒæ•¸ è‡ªç”±è®Šæ›´åƒæ•¸é †åº  å¦å¤–è¦æ³¨æ„ï¼Œå®šç¾©å…·ååƒæ•¸è¦è¨˜å¾—çµ¦åƒæ•¸é è¨­å€¼ç©ºç‰©ä»¶ {}ï¼Œå¦å‰‡æ²’è¼¸å…¥å¼•æ•¸æœƒæ‹‹å‡ºéŒ¯èª¤ã€‚\n2. å…¶é¤˜é ç®—å­ å…¶é¤˜é ç®—å­å¯ä»¥è¢«è§£æ§‹ï¼Œæ›å¥è©±èªªï¼Œå¯ä»¥æŠŠé€™å€‹é™£åˆ—è§£é–‹ï¼Œä¸¦å°‡å„å€‹å…ƒç´ å–å‡ºæˆç‚ºå€‹åˆ¥çš„è®Šæ•¸ã€‚\n1 2 3 4 5 6 7  function foo(...[a, b, c]) { console.log(a, b, c); } foo(1); // 1 undefined undefined foo(1, 2, 3); // 1 2 3 foo(1, 2, 3, 4); // 1 2 3   ","description":"ES6 å¼•é€²äº†ä¸€å€‹æ–°èªæ³•åŠŸèƒ½ï¼Œè§£æ§‹æŒ‡å®šï¼ˆdestructuring assignmentï¼‰æˆ–ç¨±è§£æ§‹è³¦å€¼ï¼Œå¯ä»¥æƒ³æˆæ˜¯ä¸€ç¨®æœ‰çµæ§‹çš„æŒ‡å®šã€‚","id":82,"section":"posts","tags":["JavaScript","è§£æ§‹æŒ‡å®š","ES6"],"title":"è§£æ§‹æŒ‡å®š","uri":"https://chupai.github.io/posts/200514_js_destructuring_assignment-copy/"},{"content":" JavaScriptç­†è¨˜ ç›®éŒ„\n \r\u0026hellip; é‹ç®—å­ ES6 æ–°å¢äº† ... é‹ç®—å­ï¼Œä½†åœ¨ä¸åŒä½ç½®ï¼Œæœƒæœ‰ä¸åŒçš„åŠŸèƒ½ï¼Œæ‰€ä»¥æœƒæœ‰å…©ç¨®å«æ³•ï¼š\n å±•é–‹é‹ç®—å­ï¼ˆSpread Operatorï¼‰ å…¶é¤˜é‹ç®—å­ï¼ˆRest Operatorï¼‰  å±•é–‹é‹ç®—å­ å±•é–‹é‹ç®—å­ï¼ˆSpread Operatorï¼‰å¯ç”¨æ–¼é™£åˆ—ã€é¡é™£åˆ—ã€ç‰©ä»¶ï¼Œä½†ä½¿ç”¨åœ°é»æœ‰äº›å¾®å·®ç•°ã€‚\n é™£åˆ—ã€é¡é™£åˆ—  é™£åˆ—å­—é¢å€¼ å‡½å¼å‘¼å«æ™‚ä½œç‚ºå¼•æ•¸   ç‰©ä»¶  åªèƒ½æ–¼ç‰©ä»¶å­—é¢å€¼ä¸­ä½¿ç”¨    1. åŸºæœ¬ç”¨æ³• å±•é–‹é‹ç®—å­æœƒå°‡é™£åˆ—å±•é–‹ç‚ºå€‹åˆ¥çš„å€¼ã€‚\n1 2 3 4 5 6 7 8 9  let number = [1, 2, 3]; let string = [\u0026#39;a\u0026#39;, \u0026#39;b\u0026#39;, \u0026#39;c\u0026#39;]; console.log(...number); // 1 2 3 console.log(...string); // \u0026#39;a\u0026#39; \u0026#39;b\u0026#39; \u0026#39;c\u0026#39;  // ç­‰åŒæ–¼ console.log(1, 2, 3); console.log(\u0026#39;a\u0026#39;, \u0026#39;b\u0026#39;, \u0026#39;c\u0026#39;);   ä¸»è¦æ˜¯ç”¨åœ¨å‘¼å«å‡½å¼æ™‚çš„è¦å‚³å…¥å¼•æ•¸ï¼š\n1 2 3 4 5 6 7 8  function foo(a, b, c) { console.log(a + b + c); } foo(...[1, 2, 3]); // 6  // ç­‰åŒ apply() foo.apply(null, [1, 2, 3]); // 6   ES6 ä¹‹å‰ï¼Œå¦‚æœè¦å°‡é™£åˆ—æ‹†é–‹ç•¶ä½œå¼•æ•¸å‚³å…¥éƒ½æœƒç”¨å‡½å¼çš„ apply() æ–¹æ³•ï¼Œä½†ç¾åœ¨å±•é–‹é‹ç®—å­å®Œå…¨å¯ä»¥å–ä»£å®ƒã€‚\nå±•é–‹é‹ç®—å­é™¤äº†ç”¨åœ¨é™£åˆ—æœ¬èº«ï¼Œä¹Ÿå¯ä»¥ç”¨åœ¨é™£åˆ—å­—é¢å€¼ä¸­ï¼Œå°‡é™£åˆ—å±•é–‹ï¼š\n1 2 3  let number = [2, 3]; console.log([1, ...number, 5]); // [1, 2, 3, 5]   ç”¨æ–¼åˆä½µé™£åˆ—éå¸¸æ–¹ä¾¿ï¼ŒåŸæœ¬éœ€è¦ä½¿ç”¨ concat()ï¼Œç¾åœ¨å¯ä»¥ä½¿ç”¨ ... ä¾†ä»£æ›¿ï¼š\n1 2 3 4 5 6 7 8  let arr1 = [1, 2, 3]; let arr2 = [4, 5, 6]; let temp1 = arr1.concat(arr2); console.log(temp1); // [1, 2, 3, 4, 5, 6]  let temp2 = [...arr1, ...arr2]; console.log(temp2); // [1, 2, 3, 4, 5, 6]   ä¹Ÿå¯åˆ©ç”¨å®ƒä¾†æ·ºæ‹·è²é™£åˆ—ï¼š\n1 2 3 4 5  let arr1 = [1, 2, 3]; let arr2 = [...arr]; console.log(arr2); // [1, 2, 3] console.log(arr1 === arr2); // false   2. é¡é™£åˆ—ï¼ˆArray-likesï¼‰ å±•é–‹é‹ç®—å­ä¸åªæ˜¯é™£åˆ—å¯ç”¨ï¼Œé¡é™£åˆ—ï¼ˆArray-likesï¼‰ä¹Ÿèƒ½ä½¿ç”¨ï¼Œå› ç‚ºå®ƒå…·æœ‰ç´¢å¼•å’Œ length å±¬æ€§ã€‚\narguments ç‰©ä»¶ï¼š\n1 2 3 4 5 6 7  function foo() { console.log(arguments instanceof Array); // false  let arg = [...arguments]; console.log(arg instanceof Array); // true } foo();   DOM ç‰©ä»¶æ“ä½œå¾Œæ‰€å¾—åˆ°çš„ä¸²åˆ—ï¼š\n1 2 3 4  const list = document.getElementsByTagName(\u0026#39;body\u0026#39;); console.log(list instanceof Array); // false console.log([...list] instanceof Array); // true   å­—ä¸²ï¼š\n1 2 3  let string = \u0026#39;hello\u0026#39;; console.log([...\u0026#39;hello\u0026#39;]); // [\u0026#39;h\u0026#39;, \u0026#39;e\u0026#39;, \u0026#39;l\u0026#39;, \u0026#39;l\u0026#39;, \u0026#39;o\u0026#39;]   2. ç‰©ä»¶ å±•é–‹é‹ç®—å­å¦‚æœç›´æ¥ç”¨åœ¨ç‰©ä»¶ä¸Šæœƒæ‹‹å‡ºéŒ¯èª¤ï¼Œå› ç‚ºå±•é–‹é‹ç®—å­åªèƒ½ç”¨æ–¼å…·æœ‰ç´¢å¼•å’Œ length å±¬æ€§çš„ç‰©ä»¶ã€‚\n1 2 3  let obj = { a: 1, b: 2 }; console.log(...obj); // Uncaught TypeError: Found non-callable @@iterator   ä½ å¯ä»¥æƒ³æˆ a: 1, b: 2 æ²’æ±è¥¿è£ã€‚\nä½†å¦‚æœè¦å±•é–‹ä¸€å€‹ç‰©ä»¶ï¼Œå¯æ–¼ç‰©ä»¶å­—é¢å€¼å…§ã€‚ä½ å¯ä»¥æƒ³æˆ a: 1, b: 2 å¤–é¢é‚„æœ‰ä¸€å€‹ {} è£å®ƒã€‚\nå› æ­¤å¯ä»¥æ‡‰ç”¨åœ¨æ·ºæ‹·è²ç‰©ä»¶ä¸Šï¼š\n1 2 3 4 5  let obj = { a: 1, b: 2 }; let obj2 = { ...obj }; console.log(obj2); // { a: 1, b: 2 } console.log(obj === obj2); // false   å…¶é¤˜é‹ç®—å­ åœ¨å‡½å¼å®£å‘Šä¸­çš„æœ€å¾Œä¸€å€‹åƒæ•¸åŠ ä¸Š ... é‹ç®—å­ï¼Œæœƒç¨±å…¶ç‚ºã€Œå…¶é¤˜é‹ç®—å­ï¼ˆRest Operatorï¼‰ã€ï¼Œå®ƒèˆ‡å±•é–‹é‹ç®—å­æ•ˆæœä¸Šå‰›å¥½å®Œå…¨ç›¸åï¼Œå…¶é¤˜é‹ç®—å­æ˜¯æŠŠè¨±å¤šçš„åƒæ•¸è½‰æ›æˆä¸€å€‹é™£åˆ—ã€‚\n1 2 3 4 5  function foo(...args) { console.log(args); } foo(1, 2, 3); // [1, 2, 3]   å…¶é¤˜é‹ç®—å­å› ç‚ºæ˜¯ç”¨æ–¼åƒæ•¸ä¸Šï¼Œå› æ­¤åˆç¨±ç‚ºã€Œå…¶é¤˜åƒæ•¸ã€ï¼Œæ‡‰ç”¨æ–¼åƒæ•¸ä¸å›ºå®šçš„å‡½å¼ä¸Šã€‚\nES6 ä¹‹å‰ï¼Œæœƒåˆ©ç”¨ arguments ç‰©ä»¶ä¾†å­˜å–å‚³å…¥çš„å¼•æ•¸ã€‚\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16  function foo(var_args) { for (var i = 0; i \u0026lt; arguments.length; i++) { var tmp = arguments[i]; if (typeof tmp !== \u0026#39;number\u0026#39;) { console.log(\u0026#39;è¼¸å…¥çš„å€¼ä¸æ˜¯æ•¸å­—ï¼š\u0026#39; + tmp); } else { console.log(\u0026#39;è¼¸å…¥çš„å€¼æ˜¯æ•¸å­—ï¼š\u0026#39; + tmp); } } } foo(1, 2, 5, \u0026#39;a\u0026#39;); // \u0026#34;test.js:6 è¼¸å…¥çš„å€¼æ˜¯æ•¸å­—ï¼š1\u0026#34; // \u0026#34;test.js:6 è¼¸å…¥çš„å€¼æ˜¯æ•¸å­—ï¼š2\u0026#34; // \u0026#34;test.js:6 è¼¸å…¥çš„å€¼æ˜¯æ•¸å­—ï¼š5\u0026#34; // \u0026#34;test.js:4 è¼¸å…¥çš„å€¼ä¸æ˜¯æ•¸å­—ï¼ša\u0026#34;   arguments ç‰©ä»¶æ˜¯é¡é™£åˆ—ï¼Œå› æ­¤å¦‚æœä½¿ç”¨é™£åˆ—æ–¹æ³•éœ€è¦å°‡å…¶è½‰æ›æˆé™£åˆ—ã€‚\nç‚ºäº†ç¨‹å¼ç¢¼çš„å¯è®€æ€§ï¼Œé€šå¸¸æœƒçµ¦å¯è®Šé•·åº¦çš„åƒæ•¸ä¸€å€‹å‡åç¨±ï¼Œè®“é–±è®€ç¨‹å¼ç¢¼æ™‚ï¼ŒçŸ¥é“é€™è£¡æ˜¯è¼¸å…¥å¯è®Šé•·åº¦çš„åƒæ•¸ã€‚\nä¸Šæ®µç¨‹å¼ç¢¼æ”¹ç”¨å…¶é¤˜é‹åƒæ•¸ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15  function foo(...args) { args.forEach(i =\u0026gt; { if (typeof i !== \u0026#39;number\u0026#39;) { console.log(\u0026#39;è¼¸å…¥çš„å€¼ä¸æ˜¯æ•¸å­—ï¼š\u0026#39; + i); } else { console.log(\u0026#39;è¼¸å…¥çš„å€¼æ˜¯æ•¸å­—ï¼š\u0026#39; + i); } }); } foo(1, 2, 5, \u0026#39;a\u0026#39;); // \u0026#34;test.js:6 è¼¸å…¥çš„å€¼æ˜¯æ•¸å­—ï¼š1\u0026#34; // \u0026#34;test.js:6 è¼¸å…¥çš„å€¼æ˜¯æ•¸å­—ï¼š2\u0026#34; // \u0026#34;test.js:6 è¼¸å…¥çš„å€¼æ˜¯æ•¸å­—ï¼š5\u0026#34; // \u0026#34;test.js:4 è¼¸å…¥çš„å€¼ä¸æ˜¯æ•¸å­—ï¼ša\u0026#34;   å¦‚æœä½¿ç”¨ç®­é ­å‡½å¼ï¼Œå…¶é¤˜é‹ç®—å­å¿…é ˆä»¥å°æ‹¬è™Ÿæ¨™è¨˜ï¼Œå³ä½¿å‡½å¼åªæœ‰ä¸€å€‹åƒæ•¸ï¼š\n1 2 3  let sumAll = (...number) =\u0026gt; number.reduce((total, next) =\u0026gt; total + next); console.log(sumAll(1, 3, 5)); // 9   ","description":"ES6 æ–°å¢äº†... é‹ç®—å­ï¼Œä½†åœ¨ä¸åŒä½ç½®ï¼Œæœƒæœ‰ä¸åŒçš„åŠŸèƒ½ï¼Œæ‰€ä»¥æœƒæœ‰å…©ç¨®å«æ³•ï¼Œåˆ†åˆ¥ç‚ºã€Œå±•é–‹ã€å’Œã€Œå…¶é¤˜ã€é‹ç®—å­ã€‚","id":83,"section":"posts","tags":["JavaScript","å±•é–‹é‹ç®—å­","å…¶é¤˜é‹ç®—å­","ES6"],"title":"å±•é–‹ï¼å…¶é¤˜é‹ç®—å­","uri":"https://chupai.github.io/posts/200513_js_spread_and_rest_operator/"},{"content":"é€™é€±æ˜¯ å…­è§’é¼ å¹´éµäººè³½ ç¬¬åå››é€±ï¼Œè®“æˆ‘å€‘ä¾†çœ‹åªé—œæ³¨é ­å°¾çš„è³‡æ–™çµæ§‹ã€Œå †ç–Šã€å’Œã€Œä½‡åˆ—ã€ã€‚\n\rå †ç–Šï¼ˆStackï¼‰ å †ç–Šï¼ˆStackï¼‰ï¼Œä¸­åœ‹ç¨±ã€Œæ ˆã€ï¼Œæ˜¯ä¸€ç¨® å¾Œå…¥å…ˆå‡ºï¼ˆLIFO, Last In First Outï¼‰ çš„è³‡æ–™çµæ§‹ã€‚\n1. å¾Œå…¥å…ˆå‡º LIFO åœ¨ LIFO çš„è³‡æ–™çµæ§‹ä¸­ï¼Œå°‡å„ªå…ˆè™•ç†æœ€æ™šåŠ é€²ä¾†çš„å…ƒç´ ï¼ˆæœ€æ–°ï¼‰ã€‚\nå †ç–Šä½¿ç”¨å…©ç¨®åŸºæœ¬æ“ä½œï¼š\n pushï¼šå°‡è³‡æ–™æ”¾å…¥å †ç–Šé ‚ç«¯ï¼ˆæ–°å¢ï¼‰ popï¼šæ‹¿å‡ºç–Šé ‚ç«¯çš„è³‡æ–™ï¼ˆåˆªé™¤ï¼‰  ç°¡å–®ä¾†èªªï¼Œå°±æ˜¯å…ˆé€²å»è³‡æ–™çš„æœ€å¾Œå‡ºä¾†ã€æœ€å¾Œé€²å»çš„è³‡æ–™æœ€å…ˆå‡ºä¾†ã€‚å¯ä»¥å°‡å †ç–Šæƒ³åƒæˆç–Šç›¤å­ï¼Œä¸è«–æ”¾ç›¤å­æˆ–å–ç›¤å­ï¼Œéƒ½åªèƒ½å¾æœ€ä¸Šæ–¹ï¼Œæœ€å…ˆæ‹¿çš„ç›¤å­ä¸€å®šæ˜¯æœ€å¾Œä¸€å€‹æ”¾ä¸Šä¾†çš„ã€‚\nä¹Ÿå°±æ˜¯èªªï¼Œåœ¨å †ç–Šä¸­ï¼Œè¶Šåº•å±¤çš„è³‡æ–™è¶ŠèˆŠï¼Œè¶Šé è¿‘é ‚å±¤è¶Šæ–°ï¼Œè€Œä¸”åªèƒ½è®€å–æœ€ä¸Šå±¤çš„è³‡æ–™ï¼ˆæœ€æ–°çš„ï¼‰ã€‚\n2. JavaScript å¯¦ä½œå †ç–Š å¤§éƒ¨åˆ†çš„ç¨‹å¼èªè¨€éƒ½æä¾›å…§ç½®çš„å †ç–Šï¼Œä½† JavaScript æ²’æœ‰ï¼Œæ‰€ä»¥æˆ‘å€‘ç”¨é™£åˆ—ä¾†å¯¦ä½œä¸€å€‹ã€‚\n2.1 å®£å‘Šé¡åˆ¥ å®£å‘Šä¸€å€‹ Stack é¡åˆ¥ï¼š\n1 2 3 4 5 6  class Stack { constructor() { this.items = []; } // methods }   æˆ‘å€‘éœ€è¦ä¸€å€‹èƒ½å¤ å­˜å„²å †ç–Šè£¡çš„å…ƒç´ çš„è³‡æ–™çµæ§‹ï¼Œå› æ­¤æˆ‘å€‘å¯ä»¥ä½¿ç”¨é™£åˆ—ä¾†å¯¦ä½œã€‚\n2.2 å±¬æ€§æ–¹æ³• ä¸»è¦æ–¹æ³•ï¼š\n push(element(s))ï¼šæ–°å¢ä¸€å€‹æˆ–å¤šå€‹å…ƒç´ åˆ°å †ç–Šé ‚éƒ¨ã€‚ pop()ï¼šç§»é™¤å †ç–Šé ‚éƒ¨å…ƒç´ ï¼ŒåŒæ™‚å›å‚³è¢«ç§»é™¤çš„å…ƒç´ ã€‚  ç‚ºäº†ç¬¦åˆ LIFO åŸå‰‡ï¼Œæˆ‘å€‘ä½¿ç”¨é™£åˆ—çš„ push å’Œ pop æ–¹æ³•å¯¦ä½œã€‚\n1 2 3 4 5 6 7  push(element) { this.items.push(element); } pop() { return this.items.pop(); }   è¼”åŠ©å·¥å…·ï¼š\n peek() æˆ– top()ï¼šåƒ…å›å‚³å †ç–Šé ‚ç«¯çš„å…ƒç´ ã€‚ isEmpty()ï¼šæª¢æŸ¥å †ç–Šå…§æ˜¯å¦æœ‰å…ƒç´ ï¼Œæ˜¯ç©ºçš„å›å‚³ trueï¼Œå¦å‰‡å›å‚³ falseã€‚ clear()ï¼šç§»é™¤å †ç–Šå…§çš„æ‰€æœ‰å…ƒç´ ã€‚ size()ï¼šå›å‚³å †ç–Šè£¡çš„å…ƒç´ å€‹æ•¸ï¼Œä¹Ÿå°±æ˜¯è³‡æ–™é•·åº¦ã€‚  1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19  // ç²å–æœ€å¾Œä¸€å€‹å…ƒç´  peek() { return this.items[this.items.length - 1]; } // åˆ¤æ–·å„²å­˜å †ç–Šè³‡æ–™çš„é™£åˆ—é•·åº¦æ˜¯å¦ç‚º 0 isEmpty() { return this.items.length === 0; } // æœ€ç°¡å–®çš„æ¸…ç©ºï¼Œçµ¦ä¸€å€‹æ–°çš„ç©ºé™£åˆ— clear() { this.items = []; } // å›å‚³å„²å­˜å †ç–Šè³‡æ–™çš„é™£åˆ—é•·åº¦ size() { return this.items.length; }   æœ€çµ‚ç¨‹å¼ç¢¼å¦‚ä¸‹ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29  class Stack { constructor() { this.items = []; } push(element) { this.items.push(element); } pop() { return this.items.pop(); } peek() { return this.items[this.items.length - 1]; } isEmpty() { return this.items.length === 0; } clear() { this.items = []; } size() { return this.items.length; } }   2.3 å»ºç«‹å¯¦é«” 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20  const stack1 = new Stack(); // æ–°å¢å…ƒç´  stack1.push(\u0026#39;ç›¤å­1\u0026#39;); stack1.push(\u0026#39;ç›¤å­2\u0026#39;); // å°å‡ºé•·åº¦ console.log(stack1.size()); // 2  // ç§»é™¤æœ€ä¸Šæ–¹å…ƒç´  console.log(stack1.pop()); // \u0026#39;ç›¤å­2\u0026#39;  // æœ€ä¸Šæ–¹å…ƒç´  console.log(stack1.peek()); // \u0026#39;ç›¤å­1\u0026#39;  // æ¸…é™¤ stack1.clear(); // æ˜¯å¦ç‚ºç©º console.log(stack1.isEmpty()); // true   2.4 åŸºæ–¼ç‰©ä»¶çš„å †ç–Š é™¤äº†ä½¿ç”¨é™£åˆ—ä¾†å„²å­˜å †ç–Šå…ƒç´ ï¼Œä¹Ÿå¯ä»¥æ”¹ç”¨ç‰©ä»¶ä¾†å„²å­˜å †ç–Šè£¡çš„å…ƒç´ ã€‚\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34  class Stack { constructor() { this.items = {}; this.count = 0; } push(element) { this.items[this.count] = element; this.count += 1; } pop() { if (this.isEmpty()) { return undefined; } this.count -= 1; const result = this.items[this.count]; delete this.items[this.count]; return result; } isEmpty() { return this.count === 0; } clear() { this.items = {}; this.count = 0; } size() { return this.count; } }   ä½‡åˆ—ï¼ˆQueueï¼‰ ä½‡åˆ—ï¼ˆQueueï¼‰ï¼Œä¸­åœ‹ç¨±ã€Œé˜Ÿåˆ—ã€ï¼Œç‰¹æ€§æ˜¯ å…ˆé€²å…ˆå‡ºï¼ˆFIFO, First-In-First-Outï¼‰ çš„è³‡æ–™çµæ§‹ã€‚\n1. å…ˆå…¥å…ˆå‡º FIFO åœ¨ FIFO çš„è³‡æ–™çµæ§‹ä¸­ï¼Œæœƒå„ªå…ˆè™•ç†æœ€æ—©åŠ é€²ä¾†çš„å…ƒç´ ï¼ˆæœ€èˆŠï¼‰ã€‚\nä½‡åˆ—ä½¿ç”¨å…©ç¨®åŸºæœ¬æ“ä½œï¼š\n enqueueï¼šç”±ä½‡åˆ—çš„å¾Œç«¯ï¼ˆRear / Backï¼‰æ·»åŠ æ–°è³‡æ–™ã€‚ dequeueï¼šç”±ä½‡åˆ—çš„å‰ç«¯ï¼ˆFrontï¼‰ç§»é™¤è³‡æ–™ã€‚  èˆ‰å€‹ç”Ÿæ´»ä¸Šçš„ä¾‹å­ï¼Œæ’éšŠä¸Šå»æ‰€ï¼šå…ˆåˆ°çš„äººå…ˆä¸Šï¼Œå¾Œä¾†çš„æ’å¾Œé¢ã€‚\nç•¶ä½ æƒ³è¦æŒ‰é †åºè™•ç†å…ƒç´ æ™‚ï¼Œä½¿ç”¨ä½‡åˆ—æœƒæ˜¯ä¸€å€‹å¾ˆå¥½çš„é¸æ“‡ã€‚\n2. JavaScript å¯¦ä½œä½‡åˆ— å¤§éƒ¨åˆ†çš„ç¨‹å¼èªè¨€éƒ½æä¾›å…§ç½®çš„ä½‡åˆ—ï¼Œä½† JavaScript æ²’æœ‰ï¼Œæ‰€ä»¥æˆ‘å€‘ç”¨é™£åˆ—ä¾†å¯¦ä½œä¸€å€‹ã€‚\n2.1 å®£å‘Šé¡åˆ¥ å®£å‘Šä¸€å€‹ Queue é¡åˆ¥ï¼š\n1 2 3 4 5 6  class Queue { constructor() { this.items = []; } // methods }   ä¸¦ç”¨é™£åˆ—ä¾†å„²å­˜ä½‡åˆ—è£¡çš„å…ƒç´ ã€‚\n2.2 å±¬æ€§æ–¹æ³• ä½‡åˆ—çš„å…©ç¨®ä¸»è¦æ“ä½œæ–¹æ³•ï¼š\n enqueue(element(s))ï¼šæ–°å¢ä¸€å€‹æˆ–å¤šå€‹å…ƒç´ åˆ°ä½‡åˆ—å°¾éƒ¨ã€‚ dequeue()ï¼šç§»é™¤ä½‡åˆ—çš„ç¬¬ä¸€å€‹å…ƒç´ ï¼Œä¸¦å›å‚³è¢«ç§»é™¤çš„å…ƒç´ ã€‚  1 2 3 4 5 6 7 8  enqueue(element) { this.items.push(element); } dequeue() { return this.items.shift(); }   è¼”åŠ©å·¥å…·ï¼š\n front() æˆ– head()ï¼šåƒ…å›å‚³ä½‡åˆ—çš„ç¬¬ä¸€å€‹å…ƒç´ ã€‚ rear() æˆ– tail()ï¼šåƒ…å›å‚³ä½‡åˆ—çš„æœ€ä¸€å€‹å…ƒç´ ã€‚ isEmpty()ï¼šæª¢æŸ¥ä½‡åˆ—å…§æ˜¯å¦æœ‰å…ƒç´ ï¼Œæ˜¯ç©ºçš„å›å‚³ trueï¼Œå¦å‰‡å›å‚³ falseã€‚ clear()ï¼šç§»é™¤ä½‡åˆ—å…§çš„æ‰€æœ‰å…ƒç´ ã€‚ size()ï¼šå›å‚³ä½‡åˆ—è£¡çš„å…ƒç´ å€‹æ•¸ï¼Œä¹Ÿå°±æ˜¯è³‡æ–™é•·åº¦ã€‚  1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19  front() { return this.items[0]; } rear() { return this.items[this.items.length - 1]; } isEmpty() { return this.items.length === 0; } clear() { this.items = []; } size() { return this.items.length; }   æœ€çµ‚ç¨‹å¼ç¢¼å¦‚ä¸‹ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33  class Queue { constructor() { this.items = []; } enqueue(element) { this.items.push(element); } dequeue() { return this.items.shift(); } front() { return this.items[0]; } rear() { return this.items[this.items.length - 1]; } isEmpty() { return this.items.length === 0; } clear() { this.items = []; } size() { return this.items.length; } }   2.3 å»ºç«‹å¯¦é«” æ¨¡æ“¬æ’éšŠï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18  const queue = new Queue(); // éšŠä¼ç©ºçš„å—? console.log(queue.isEmpty()); // ture  // æ’éšŠ queue.enqueue(\u0026#39;A\u0026#39;); queue.enqueue(\u0026#39;B\u0026#39;); queue.enqueue(\u0026#39;C\u0026#39;); // å…ˆå‡ºéšŠçš„ console.log(queue.dequeue()); // \u0026#39;A\u0026#39;  // å‰©å¹¾å€‹? console.log(queue.size()); // 2  // éšŠä¼æœ€å¾Œä¸€å€‹ console.log(queue.rear()); // \u0026#39;C\u0026#39;   3. å„ªå…ˆä½‡åˆ—ï¼ˆPriority Queueï¼‰ åœ¨ä¸€èˆ¬æƒ…æ³ä¸‹ï¼Œå¾ä½‡åˆ—ä¸­è™•ç†ï¼ˆåˆªé™¤ï¼‰çš„ä¸€å®šæ˜¯ç¬¬ä¸€å€‹åŠ å…¥çš„å…ƒç´ ï¼Œä½†å„ªå…ˆä½‡åˆ—ï¼ˆPriority Queueï¼‰ï¼Œä¸å¿…éµå®ˆä½‡åˆ— FIFO çš„ç‰¹æ€§ï¼Œæ¯å€‹å…ƒç´ éƒ½æœƒè¨­å®šå„ªå…ˆç´šï¼Œå„ªå…ˆç´šæœ€é«˜ï¼ˆæ•¸å­—è¶Šå°è¶Šé«˜ï¼‰çš„æœƒå„ªå…ˆè™•ç†ï¼Œè‹¥ç›¸åŒç´šåˆ¥æ‰çœ‹æ’åˆ—é †åºã€‚\nç”¨æ’éšŠä¾†æ¯”å–»å°±æ˜¯ VIP æœƒå“¡ç­‰ç´šï¼Œç­‰ç´šè¶Šé«˜å„ªå…ˆæœå‹™ï¼Œæˆ–æ˜¯é†«é™¢æ€¥è¨ºå®¤æœƒè©•ä¼°å‚·æ‚£ç­‰ç´šä¾†çµ¦äºˆæ²»ç™‚é †åºã€‚\nå„ªå…ˆä½‡åˆ—çš„å·®ç•°åœ¨æ–¼ enqueue æ–¹æ³•ï¼Œåœ¨åŠ å…¥å…ƒç´ æ™‚ï¼Œæœƒæ ¹æ“šå„ªå…ˆç´šæ±ºå®šæ’å…¥çš„ä½ç½®ã€‚\n priority ç‚ºå„ªå…ˆç´šï¼Œé è¨­å€¼çµ¦å®ƒç„¡é™å¤§ã€‚ æˆ‘å€‘ç”¨ä¸€å€‹ queueElement ç‰©ä»¶ä¾†å„²å­˜å…ƒç´ å’Œå„ªå…ˆç´šçš„å€¼ã€‚ å¦‚æœä½‡åˆ—ç‚ºç©ºç›´æ¥å…¥åˆ—ï¼Œå¦å‰‡æ¯”è¼ƒå„ªå…ˆç´šã€‚ ä¸€å€‹ä¸€å€‹æ¯”è¼ƒå…ƒç´ å„ªå…ˆç´šï¼š  å„ªå…ˆç´šè¼ƒé«˜å°±ç”¨æ’å…¥åœ¨å®ƒçš„å‰é¢ï¼Œä¸¦çµæŸå‡½å¼ï¼› å¦‚æœéƒ½æ²’æœ‰å°±åŠ åˆ°ä½‡åˆ—å¾Œç«¯ã€‚    1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16  class Priorityqueue extends Queue { enqueue(element, priority = Infinity) { const queueElement = { element, priority }; if (this.isEmpty()) { this.items.push(queueElement); } else { for (let i = 0; i \u0026lt; this.items.length; i++) { if (priority \u0026lt; this.items[i].priority) { this.items.splice(i, 0, queueElement); return; } } this.items.push(queueElement); } } }   å»ºç«‹å¯¦é«”ï¼š\n1 2 3 4 5 6 7 8 9 10 11  const pq = new Priorityqueue(); pq.enqueue(\u0026#39;A\u0026#39;, 1); pq.enqueue(\u0026#39;B\u0026#39;); pq.enqueue(\u0026#39;C\u0026#39;, 1); pq.enqueue(\u0026#39;D\u0026#39;, 2); console.log(pq.dequeue()); // { element: \u0026#39;A\u0026#39;, priority: 1 } console.log(pq.dequeue()); // { element: \u0026#39;C\u0026#39;, priority: 1 } console.log(pq.dequeue()); // { element: \u0026#39;D\u0026#39;, priority: 2 } console.log(pq.dequeue()); // { element: \u0026#39;B\u0026#39;, priority: Infinity }   å †ç–Šçš„æ‡‰ç”¨ 1. åé€²åˆ¶è½‰äºŒé€²åˆ¶ åé€²åˆ¶è½‰äºŒé€²åˆ¶è½‰æ›éç¨‹ï¼š\n 10 / 2 = 5 é¤˜ 0 5 / 2 = 2 é¤˜ 1 2 / 2 = 1 é¤˜ 0 1 / 2 = 0 é¤˜ 1 10 çš„äºŒé€²åˆ¶çµæœç‚º 1010  1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20  function divideBy2(decNumber) { const remStack = new Stack(); let number = decNumber; let rem = null; // é¤˜æ•¸  // å°‡é¤˜æ•¸æ”¾é€²å †ç–Šä¸­  while (number \u0026gt; 0) { rem = Math.floor(number % 2); remStack.push(rem); number = Math.floor(number / 2); } // å°‡çµæœé€£æˆå­—ä¸²  let baseString = \u0026#39;\u0026#39;; while (!remStack.isEmpty()) { baseString += remStack.pop(); } return baseString; }   å°‡ä¸Šé¢ç¨‹å¼ç¢¼ç¨å¾®ä¿®æ”¹ï¼Œå¯ä»¥æ”¹æˆåé€²åˆ¶è½‰ 2 ~ 36 é€²åˆ¶ï¼Œ10 ~ 35 ç”¨è‹±æ–‡å­—æ¯è¡¨ç¤ºã€‚\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20  function baseConverter(decNumber, base) { if (!(base \u0026gt;= 2 \u0026amp;\u0026amp; base \u0026lt;= 36)) { return \u0026#39;\u0026#39;; } const remStack = new Stack(); const DIGITS = \u0026#39;0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ\u0026#39;; let number = decNumber; let rem = null; while (number \u0026gt; 0) { rem = Math.floor(number % base); remStack.push(rem); number = Math.floor(number / base); } let baseString = \u0026#39;\u0026#39;; while (!remStack.isEmpty()) { baseString += DIGITS[remStack.pop()]; } return baseString; }   2. é©—è­‰æ‹¬è™Ÿçš„å•é¡Œ  Leetcode: 20. Valid Parentheses\né©—è­‰æ‹¬è™Ÿï¼ˆValid Parenthesesï¼‰æˆ–ç¨± å¹³è¡¡æ‹¬è™Ÿï¼ˆBalanced Bracketsï¼‰ã€‚\n çµ¦å®šä¸€å€‹åŒ…æ‹¬ (ã€{ã€[ã€)ã€}ã€] çš„å­—ä¸²ï¼Œåˆ¤æ–·å­—ä¸²æ˜¯å¦æœ‰æ•ˆã€‚\næœ‰æ•ˆå­—ä¸²éœ€æ»¿è¶³ï¼š\n å·¦æ‹¬è™Ÿå¿…é ˆç”¨ç›¸åŒé¡å‹çš„å³æ‹¬è™Ÿé–‰åˆã€‚ å·¦æ‹¬è™Ÿå¿…é ˆä»¥æ­£ç¢ºçš„é †åºé–‰åˆã€‚  æ³¨æ„ç©ºå­—ä¸²å¯è¢«èªç‚ºæ˜¯æœ‰æ•ˆå­—ä¸²ã€‚\nç¯„ä¾‹ï¼š\n1 2 3 4 5  \u0026#39;()\u0026#39; // ture \u0026#39;()[]{}\u0026#39; // true \u0026#39;(]\u0026#39; // false \u0026#39;([)]\u0026#39; // false \u0026#39;{[]}\u0026#39; // true   æµç¨‹ï¼š\n æª¢æŸ¥å­—ä¸²ï¼Œé‡åˆ° ( { [ å°±æ”¾åˆ°å †ç–Šä¸­ è‹¥é‡åˆ° ) ] } å°±å»æ‰¾å †ç–Šé ‚ç«¯çš„è³‡æ–™æ˜¯å¦æœ‰ç›¸å°æ‡‰çš„ ( { [  æ²’æœ‰å°±å›å‚³ false è‹¥æœ‰å°±å°‡å †ç–Šé ‚ç«¯å°æ‡‰çš„ ( { [ ç§»é™¤   æœ€å¾Œæª¢æŸ¥å †ç–Šå…§ä½¿å¦ç‚ºç©º  å¦‚æœæ˜¯ç©ºçš„å›å‚³ true ä¸æ˜¯ç©ºçš„ï¼Œè¡¨ç¤ºæœ‰æ²’å°æ‡‰åˆ°çš„ ( { [ å›å‚³ false    1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20  function isValid(s) { const stack = []; const OPENING = { \u0026#39;(\u0026#39;: 0, \u0026#39;[\u0026#39;: 1, \u0026#39;{\u0026#39;: 2 }; const CLOSEING = { \u0026#39;)\u0026#39;: 0, \u0026#39;]\u0026#39;: 1, \u0026#39;}\u0026#39;: 2 }; for (let i = 0; i \u0026lt; s.length; i++) { const character = s[i]; if (OPENING[character] \u0026gt;= 0) { stack.push(character); } else if (CLOSEING[character] \u0026gt;= 0) { const peek = stack[stack.length - 1]; if (OPENING[peek] === CLOSEING[character]) { stack.pop(); } else { return false; } } } return stack.length === 0; }   ç¸½çµ å †ç–Šå’Œä½‡åˆ—é€™é¡æœ€åŸºæœ¬çš„è³‡æ–™çµæ§‹ï¼Œå®ƒå€‘å› ç‚ºç‰¹æ®Šæ¢ä»¶é™åˆ¶ï¼Œåªé—œå¿ƒé ­å°¾çš„æ–°å¢ã€åˆªé™¤ã€ç²å–çš„æ“ä½œï¼Œä¸¦ä¸é—œå¿ƒå…§éƒ¨çš„å…ƒç´ çš„ç‹€æ…‹ã€‚\n","description":"é€™é€±æ˜¯å…­è§’é¼ å¹´éµäººè³½ç¬¬åå››é€±ï¼Œè®“æˆ‘å€‘ä¾†çœ‹åªé—œæ³¨é ­å°¾çš„è³‡æ–™çµæ§‹ã€Œå †ç–Šã€å’Œã€Œä½‡åˆ—ã€ã€‚","id":84,"section":"posts","tags":["è³‡æ–™çµæ§‹","å †ç–Š","ä½‡åˆ—","w3HexSchool"],"title":"JavaScript å­¸æ¼”ç®—æ³•ï¼ˆå…­ï¼‰- å †ç–Š ï¼† ä½‡åˆ—","uri":"https://chupai.github.io/posts/200504_ds_stack_queue/"},{"content":"é€™é€±æ˜¯ å…­è§’é¼ å¹´éµäººè³½ ç¬¬åä¸‰é€±ï¼Œè¦ä¾†ç°¡å–®èªªæ˜èˆ‡é™£åˆ—é¡ä¼¼çš„è³‡æ–™çµæ§‹ã€Œéˆçµä¸²åˆ— Linked listã€ã€‚\n\rå‰è¨€ é¦–å…ˆä¾†è«‡è«‡é™£åˆ—çš„ç¼ºé»ï¼Œåœ¨å¤§å¤šæ•¸çš„ç¨‹å¼èªè¨€ä¸­ï¼Œé™£åˆ—çš„é•·åº¦ï¼ˆå¤§å°ï¼‰å®£å‘Šå¾Œå°±æ˜¯å›ºå®šçš„ï¼Œä¹Ÿå°±æ˜¯èªªï¼Œå®£å‘Šæ™‚å·²ç¶“æ±ºå®šæœ€å¤§ç©ºé–“ï¼Œå¦‚æœé è¨­çš„ç©ºé–“å¤ªå°å®¹æ˜“ç™¼ç”Ÿä¸Šæº¢ï¼Œå¦‚æœå¤ªå¤§å®¹æ˜“é€ æˆè¨˜æ†¶é«”ç©ºé–“æµªè²»ã€‚\nè€Œä¸”å¾é™£åˆ—çš„é–‹é ­æˆ–ä¸­é–“æ’å…¥ã€åˆªé™¤å…ƒç´ æ™‚ï¼Œå¾€å¾€éœ€è¦èˆ¬å‹•å…¶ä»–å…ƒç´ ï¼Œå› æ­¤æ•ˆç‡ä¸ä½³ã€‚\néˆçµä¸²åˆ—æ˜¯ä»€éº¼ éˆçµä¸²åˆ—ï¼ˆLinked listï¼‰ï¼Œä¸­åœ‹ç¨±ã€Œé“¾è¡¨ã€ï¼Œèˆ‡é™£åˆ—ä¸€æ¨£éƒ½æ˜¯ç·šæ€§è³‡æ–™çµæ§‹ï¼Œä½†ä¸åŒæ–¼é™£åˆ—ï¼Œå®ƒç‚ºéˆå¼å„²å­˜çµæ§‹ï¼Œä¹Ÿå°±æ˜¯è¨˜æ†¶é«”ä½ç½®å„²å­˜ç‚ºä¸é€£çºŒæ€§ã€‚\n1. å®šç¾© éˆçµä¸²åˆ—æ˜¯ç”±ä¸€é€£ä¸² ç¯€é»ï¼ˆnodeï¼‰ çµ„æˆï¼Œç¯€é»ä¹‹é–“æ˜¯é€éæŒ‡æ¨™ä¾†é€£æ¥ã€‚æ‰€ä»¥å„²å­˜ä¸Šä¸¦ä¸éœ€è¦é€£çºŒçš„ç©ºé–“ã€‚\næ¯å€‹ç¯€é»åŒ…å«ï¼š\n è³‡æ–™å…ƒç´  æŒ‡æ¨™  æŒ‡æ¨™ï¼ˆåˆç¨±éˆçµã€å¼•ç”¨ï¼‰ï¼Œé€šå¸¸ç‚ºä¸€æˆ–å…©å€‹ï¼Œç”¨ä¾†æŒ‡å‘ä¸Šï¼ä¸‹å€‹çš„ä½ç½®ï¼Œè‹¥æ²’æœ‰ä¸Šï¼ä¸‹ä¸€å€‹ç¯€é»ï¼Œå‰‡ç‚ºç©ºã€‚å¦‚æœæŒ‡æ¨™æ–·è£‚ï¼Œè³‡æ–™å°±éºå¤±ã€‚\nèˆ‰ç”Ÿæ´»ä¸Šçš„ä¾‹å­ä¾†èªªï¼Œéˆçµä¸²åˆ—å¦‚åŒç«è»Šçš„è»Šå»‚ä¸€æ¨£ï¼Œä¸€ç¯€æ‹‰è‘—ä¸€ç¯€ã€‚\nç›¸è¼ƒæ–¼é™£åˆ—ï¼Œéˆçµä¸²åˆ—çš„å…ƒç´ ä¸¦ä¸æ˜¯é€£çºŒæ”¾ç½®çš„ï¼Œæ’å…¥æˆ–ç§»é™¤å…ƒç´ ä¸éœ€è¦ç§»å‹•å…¶ä»–å…ƒç´ ï¼Œåªéœ€è¦ä¿®æ”¹ä¸Šï¼ä¸‹å€‹æŒ‡æ¨™çš„æŒ‡å‘ã€‚\nå› ç‚ºéˆçµä¸²åˆ—æ²’æœ‰ç´¢å¼•ï¼Œè‹¥è¦å­˜å–ç‰¹å®šç‰¹å®šï¼Œéœ€è¦å¾é ­é–‹å§‹æ‰¾èµ·ï¼Œå› æ­¤ç›¸è¼ƒæ–¼é™£åˆ—ï¼Œå­˜å–è³‡æ–™è¼ƒè²»æ™‚ã€‚\n2. é¡å‹ éˆçµä¸²åˆ—æœ‰å¾ˆå¤šç¨®ä¸åŒçš„é¡å‹ï¼š\n å–®å‘éˆçµä¸²åˆ—ï¼ˆSingly Linked Listï¼‰ é›™å‘éˆçµä¸²åˆ—ï¼ˆDoubly Linked Listï¼‰ è¿´åœˆéˆçµä¸²åˆ—ï¼ˆCircularly Linked Listï¼‰  2.1 å–®å‘éˆçµä¸²åˆ— å–®å‘éˆçµä¸²åˆ—ï¼Œåˆç¨±å–®éˆçµä¸²åˆ—ã€ç·šæ€§éˆçµä¸²åˆ—ã€æ™®é€šéˆçµä¸²åˆ—ï¼Œæ˜¯æœ€åŸºæœ¬çš„éˆçµä¸²åˆ—ï¼Œå…¶ç‰¹é»æ˜¯éˆçµä¸²åˆ—çš„éˆçµæ–¹å‘æ˜¯å–®å‘çš„ï¼Œå°éˆçµä¸²åˆ—çš„å­˜å–è¦é€šéå¾é ­éƒ¨é–‹å§‹ï¼Œä¾åºå¾€ä¸‹è®€å–ã€‚\n2.2 é›™å‘éˆçµä¸²åˆ— é›™å‘éˆçµä¸²åˆ—ï¼Œåˆç¨±ç‚ºé›™éˆçµä¸²åˆ—ï¼Œå®ƒèˆ‡å–®å‘éˆçµä¸²åˆ—æœ€å¤§çš„å€åˆ¥åœ¨æ–¼ï¼Œæ¯å€‹çµé»ä¸­éƒ½æœ‰å…©å€‹æŒ‡æ¨™ï¼Œåˆ†åˆ¥æŒ‡å‘ä¸Šä¸€å€‹å’Œä¸‹ä¸€å€‹çµé»ã€‚\næ‰€ä»¥ï¼Œå¾é›™å‘éˆçµä¸²åˆ—ä¸­çš„ä»»æ„ä¸€å€‹çµé»é–‹å§‹ï¼Œéƒ½å¯ä»¥å¾ˆæ–¹ä¾¿åœ°å­˜å–å®ƒçš„ä¸Šä¸€å€‹å’Œä¸‹ä¸€å€‹çµé»ã€‚\n2.3 è¿´åœˆéˆçµä¸²åˆ— è¿´åœˆéˆçµä¸²åˆ—ï¼Œåˆç¨±ç’°ç‹€éˆçµä¸²åˆ—ã€å¾ªç’°éˆçµä¸²åˆ—ï¼Œå®ƒèˆ‡ä¸€èˆ¬çš„éˆçµä¸²åˆ—æ“ä½œåŸºæœ¬ä¸€è‡´ï¼Œä½†ä¸²åˆ—é ­å°¾çš„æŒ‡æ¨™æœƒé€£æ¥å†ä¸€èµ·ï¼Œå½¢æˆä¸€å€‹ç’°ã€‚\n3. æ™‚é–“è¤‡é›œåº¦ ä¸ç®¡æ˜¯ç¶­åŸºç™¾ç§‘é‚„æ˜¯å…¶ä»–éˆçµä¸²åˆ—ç›¸é—œæ–‡ç« ï¼Œéƒ½åªå¯«éˆçµä¸²åˆ—çš„æ™‚é–“è¤‡é›œåº¦åˆ†åˆ¥ç‚ºï¼š\n æ’å…¥ã€åˆªé™¤ï¼š$O(1)$ å­˜å–ã€æŸ¥è©¢ï¼š$O(n)$  ä½†è¦æ³¨æ„çš„æ˜¯ï¼Œæ’å…¥èˆ‡åˆªé™¤çš„ $O(1)$ æŒ‡çš„æ˜¯ï¼Œå·²ç¶“ç²å–ç¯€é»çš„å‰æä¸‹æ‰€åŸ·è¡Œçš„å‹•ä½œã€‚æ²’æœ‰ç²å–ç¯€é»ï¼Œè¦æ’å…¥æˆ–åˆªé™¤æŒ‡å®šä½ç½®çš„ç¯€é»ï¼Œæœƒå…ˆç¶“éæŸ¥è©¢ç¯€é»é€™å€‹å‹•ä½œï¼Œæ‰€ä»¥æ™‚é–“è¤‡é›œåº¦æœƒè®Šç‚º $O(n)$ã€‚\nä½†å‡å¦‚ç¯€é»ä½ç½®ç‚ºé–‹é ­ï¼Œæ™‚é–“è¤‡é›œåº¦ä¹Ÿç‚º $O(1)$ã€‚\n4. å„ªç¼ºé»æ¯”è¼ƒ éˆçµä¸²åˆ—èˆ‡é™£åˆ—çš„å„ªç¼ºé»æ¯”è¼ƒã€‚\né™£åˆ—çš„å„ªé»ï¼š\n å¯åˆ©ç”¨ index éš¨æ©Ÿå­˜å–ï¼ˆRandom Accessï¼‰åªéœ€è¦ $O(1)$ çš„æ™‚é–“ã€‚ å¯é åº¦é«˜ï¼Œä¸æœƒå› ç‚ºéˆçµæ–·è£‚è€Œéºå¤±è³‡æ–™ã€‚  é™£åˆ—çš„ç¼ºé»ï¼š\n åœ¨é–‹é ­æˆ–ä¸­é–“æ’å…¥ã€åˆªé™¤å…ƒç´ ï¼Œéœ€è¦èŠ±è²» $O(n)$ çš„æ™‚é–“å°‡å…ƒç´ ç§»å‹•ã€‚ é€£çºŒçš„è¨˜æ†¶é«”ç©ºé–“ï¼Œå¯èƒ½æœƒæœ‰ç”¨ä¸åˆ°çš„ç©ºé–“ï¼Œè€Œé€ æˆæµªè²»ã€‚ è‹¥é™£åˆ—å·²æ»¿ï¼Œæœƒéœ€è¦èŠ±è²» $O(n)$ çš„æ™‚é–“æ¬å‹•è³‡æ–™åˆ°æ–°çš„é™£åˆ—å…§ã€‚  éˆçµä¸²åˆ—çš„å„ªé»ï¼š\n è³‡æ–™åœ¨è¨˜æ†¶é«”ä¸­éé€£çºŒã€‚ æ’å…¥ã€åˆªé™¤å…ƒç´ åªéœ€è¦ä¿®æ”¹ä¸Šï¼ä¸‹å€‹æŒ‡æ¨™çš„æŒ‡å‘ã€‚  éˆçµä¸²åˆ—çš„å„ªé»ï¼š\nçš„ç¼ºé»ï¼š\n åªèƒ½é †åºå­˜å–ï¼Œéœ€è¦èŠ±è²» $O(n)$ çš„æ™‚é–“ã€‚ éˆçµæ–·è£‚å°±æœƒéºå¤±è³‡æ–™ã€‚  JavaScript å¯¦ä½œéˆçµä¸²åˆ— JavaScript æ²’æœ‰å…§å»ºéˆçµä¸²åˆ—ï¼Œæˆ‘å€‘ä½¿ç”¨ç‰©ä»¶ä¾†æ¨¡æ“¬ã€‚\néˆçµä¸²åˆ—çš„è³‡æ–™çµæ§‹ï¼š\n1 2 3 4 5 6 7 8 9 10  { data: \u0026#39;data1\u0026#39;, next: { data: \u0026#39;data2\u0026#39;, next: { data: \u0026#39;data3\u0026#39;, next: null } } }   é¦–å…ˆæœƒå»ºç«‹å…©å€‹é¡åˆ¥ï¼Œåˆ†åˆ¥æ˜¯ Node è¡¨ç¤ºç¯€é»ã€LinkedList æä¾›æ’å…¥ã€åˆªé™¤ç¯€é»ä»¥åŠå…¶ä»–è¼”åŠ©æ–¹æ³•ã€‚\n1. Node ç¯€é» Node åŒ…å«è³‡æ–™å’ŒæŒ‡æ¨™ï¼š\n dataï¼šè³‡æ–™ nextï¼šæŒ‡å‘ä¸‹ä¸€å€‹ç¯€é»ã€‚  1 2 3 4 5 6  class Node { constructor(data) { this.data = data; this.next = null; } }   2. LinkedList åŸºæœ¬å±¬æ€§ï¼š\n headï¼šæŒ‡å‘ä¸²åˆ—é–‹é ­ç¯€é» tailï¼šæŒ‡å‘ä¸²åˆ—çµå°¾ç¯€é» lengthï¼šç¯€é»æ•¸é‡  1 2 3 4 5 6 7 8  class LinkedList { constructor() { this.head = null; this.tail = null; this.length = 0; } // methods }   2.1 è¼”åŠ©æ–¹æ³• å…ˆå»ºç«‹æœƒç”¨åˆ°çš„è¼”åŠ©æ–¹æ³•ã€‚\nisEmpty() æª¢æŸ¥ä¸²åˆ—æ˜¯å¦ç‚ºç©ºï¼š\n1 2 3  isEmpty() { return this.length === 0; }   getNode() å–å¾—æŒ‡å®šä½ç½®ç¯€é»ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12  getNode(index) { // åˆ¤æ–·æŒ‡å®šä½ç½®æ˜¯å¦åœ¨ç¯„åœå…§  if (index \u0026lt; 0 || index \u0026gt;= this.length) return null; // å¾é ­é–‹å§‹è¿­ä»£åˆ°æŒ‡å®šä½ç½®è¨ªå•  let currNode = this.head; let currIndex = 0; while (currIndex \u0026lt; index) { currIndex += 1; currNode = currNode.next; } return currNode; }   ç‚ºäº†æ–¹ä¾¿é©—è­‰ï¼Œå»ºç«‹ä¸€å€‹ print() ç…§é †åºå°å‡ºæ‰€æœ‰ç¯€é»è³‡æ–™å€¼ï¼š\n1 2 3 4 5 6 7 8 9  print() { const temp = []; let currNode = this.head; while (currNode) { temp.push(currNode.data); currNode = currNode.next; } return temp.join(\u0026#39;, \u0026#39;); }   2.2 æ’å…¥æ–°ç¯€é»  append(data)ï¼šåœ¨ä¸²åˆ—å°¾éƒ¨æ’å…¥ä¸€å€‹ç¯€é»ã€‚ insert(index, data)ï¼šåœ¨æŒ‡å®šä½ç½®æ’å…¥ä¸€å€‹ç¯€é»ã€‚  åœ¨ä¸²åˆ—å°¾éƒ¨æ’å…¥ä¸€å€‹ç¯€é»å¯åˆ†ç‚ºå…©ç¨®æƒ…æ³ï¼š\n ä¸²åˆ—ç‚ºç©ºï¼Œæ›´æ–° head å’Œ tailã€‚ ä¸²åˆ—ä¸ç‚ºç©ºï¼Œå‰‡æ›´æ–° tailã€‚  éœ€è¦å…ˆå°‡åŸæœ¬çš„ tail æŒ‡å‘æ–°çš„ç¯€é»ï¼› å†æ›´æ–° tailã€‚    1 2 3 4 5 6 7 8 9 10 11  append(data) { const newNode = new Node(data); if (this.isEmpty()) { this.head = newNode; this.tail = newNode; } else { this.tail.next = newNode; this.tail = newNode; } this.length += 1; }   åœ¨æŒ‡å®šä½ç½®æ’å…¥å…ƒç´ ï¼Œéœ€è¦è€ƒæ…®ä¸‰ç¨®æƒ…æ³ï¼š\n æ’å…¥ä¸²åˆ—çµå°¾å¾Œé¢ï¼Œç­‰åŒä½¿ç”¨ append æ–¹æ³•ã€‚ æ’å…¥ä¸²åˆ—é–‹é ­ï¼Œç‚ºå–ä»£ headã€‚ åœ¨ä¸­é–“ä½ç½®æ’å…¥ï¼Œéœ€è¦ä¿®æ”¹ä¸Šä¸€å€‹ç¯€é»çš„æŒ‡æ¨™ã€‚  å–å¾—æŒ‡å®šä½ç½®çš„ä¸Šä¸€å€‹ç¯€é»ï¼› å†å–å¾—æŒ‡å®šä½ç½®ä¸ŠåŸæœ¬çš„ç¯€é»ï¼› é‡æ–°å®šç¾©ä¸Šä¸€å€‹ç¯€é»æŒ‡æ¨™ï¼ŒæŒ‡å‘æ–°æ’å…¥çš„ç¯€é»ï¼› æœ€å¾Œå°‡æ–°æ’å…¥çš„ç¯€é»æŒ‡æ¨™ï¼ŒæŒ‡å‘åŸæœ¬çš„ç¯€é»ã€‚    1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19  insert(index, data) { if (index \u0026gt;= this.length) { this.append(data); return; } const newNode = new Node(data); if (index \u0026lt;= 0) { newNode.next = this.head; this.head = newNode; } else { const prevNode = this.getNode(index - 1); const currNode = prevNode.next; prevNode.next = newNode; newNode.next = currNode; } this.length += 1; }   é©—è­‰ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13  const list = new LinkedList(); list.append(\u0026#39;data1\u0026#39;); list.append(\u0026#39;data2\u0026#39;); list.append(\u0026#39;data3\u0026#39;); console.log(list.print()); // \u0026#39;data1, data2, data3\u0026#39;  list.insert(0, \u0026#39;a\u0026#39;); console.log(list.print()); // \u0026#39;a, data1, data2, data3\u0026#39; list.insert(4, \u0026#39;b\u0026#39;); console.log(list.print()); // \u0026#39;a, data1, data2, data3, b\u0026#39; list.insert(2, \u0026#39;b\u0026#39;); console.log(list.print()); // \u0026#39;a, data1, b, data2, data3, b\u0026#39;   2.3 åˆªé™¤ç¯€é» å…ˆåˆ¤index æœ‰æ•ˆï¼Œåˆªé™¤æŒ‡å®šä½ç½®çš„ç¯€é»ï¼š\n åˆªé™¤çš„ç¯€é»æ˜¯é–‹é ­ï¼Œé‡æ–°æŒ‡å®š headã€‚ å…¶ä»–ç¯€é»ï¼Œå‰‡æ‰¾åˆ°ç›®æ¨™ç¯€é»ï¼Œä¸¦ä¿®æ”¹ä¸Šä¸€å€‹ç¯€é»çš„æŒ‡å‘ï¼Œå¦‚æœç›®æ¨™ç¯€é»æ˜¯ tailï¼ˆæŒ‡æ¨™æŒ‡å‘ nullï¼‰è¨˜å¾—è¦é‡æ–°æŒ‡å®šã€‚  1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16  removeAt(index) { if (index \u0026lt; 0 || index \u0026gt;= this.length) return; if (index === 0) { this.head = this.head.next; } else { const prevNode = this.getNode(index - 1); const delNode = prevNode.next; const nextNode = delNode.next; prevNode.next = nextNode; if (nextNode === null) { this.tail = prevNode; } } this.length -= 1; }   2.4 å…¶ä»–æ–¹æ³• getData() å–å¾—æŒ‡å®šä½ç½®ç¯€é»çš„è³‡æ–™å€¼ï¼š\n1 2 3 4  get(index) { const node = this.getNode(index); return node ? node.data : null; }   indexOf() æ ¹æ“šè³‡æ–™çš„å€¼ï¼Œå›å‚³ç´¢å¼•ï¼ˆç¬¬ä¸€å€‹ç¬¦åˆæ¢ä»¶çš„ï¼‰ï¼Œæ²’æœ‰å‰‡å›å‚³ -1ï¼š\n1 2 3 4 5 6 7 8 9 10  indexOf(data) { let currNode = this.head; let currIndex = 0; while (currNode) { if (currNode.data === data) return currIndex; currIndex += 1; currNode = currNode.next; } return -1; }   remove() æ ¹æ“šè³‡æ–™çš„å€¼ï¼Œåˆªé™¤ç¬¦åˆçš„ç¬¬ä¸€å€‹ç¯€é»ï¼š\n1 2 3 4  remove(data) { const index = this.indexOf(data); return this.removeAt(index); }   clear() æ¸…ç©ºä¸²åˆ—ï¼š\n1 2 3 4 5  clear() { this.head = null; this.tail = null; this.length = 0; }   size() å›å‚³ä¸²åˆ—çš„ç¯€é»å€‹æ•¸ï¼š\n1 2 3  size() { return this.length; }   3. æœ€çµ‚ç¨‹å¼ç¢¼ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102 103 104 105 106 107 108 109 110 111 112 113 114 115 116 117 118  class Node { constructor(data) { this.data = data; this.next = null; } } class LinkedList { constructor() { this.head = null; this.tail = null; this.length = 0; } append(data) { const newNode = new Node(data); if (this.isEmpty()) { this.head = newNode; this.tail = newNode; } else { this.tail.next = newNode; this.tail = newNode; } this.length += 1; } insert(index, data) { if (index \u0026gt;= this.length) { this.append(data); return; } const newNode = new Node(data); if (index \u0026lt;= 0) { newNode.next = this.head; this.head = newNode; } else { const prevNode = this.getNode(index - 1); const currNode = prevNode.next; prevNode.next = newNode; newNode.next = currNode; } this.length += 1; } removeAt(index) { if (index \u0026lt; 0 || index \u0026gt;= this.length) return; if (index === 0) { this.head = this.head.next; } else { const prevNode = this.getNode(index - 1); const delNode = prevNode.next; const nextNode = delNode.next; prevNode.next = nextNode; if (nextNode === null) { this.tail = prevNode; } } this.length -= 1; } indexOf(data) { let currNode = this.head; let currIndex = 0; while (currNode) { if (currNode.data === data) return currIndex; currIndex += 1; currNode = currNode.next; } return -1; } remove(data) { const index = this.indexOf(data); return this.removeAt(index); } getNode(index) { if (index \u0026lt; 0 || index \u0026gt;= this.length) return null; let currNode = this.head; let currIndex = 0; while (currIndex \u0026lt; index) { currIndex += 1; currNode = currNode.next; } return currNode; } getData(index) { const node = this.getNode(index); return node ? node.data : null; } isEmpty() { return this.length === 0; } clear() { this.head = null; this.tail = null; this.length = 0; } size() { return this.length; } print() { const temp = []; let currNode = this.head; while (currNode) { temp.push(currNode.data); currNode = currNode.next; } return temp.join(\u0026#39;, \u0026#39;); } }   4. é›™å‘éˆçµä¸²åˆ— æ¥ä¸‹ä¾†æˆ‘å€‘ä¾†å¯¦ä½œé›™å‘éˆçµä¸²åˆ—ï¼Œå®ƒèˆ‡å–®å‘éˆçµä¸²åˆ—çš„å·®ç•°åœ¨æ–¼ï¼Œç¯€é»æœƒæœ‰å…©å€‹æŒ‡æ¨™ã€‚\nç¯€é»ä¸Šæœƒå¤šä¸€å€‹æŒ‡å‘ä¸Šä¸€å€‹ç¯€é»çš„æŒ‡æ¨™ï¼š\n1 2 3 4 5 6 7  class DoublyNode { constructor(data) { this.data = data; this.next = null; this.prev = null; } }   é™¤äº†æ’å…¥ã€åˆªé™¤ç¯€é»è¦å¤šåŠ è™•ç† prev æŒ‡æ¨™ï¼Œå…¶ä»–æ–¹æ³•æ“ä½œèˆ‡å–®å‘éˆçµä¸²åˆ—ç›¸åŒï¼Œæˆ‘å€‘é€™è£¡ç›´æ¥ç¹¼æ‰¿ LinkedListï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55  class DoublyLinkedList extends LinkedList { append(data) { const newNode = new DoublyNode(data); if (this.isEmpty()) { this.head = newNode; this.tail = newNode; } else { newNode.prev = this.tail; // new  this.tail.next = newNode; this.tail = newNode; } this.length += 1; return true; } insert(index, data) { if (index \u0026gt;= this.length) { this.append(data); return; } const newNode = new DoublyNode(data); if (index \u0026lt;= 0) { this.head.prev = newNode; // new  newNode.next = this.head; this.head = newNode; } else { const prevNode = this.getNode(index - 1); const currNode = prevNode.next; prevNode.next = newNode; newNode.next = currNode; } this.length += 1; } removeAt(index) { if (index \u0026lt; 0 || index \u0026gt;= this.length) return; if (index === 0) { this.head = this.head.next; this.head.prev = null; // new  } else { const prevNode = this.getNode(index - 1); const delNode = prevNode.next; const nextNode = delNode.next; prevNode.next = nextNode; if (nextNode === null) { this.tail = prevNode; } else { nextNode.prev = prevNode; // new  } } this.length -= 1; } }   5. è¿´åœˆéˆçµä¸²åˆ— è¿´åœˆéˆçµä¸²åˆ— tail çš„ next æŒ‡æ¨™æœƒæŒ‡å‘ headã€head çš„ prev æŒ‡æ¨™æœƒæŒ‡å‘ tailï¼Œè€Œé nullã€‚\nLeetCode ç›¸é—œé¡Œç›®  707. Design Linked List è¨­è¨ˆéˆçµä¸²åˆ— 141. Linked List Cycle è¿´åœˆéˆçµä¸²åˆ— 206. Reverse Linked List åè½‰éˆçµä¸²åˆ—  ç¸½çµ é™£åˆ—æ˜¯ JavaScript æœ€å¸¸ä½¿ç”¨çš„è³‡æ–™çµæ§‹ï¼ŒJavaScript çš„é™£åˆ—èˆ‡å…¶å®ƒèªè¨€ç›¸æ¯”å¾ˆç‰¹æ®Šï¼Œæ²’æœ‰å…ƒç´ å‹åˆ¥èˆ‡å¤§å°é™åˆ¶ï¼Œä½†å°‡å…ƒç´ å¾é–‹é ­æ’å…¥æˆ–ç§»é™¤ï¼Œæ™‚é–“è¤‡é›œåº¦ä¸€æ¨£éœ€è¦ $O(n)$ï¼Œè€Œéˆçµä¸²åˆ—åªéœ€è¦ $O(1)$ã€‚\nå¦‚æœæ²’æœ‰é »ç¹å­˜å–å…ƒç´ çš„éœ€æ±‚ï¼Œè€Œæœ‰éœ€è¦é »ç¹å°‡å…ƒç´ æ’å…¥é–‹é ­ï¼Œå¯ä»¥è€ƒæ…®ä½¿ç”¨éˆçµä¸²åˆ—çš„è³‡æ–™çµæ§‹é‚è¼¯ã€‚\n","description":"é€™é€±æ˜¯å…­è§’é¼ å¹´éµäººè³½ç¬¬åä¸‰é€±ï¼Œè¦ä¾†ç°¡å–®èªªæ˜èˆ‡é™£åˆ—é¡ä¼¼çš„è³‡æ–™çµæ§‹ã€Œéˆçµä¸²åˆ— Linked listã€ã€‚","id":85,"section":"posts","tags":["è³‡æ–™çµæ§‹","éˆçµä¸²åˆ—","w3HexSchool"],"title":"JavaScript å­¸æ¼”ç®—æ³•ï¼ˆäº”ï¼‰- éˆçµä¸²åˆ— Linked list ","uri":"https://chupai.github.io/posts/200427_ds_linkedlist/"},{"content":"é€™é€±æ˜¯ å…­è§’é¼ å¹´éµäººè³½ ç¬¬åäºŒé€±ï¼Œè¦ä¾†ç°¡å–®èªªæ˜ï¼Œæœ€åŸºæœ¬çš„è³‡æ–™çµæ§‹ã€Œé™£åˆ— Arrayã€ã€‚\n\ré™£åˆ—æ˜¯ä»€éº¼ åœ¨è¨ˆç®—æ©Ÿç§‘å­¸ä¸­ï¼Œé™£åˆ—è³‡æ–™çµæ§‹ï¼ˆarray data structureï¼‰ï¼Œç°¡ç¨± é™£åˆ—ï¼ˆArrayï¼‰ï¼Œä¸­åœ‹ç¨±ã€Œæ•°ç»„ã€ï¼Œæ˜¯æœ€åŸºæœ¬çš„è³‡æ–™çµæ§‹ï¼Œå±¬æ–¼ç·šæ€§æœ‰åºçš„è³‡æ–™çµæ§‹ã€‚\nå¤§å¤šæ•¸çš„é«˜éšç¨‹å¼èªè¨€éƒ½æœƒå…§å»ºçš„é™£åˆ—è³‡æ–™å‹åˆ¥ï¼ˆtypeï¼‰ï¼Œå°‘éƒ¨åˆ†æ˜¯ç”±é›œæ¹Šè¡¨ã€é€£çµä¸²åˆ—ã€æœå°‹æ¨¹ä¾†å¯¦ç¾ã€‚\n1. å®šç¾© é™£åˆ—æ˜¯ç”±ç›¸åŒé¡å‹çš„å…ƒç´ æ‰€çµ„æˆçš„æœ‰åºçš„è³‡æ–™çµæ§‹ï¼Œé€šå¸¸ç”±ä¸€å¡Šé€£çºŒçš„è¨˜æ†¶é«”ä½ç½®å„²å­˜ã€‚\nå› ç‚ºæ˜¯é€£çºŒçš„è¨˜æ†¶é«”ä½ç½®ï¼Œæ‰€ä»¥å¤§éƒ¨åˆ†çš„é«˜éšèªè¨€ï¼Œé™£åˆ—å®£å‘Šå¾Œçš„é•·åº¦ï¼ˆå¤§å°ï¼‰æ˜¯ä¸èƒ½æ”¹è®Šçš„ï¼Œå¦‚æœéœ€è¦èª¿æ•´é™£åˆ—å¤§å°ï¼Œéœ€è¦å°‡æ‰€æœ‰å…ƒç´ æ¬åˆ°æ–°çš„é™£åˆ—ã€‚\né™£åˆ—åœ¨æ’å…¥ã€åˆªé™¤å…ƒç´ çš„æ•ˆç‡éå¸¸å·®ï¼Œå› ç‚ºéœ€è¦ç§»å‹•ï¼ˆå¾€å‰æˆ–å¾€å¾Œï¼‰å…¶é¤˜å…ƒç´ ã€‚\nå…ƒç´ å¯ä»¥é€éç´¢å¼•ï¼ˆindexï¼‰åšéš¨æ©Ÿå­˜å–ï¼ˆRandom Accessï¼‰ï¼Œæœ‰æ™‚äº¦ç¨±ç›´æ¥å­˜å–ã€‚\né™£åˆ—ç‰¹è‰²ï¼š\n ç·šæ€§æœ‰åºçš„è³‡æ–™çµæ§‹ ç›¸åŒé¡å‹çš„å…ƒç´ æ‰€çµ„æˆ ç”±ä¸€å¡Šé€£çºŒçš„è¨˜æ†¶é«”ä½ç½®å„²å­˜ å¯ä»¥é€éç´¢å¼•éš¨æ©Ÿå­˜å– ç´¢å¼•åˆå§‹ä½ç½®ç‚º 0  JavaScript çš„é™£åˆ— JavaScript çš„é™£åˆ—èˆ‡å¤§éƒ¨åˆ†çš„é«˜éšèªè¨€çš„é™£åˆ—ç›¸æ¯”ï¼Œéå¸¸ä¸ä¸€æ¨£ã€‚\næˆ‘å€‘ä¸Šé¢æåˆ°ï¼Œé™£åˆ—çš„å®šç¾©æœ€ä¸»è¦å°±æ˜¯ï¼š\n ç›¸åŒé¡å‹çš„å…ƒç´ æ‰€çµ„æˆ ç”±ä¸€å¡Šé€£çºŒçš„è¨˜æ†¶é«”ä½ç½®å„²å­˜  ä½† JavaScript å±¬æ–¼æ–¼å‹•æ…‹å‹åˆ¥çš„ç¨‹å¼èªè¨€ï¼Œè®Šæ•¸å–®ç´”åªæ˜¯å®¹å™¨ï¼Œå‹åˆ¥æ˜¯æ ¹æ“šè³¦äºˆçš„å€¼ä¾†æ±ºå®šã€‚å› æ­¤é™£åˆ—å¯ä»¥å­˜æ”¾ä¸åŒå‹åˆ¥çš„å…ƒç´ ã€‚\nJavaScript æ˜¯åŸºæ–¼åŸå‹æ¨¡å¼çš„ç‰©ä»¶å°å‘èªè¨€ï¼Œå¹¾ä¹æ‰€æœ‰çš„äº‹ç‰©éƒ½æ˜¯ç‰©ä»¶ï¼Œæˆ–æ˜¯å…·æœ‰é¡ä¼¼ç‰©ä»¶çš„è¡Œç‚ºï¼Œé™£åˆ—ä¹Ÿä¸ä¾‹å¤–ï¼Œå®ƒæœ¬è³ªä¸Šå±¬æ–¼ä¸€ç¨®ç‰¹æ®Šçš„ç‰©ä»¶ã€‚\n1 2 3 4  typeof [] // \u0026#34;object\u0026#34;  const array = [\u0026#39;a\u0026#39;, \u0026#39;b\u0026#39;, \u0026#39;c\u0026#39;]; console.log( Object.keys(array) ); // [\u0026#34;0\u0026#34;, \u0026#34;1\u0026#34;, \u0026#34;2\u0026#34;]   æ‰€ä»¥ JavaScript çš„é™£åˆ—èˆ‡å…¶å®ƒç¨‹å¼èªè¨€ç›¸æ¯”ï¼ŒåŸ·è¡Œé€Ÿåº¦è¼ƒæ…¢ã€‚\n1. è¨˜æ†¶é«”å„²å­˜ å¦å¤–ï¼ŒJavaScript çš„é™£åˆ—ä¸¦ä¸ä¸€å®šæ˜¯å„²å­˜æ–¼é€£çºŒè¨˜æ†¶é«”ç©ºé–“ã€‚\næ—©æœŸçš„ JavaScript å¼•æ“ç”¨ç‚ºã€Œéˆå¼å„²å­˜çµæ§‹ã€ï¼Œè€Œåˆ°äº† Chrome çš„ V8 æ‰ä½¿ç”¨ã€Œé †åºå„²å­˜çµæ§‹ã€èˆ‡ã€Œéˆå¼å„²å­˜çµæ§‹ã€æ··åˆæ¨¡å¼ã€‚\nåœ¨å¤šæ•¸çš„æƒ…æ³ä¸‹ï¼ŒV8 å¼•æ“çš„é™£åˆ—æ˜¯ã€Œé †åºå„²å­˜çµæ§‹ã€ä¹Ÿå°±æ˜¯åˆ†é…é€£çºŒè¨˜æ†¶é«”ï¼Œè€Œä»¥ä¸‹æƒ…æ³ç‚ºéé€£çºŒè¨˜æ†¶é«”ï¼š\n ç¨€ç–é™£åˆ— å…ƒç´ çš„éå–®ä¸€å‹åˆ¥  éé€£çºŒè¨˜æ†¶é«”çš„é™£åˆ—ç”¨çš„æ˜¯é¡ä¼¼é›œæ¹Šè¡¨ï¼ˆhash tableï¼‰å°æ˜ çš„æ–¹å¼å­˜åœ¨ã€‚\né™£åˆ—çš„æ“ä½œ JavaScript åŸºæœ¬æ“ä½œè«‹åƒè€ƒï¼š\n é™£åˆ— è¿­ä»£é™£åˆ— ","description":"é€™é€±æ˜¯å…­è§’é¼ å¹´éµäººè³½ç¬¬åäºŒé€±ï¼Œæœ€åŸºæœ¬çš„è³‡æ–™çµæ§‹ã€Œé™£åˆ— Arrayã€ã€‚","id":86,"section":"posts","tags":["è³‡æ–™çµæ§‹","é™£åˆ— Array","w3HexSchool"],"title":"JavaScript å­¸æ¼”ç®—æ³•ï¼ˆå››ï¼‰- é™£åˆ— Array ","uri":"https://chupai.github.io/posts/200426_ds_array/"},{"content":" JavaScriptç­†è¨˜ ç›®éŒ„\n \rå°é™£åˆ—åšè¿­ä»£ å°é™£åˆ—åšè¿­ä»£æ˜¯æœ€å¸¸è¦‹çš„é™£åˆ—æ“ä½œï¼Œæœ€åŸºæœ¬çš„çš„è¿­ä»£æ–¹å¼å°±æ˜¯ä½¿ç”¨ for è¿´åœˆï¼š\n1 2 3 4 5 6 7 8 9  let arr = [\u0026#39;a\u0026#39;, \u0026#39;b\u0026#39;, \u0026#39;c\u0026#39;]; for (let i = 0; i \u0026lt; arr.length; i++) { console.log(arr[i]); } // \u0026#34;a\u0026#34; // \u0026#34;b\u0026#34; // \u0026#34;c\u0026#34;   ä½†å¦‚æœéœ€è¦å°é™£åˆ—å¾é ­åˆ°å°¾çš„è¿­ä»£ï¼Œä½¿ç”¨ for è¿´åœˆå¤ªç¹ç‘£ï¼Œéœ€è¦ç´¢å¼•å€¼ã€çµæŸæ¢ä»¶ã€‚\nå› æ­¤å¯ä»¥æ”¹ç”¨ forEach æ–¹æ³•æˆ– ES6 çš„ for of è¿´åœˆä¾†è¿­ä»£é™£åˆ—ã€‚\n   é¡å‹ æ•ˆèƒ½ èªªæ˜     for æœ€é«˜ é›–ç„¶ç¹ç‘£ï¼Œä½†è‡ªç”±åº¦é«˜ï¼Œå¯ä½¿ç”¨è®Šæ•¸æ”¹è®Šç´¢å¼•å€¼ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨ breakã€returnã€continue ç­‰èªå¥   for in æœ€ä½ å¯ç”¨æ–¼ç‰©ä»¶ï¼Œä½†ä¸å»ºè­°ç”¨æ–¼é™£åˆ—   forEach ä¸­é–“ æ­é…ç®­é ­å‡½å¼å¯ä½¿ç¨‹å¼ç¢¼æ›´ç°¡æ½”   for of ä¸­é–“ï¼ˆé«˜æ–¼ forEachï¼‰ ç°¡æ½”ï¼Œè€Œä¸”æ¯”èµ· forEach å¯ä½¿ç”¨ breakã€returnã€continue ç­‰èªå¥ï¼Œä½†æ²’æœ‰ç´¢å¼•    1. forEach é¦–å…ˆæˆ‘å€‘ä¾†çœ‹çœ‹ forEach æ–¹æ³•ï¼Œå®ƒæœƒå°‡é™£åˆ—å…§çš„æ¯å€‹å…ƒç´ ï¼Œçš†å‚³å…¥ä¸¦åŸ·è¡Œçµ¦å®šçš„å‡½å¼ä¸€æ¬¡ï¼Œä¸æœƒç”¢ç”Ÿæ–°çš„é™£åˆ—ã€‚\nèªæ³•å¦‚ä¸‹ï¼š\n1 2 3  arr.forEach(function callback(currentValue[, index[, array]]) { //your iterator }[, thisArg]);    callback å‡½å¼å…±æœ‰ä¸‰å€‹åƒæ•¸ï¼š  currentValueï¼šé™£åˆ—ç•¶å‰å…ƒç´  indexï¼šé™£åˆ—ç•¶å…ƒç´ çš„ç´¢å¼•å€¼ arrayï¼šé™£åˆ—æœ¬èº«   thisArgï¼šåŸ·è¡Œ callback å›å‘¼å‡½å¼çš„ thisï¼ˆå³åƒè€ƒä¹‹ Objectï¼‰å€¼ å›å‚³å€¼ï¼š undefined  currentValue ç‚ºå¿…å¡«åƒæ•¸ï¼Œè€Œ index èˆ‡ array å‰‡é¸æ“‡æ€§ã€‚\nè©¦è‘—æ”¹å¯«é–‹é ­çš„ for è¿´åœˆï¼Œé”åˆ°çµæœã€‚\n1 2 3 4 5 6 7 8 9 10 11 12  let arr = [\u0026#39;a\u0026#39;, \u0026#39;b\u0026#39;, \u0026#39;c\u0026#39;]; arr.forEach(function(item) { console.log(item); }) // \u0026#34;a\u0026#34; // \u0026#34;b\u0026#34; // \u0026#34;c\u0026#34;  // ä½¿ç”¨ç®­é ­å‡½å¼ arr.forEach((item) =\u0026gt; console.log(item));   ç•¶å‚³å…¥åƒæ•¸ thisArgï¼Œcallback å‡½å¼çš„ this å°±æœƒæŒ‡å‘ä½ æ‰€å‚³å…¥çš„ç‰©ä»¶ã€‚\n1 2 3 4 5 6 7 8 9 10  const arr = [1, 2, 3]; const arr2 = [\u0026#39;ä¸€\u0026#39;, \u0026#39;äºŒ\u0026#39;, \u0026#39;ä¸‰\u0026#39;]; arr.forEach(function(item, index) { console.log(item + \u0026#39;ï¼š\u0026#39; + this[index]); }, arr2); // \u0026#34;1ï¼šä¸€\u0026#34; // \u0026#34;2ï¼šäºŒ\u0026#34; // \u0026#34;3ï¼šä¸‰\u0026#34;   2. for of è¿´åœˆ åœ¨ ES6 æ–°å¢äº† for of è¿´åœˆï¼Œå®ƒå¯ä»¥ç”¨æ–¼å¯è¿­ä»£ç‰©ä»¶ï¼ˆArrayã€Mapã€Setã€Stringã€TypedArrayï¼Œargumentsï¼‰ä¸Šï¼Œä¹Ÿå°±æ˜¯åªè¦æ˜¯å¯¦ç¾äº† Interable ä»‹é¢çš„è³‡æ–™å‹åˆ¥éƒ½èƒ½è¢«éæ­·ã€‚\n1 2 3 4 5 6 7 8 9  let arr = [\u0026#39;a\u0026#39;, \u0026#39;b\u0026#39;, \u0026#39;c\u0026#39;]; for (let element of arr) { console.log(element); } // \u0026#34;a\u0026#34; // \u0026#34;b\u0026#34; // \u0026#34;c\u0026#34;   ä½¿ç”¨ for of éèˆ‡ forEach çš„æœ€å¤§å·®ç•°å°±æ˜¯å¯ä»¥ä¸­æ–·ï¼š\n1 2 3 4 5 6 7 8 9 10 11  let arr = [\u0026#39;a\u0026#39;, \u0026#39;b\u0026#39;, \u0026#39;c\u0026#39;, \u0026#39;d\u0026#39;, \u0026#39;e\u0026#39;]; for (let element of arr) { if (element === \u0026#39;c\u0026#39;) { break; } console.log(element); } // \u0026#34;a\u0026#34; // \u0026#34;b\u0026#34;   æ“ä½œé™£åˆ—å…ƒç´  è™•ç†é™£åˆ—ä¸­çš„å…ƒç´ ï¼Œä¸¦ä¸æ›´å‹•åŸé™£åˆ—æ˜¯å¸¸è¦‹çš„æ“ä½œã€‚\nä½¿ç”¨ forEach æ–¹æ³•ï¼Œé ˆå…ˆå»ºç«‹ä¸€å€‹æ–°çš„é™£åˆ—æ­é… push æ–¹æ³•ã€‚\nèˆ‰ä¾‹ï¼Œåˆä½µå§“åï¼š\n1 2 3 4 5 6 7 8 9 10 11 12  const inventors = [ { first: \u0026#39;Albert\u0026#39;, last: \u0026#39;Einstein\u0026#39; }, { first: \u0026#39;Isaac\u0026#39;, last: \u0026#39;Newton\u0026#39; }, ]; const names = []; inventors.forEach((item) =\u0026gt; { names.push(`${item.first}${item.last}`); }); console.log(names); // [\u0026#34;Albert Einstein\u0026#34;, \u0026#34;Isaac Newton\u0026#34;]   å¦‚æœæ”¹ç”¨ map æ–¹æ³•ï¼š\n1 2 3 4 5 6  inventors.map(function(item) { return `${item.first}${item.last}`; }); // ç®­é ­å‡½å¼ inventors.map(item =\u0026gt; `${item.first}${item.last}`);   map æ–¹æ³•æœƒå»ºç«‹ä¸€å€‹æ–°çš„é™£åˆ—ï¼Œå…¶å…§å®¹ç‚ºåŸé™£åˆ—çš„æ¯ä¸€å€‹å…ƒç´ ç¶“ç”±å›å‘¼å‡½å¼é‹ç®—å¾Œæ‰€å›å‚³çš„çµæœä¹‹é›†åˆã€‚\nåƒæ•¸åŸºæœ¬ä¸Šèˆ‡ forEach() ç›¸åŒï¼Œä½†å›å‘¼å‡½å¼å¤šäº†ä¸€å€‹ return å¯ä»¥å°‡æœƒå°‡è™•ç†çµæœæ”¾åˆ°æ–°çš„é™£åˆ—ä¸­ï¼Œä¸¦å›å‚³æ–°çš„é™£åˆ—ã€‚\nè®“æˆ‘å€‘ä¾†å¯¦ä½œä¸€ä¸‹ map æ–¹æ³•ï¼Œç­è§£å…¶åŸç†ï¼š\n1 2 3 4 5 6 7 8 9  function map(arr, callback) { let result = []; for (let i = 0; i \u0026lt; arr.length; i++) { result.push(callback(arr[i])); } return result; } map(inventors, (item) =\u0026gt; `${item.first}${item.last}`);   å…¶ä»–é™£åˆ—è¿­ä»£æ“ä½œæ–¹æ³•ï¼š\n map() ï¼šåŸ·è¡Œçµæœå­˜åˆ°æ–°é™£åˆ—ã€‚ filter()ï¼šå°‡ç¬¦åˆæ¢ä»¶çš„å…ƒç´ å­˜åˆ°æ–°é™£åˆ—ã€‚ find()ï¼šæ‰¾åˆ°ç¬¬ä¸€å€‹ç¬¦åˆæ¢ä»¶çš„å…ƒç´ ã€‚ some() ï¼šåˆ¤æ–·æœ‰å…ƒç´ ç¬¦åˆæ¢ä»¶ã€‚ every()ï¼šåˆ¤æ–·æ‰€æœ‰å…ƒç´ éƒ½ç¬¦åˆæ¢ä»¶ã€‚ reduce()ï¼šæ ¹æ“šè¦å‰‡ç¸®æ¸›é™£åˆ—ã€‚  1. éæ¿¾é™£åˆ— filter æ–¹æ³•æœƒå»ºç«‹ä¸€å€‹ç¶“æŒ‡å®šä¹‹å‡½å¼é‹ç®—å¾Œï¼Œç”±åŸé™£åˆ—ä¸­é€šéè©²å‡½å¼æª¢é©—ä¹‹å…ƒç´ æ‰€æ§‹æˆçš„æ–°é™£åˆ—ã€‚ return æ˜¯ç”¨ä¾†åˆ¤æ–·æ¢ä»¶ã€‚å¦‚æœ return å€¼ç‚º true æœƒå°‡è©²å…ƒç´ æ”¾å…¥æ–°é™£åˆ—ã€‚\né€šå¸¸ç”¨ä¾†ç¯©é¸è³‡æ–™ï¼š\n1 2 3 4 5 6 7  const numbers = [33, 22, 66, 88, 10, 5, 6, 9]; const bigNum = numbers.filter(function(item) { return item \u0026gt; 30; }); console.log( bigNum ); // [33, 66, 88]   æ‰¾å‡ºå¤§æ–¼ 30 çš„æ•¸å€¼ã€‚\n3. é™£åˆ—æœå°‹ some æ–¹æ³•æœƒæ¸¬è©¦é™£åˆ—ä¸­æ˜¯å¦è‡³å°‘æœ‰ä¸€å€‹å…ƒç´ é€šéç”±çµ¦å®šä¹‹å‡½å¼æ‰€å¯¦ä½œçš„æ¸¬è©¦ã€‚return åˆ¤æ–·æ¢ä»¶ã€‚å¦‚æœè‡³å°‘ return ä¸€æ¬¡ true å‰‡å›å‚³ trueã€‚\nå°‹æ‰¾é™£åˆ—ä¸­ä½¿å¦æœ‰å…ƒç´ æ˜¯å¥‡æ•¸å€¼ï¼š\n1 2 3 4 5 6 7 8  const array = [1, 2, 3, 4, 5]; const arraySome = array.some(function (even) { return even % 2 === 0; }); console.log( arraySome ); // true   è¦åœ¨ä¸€å€‹é™£åˆ—ä¸­æœå°‹æŸå€‹å€¼ï¼Œä¸€èˆ¬ä¾†èªªæœƒä½¿ç”¨ indexOf()ï¼Œå®ƒæœƒå›å‚³ç¬¬ä¸€å€‹ç¬¦åˆçš„å€¼çš„ç´¢å¼•ï¼Œæ²’æ‰¾åˆ°å›å‚³ -1ã€‚\n1 2 3  const arr = [1, 2, 3, 4, 5]; console.log(arr.indexOf(2)); // 1   ä½† indexOf() æ˜¯ä½¿ç”¨ === ä¾†é€²è¡Œæ¯”è¼ƒï¼Œå› æ­¤å¦‚æœå‚³å…¥å­—ä¸²'2'ï¼Œå°±æœƒæ‰¾ä¸åˆ°ã€‚\n1 2 3  // æ‰¿æ¥ä¸Šæ®µç¨‹å¼ç¢¼  console.log(arr.indexOf(\u0026#39;2\u0026#39;)); // -1   åœ¨ ES5 æ™‚ï¼Œæœƒä½¿ç”¨ some() ä¾†è®Šé€šæ¯”å°é‚è¼¯ï¼Œä½†ä¹Ÿåªèƒ½åˆ¤æ–·è©²é™£åˆ—æ˜¯å¦æ“æœ‰è©²å…ƒç´ ï¼Œç„¡æ³•å¯¦éš›ç²å–å¯¦éš›ç¬¦åˆæ¢ä»¶å…ƒç´ ã€‚\n1 2 3 4 5 6 7  // æ‰¿æ¥ä¸Šæ®µç¨‹å¼ç¢¼  let result = arr.some(function(even) { return even == \u0026#39;2\u0026#39;; }) console.log(result); // true   è€Œåˆ°äº† ES6 æ–°å¢äº† find()ï¼Œè§£æ±ºäº†é€™å€‹å•é¡Œã€‚\nfind æ–¹æ³•æœƒå›å‚³ç¬¬ä¸€å€‹æ»¿è¶³æ‰€æä¾›ä¹‹æ¸¬è©¦å‡½å¼çš„æˆå“¡å€¼ã€‚å¦å‰‡å›å‚³ undefinedã€‚èˆ‡ some() çš„å·®ç•°åœ¨æ–¼ï¼Œå›å‚³ç¬¬ä¸€å€‹ return å€¼ç‚º true çš„å…ƒç´ ã€‚\næ‰¾å‡ºç¬¬ä¸€å€‹ç¬¦åˆæ¢ä»¶çš„å…ƒç´ ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12  const inventory = [ {name: \u0026#39;apples\u0026#39;, quantity: 2}, {name: \u0026#39;bananas\u0026#39;, quantity: 0}, {name: \u0026#39;cherries\u0026#39;, quantity: 5} ]; const inventoryFind = inventory.find(function(item) { return item.name === \u0026#39;cherries\u0026#39;; }); console.log( inventoryFind ); // { name: \u0026#39;cherries\u0026#39;, quantity: 5 }   findIndex() ä¹Ÿæ˜¯ ES6 æ–°å¢çš„æ–¹æ³•ï¼ŒfindIndex() èˆ‡ find() å·®ç•°åªåœ¨æ–¼ï¼Œå…¶æœƒå›å‚³å…¶ç´¢å¼•ï¼Œå¦‚æœæ²’æœ‰ç¬¦åˆçš„å…ƒç´ ï¼Œå°‡è¿”å› -1ã€‚\n1 2 3 4 5 6 7 8  // æ‰¿æ¥ä¸Šæ®µç¨‹å¼ç¢¼  const inventoryIndexFind = inventory.findIndex(function(item) { return item.name === \u0026#39;cherries\u0026#39;; }); console.log(inventoryIndexFind); // 2   å› æ­¤ find() å¯ä»¥æ‡‰ç”¨åœ¨æ›´æ–°è³‡æ–™ï¼Œè€Œ findIndex() æœƒç”¨ä¾†åˆªé™¤è³‡æ–™ã€‚\n1 2 3 4 5 6  const cart = [ {id: 1, count: 0}, {id: 2, count: 0}, {id: 3, count: 0}, {id: 4, count: 0}, ];   æ‰¾å‡º id ç‚º 3 ä¸¦å°‡ count æ›´æ–°æˆ 5ï¼š\n1 2 3 4 5 6 7 8 9 10 11  let item = cart.find((item)=\u0026gt; item.id === 3); item.count = 5; console.log( cart ); // [ // {id: 1, count: 0}, // {id: 2, count: 0}, // {id: 3, count: 5}, // {id: 4, count: 0}, // ]   åˆªé™¤ id ç‚º 3 çš„å…ƒç´ ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17  const cart = [ {id: 1, count: 0}, {id: 2, count: 0}, {id: 3, count: 0}, {id: 4, count: 0}, ]; let index = cart.findIndex((item)=\u0026gt; item.id === 3); cart.splice(index, 1); console.log( cart ); // [ // {id: 1, count: 0}, // {id: 2, count: 0}, // {id: 4, count: 0}, // ]   every æ–¹æ³•æœƒæ¸¬è©¦é™£åˆ—ä¸­çš„æ‰€æœ‰å…ƒç´ æ˜¯å¦éƒ½é€šéäº†ç”±çµ¦å®šä¹‹å‡½å¼æ‰€å¯¦ä½œçš„æ¸¬è©¦ã€‚\nèˆ‡ some() çš„å·®ç•°åœ¨æ–¼ï¼Œevery() å¿…é ˆè¦å…¨éƒ¨çš„å…ƒç´ éƒ½ç¬¦åˆæ¢ä»¶æ‰æœƒå›å‚³ trueã€‚\næ˜¯å¦å…¨éƒ¨éƒ½æ˜¯åŸºæ•¸ï¼š\n1 2 3 4 5 6 7 8  const array = [1, 2, 3, 4, 5]; const arrayEvery = array.every(function (even) { return even % 2 === 0; }); console.log( arrayEvery ); // false   4. reduce reduce æ–¹æ³•å°‡ä¸€å€‹ç´¯åŠ å™¨åŠé™£åˆ—ä¸­æ¯é …å…ƒç´ ï¼ˆç”±å·¦è‡³å³ï¼‰å‚³å…¥å›å‘¼å‡½å¼ï¼Œå°‡é™£åˆ—åŒ–ç‚ºå–®ä¸€å€¼ã€‚å…¶å¯¦å°±æ˜¯å¸¶æœ‰æš«å­˜å™¨çš„ forEach()ã€‚\nèªæ³•ï¼š\n1  arr.reduce(callback[accumulator, currentValue, currentIndex, array], initialValue)    accumulatorï¼šç”¨ä¾†ç´¯ç©å›å‘¼å‡½å¼å›å‚³å€¼çš„ç´¯åŠ å™¨ï¼Œè‹¥æœ‰æä¾›çš„è©±ï¼Œè©³å¦‚ä¸‹æ•˜ã€‚ç´¯åŠ å™¨æ˜¯ä¸Šä¸€æ¬¡å‘¼å«å¾Œï¼Œæ‰€å›å‚³çš„ç´¯åŠ æ•¸å€¼ã€‚ initialValueï¼šæ–¼ç¬¬ä¸€æ¬¡å‘¼å« callback æ™‚è¦å‚³å…¥çš„ç´¯åŠ å™¨åˆå§‹å€¼ã€‚è‹¥æ²’æœ‰æä¾›åˆå§‹å€¼ï¼Œå‰‡åŸé™£åˆ—çš„ç¬¬ä¸€å€‹å…ƒç´ å°‡æœƒè¢«ç•¶ä½œåˆå§‹çš„ç´¯åŠ å™¨ã€‚å‡å¦‚æ–¼ä¸€å€‹ç©ºé™£åˆ—å‘¼å« reduce() æ–¹æ³•ä¸”æ²’æœ‰æä¾›ç´¯åŠ å™¨åˆå§‹å€¼ï¼Œå°‡æœƒç™¼ç”ŸéŒ¯èª¤ã€‚ returnï¼šæ”¾å…¥ç´¯åŠ å™¨ä¸­  å‡è¨­è¦è¨ˆç®—ä¸€å€‹æ•¸å€¼é™£åˆ—çš„ç¸½åˆå€¼ç‚ºå¤šå°‘ï¼Œä½¿ç”¨ for è¿´åœˆéƒ½æœƒé¡å¤–å®£å‘Šä¸€å€‹ total è®Šæ•¸ä¾†ç•¶ä½œç´¯åŠ å™¨ã€‚\n1 2 3 4 5 6 7 8 9  const numbers = [1, 2, 3, 4, 5, 6]; let total = 0; for(let i = 0; i \u0026lt; numbers.length; i++) { total += numbers[i]; } console.log( total ); // 21   ä½¿ç”¨ reduce()ï¼š\n1 2 3 4 5 6 7 8  const numbers = [1, 2, 3, 4, 5, 6]; const numTotal = numbers.reduce(function(total, item) { return total + item }, 0); console.log( numTotal ); // 21   è€Œ reduceRight() åŸºæœ¬ä¸Šèˆ‡ reduce() ä¸€æ¨£ï¼Œå·®ç•°æ˜¯å¾å³åˆ°å·¦é€²è¡Œç´¯åŠ ã€‚\næˆ‘å€‘ç”¨æ‰å¹³åŒ–ï¼ˆflattenï¼‰ä¸€å€‹å…ƒç´ ç‚ºé™£åˆ—çš„é™£åˆ—ä¾†è§€å¯Ÿå·®ç•°ï¼š\n1 2 3 4 5 6 7 8 9 10 11  const arr = [[0, 1], [2, 3], [4, 5]]; function callback(a, b) { return a.concat(b); } let result1 = arr.reduce(callback, []); let result2 = arr.reduceRight(callback, []); console.log(result1); // [0, 1, 2, 3, 4, 5] console.log(result2); // [4, 5, 2, 3, 0, 1]   ","description":"å°é™£åˆ—åšè¿­ä»£æ˜¯æœ€å¸¸è¦‹çš„é™£åˆ—æ“ä½œã€‚","id":87,"section":"posts","tags":["JavaScript","é™£åˆ— Array"],"title":"è¿­ä»£é™£åˆ—","uri":"https://chupai.github.io/posts/200425_js_array_iterate/"},{"content":" JavaScriptç­†è¨˜ ç›®éŒ„\n \ræ¦‚è¿° åœ¨ JavaScript ä¸­çš„é™£åˆ—èˆ‡å…¶ä»–èªè¨€çš„ä¸åŒä¹‹è™•åœ¨æ–¼ï¼ŒJavaScript çš„é™£åˆ—åªæ˜¯å®¹å™¨ã€‚ä»»ä½•é¡å‹çš„è³‡æ–™ï¼Œéƒ½å¯ä»¥æ”¾å…¥é™£åˆ—ã€‚\n1. é™£åˆ—å…¶å¯¦å°±æ˜¯ç‰©ä»¶ æ¯å€‹é™£åˆ—éƒ½æœƒæœ‰ç´¢å¼•å€¼ï¼ˆindexï¼‰ï¼Œæ˜¯å¾ 0 é–‹å§‹çš„é †åºæ•´æ•¸å€¼ï¼Œä½†é™£åˆ—å…¶å¯¦å°±æ˜¯æ“æœ‰å›ºå®šéµåçš„ç‰©ä»¶ã€‚\n1 2 3 4 5  typeof [] // \u0026#34;object\u0026#34;`  const array = [\u0026#39;a\u0026#39;, \u0026#39;b\u0026#39;, \u0026#39;c\u0026#39;]; console.log( Object.keys(array) ); // [\u0026#34;0\u0026#34;, \u0026#34;1\u0026#34;, \u0026#34;2\u0026#34;]   ä½¿ç”¨ Object.keys() å‚³å›é™£åˆ—çš„æ‰€æœ‰ éµåï¼ˆkey nameï¼‰ã€‚å¯ä»¥çœ‹åˆ°é™£åˆ—çš„éµåå°±æ˜¯æ•´æ•¸ 0ã€1ã€2ã€‚\né›–ç„¶ typeof ç„¡æ³•åˆ¤æ–·é™£åˆ—èˆ‡ç‰©ä»¶ï¼Œä½†å¯ä»¥åˆ©ç”¨ instanceof é‹ç®—å­å€åˆ†é™£åˆ—å’Œç‰©ä»¶ã€‚\n1 2 3 4 5  const o = {}; const a = []; console.log( o instanceof Array ); // false console.log( a instanceof Array ); // true   æˆ–æ˜¯ä½¿ç”¨ Array.isArray() ä¾†åˆ¤æ–·ï¼š\n1 2 3 4  // æ‰¿æ¥ä¸Šæ–¹ç¨‹å¼ç¢¼  console.log( Array.isArray(o) ); // false console.log( Array.isArray(a) ); // true   2. ç‚ºä½•è¦ä½¿ç”¨é™£åˆ—ï¼Ÿ å‡è¨­éœ€è¦å„²å­˜ä¸€å¹´ä¸­æ¯å€‹æœˆçš„å¹³å‡æº«åº¦ï¼š\n1 2 3 4 5 6  let averageTep1 = 25; let averageTep2 = 22; let averageTep3 = 24; let averageTep4 = 28; let averageTep5 = 29; ...   ä½¿ç”¨è®Šæ•¸ä¾†å­˜æ”¾çµ•å°ä¸æ˜¯ä¸€å€‹å¥½è¾¦æ³•ã€‚\nå› æ­¤å¯ä»¥ä½¿ç”¨é™£åˆ—ä¾†å­˜æ”¾è³‡æ–™ï¼Œèƒ½å¤ ä¸€æ¬¡ç®¡ç†å¤šå€‹è®Šæ•¸ï¼Œ\n1 2 3 4 5 6 7 8 9 10  const averageTep = []; averageTep[0] = 25; averageTep[1] = 22; averageTep[2] = 24; averageTep[3] = 28; averageTep[4] = 29; ... console.log( averageTep ); // [25, 22, 24, 28, 29 ...]   é‚„å¯ä»¥æ­é…ç‰©ä»¶ä½¿ç”¨ï¼š\n1 2 3 4 5 6 7 8  const person = [ {name: \u0026#39;Peter\u0026#39;, sex: \u0026#39;male\u0026#39;}, {name: \u0026#39;Mike\u0026#39;, sex: \u0026#39;male\u0026#39;}, {name: \u0026#39;Merry\u0026#39;, sex: \u0026#39;female\u0026#39;} ] console.log( person[0].name ); // \u0026#34;Peter\u0026#34; console.log( person[2].sex ); // \u0026#34;female\u0026#34;   åŸºæœ¬æ“ä½œ 1. å»ºç«‹ å»ºç«‹é™£åˆ—æœ‰å…©ç¨®åŸºæœ¬æ–¹å¼ï¼š\n å»ºæ§‹å‡½å¼ Array() é™£åˆ—å¯¦å€¼ []  1 2 3 4 5  const arr1 = [1, 2, 3]; const arr2 = new Array(1, 2, 3); console.log( arr1 ); // [1, 2, 3] console.log( arr2 ); // [1, 2, 3]   new Arry() èˆ‡ Arry() åŒç¾©ï¼Œè¡¨ç¤º new å¯çœç•¥ã€‚ã€‚\nä½†æ˜¯ï¼Œåœ¨ JavaScript æ‡‰è©²å„ªå…ˆè€ƒæ…®ä½¿ç”¨ [] é™£åˆ—å¯¦å€¼ã€‚é™¤äº†ç”¨åˆ°å­—å…ƒæ¯”è¼ƒå°‘ä¹‹å¤–ï¼Œé‚„æœ‰ JavaScript æ˜¯è‡ªç”±åº¦é«˜çš„ç¨‹å¼èªè¨€ï¼Œnew Array() æœ‰å¯èƒ½æœƒè¢«è¤‡å¯«ï¼Œå‰µé€ å‡ºä¸æ˜¯é™£åˆ—çš„æ±è¥¿ã€‚\nå¦å¤– Array å»ºæ§‹å¼æœ‰ä¸€ç¨®ç‰¹æ®Šçš„ä½¿ç”¨æ–¹å¼ï¼Œå¦‚æœåªå‚³å…¥ä¸€å€‹æ•¸å€¼å¼•æ•¸è¢«å‚³å…¥ï¼Œé‚£æ­¤å»ºæ§‹å‡½å¼ä¸æœƒæŠŠè©²å€¼ç•¶æˆé™£åˆ—ä¸­å…§å®¹ï¼Œè€Œæ˜¯ç•¶ä½œé•·åº¦ lenghtã€‚\nJavaScript çš„é™£åˆ—ä¸éœ€è¦é è¨­å¤§å°ï¼Œå®£å‘Šå¾Œå°±å¯ä»¥æ–°å¢éœ€è¦çš„å€¼ï¼ˆå¤§éƒ¨åˆ†é«˜éšèªè¨€çš„é™£åˆ—å®£å‘Šå¾Œå¤§å°å°±å›ºå®šäº†ï¼‰ã€‚\n2. å–å€¼ å¯ä»¥é€éç´¢å¼•å–å¾—å…ƒç´ çš„æŒ‡å®šå€¼ï¼š\n1 2 3 4 5 6 7  const array = [1, 2, 3, 4, 5]; console.log( array[0] ); // 1 console.log( array[1] ); // 2 console.log( array[2] ); // 3 console.log( array[3] ); // 4 console.log( array[4] ); // 5   3. é™£åˆ—å…§å®¹æ“ä½œ é™¤äº†ä¸€é–‹å§‹å®£å‘Šå°±æœ‰çš„å…ƒç´ ï¼Œé‚„å¯ä»¥ç›´æ¥é€éè³¦å€¼æ–¹å¼æ–°å¢é™£åˆ—å…ƒç´ ï¼š\n1 2 3 4 5 6  const array = []; array[0] = 1; array[1] = 2; console.log( array ); // [1, 2];   å¦‚æœè©²ç´¢å¼•ä½ç½®å·²ç¶“æœ‰è©²å…ƒç´ ï¼Œé‚£å°‡æœƒè¦†è“‹åŸä¾†çš„å€¼ã€‚\næ–°å¢ï¼åˆªé™¤é ­å°¾çš„å…ƒç´ å¯ä»¥ä½¿ç”¨ï¼š\n push() æœƒæ·»åŠ ä¸€å€‹æˆ–å¤šå€‹å…ƒç´ è‡³é™£åˆ—çš„æœ«ç«¯ï¼Œä¸¦ä¸”å›å‚³é™£åˆ—çš„æ–°é•·åº¦ã€‚ unshift() æœƒæ·»åŠ ä¸€å€‹æˆ–å¤šå€‹å…ƒç´ è‡³é™£åˆ—çš„é–‹é ­ï¼Œä¸¦ä¸”å›å‚³é™£åˆ—çš„æ–°é•·åº¦ã€‚ pop() æœƒç§»é™¤ä¸¦å›å‚³é™£åˆ—çš„æœ€å¾Œä¸€å€‹å…ƒç´ ã€‚æ­¤æ–¹æ³•æœƒæ”¹è®Šé™£åˆ—çš„é•·åº¦ã€‚ shift() æœƒç§»é™¤ä¸¦å›å‚³é™£åˆ—çš„ç¬¬ä¸€å€‹å…ƒç´ ã€‚æ­¤æ–¹æ³•æœƒæ”¹è®Šé™£åˆ—çš„é•·åº¦ã€‚  ä»¥ä¸‹å…©å€‹é™£åˆ—æ–¹æ³•èƒ½æ–°å¢æœ€å¾Œæˆ–æœ€å‰çš„å…ƒç´ ï¼š\n1 2 3 4 5 6 7 8 9 10  // æ‰¿æ¥ä¸Šæ®µç¨‹å¼ç¢¼  array.push(3); console.log( array ); // [1, 2, 3]  array.push(4, 5, 6); console.log( array ); // [1, 2, 3, 4, 5, 6]  array.unshift(0, 0); console.log(array); // [0, 0, 1, 2, 3, 4, 5, 6]   ä»¥ä¸‹å…©å€‹é™£åˆ—æ–¹æ³•èƒ½ç§»é™¤æœ€å¾Œæˆ–æœ€å‰çš„å…ƒç´ ï¼š\n1 2 3 4 5 6 7  const array = [1, 2, 3, 4]; array.pop(); console.log( array ); // [1, 2, 3]  array.shift(); console.log( array ); // [2, 3]   å¦‚æœè¦åˆªé™¤ç‰¹å®šä½ç½®çš„å…ƒç´ ï¼Œå¦‚æœç”¨ deleta é‹ç®—å­å°‡å…¶ç§»é™¤ï¼Œæœƒæœ‰ä»¥ä¸‹å•é¡Œï¼š\n1 2 3 4 5 6  const array = [1, 2, 3, 4]; delete array[1]; console.log( array.length ); // 4 console.log( array ); // [1, undefined, 3, 4]   é€™æ¨£æœƒå°è‡´é™£åˆ—è®Šæˆç¨€ç–é™£åˆ—ï¼ˆé—œæ–¼ç¨€ç–é™£åˆ—å°‡åœ¨ä¸‹é¢èªªæ˜ï¼‰ã€‚\n3.1 ç‰¹å®šä½ç½®æ’å…¥å…ƒç´ ã€åˆªé™¤ç‰¹å®šä½ç½®å…ƒç´  è¦åœ¨é™£åˆ—ä¸­æ’å…¥å…ƒç´ ã€ç§»é™¤ç‰¹å®šå…ƒç´ ï¼Œå¯ä»¥ä½¿ç”¨ splice()ï¼Œèƒ½é€šéåˆªé™¤æˆ–æ›¿æ›ç¾æœ‰å…ƒç´ æˆ–è€…åŸåœ°æ·»åŠ æ–°çš„å…ƒç´ ä¾†ä¿®æ”¹é™£åˆ—ï¼Œä¸¦ä»¥é™£åˆ—å½¢å¼å›å‚³è¢«ä¿®æ”¹çš„å…§å®¹ã€‚\næ­¤æ–¹æ³•æœƒæ”¹è®ŠåŸé™£åˆ—ã€‚\nèªæ³•ï¼š\n1  array.splice(start[, deleteCount[, item1[, item2[, ...]]]])    startï¼šæŒ‡å®šä¿®æ”¹çš„èµ·å§‹ä½ç½®ï¼Œå¯ä»¥æ˜¯è² æ•¸ï¼Œç”±æœ«å°¾è¨ˆç®—ç´¢å¼•ã€‚ deleteCountï¼šè¡¨ç¤ºè¦ç§»é™¤çš„æ•¸çµ„å…ƒç´ çš„å€‹æ•¸ï¼Œå¾èµ·å§‹ä½ç½®é–‹å§‹åˆªé™¤ã€‚ item1, item2, ...ï¼šè¦æ’å…¥çš„å…ƒç´ ï¼Œç”±èµ·å§‹ä½ç½®ä¹‹å¾Œæ’å…¥ï¼Œå¦‚æœä¸è¨­å®šå°‡åªæœƒåˆªé™¤å…ƒç´ ã€‚  å‡è¨­æˆ‘å€‘è¦åœ¨ç´¢å¼•ä½ç½® 2 ä¹‹å¾Œæ’å…¥ä¸€å€‹æ–°çš„å…ƒç´ ï¼š\n1 2 3 4 5  const array = [0, 1, 2, 3, 4, 5]; array.splice(2, 0, \u0026#39;a\u0026#39;); console.log( array ); // [0, 1, \u0026#34;a\u0026#34;, 2, 3, 4, 5]   èµ·å§‹ä½ç½®è¨­ç‚º 2ï¼Œåˆªé™¤å€‹æ•¸ 0ã€‚\nå¦‚æœæˆ‘å€‘è¦åˆªé™¤ç´¢å¼•ä½ç½® 3 çš„å…ƒç´ ï¼š\n1 2 3 4 5  const array = [0, 1, 2, 3, 4, 5]; array.splice(3, 1); console.log( array ); // [0, 1, 2, 4, 5]   èµ·å§‹ä½ç½®è¨­ç‚º 3ï¼Œåˆªé™¤å€‹æ•¸ 1ï¼Œä¸è¨­å®šæ’å…¥å…ƒç´ ã€‚\n3.2 å¡«å……é™£åˆ— fill() ç‚º ES6 æ–°å¢çš„æ–¹æ³•ï¼Œå¯ä»¥ä¸€æ¬¡è¨­å®šï¼Œèµ·å§‹ä½ç½®è‡³çµ‚æ­¢ä½ç½®çš„å€¼ã€‚ä¸åŒ…å«çµ‚æ­¢ä½ç½®ã€‚\næ­¤æ–¹æ³•æœƒæ”¹è®ŠåŸé™£åˆ—ã€‚\nèªæ³•ï¼š\n1  array.fill(value[, start[, end]])    value è¨­å®šå€¼ start èµ·å§‹ä½ç½® end çµ‚æ­¢ä½ç½®  1 2 3 4 5 6 7  let arr = [0, 1, 2, 3]; console.log(arr.fill(\u0026#39;a\u0026#39;, 1, 3)); // [0, \u0026#39;a\u0026#39;, \u0026#39;a\u0026#39;, 3]  console.log(arr.fill(\u0026#39;b\u0026#39;)); // )Â [\u0026#34;b\u0026#34;, \u0026#34;b\u0026#34;, \u0026#34;b\u0026#34;, \u0026#34;b\u0026#34;]   3.3 è¤‡è£½è²¼ä¸Š copyWithin() æ˜¯ ES6 æ–°å¢çš„æ–¹æ³•ï¼Œå®ƒèƒ½å¤ è¤‡è£½é™£åˆ—ä¸­çš„æŸä¸€æ®µï¼Œä¸¦è²¼åˆ°é™£åˆ—çš„å…¶ä»–ä½ç½®ï¼Œä¸¦å–ä»£åŸæœ¬çš„å€¼ã€‚copyWithin() ä¸¦ä¸æœƒæ”¹è®Šé™£åˆ—çš„é•·åº¦ï¼Œå¦‚æœè²¼ä¸Šçš„é•·åº¦æœƒè¶…éçµå°¾æœƒåœæ­¢ã€‚\nèªæ³•ï¼š\n1  array.copyWithin(target[, start[, end]])    targetï¼šè¦è²¼ä¸Šçš„èµ·å§‹ä½ç½®ã€‚ startï¼šè¦è¤‡è£½çš„èµ·å§‹ä½ç½®ã€‚ endï¼šè¦è¤‡è£½çš„çµæŸä½ç½®ï¼Œä¸åŒ…æ‹¬é€™å€‹ä½ç½®å…ƒç´ ã€‚ å¦‚æœæ˜¯è² æ•¸ç”±çµå°¾è¨ˆç®—ã€‚  1 2 3 4 5 6  console.log([1, 2, 3, 4, 5].copyWithin(2)); console.log([1, 2, 3, 4, 5].copyWithin(-2)); console.log([1, 2, 3, 4, 5].copyWithin(0, 2)); console.log([1, 2, 3, 4, 5].copyWithin(0, -2)); console.log([1, 2, 3, 4, 5].copyWithin(0, 3, 4)); console.log([1, 2, 3, 4, 5].copyWithin(-2, -3, -1));   4. æå–é™£åˆ—ä¸­çš„å…ƒç´  slice() æœƒå›å‚³ä¸€å€‹æ–°çš„é™£åˆ—ï¼Œé€™ä¸€å°æ˜¯ä¸€å€‹ç”± begin å’Œ end æ±ºå®šçš„åŸé™£åˆ—çš„æ·ºæ‹·è²ï¼ˆåŒ…æ‹¬ beginï¼Œä¸åŒ…æ‹¬endï¼‰ã€‚\næ­¤æ–¹æ³•åŸé™£åˆ—ä¸æœƒè¢«æ”¹è®Šã€‚\nèªæ³•ï¼š\n1  array.slice([begin[, end]]);    beginï¼šæå–èµ·å§‹è™•çš„ç´¢å¼•ï¼ˆå¾ 0 é–‹å§‹ï¼‰ï¼Œå¾è©²ç´¢å¼•é–‹å§‹æå–åŸé™£åˆ—å…ƒç´ ã€‚ endï¼šæå–çµ‚æ­¢è™•çš„ç´¢å¼•ï¼ˆå¾ 0 é–‹å§‹ï¼‰ï¼Œåœ¨è©²ç´¢å¼•è™•çµæŸæå–åŸé™£åˆ—å…ƒç´ ã€‚slice æœƒæå–åŸé™£åˆ—ä¸­ç´¢å¼•å¾ begin åˆ° end çš„æ‰€æœ‰å…ƒç´ ï¼ˆåŒ…å« beginï¼Œä½†ä¸åŒ…å« endï¼‰ã€‚  begin å’Œ end éƒ½å¯ä»¥æ˜¯è² æ•¸ï¼Œåœ¨é€™ç¨®æƒ…æ³ä¸‹ï¼Œå¾æœ«å°¾è¨ˆç®—ç´¢å¼•ã€‚\nå¾é™£åˆ—ä¸­æå–ç´¢å¼•ä½ç½® 1 åˆ° 2 çš„å…ƒç´ åˆ°æ–°é™£åˆ—ï¼š\n1 2 3 4  const arr = [0, 1, 2, 3, 4]; let newArr = arr.slice(1, 3); console.log( newArr );   å¦‚æœè¦æå–æŸä½ç½®å¾Œçš„æ‰€æœ‰å…ƒç´ ï¼Œå¯ä»¥çœç•¥ endï¼š\n1 2 3 4  const arr = [0, 1, 2, 3, 4]; let newArr = arr.slice(2); console.log(newArr); // [2, 3, 4]   å› ç‚ºæœƒå»ºç«‹æ–°çš„é™£åˆ—ï¼Œå› æ­¤å¯ç”¨ä¾†æ·ºæ‹·è²é™£åˆ—ï¼š\n1 2 3 4  const arr = [0, 1, 2, 3, 4]; let newArr = arr.slice(); console.log( newArr ); // [0, 1, 2, 3, 4]   å¦‚æœæ­é…å±•é–‹é‹ç®—å­ ... ï¼Œå¯ä»¥å»ºç«‹å‡ºä¸€å€‹ç§»é™¤ç‰¹å®šä½ç½®çš„æ–°é™£åˆ—ã€‚\nå‡è¨­è¦ç§»é™¤ç´¢å¼• 3 çš„å…ƒç´ ï¼š\n1 2 3 4 5 6 7  const arr = [0, 1, 2, 3, 4, 5]; let index = 3; let newArr = [...arr.slice(0, index), ...arr.slice(index + 1)]; console.log( newArr ); // [0, 1, 2, 4, 5]   5. å…ƒç´ æ•¸é‡ é™£åˆ—çš„ length å±¬æ€§å¯ä»¥æŸ¥çœ‹è£¡é¢å­˜æ”¾å¤šå°‘è³‡æ–™ã€‚\n1 2 3  let array = [1, 2, 3, 4, 5]; console.log( array.length ); // 5   length å±¬æ€§å¯è®€å¯å¯«ï¼Œå› æ­¤ä¹Ÿå¯ä»¥å°‡å…¶è³¦å€¼ç‚º0ï¼Œæœƒç­‰åŒæ¸…ç©ºé™£åˆ—ã€‚\n1 2 3  array.length = 0; console.log( array ); // []   å¦‚æœå°‡ length å±¬æ€§è³¦å€¼çš„æ•¸å€¼å°æ–¼å…ƒç´ ï¼Œå°‡æœƒåˆªé™¤å¾Œé¢çš„å…ƒç´ ã€‚\nä½†é€™è£¡éœ€è¦æ³¨æ„ï¼Œå¦‚æœå°‡ length çµ¦äºˆå¤§æ–¼å…¶å…ƒç´ çš„æ•¸å€¼ï¼Œé‚£æœƒå°è‡´é™£åˆ—è®Šæˆç¨€ç–é™£åˆ—ã€‚\n5.1 æ¸…ç©º Array çš„æ“ä½œ å¸¸è¦‹çš„ä½œæ³•æœ‰å…©ç¨®ï¼Œå…©ç¨®çœ‹ä¼¼éƒ½æ˜¯æ¸…ç©ºé™£åˆ—ï¼Œä½†ä¸¦ä¸ç›¸åŒï¼š\n Array.length = 0 Array = []  ç¬¬ä¸€ç¨®åœ¨ä¸Šé¢æœ‰æåˆ°éï¼Œå°±æ˜¯å°‡é™£åˆ—å…ƒç´ éƒ½ç§»é™¤ã€‚\nè€Œç¬¬äºŒç¨®è¦æ³¨æ„çš„æ˜¯ï¼Œé™£åˆ—è·Ÿç‰©ä»¶ä¸€æ¨£æ˜¯å‚³å€ï¼Œæ¯å€‹é™£åˆ—éƒ½æœƒæœ‰è‡ªå·±çš„è¨˜æ†¶é«”ä½å€ï¼Œè€Œ Array = [ ] å…¶å¯¦æ˜¯å°‡ä¸€å€‹æ–°çš„ç©ºé™£åˆ—è¨˜æ†¶é«”ä½ç½®å‚³çµ¦åŸæœ¬å­˜æ”¾èˆŠé™£åˆ—çš„è®Šæ•¸ã€‚\nç°¡å–®ä¾†èªªï¼ŒArray.length = 0ï¼Œæ˜¯å°‡åŸæœ¬çš„é™£åˆ—æ‰€æœ‰å…ƒç´ ç§»é™¤ï¼Œè€Œ Array = [] æ˜¯é‡æ–°çµ¦ä¸€å€‹æ–°é™£åˆ—ã€‚\nèˆ‰ä¾‹èªªæ˜ï¼š\n1 2 3 4 5 6 7 8 9  const myCart = []; myCart.push(\u0026#39;æ‰‹æ©Ÿ\u0026#39;, \u0026#39;é›»è¦–\u0026#39;); console.log( myCart ); // [\u0026#34;æ‰‹æ©Ÿ\u0026#34;, \u0026#34;é›»è¦–\u0026#34;]  const MingCart = myCart; MingCart.push(\u0026#39;é¢¨æ‰‡\u0026#39;); console.log( myCart ); // [\u0026#34;æ‰‹æ©Ÿ\u0026#34;, \u0026#34;é›»è¦–\u0026#34;, \u0026#34;é¢¨æ‰‡\u0026#34;]   å‡è¨­æˆ‘æœ‰ä¸€å€‹ç©ºè³¼ç‰©è»Šï¼Œæˆ‘è²·äº†æ‰‹æ©Ÿã€é›»è¦–ï¼Œæ”¾é€²è³¼ç‰©è»Šã€‚\nå°æ˜ä¹Ÿæœ‰ä¸€å€‹è³¼ç‰©è»Šï¼Œè€Œä¸”è·Ÿæˆ‘å…±ç”¨ã€‚\næ‰€ä»¥å°æ˜åŠ å…¥ã€åˆªé™¤å•†å“ï¼Œæˆ‘çš„è³¼ç‰©è»Šéƒ½æœƒå—åˆ°å½±éŸ¿ã€‚\nå¦‚æœä½¿ç”¨ Array.length = 0ï¼Œå› ç‚ºæ˜¯å…±ç”¨çš„è³¼ç‰©è»Šï¼Œæ‰€ä»¥å°æ˜çš„è³¼ç‰©è»Šä¹Ÿæœƒè¢«æ¸…ç©ºã€‚\n1 2 3 4  // æ‰¿æ¥ç¬¬ä¸€æ®µç¨‹å¼ç¢¼  myCart.length = 0; console.log( MingCart ); // []   ä½†å¦‚æœä½¿ç”¨ Array = []ï¼Œé‚£æˆ‘æœƒå¾—åˆ°ä¸€å€‹æ–°çš„ç©ºè³¼ç‰©è»Šï¼Œè€Œå°æ˜é‚„æ˜¯ä½¿ç”¨åŸæœ¬çš„è³¼ç‰©è»Šã€‚\n1 2 3 4  // æ‰¿æ¥ç¬¬ä¸€æ®µç¨‹å¼ç¢¼  myCart = []; console.log( MingCart ); // [\u0026#34;æ‰‹æ©Ÿ\u0026#34;, \u0026#34;é›»è¦–\u0026#34;, \u0026#34;é¢¨æ‰‡\u0026#34;]   6. åˆä½µé™£åˆ— concat() ç”¨æ–¼åˆä½µå…©å€‹æˆ–å¤šå€‹é™£åˆ—ã€‚æ­¤æ–¹æ³•ä¸æœƒæ›´æ”¹ç¾æœ‰é™£åˆ—ï¼Œè€Œæ˜¯è¿”å›ä¸€å€‹æ–°é™£åˆ—ã€‚\n1 2 3 4 5  const arr1 = [\u0026#39;a\u0026#39;, \u0026#39;b\u0026#39;, \u0026#39;c\u0026#39;]; const arr2 = [\u0026#39;d\u0026#39;, \u0026#39;e\u0026#39;, \u0026#39;f\u0026#39;]; console.log( arr1.concat(arr2) ); // [\u0026#34;a\u0026#34;, \u0026#34;b\u0026#34;, \u0026#34;c\u0026#34;, \u0026#34;d\u0026#34;, \u0026#34;e\u0026#34;, \u0026#34;f\u0026#34;]   7. å­—ä¸²ç›¸é—œæ–¹æ³• é™£åˆ—æœ‰è‡ªå·±çš„ toString æ–¹æ³•ï¼Œæœƒå›å‚³ä»¥é€—è™Ÿåˆ†éš”çš„å…ƒç´ åˆ—è¡¨çš„å­—ä¸²ï¼š\n1 2 3  const arr = [1, 2, 3]; console.log( arr.toString() ); // \u0026#34;1,2,3\u0026#34;   å…¶ä»–è½‰å­—ä¸²æ“ä½œçš„ä¹Ÿæ˜¯ä¸€æ¨£çµæœï¼š\n1 2 3 4  // æ‰¿æ¥ä¸Šæ–¹ç¨‹å¼ç¢¼  console.log( String(arr) ); // \u0026#34;1,2,3\u0026#34; console.log( arr + \u0026#39;\u0026#39; ); // \u0026#34;1,2,3\u0026#34;   å› ç‚ºé™£åˆ—æ²’æœ‰ Symbol.toPrimitiveï¼Œä¹Ÿæ²’æœ‰ valueOf()ï¼Œå®ƒå€‘åªèƒ½åŸ·è¡Œ toString() é€²è¡Œè½‰æ›ã€‚\njoin()  èƒ½å°‡ä¸€å€‹é™£åˆ—çš„æ‰€æœ‰å…ƒç´ é€£æ¥æˆä¸€å€‹å­—ä¸²ä¸¦å›å‚³é€™å€‹å­—ç¬¦ä¸²ã€‚å¦‚æœé™£åˆ—åªæœ‰ä¸€å€‹é …ç›®ï¼Œé‚£éº¼å°‡å›å‚³è©²é …ç›®è€Œä¸ä½¿ç”¨åˆ†éš”ç¬¦è™Ÿã€‚\nèªæ³•ï¼š\n1  array.join([separator])   separator åˆ†éš”ç¬¦è™Ÿï¼Œé è¨­ç‚º ,ã€‚\n1 2 3 4  let arr = [1, 2, 3]; console.log( arr.join() ); // \u0026#34;1,2,3\u0026#34; console.log( arr.join(\u0026#39;?\u0026#39;) ); // \u0026#34;1?2?3\u0026#34;   9. æ’åºé™£åˆ— reverse() æ–¹æ³•æœƒåŸåœ°ï¼ˆin placeï¼‰åè½‰ï¼ˆreversesï¼‰ä¸€å€‹é™£åˆ—ã€‚é™£åˆ—ä¸­çš„ç¬¬ä¸€å€‹å…ƒç´ è®Šç‚ºæœ€å¾Œä¸€å€‹ï¼Œè€Œæœ€å¾Œä¸€å€‹å…ƒç´ å‰‡è®Šæˆç¬¬ä¸€å€‹ã€‚\n1 2 3 4 5  const arr = [1, 2, 3, 4]; arr.reverse(); console.log(arr); // [4, 3, 2, 1]   sort()æ–¹æ³•æœƒåŸåœ°ï¼ˆin placeï¼‰å°ä¸€å€‹é™£åˆ—çš„æ‰€æœ‰å…ƒç´ é€²è¡Œæ’åºï¼Œä¸¦å›å‚³æ­¤é™£åˆ—ã€‚\nèªæ³•ï¼š\n1  arr.sort([compareFunction])    compareFunction æŒ‡å®šä¸€å€‹å‡½å¼ä¾†å®šç¾©æ’åºé †åºã€‚å‡å¦‚çœç•¥æ­¤åƒæ•¸ï¼Œé™£åˆ—å°‡æ ¹æ“šå„å€‹å…ƒç´ è½‰ç‚ºå­—ä¸²å¾Œçš„æ¯ä¸€å€‹å­—å…ƒä¹‹ Unicode ç·¨ç¢¼ä½ç½®å€¼é€²è¡Œæ’åºã€‚ å›å‚³å€¼ï¼šæ’åºå¾Œçš„é™£åˆ—  å¦‚æœä½¿ç”¨ compareFunction å‡½å¼ï¼Œå°±è¦å®šç¾©é€™å€‹å›å‘¼å‡½å¼ compareFunctionï¼ˆa, bï¼‰ï¼Œè®“æ’åºæ¼”ç®—æ³•çŸ¥é“å…©ç­†è³‡æ–™é …ä¹‹é–“çš„é—œä¿‚ï¼Œå¯èƒ½çš„åŸ·è¡ŒçµæœåŒ…æ‹¬ï¼š\n å¦‚æœå›å‘¼å‡½å¼å›å‚³å€¼å°æ–¼ 0ï¼Œå‰‡æœƒæŠŠ a æ’åœ¨å°æ–¼ b ä¹‹ç´¢å¼•çš„ä½ç½®ï¼Œå³ a æ’åœ¨ b å‰é¢ã€‚ å¦‚æœå›å‘¼å‡½å¼å›å‚³å€¼ç­‰æ–¼ 0ï¼Œa èˆ‡ b çš†ä¸æœƒæ”¹è®Šå½¼æ­¤çš„é †åºï¼Œä½†æœƒèˆ‡å…¶ä»–å…¨éƒ¨çš„å…ƒç´ æ¯”è¼ƒä¾†æ’åºã€‚ å¦‚æœå›å‘¼å‡½å¼å›å‚³å€¼å¤§æ–¼ 0ï¼Œå‰‡æœƒæŠŠ b æ’åœ¨å°æ–¼ a ä¹‹ç´¢å¼•çš„ä½ç½®ï¼Œå³ b æ’åœ¨ a å‰é¢ã€‚  æ‰€ä»¥ï¼Œæ¯”è¼ƒå‡½å¼æœƒæ˜¯ä»¥ä¸‹å½¢å¼ï¼š\n1 2 3 4 5 6 7 8 9 10  function compare(a, b) { if (åœ¨æŸæ’åºæ¨™æº–ä¸‹ a å°æ–¼ b) { return -1; } if (åœ¨æŸæ’åºæ¨™æº–ä¸‹ a å¤§æ–¼ b) { return 1; } // a å¿…é ˆç­‰æ–¼ b  return 0; }   å¦‚æœæ¯”è¼ƒæ•¸å€¼è€Œä¸æ˜¯å­—ä¸²ï¼Œæ¯”è¼ƒå‡½å¼å¯ä»¥åƒ…åƒ…åˆ©ç”¨ a æ¸› bã€‚ä»¥ä¸‹å‡½å¼å°‡æœƒå‡å†ªæ’åºé™£åˆ—ï¼š\n1 2 3  function compareNumbers(a, b) { return a - b; }   å¦‚æœè¦é™å†ªæ’åºå°±æ”¹æˆ b - aã€‚\nç¯„ä¾‹èªªæ˜ï¼š\n1 2 3 4 5 6 7 8  const inventors = [ { name: \u0026#39;Albert\u0026#39;, year: 1879 }, { name: \u0026#39;Isaac\u0026#39;, year: 1643 }, { name: \u0026#39;Galileo\u0026#39;, year: 1564 }, { name: \u0026#39;Marie\u0026#39;, year: 1867 }, { name: \u0026#39;Johannes\u0026#39;, year: 1571 }, { name: \u0026#39;Nicolaus\u0026#39;, year: 1473 } ];   æ’åºæ•¸å€¼å¤§å°ï¼Œå°‡è³‡æ–™ä¾æ“šå‡ºç”Ÿå¹´åˆ†æ’åºï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13  const yearSort = inventors.sort(function(a, b) { return a.year - b.year; }); console.log( yearSort ); // [ // { name: \u0026#39;Nicolaus\u0026#39;, year: 1473 }, // { name: \u0026#39;Galileo\u0026#39;, year: 1564 }, // { name: \u0026#39;Johannes\u0026#39;, year: 1571 }, // { name: \u0026#39;Isaac\u0026#39;, year: 1643 }, // { name: \u0026#39;Marie\u0026#39;, year: 1867 }, // { name: \u0026#39;Albert\u0026#39;, year: 1879 } // ]   æ’åºå­—ä¸²ï¼Œå°‡è³‡æ–™ä¾æ“šå­—ä¸²ç¬¬ä¸€å€‹å­—æ¯æ’åºï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20  inventors.sort(function(a, b) { if(a.name[0] \u0026lt; b.name[0]) { return -1; } if(a.name[0] \u0026gt; b.name[0]) { return 1; } return 0; }); console.log( inventors ); // [ // { name: \u0026#39;Albert\u0026#39;, year: 1879 }, // { name: \u0026#39;Galileo\u0026#39;, year: 1564 }, // { name: \u0026#39;Isaac\u0026#39;, year: 1643 }, // { name: \u0026#39;Johannes\u0026#39;, year: 1571 }, // { name: \u0026#39;Marie\u0026#39;, year: 1867 }, // { name: \u0026#39;Nicolaus\u0026#39;, year: 1473 } // ];   ä¹Ÿå¯ä»¥ä½¿ç”¨ ?: ä¸‰å…ƒæ¢ä»¶é‹ç®—å­ç°¡åŒ–ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13  inventors.sort(function(a, b) { return (a.name[0] \u0026gt; b.name[0]) ? 1 : (a.name[0] \u0026lt; b.name[0]) ? -1 : 0 }); console.log( inventors ); // [ // { name: \u0026#39;Albert\u0026#39;, year: 1879 }, // { name: \u0026#39;Galileo\u0026#39;, year: 1564 }, // { name: \u0026#39;Isaac\u0026#39;, year: 1643 }, // { name: \u0026#39;Johannes\u0026#39;, year: 1571 }, // { name: \u0026#39;Marie\u0026#39;, year: 1867 }, // { name: \u0026#39;Nicolaus\u0026#39;, year: 1473 } // ];   æ³¨æ„äº‹é …ï¼š\n sort() ä¸æœƒç”¢ç”Ÿæ–°é™£åˆ—ï¼Œæœƒè®Šå‹•åŸæœ¬çš„é™£åˆ—ã€‚ æ’åºä¸ä¸€å®šæ˜¯ç©©å®šçš„ï¼Œå„å®¶ç€è¦½å™¨éƒ½ä¸åŒï¼Œå¯ä»¥åƒè€ƒä¸‹é¢æ–‡ç« ã€‚   å¾ Array çš„ sort æ–¹æ³•ï¼ŒèŠåˆ°å„ç€è¦½å™¨çš„å¯¦ä½œï¼Œæ²’æƒ³åˆ° Chrome å’ŒFireFox çš„æ’åºå¦‚æ­¤ä¸åŒ\n 8. æŸ¥è©¢é™£åˆ—  indexOf(item, from)ï¼šå¾ç´¢å¼• from çš„ä½ç½®å¾€å³æŸ¥è©¢ itemï¼Œå¦‚æœ from çœç•¥å‰‡å¾é ­é–‹å§‹ã€‚å›å‚³ç¬¦åˆçš„ç¬¬ä¸€å€‹å…ƒç´ çš„ç´¢å¼•ï¼Œæ²’æœ‰å‰‡å›å‚³ -1ã€‚ lastIndexOf(item, from)ï¼šå’Œä¸Šé¢ç›¸åŒï¼Œåªæ˜¯å¾€ from çš„å·¦é‚ŠæŸ¥è©¢ï¼Œå¦‚æœçœç•¥å°±æ˜¯å¾å°¾éƒ¨é–‹å§‹ã€‚ includes(item, from)ï¼šå¾ç´¢å¼• from æŸ¥è©¢ itemï¼Œå¦‚æœæ‰¾åˆ°å‰‡å›å‚³ trueã€‚  1 2 3 4 5 6 7 8 9 10  const arr = [\u0026#39;a\u0026#39;, \u0026#39;c\u0026#39;, \u0026#39;c\u0026#39;, \u0026#39;a\u0026#39;]; console.log(arr.indexOf(\u0026#39;c\u0026#39;)); // 1 console.log(arr.indexOf(\u0026#39;c\u0026#39;, 2)); // 2  console.log(arr.lastIndexOf(\u0026#39;c\u0026#39;)); // 2 console.log(arr.lastIndexOf(\u0026#39;c\u0026#39;, 1)); // 1  console.log(arr.includes(\u0026#39;c\u0026#39;)); // ture console.log(arr.includes(\u0026#39;c\u0026#39;, 2)); // ture   ä½†è¦æ³¨æ„çš„æ˜¯ï¼Œé€™äº›æ–¹æ³•æ˜¯ä½¿ç”¨ === åš´æ ¼æ¯”è¼ƒã€‚\nå¦‚æœè¦è™•ç†æ¯”è¼ƒè¤‡é›œçš„æ¯”è¼ƒï¼Œå¯ä»¥æ”¹ä½¿ç”¨ find() æˆ– findIndex()ã€‚\né™£åˆ—å…©å€‹å®¹æ˜“èª¤ç”¨çš„é‡é» é™£åˆ—å…©å€‹å®¹æ˜“èª¤ç”¨çš„é‡é»ï¼š\n ç¨€ç–é™£åˆ—ï¼ˆSparse Arrayï¼‰ é¡é™£åˆ—ï¼ˆArray-Likeï¼‰  1. ç¨€ç–é™£åˆ— ç¨€ç–é™£åˆ—æ˜¯æŒ‡é™£åˆ—ä¸­æœ‰ æ’æ§½ï¼ˆslotï¼‰ å¯èƒ½æœªå®šç¾©å…¶å€¼æˆ–è¢«ç•¥éè€Œå°è‡´å­˜æ”¾ undefined çš„ç‹€æ³ï¼Œç¯„ä¾‹å¦‚ä¸‹ï¼š\n1 2 3 4 5 6 7  const arr = []; arr[0] = 1; arr[2] = [ 3 ]; console.log( arr[1] ); // undefined console.log( arr.length ); // 3   é›–ç„¶é€™æ¨£ä¸æœƒå‡ºéŒ¯èª¤ï¼Œä½†å¦‚æœä¸æ³¨æ„é€™ç¨®å°ç´°ç¯€ï¼Œåœ¨ä¹‹å¾Œçš„é™£åˆ—æ“ä½œä¸Šæœƒå‡ºç¾é›£ä»¥ç™¼ç¾çš„ BUGã€‚\nè‹¥ä½¿ç”¨ã€Œå¾ˆåƒæ•¸å­—ã€çš„å­—ä¸²ç•¶æˆéµåä¾†å­˜è³‡æ–™ï¼Œéµå€¼æœƒè¢«å¼·åˆ¶è½‰å‹ç‚ºæ•¸å­—ã€‚\n1 2 3 4 5  const arr = [ ]; arr[\u0026#39;13\u0026#39;] = 42; console.log( arr.length ); // 14   é€™æ¨£å°è‡´ arr æˆäº†ç¨€ç–é™£åˆ—ï¼Œå…¶é•·åº¦å°±è¢«èª¤åˆ¤ï¼Œå› æ­¤æ²’äº‹åˆ¥å°é™£åˆ—é¡å¤–æ–°å¢ éµå€¼å°ï¼ˆkey-valueï¼‰ã€‚è‹¥ç´¢å¼•å€¼éæ•¸å€¼é‚„æ˜¯ç”¨ä¹–ä¹–ä½¿ç”¨ç‰©ä»¶å§ã€‚\n1.1 Array.of() Array() å»ºæ§‹å‡½å¼å»ºç«‹é™£åˆ—ï¼Œæœ‰ä¸€å€‹å¸¸è¦‹é™·é˜±ï¼Œå°±æ˜¯ç•¶åªæœ‰ä¸€å€‹å¼•æ•¸å‚³å…¥ï¼Œä¸¦ä¸æœƒç”¢ç”Ÿå·²é‚£å€‹æ•¸å­—ç‚ºå…ƒç´ çš„é™£åˆ—ã€‚\né æœŸå»ºç«‹çš„é™£åˆ—ç‚º [3]ï¼Œä½†å¯¦éš›çµæœç‚ºä¸€å€‹é•·åº¦ç‚º 3 çš„ç¨€ç–é™£åˆ—ï¼š\n1 2 3 4  const arr = Array(3); console.log( arr[0] ); // undefined console.log( arr.length ); // 3   ES6 æ–°å¢äº† Array.of() ç”¨ä¾†å–ä»£ Array()ï¼Œä¸æœƒç™¼ä¸Šè¿°çš„æ€ªç•°è¡Œç‚ºï¼š\n1 2 3 4  const arr = Array.of(3); console.log(arr[0]); // 3 console.log(arr.length); // 1   ä¸éä¸€æ¨£å¾ˆå°‘æœƒç”¨åˆ°ï¼Œä½¿ç”¨é™£åˆ—å¯¦å€¼å»ºç«‹é™£åˆ—å„ªå…ˆã€‚\n2. é¡é™£åˆ—ï¼ˆArray-Likeï¼‰ é¡é™£åˆ—ï¼ˆArray-Likeï¼‰æ˜¯å…·æœ‰æœ‰ç´¢å¼•å’Œ length å±¬æ€§çš„ç‰©ä»¶ï¼Œå¯èƒ½å„ç¨®å½¢å¼çš„ ä¸²åˆ—ï¼ˆlistsï¼‰ æˆ–å­—ä¸²ï¼Œçœ‹èµ·ä¾†å¾ˆåƒé™£åˆ—ï¼Œä½†ä¸¦éçœŸæ­£çš„é™£åˆ—ï¼Œæ‰€ä»¥æ²’æœ‰ç¹¼æ‰¿é™£åˆ—çš„æ–¹æ³•ã€‚\næœ‰æ™‚å€™ç‚ºäº†ä½¿ç”¨é™£åˆ—çš„æ–¹æ³•ï¼ˆä¾‹å¦‚ mapã€indexOf ç­‰ç­‰æ–¹æ³•ï¼‰ä¾†è™•ç†é¡é™£åˆ—çš„å…ƒç´ ï¼Œå› æ­¤æœƒéœ€è¦å°‡å…¶è½‰æˆçœŸæ­£çš„é™£åˆ—ã€‚\nèˆ‰ä¾‹ä¾†èªª DOM ç‰©ä»¶æ“ä½œå¾Œæ‰€å¾—åˆ°çš„ä¸²åˆ—ï¼š\n1 2 3 4 5  const list = document.getElementsByTagName(\u0026#39;div\u0026#39;); list console.log( list ); // HTMLCollection(3) [div, div, div] console.log( list.length ); // 3   document.getElementsByTagName æœƒå¾—åˆ°ä¸€å€‹ç¯€é»é›†åˆï¼Œä¸¦éçœŸæ­£çš„é™£åˆ—ï¼Œå› æ­¤æ²’æœ‰ç¹¼æ‰¿é™£åˆ—çš„æ–¹æ³•ï¼Œå› æ­¤éœ€è¦å°‡å®ƒè½‰æˆé™£åˆ—ï¼Œæ‰èƒ½ä½¿ç”¨é™£åˆ—çš„æ–¹æ³•ã€‚\nè½‰æ›ä¸²åˆ—æˆé™£åˆ—çš„æ–¹æ³•\n Array.prototype.slice.call() Array.apply() [...] ES6 æ–°å¢ Array.from() ES6 æ–°å¢  1 2 3 4 5 6 7  const link = document.links; Array.isArray( link ); // false Array.isArray( Array.prototype.slice.call(link)); // true Array.isArray( Array.apply(null, link)); // true Array.isArray( [...link]); // true Array.isArray( Array.from(link)); // true   ","description":"å¹¾ä¹æ‰€æœ‰ç¨‹å¼èªè¨€éƒ½æ”¯æ´é™£åˆ—ï¼Œå› ç‚ºé™£åˆ—æ˜¯æœ€ç°¡å–®çš„è³‡æ–™çµæ§‹ã€‚","id":88,"section":"posts","tags":["JavaScript","é™£åˆ— Array"],"title":"é™£åˆ—","uri":"https://chupai.github.io/posts/200424_js_array/"},{"content":"é€™é€±æ˜¯ å…­è§’é¼ å¹´éµäººè³½ ç¬¬åä¸€é€±ï¼Œå­¸ç¿’åŸºç¤æ¼”ç®—æ³•ä¹‹å‰ï¼Œå…ˆä¾†ç­è§£åŸºæœ¬çš„è³‡æ–™çµæ§‹ã€‚\n\rç‚ºä»€éº¼è¦å­¸ç¿’è³‡æ–™çµæ§‹ å› ç‚ºä¸åŒçš„è³‡æ–™çµæ§‹ï¼Œå°‡æœƒå½±éŸ¿ç¨‹å¼è¨­è¨ˆï¼ˆæ¼”ç®—æ³•ï¼‰çš„æ–¹æ³•èˆ‡æ•ˆç‡ã€‚\n ç¨‹å¼ = è³‡æ–™çµæ§‹ + æ¼”ç®—æ³•\nAlgorithms + Data Structures = Programs\n é¸æ“‡æ­£ç¢ºçš„è³‡æ–™çµæ§‹ï¼Œå¯ä»¥æé«˜æ¼”ç®—æ³•çš„æ•ˆç‡ã€‚\nä»€éº¼æ˜¯è³‡æ–™çµæ§‹ åœ¨é›»è…¦ç§‘å­¸ä¸­ï¼Œè³‡æ–™çµæ§‹ï¼ˆData Structureï¼‰æ˜¯é›»è…¦ä¸­å„²å­˜ã€çµ„ç¹”è³‡æ–™çš„æ–¹å¼ã€‚ç°¡å–®ä¾†èªªï¼Œç•¶è³‡æ–™å­˜åœ¨è¨˜æ†¶é«”ä¸­çš„æ™‚å€™ï¼Œæ±ºå®šè³‡æ–™çš„å­˜æ”¾é †åºåŠå­˜æ”¾ä½ç½®çš„ï¼Œå°±æ˜¯è³‡æ–™çµæ§‹ã€‚\nèˆ‰ä¾‹ä¾†èªªï¼Œå‡è¨­è¦å„²å­˜è€ƒè©¦æˆç¸¾ï¼Œä½ ä¸æœƒç”¨è®Šæ•¸ä¸€å€‹ä¸€å€‹å»å­˜å®ƒï¼Œé€šå¸¸æœƒç”¨ä¸€å€‹é™£åˆ—ä¾†å­˜æ”¾ï¼š\n1 2 3 4 5  let score1 = 80; let score2 = 60; let score3 = 70; let scores = [80, 60 , 70];   å› ç‚ºç•¶è¦å„²å­˜çš„è³‡æ–™è®Šå¤šæ™‚ï¼Œç”¨è®Šæ•¸ä¸€å€‹ä¸€å€‹å»å­˜è³‡æ–™ï¼Œè¦è™•ç†è³‡æ–™æ™‚ï¼Œéå¸¸éº»ç…©ã€‚\næ›å¥è©±èªªï¼Œæ‰€è¬‚è³‡æ–™çµæ§‹ï¼Œå°±æ˜¯è€ƒæ…®å¦‚ä½•é‹ç”¨è®Šæ•¸å„²å­˜è¦è™•ç†çš„è³‡æ–™ï¼Œè€Œæ¼”ç®—æ³•å°±æ˜¯è¦è™•ç†é€™äº›è³‡æ–™çš„æ–¹æ³•ã€‚å°‡è³‡æ–™æœ‰çµ„ç¹”çš„å­˜æ”¾åœ¨ç¨‹å¼å…§ï¼Œå¯ä»¥æå‡ç¨‹å¼çš„åŸ·è¡Œæ•ˆç‡ã€‚\nå¸¸è¦‹çš„è³‡æ–™çµæ§‹  é™£åˆ—ï¼ˆArrayï¼‰ é€£çµä¸²åˆ—ï¼ˆLinked Listï¼‰ å †ç–Šï¼ˆStackï¼‰ ä½‡åˆ—ï¼ˆQueueï¼‰ æ¨¹ç‹€çµæ§‹ï¼ˆTreeï¼‰ åœ–å½¢çµæ§‹ï¼ˆGraphï¼‰ å †ç©ï¼ˆHeapï¼‰ é›œæ¹Šè¡¨ï¼ˆHash tableï¼‰  è³‡æ–™çµæ§‹çš„åˆ†é¡ è³‡æ–™çµæ§‹ï¼Œæ ¹æ“šå…ƒç´ ä¹‹é–“çš„é—œä¿‚ï¼Œåˆ†ç‚ºå…©å¤§é¡ï¼š\n ç·šæ€§é—œä¿‚çš„è³‡æ–™çµæ§‹ éç·šé—œä¿‚çš„æ€§çµæ§‹  1. ç·šæ€§é—œä¿‚ ç·šæ€§é—œä¿‚çš„è³‡æ–™çµæ§‹ï¼Œå…¶çµ„æˆè³‡æ–™å…ƒç´ é–“å…·æœ‰ç·šæ€§é—œä¿‚ï¼Œç°¡å–®ä¾†èªªå°±æ˜¯ã€Œè³‡æ–™æœƒæ’æˆä¸€ç›´ç·šã€ã€‚\næ¯å€‹å…ƒç´ åªæœ‰å¦å¤–å…©å€‹å…ƒç´ ç›¸é„°ï¼Œä¹Ÿå°±æ˜¯åªæœ‰å‰ã€å¾Œå…©å€‹æ–¹å‘ï¼š\n ç¬¬ä¸€å€‹å…ƒç´ æ²’æœ‰å‰é©…è€…ï¼ˆå‰é¢çš„å…ƒç´ ï¼‰ æœ€å¾Œä¸€å€‹å…ƒç´ æ²’æœ‰å¾Œç¹¼è€…ï¼ˆå¾Œé¢çš„å…ƒç´ ï¼‰ å…¶é¤˜çš„å…ƒç´ éƒ½å„åªæœ‰ä¸€å€‹å‰é©…è€…ï¼ˆpredecessorï¼‰å’Œä¸€å€‹å¾Œç¹¼è€…ï¼ˆsuccessorï¼‰  ç·šæ€§é—œä¿‚çš„è³‡æ–™çµæ§‹åˆåˆ†ç‚ºå…©ç¨®ç‰©ç†çµæ§‹ï¼š\n é †åºå„²å­˜çµæ§‹ï¼Œä¾‹ï¼šé™£åˆ—ã€å †ç–Šã€ä½‡åˆ— éˆå¼å„²å­˜çµæ§‹ï¼Œä¾‹ï¼šé€£çµä¸²åˆ—  2. éç·šæ€§é—œä¿‚ è€Œéç·šæ€§é—œä¿‚çš„è³‡æ–™çµæ§‹ï¼Œç°¡å–®ä¾†èªªå°±æ˜¯è³‡æ–™å…ƒç´ é–“ä¸æ˜¯åªæœ‰å‰å¾Œé—œä¿‚ã€‚\néç·šæ€§é—œä¿‚çš„è³‡æ–™çµæ§‹åŒ…å«ï¼š\n éšå±¤é—œä¿‚ï¼Œä¾‹ï¼šæ¨¹ ç›¸é„°é—œä¿‚ï¼Œä¾‹ï¼šåœ–  è³‡æ–™çµæ§‹æ“ä½œ å¸¸è¦‹çš„è³‡æ–™çµæ§‹æ“ä½œçš„æ™‚é–“è¤‡é›œåº¦èˆ‡ç©ºé–“è¤‡é›œåº¦ã€‚\nåœ–ç‰‡ä¾†æºï¼šKnow Thy Complexities!\nç¸½çµ ä¸éå¤§å¤šæ•¸æƒ…æ³ä¸‹ Javascript é–‹ç™¼é—œå¿ƒçš„æ˜¯ã€Œè³‡æ–™çš„é‚è¼¯çµæ§‹ã€è€Œéã€Œè³‡æ–™çš„å„²å­˜çµæ§‹ã€ã€‚å› ç‚º JavaScript åªæœ‰ç‰©ä»¶ï¼Œé™£åˆ—å¯¦éš›ä¸Šä¹Ÿæ˜¯ç‰©ä»¶ï¼Œå¤šæ•¸çš„è³‡æ–™çµæ§‹éƒ½å¿…é ˆä½¿ç”¨ç‰©ä»¶æˆ–é™£åˆ—ä¾†æ¨¡æ“¬å¯¦ä½œã€‚\n","description":"é€™é€±æ˜¯å…­è§’é¼ å¹´éµäººè³½ç¬¬åä¸€é€±ï¼Œå­¸ç¿’åŸºç¤æ¼”ç®—æ³•ä¹‹å‰ï¼Œå…ˆä¾†ç­è§£åŸºæœ¬çš„è³‡æ–™çµæ§‹ã€‚","id":89,"section":"posts","tags":["æ¼”ç®—æ³• Algorithm","è³‡æ–™çµæ§‹","w3HexSchool"],"title":"JavaScript å­¸æ¼”ç®—æ³•ï¼ˆä¸‰ï¼‰- è³‡æ–™çµæ§‹æ¦‚è¿°","uri":"https://chupai.github.io/posts/200419_data_structure/"},{"content":"é€™é€±æ˜¯ å…­è§’é¼ å¹´éµäººè³½ ç¬¬åé€±ï¼ˆæ˜¯ä¸æ˜¯æœ‰éŠ…è§’çå•¦ï¼Ÿï¼ï¼‰ï¼Œèªªæ˜å¦‚ä½•è©•ä¼°æ¼”ç®—æ³•çš„å¥½å£ã€‚\n\ræ¼”ç®—æ³•çš„å¥½å£ ä¸€å€‹å•é¡Œä¸ä¸€å®šåªæœ‰ä¸€ç¨®æ¼”ç®—æ³•èƒ½è§£æ±ºã€‚é‚£æˆ‘å€‘æ€éº¼è©•ä¼°æ¼”ç®—æ³•çš„å¥½å£å‘¢ï¼Ÿ\næœ€ç›´è¦ºçš„æ–¹å¼ï¼Œå°±æ˜¯æ¸¬é‡ç¨‹å¼çš„åŸ·è¡Œæ™‚é–“ã€ç¨‹å¼çš„è¨˜æ†¶é«”ä½¿ç”¨é‡ã€‚\nä½†æ˜¯ï¼Œå³ä¾¿æ˜¯ç›¸åŒçš„æ¼”ç®—æ³•ï¼Œä¹Ÿæœƒå› ç‚ºä»¥ä¸‹è®Šæ•¸è€Œæœ‰æ‰€ä¸åŒï¼š\n ä¸åŒé›»è…¦çš„è™•ç†é€Ÿåº¦ å¯¦ä½œçš„ç¨‹å¼èªè¨€ è¼¸å…¥çš„å¤§å° ä¸åŒæƒ…æ³çš„è³‡æ–™  æ‰€ä»¥éœ€è¦ç”¨ä¸€å€‹ã€Œä¸å—ç’°å¢ƒã€æ•¸æ“šç‹€æ³ï¼Œæ¯”è¼ƒå®¢è§€çš„æ–¹å¼ã€å»åˆ†æä¸€å€‹æ¼”ç®—æ³•ã€‚\næ‰€ä»¥æˆ‘å€‘æœƒç”¨ è¤‡é›œåº¦ ä¾†åˆ†ææ¼”ç®—æ³•ï¼š\n æ™‚é–“è¤‡é›œåº¦ï¼ˆTime complexityï¼‰\næŒ‡æ¼”ç®—æ³•æ‰€è€—è²»çš„æ™‚é–“ã€‚ ç©ºé–“è¤‡é›œåº¦ï¼ˆSpace Complexityï¼‰\næŒ‡æ¼”ç®—æ³•æ‰€éœ€è¦æ¶ˆè€—çš„å„²å­˜è¨˜æ†¶é«”è³‡æºã€‚  æ™‚é–“è¤‡é›œåº¦èˆ‡ç©ºé–“è¤‡é›œåº¦æ˜¯ç›¸äº’å½±éŸ¿çš„ï¼Œç•¶è¿½æ±‚ä¸€å€‹è¼ƒå¥½çš„æ™‚é–“è¤‡é›œåº¦æ™‚ï¼Œå¯èƒ½æœƒä½¿ç©ºé–“è¤‡é›œåº¦çš„æ€§èƒ½è®Šå·®ã€‚èˆ‰ä¾‹ä¾†èªªï¼ŒGoogle Chrome ç›¸è¼ƒæ–¼å…¶ä»–ç€è¦½å™¨ï¼Œé‹è¡Œé€Ÿåº¦è¼ƒå¿«ï¼Œä½†å®ƒçš„ç¼ºé»å°±æ˜¯å ç”¨å¾ˆå¤šè¨˜æ†¶é«”ã€‚\næ ¹æ“šèª¿æŸ¥é¡¯ç¤ºï¼Œç”¨æˆ¶å°æ–¼åŸ·è¡Œæ•ˆç‡æœ‰æ¥µé«˜çš„è¦æ±‚ï¼Œå°æ–¼ç¶²é é–‹å•Ÿçš„å¿è€æ¥µé™æ˜¯ 6 ç§’ç”šè‡³æ›´çŸ­ã€‚åœ¨é€™å€‹å¤§èƒŒæ™¯ä¸‹ï¼Œä¸€å€‹å¥½çš„æ¼”ç®—æ³•ï¼Œæ›´å°ˆæ³¨æ–¼è¨è«–æ™‚é–“è¤‡é›œåº¦ã€‚å¦å¤–ï¼Œç¾åœ¨çš„å„²å­˜ç©ºé–“å¾ˆä¾¿å®œï¼Œè€Œä¸”ç•¶ è³‡æ–™é‡è®Šå¤§ æ™‚ï¼Œç©ºé–“è¤‡é›œåº¦çš„å·®ç•°é€šå¸¸ä¸å¤§ï¼Œä½† æ™‚é–“è¤‡é›œåº¦å‰‡æœƒæœ‰æ¥µå¤§çš„å·®ç•°ã€‚\nä¸åŒæƒ…æ³ä¸‹çš„åˆ†æ æ¯ç•¶è¼¸å…¥è³‡æ–™çš„æƒ…æ³ä¸åŒæ™‚ï¼Œæ¼”ç®—æ³•å‘ˆç¾çš„æ•ˆæœä¹Ÿä¸åŒï¼Œèˆ‰ä¾‹ä¾†èªªï¼Œåœ¨åœ–æ›¸é¤¨æ‰¾ä¸€æœ¬æ›¸ï¼Œä¸¦ä¸€æœ¬ä¸€æœ¬æ‰¾ï¼š\n æœ€ä½³æƒ…æ³ï¼šç¬¬ä¸€æœ¬å°±æ˜¯è¦æ‰¾çš„æ›¸ æœ€ç³Ÿæƒ…æ³ï¼šæœ€å¾Œä¸€æœ¬æ‰æ˜¯è¦æ‰¾çš„æ›¸ å¹³å‡æƒ…æ³ï¼šä¸­é€”å°±æ‰¾åˆ°è¦æ‰¾çš„æ›¸  ä¸Šè¿°ä¸‰ç¨®æƒ…æ³éƒ½å¯ä»¥è¢«ç”¨ä¾†åˆ†ææ¼”ç®—æ³•ã€‚ä½†æœ€ä½³æƒ…æ³å°æ¼”ç®—æ³•æ²’æœ‰å¤šå¤§å¹«åŠ©ï¼Œé€šå¸¸æˆ‘å€‘åªè€ƒæ…®æœ€ç³Ÿæƒ…æ³ï¼Œä¹Ÿå°±æ˜¯æ¼”ç®—æ³•è¤‡é›œåº¦çš„ä¸Šé™å€¼ã€‚\nè¼¸å…¥å¤§å°èˆ‡åŸ·è¡Œæ™‚é–“çš„é—œä¿‚ æˆ‘å€‘èˆ‰ä¸€å€‹éå¸¸ç°¡å–®çš„ä¾‹å­ã€‚\nä»¥ æ±‚ç­‰å·®æ•¸åˆ—çš„å’Œ ä¾†èªªï¼Œå‡è¨­è¦æ±‚å‡º 1 + 2 + 3 + \u0026hellip; + n çš„å’Œï¼Œæœ‰å…©ç¨®ä½œæ³•ï¼š\n ä¸€å€‹ä¸€å€‹åŠ  å¥—ç”¨å…¬å¼è¨ˆç®—  ç”¨ for è¿´åœˆä¸€å€‹ä¸€å€‹çš„åŠ ï¼š\n1 2 3 4 5 6 7  function sum(n) { let sum = 0; for(let i = 0; i \u0026lt;= n; i++) { sum += i; } return sum; }   ç­‰å·®æ•¸åˆ—çš„å’Œå…¬å¼ï¼Œæˆ‘å€‘å°æ™‚å€™æ‡‰è©²éƒ½æœ‰å­¸éï¼š\n ä¸€å€‹ç­‰å·®æ•¸åˆ—çš„å’Œï¼Œç­‰æ–¼å…¶é¦–é …èˆ‡æœ«é …çš„å’Œï¼Œä¹˜ä»¥é …æ•¸é™¤ä»¥ 2ã€‚\n 1 2 3  function sum(n) { return (1 + n) * n / 2; }   å…©ç¨®ä½œæ³•çš„æ™‚é–“å·®ç•°ï¼š\n å¦‚æœ $1$ ç´¯åŠ åˆ° $n$ è¿´åœˆéœ€è¦è·‘ $n$ æ¬¡ ä¸è«– $n$ å¤šå¤§ï¼Œéƒ½åªéœ€è¦åŸ·è¡Œ $1$ æ¬¡ã€‚  å‡è¨­åŸ·è¡Œä¸€æ¬¡åªéœ€è¦ 0.01æ¯«ç§’ï¼Œç•¶ $n$ ä¸å¤§æ™‚ï¼Œä¸€å€‹ä¸€å€‹åŠ èˆ‡å¥—ç”¨å…¬å¼è¨ˆç®—çš„æ™‚é–“å·®ç•°ä¸¦ä¸å¤§ï¼Œä½†éš¨è‘— $n$ è¶Šä¾†è¶Šå¤§ï¼Œä½ æœƒç™¼ç¾ä½¿ç”¨ä¸€å€‹ä¸€å€‹åŠ çš„æ™‚é–“æœƒè®Šå¾—éå¸¸å¯è§€ã€‚\nç”±æ­¤å¯çŸ¥ï¼Œç•¶è¼¸å…¥é‡éå¸¸å¤§æ™‚ï¼Œä¸åŒæ¼”ç®—æ³•åŸ·è¡Œä¸Šæ•ˆç‡å·®ç•°æœƒéå¸¸å¤§ã€‚\n æ¼”ç®—æ³•æ•ˆç‡ï¼šåŸ·è¡Œæ‰€éœ€æ™‚é–“èˆ‡è³‡æ–™é‡ $n$ çš„é—œä¿‚ã€‚\n æ¼”ç®—æ³•åŸ·è¡Œæ™‚é–“çš„è¨ˆç®—æ–¹å¼  åŸ·è¡Œæ™‚é–“ = åŸ·è¡Œæ¬¡æ•¸ * æ¯æ¬¡åŸ·è¡Œæ‰€éœ€çš„æ™‚é–“\n ä½†æ˜¯ æ¯æ¬¡åŸ·è¡Œæ‰€éœ€çš„æ™‚é–“ æœƒæ ¹æ“šæ©Ÿå™¨å’Œèªè¨€çš„çš„å·®ç•°è€Œæœ‰æ‰€ä¸åŒï¼Œå› æ­¤æ¼”ç®—æ³•åªè€ƒæ…®åŸ·è¡Œçš„æ¬¡æ•¸ã€‚\nå°‡æ¼”ç®—æ³•ä¸­åŸºæœ¬æ“ä½œçš„åŸ·è¡Œæ¬¡æ•¸ä½œç‚ºæ¼”ç®—æ³•æ™‚é–“è¤‡é›œåº¦çš„åº¦é‡ï¼Œå³æ™‚é–“è¤‡é›œåº¦ä¸æ˜¯æ¼”ç®—æ³•ç¨‹å¼çš„é‹è¡Œæ™‚é–“ï¼Œè€Œæ˜¯å…¶ä¸­åŸºæœ¬æ“ä½œçš„ç¸½æ¬¡æ•¸ã€‚\nèˆ‰ä¾‹ä¾†èªªï¼š\n1 2 3 4 5 6 7  function sum(n) { let sum = 0; for(let i = 0; i \u0026lt; n; i++) { sum += i; } return sum; }   å‡è¨­æ¯è¡Œçš„åŸ·è¡Œæ™‚é–“éƒ½ä¸€æ¨£ï¼Œè¨˜åš $t$ã€‚\n line2ï¼šéœ€è¦ $1$ å€‹ $t$ çš„æ™‚é–“ line3ï¼šéœ€è¦ $n$ å€‹ $t$ çš„æ™‚é–“ line4ï¼šä¹Ÿæ˜¯ $n$ å€‹ $t$ çš„æ™‚é–“ line6ï¼šéœ€è¦ $1$ å€‹ $t$ çš„æ™‚é–“ é‚£éº¼åŸ·è¡Œæ™‚é–“å°±æ˜¯ $(2n + 2) * t$ åŸ·è¡Œæ¬¡æ•¸ç‚º $2n + 2$  å†è€ƒé‡ä¸‹é¢é€™å€‹ä¾‹å­ï¼š\n1 2 3 4 5 6 7 8 9  function sum(n) { let sum = 0; for(let i = 0; i \u0026lt; n; i++) { for(let j = 0; j \u0026lt; n; j++) { sum += i * j; } } return sum; }    line2ï¼šéœ€è¦ $1$ å€‹ $t$ çš„æ™‚é–“ line3ï¼šéœ€è¦ $n$ å€‹ $t$ çš„æ™‚é–“ line4ï¼šä¹Ÿæ˜¯ $n^2$ å€‹ $t$ çš„æ™‚é–“ line5ï¼šä¹Ÿæ˜¯ $n^2$ å€‹ $t$ çš„æ™‚é–“ line8ï¼šéœ€è¦ $1$ å€‹ $t$ çš„æ™‚é–“ åŸ·è¡Œæ¬¡æ•¸ç‚º $2n^2 + n + 2$  è¤‡é›œåº¦åˆ†æå·¥å…· æˆ‘å€‘åœ¨ä¹‹å‰å·²ç¶“æéï¼Œæ¼”ç®—æ³•é€šå¸¸åªè€ƒæ…®æœ€ç³Ÿæƒ…æ³ï¼Œä¹Ÿå°±æ˜¯æ¼”ç®—æ³•è¤‡é›œåº¦çš„ä¸Šé™å€¼ã€‚\nå› æ­¤æˆ‘å€‘æœƒç”¨ Big O Notation ä¾†è¡¨ç¤ºæ¼”ç®—æ³•çš„è¤‡é›œåº¦ã€‚\n Big O Notationï¼ˆ$O$ï¼‰ï¼Œå¿µä½œ Big Oh ğŸ˜®ï¼Œæ˜¯ç”¨æ–¼æè¿°å‡½æ•¸æ¼¸è¿‘è¡Œç‚ºçš„æ•¸å­¸ç¬¦è™Ÿï¼Œæ›´ç¢ºåˆ‡åœ°èªªï¼Œå®ƒæ˜¯ç”¨å¦ä¸€å€‹å‡½æ•¸ä¾†æè¿°ä¸€å€‹å‡½æ•¸æ•¸é‡ç´šçš„æ¼¸è¿‘ä¸Šç•Œï¼Œç”¨ $O(f(n))$ è¡¨ç¤ºã€‚\n å‡è¨­è¼¸å…¥ $n$ï¼Œè€Œæ¼”ç®—æ³•çš„åŸ·è¡Œæ™‚é–“ç‚ºä¸€å€‹å‡½æ•¸ $f(n)$ï¼Œä»¥ä¸‹äº”å€‹æ¼”ç®—æ³•åˆ†åˆ¥ç‚ºï¼š\n $1$ $10$ $2n + 1$ $2n^2$ $\\log_2n$  ç•¶ $1$ èˆ‡ $10$ æ¯”è¼ƒæ™‚ï¼Œä¸¦ä¸æœƒèªª $1$ æ¯” $10$ æœ‰æ•ˆç‡ï¼Œå› ç‚ºç•¶ $n$ è¶¨è¿‘ç„¡é™å¤§æ™‚ï¼Œ$1$ èˆ‡ $10$ å…©è€…å·®ç•°ä¸å¤§ï¼Œèˆ‰ä¾‹ä¾†èªªï¼šå‡å¦‚ä½ èº«ä¸Šæœ‰ä¸€åƒå„„ï¼Œç•¶ä½ è¦èŠ± 1å…ƒè·Ÿ 10å…ƒæ™‚ï¼Œä½ æœƒèªç‚º 10å…ƒçš„æ¯”è¼ƒè²´å—ï¼Ÿä¸æœƒéƒ½æ˜¯å°éŒ¢ã€‚\nåˆ†ææ¼”ç®—æ³•æ˜¯çœ‹ç•¶è³‡æ–™é‡ã€Œæœ€å¤šã€æœƒé”åˆ°æ€éº¼æ¨£çš„è¶¨å‹¢ï¼Œä¹Ÿå°±æ˜¯ $n$ è¶¨è¿‘ç„¡é™å¤§æ™‚ï¼Œä¸¦ä¸æœƒåœ¨æ„ç´°ç¯€ï¼Œåªçœ‹å‡½æ•¸çš„æœ€é«˜æ¬¡æ–¹ï¼Œæœƒå¿½ç•¥ä¿‚æ•¸ã€å…¶ä»–æ¬¡æ–¹é …èˆ‡å¸¸æ•¸ã€‚\nç”¨ Big O è¡¨ç¤ºä¸Šè¿°å‡½æ•¸ä¹‹è¤‡é›œåº¦åˆ†æï¼š\n $O(1)$ $O(1)$ $O(n)$ $O(n^2)$ $O(\\log n)$  ç”±æ­¤å¯çŸ¥ï¼Œç•¶æˆ‘å€‘åœ¨è¨ˆç®—æ¼”ç®—æ³•çš„æ™‚é–“æ™‚ï¼Œåªéœ€è¦å¤§æ¦‚çš„ç®—ä¸€ä¸‹è¿´åœˆæ•¸ï¼Œå¤§è‡´ä¸Šåˆ¤æ–·ä¸€ä¸‹ä¸Ÿé€²å»çš„è³‡æ–™é‡æœƒè®“ç¨‹å¼åŸ·è¡Œå¹¾æ¬¡å³å¯ï¼Œä¸éœ€è¦åƒä¹‹å‰ä¸€æ¨£è¨ˆç®—çš„é‚£éº¼ä»”ç´°ã€‚\nå¸¸è¦‹æ™‚é–“è¤‡é›œåº¦ åœ–ç‰‡ä¾†æºï¼š8 time complexities that every programmer should know\næ ¹æ“šä¸Šåœ–ï¼Œè‹¥åŒæ¨£è™•ç† $n$ ç­†è³‡æ–™ï¼Œé‚£éº¼å„å€‹æ™‚é–“è¤‡é›œåº¦æˆæœ¬å¦‚ä¸‹ï¼š\n$O(1)\u0026lt;O(\\log n)\u0026lt;O(n)\u0026lt;O(n \\log n)\u0026lt;O(n^2)\u0026lt;O(2^n)\u0026lt;O(n!)$\næˆæœ¬è¶Šé«˜ï¼Œè¡¨ç¤ºæ•ˆç‡è¶Šå·®ã€‚\nå¸¸è¦‹çš„æ™‚é–“è¤‡é›œåº¦ï¼š\n   åŸ·è¡Œæ™‚é–“ åç¨± æ¼”ç®—æ³•èˆ‰ä¾‹     $O(1)$ å¸¸æ•¸æ™‚é–“ Constant time æ™®é€šæ•¸å­¸é‹ç®—   $O(\\log n)$ å°æ•¸æ™‚é–“ Logarithmic time äºŒåˆ†æœå°‹   $O(n)$ ç·šæ€§æ™‚é–“ Linear time ç°¡æ˜“æœå°‹ã€æ’å…¥æ’åºæ³•   $O(n \\log n)$ ç·šæ€§å°æ•¸æ™‚é–“ Linearithmic Time æ¯”è¼ƒæ’åº   $O(n^2)$ å¹³æ–¹æ™‚é–“ Quadratic time é¸æ“‡æ’åºã€æ³¡æ²«æ’åº   $O(2^n)$ æŒ‡æ•¸æ™‚é–“ Exponential time è²»æ³¢é‚£å¥‘æ•¸åˆ—   $O(n!)$ éšä¹˜æ™‚é–“ Factorial time æš´åŠ›æœå°‹è§£æ±ºæ—…è¡Œæ¨éŠ·å“¡å•é¡Œ    è¼¸å…¥ 10ã€100ã€1000 è³‡æ–™é‡éœ€èŠ±è²»çš„æ™‚é–“æ¯”è¼ƒï¼š\n   åŸ·è¡Œæ™‚é–“ 10å€‹è³‡æ–™é‡ 100å€‹è³‡æ–™é‡ 1000å€‹è³‡æ–™é‡     $O(1)$ 1 1 1   $O(\\log n)$ 3 6 9   $O(n)$ 10 100 1000   $O(n \\log n)$ 30 600 9000   $O(n^2)$ 100 10000 1000000   $O(2^n)$ 1024 1.26e+29 1.07e+301   $O(n!)$ 3628800 9.3e+157 4.02e+2567    ç•¶è¤‡é›œåº¦åˆ°é”æˆ–è¶…é $O(2^n)$ æ™‚ï¼Œåªè¦ $n$ ç¨å¤§ä¸€é»ï¼ŒåŸºæœ¬ä¸Šç¨‹å¼å°±æœƒè·‘åˆ°å¤©è’åœ°è€éƒ½è·‘ä¸å‡ºä¾†ï¼Œå› æ­¤æœ€å¥½é¿å…éé«˜çš„è¤‡é›œåº¦ã€‚\nç©ºé–“è¤‡é›œåº¦ ä¸Šé‚Šèª¬äº†é‚£éº¼ä¸€å¤§å †çš„æ™‚é–“è¤‡é›œåº¦ï¼Œç›¸æ¯”ç©ºé–“è¤‡é›œåº¦å°±æ˜¯æŒ‡æ¼”ç®—æ³•åŸ·è¡Œæ™‚æ‰€èŠ±è²»çš„è¨˜æ†¶é«”ç©ºé–“çš„è¶¨å‹¢ã€‚\nå…¶è¨ˆç®—æ–¹å¼èˆ‡æ™‚é–“è¤‡é›œåº¦ç›¸ä¼¼ï¼Œä¹Ÿä½¿ç”¨ Big-O ä¾†è¡¨ç¤ºå…¶è¤‡é›œåº¦ã€‚\n1. è¨ˆç®—æ¼”ç®—æ³•ä½¿ç”¨è¨˜æ†¶é«”é‡ è¨ˆç®—æ¼”ç®—æ³•æ‰€éœ€çš„è¨˜æ†¶é«”é‡ï¼Œåªéœ€è¦è¨ˆç®—ä½¿ç”¨çš„è®Šæ•¸é‡ã€‚\nèˆ‰ä¾‹ä¾†èªªï¼š\n1 2 3 4 5 6 7  function sum(n) { let sum = 0; for(let i = 0; i \u0026lt; n; i++) { sum += i; } return sum; }   ä¸ç®¡ç¨‹å¼çš„åŸ·è¡Œæ­¥é©Ÿæ•¸æ˜¯å¤šå°‘ï¼Œæˆ‘å€‘çš„è®Šæ•¸å§‹çµ‚åªæœ‰ sum èˆ‡ iï¼Œä¹Ÿå°±æ˜¯è®Šæ•¸é‡åªæœ‰ 2ã€‚å› æ­¤ç©ºé–“è¤‡é›œåº¦ç‚º $O(1)$ã€‚\nå†è€ƒé‡ä¸‹é¢é€™å€‹ä¾‹å­ï¼š\n1 2 3 4 5 6 7  function show(n) { let arr = []; for (let i = 0; i \u0026lt; n; i++) { arr.push(i); } return arr; }   è¿´åœˆæ¯æ¬¡åŸ·è¡Œä¸€æ¬¡ push æ–¹æ³•ï¼Œå°±æœƒç”³è«‹ä¸€å€‹ç©ºé–“å­˜å„²è®Šé‡ï¼Œå¾ˆæ˜é¡¯çš„ï¼Œè¨˜æ†¶é«”çš„ä½”ç”¨é‡æœƒéš¨è‘—è¼¸å…¥é‡è€Œç·šæ€§æˆé•·ï¼Œæ•…é€™å€‹æ¼”ç®—æ³•çš„ç©ºé–“è¤‡é›œåº¦ç‚º $O(n)$ã€‚\n2. å¸¸è¦‹çš„ç©ºé–“è¤‡é›œåº¦ å¸¸è¦‹çš„ç©ºé–“è¤‡é›œåº¦åªæœ‰ $O(1)$ã€$O(n)$ã€$O(n^2)$ï¼Œå…¶ä»–çš„è©±å¾ˆå°‘æœƒç”¨åˆ°ã€‚\nç¸½çµ è©•ä¼°æ¼”ç®—æ³•çš„å¥½å£ï¼Œå°±æ˜¯è¦åˆ†ææ¼”ç®—æ³•çš„è¤‡é›œåº¦ï¼Œè€Œæ™‚é–“è¤‡é›œåº¦èˆ‡ç©ºé–“è¤‡é›œåº¦å¼ç›¸äº’å½±éŸ¿çš„ï¼Œä½†æ™‚é–“è¤‡é›œåº¦æ¯”ç©ºé–“è¤‡é›œåº¦é‡è¦ã€‚\n","description":"é€™é€±æ˜¯ å…­è§’é¼ å¹´éµäººè³½ ç¬¬åé€±ï¼ˆæ˜¯ä¸æ˜¯æœ‰éŠ…è§’çå•¦ï¼Ÿï¼ï¼‰ï¼Œèªªæ˜å¦‚ä½•è©•ä¼°æ¼”ç®—æ³•çš„å¥½å£ã€‚","id":90,"section":"posts","tags":["æ¼”ç®—æ³• Algorithm","w3HexSchool"],"title":"JavaScript å­¸æ¼”ç®—æ³•ï¼ˆäºŒï¼‰- æ¼”ç®—æ³•åˆ†æ","uri":"https://chupai.github.io/posts/200406_analysis_of_algorithms/"},{"content":"é€™é€±æ˜¯ å…­è§’é¼ å¹´éµäººè³½ ç¬¬ä¹é€±ï¼Œæ¥ä¸‹ä¾†å¹¾é€±å¤§æ¦‚æ˜¯æˆ‘å­¸ç¿’æ¼”ç®—æ³•ç­†è¨˜ï¼Œæ—¢ç„¶æ˜¯å­¸å‰ç«¯ï¼Œç•¶ç„¶å°±æ˜¯ä½¿ç”¨ JavaScript ä¾†å¯¦ä½œã€‚\n\rä½•è¬‚æ¼”ç®—æ³•ï¼Ÿ æ¼”ç®—æ³•ï¼Œè‹±æ–‡åç¨± Algorithmï¼Œä¸­åœ‹ç¨±ç‚º ç®—æ³•ã€‚\n æ¼”ç®—æ³•ï¼Œç°¡å–®ä¾†å°±æ˜¯ä¸€å¥—è§£æ±ºå•é¡Œçš„æ–¹æ³•ã€‚\n è¦ç°¡å–®æ˜ç­ä½•è¬‚æ¼”ç®—æ³•ï¼Œæ¨è–¦è§€çœ‹é€™å€‹å½±ç‰‡ï¼šäººè…¦ä¹Ÿå¯ä»¥åŸ·è¡Œæ¼”ç®—æ³• - David J. Malanã€‚\n1. æ¼”ç®—æ³•èˆ‡ç¨‹å¼ æ¼”ç®—æ³•é€šå¸¸æ˜¯é›»è…¦æ‰€åŸ·è¡Œçš„ï¼Œä½†æ¼”ç®—æ³•åœ¨é›»è…¦èª•ç”Ÿä¹‹å‰å°±å­˜åœ¨ï¼Œæ¼”ç®—æ³•æ˜¯æ•¸å­¸å®¶æ‰€æå‡ºä¾†çš„ã€‚\né›»è…¦çœ‹èµ·ä¾†å¾ˆè°æ˜ï¼Œä½†å…¶å¯¦é›»è…¦åªæœƒåš 0 è·Ÿ 1 çš„é‹ç®—ï¼Œè€Œæˆ‘å€‘å°±æ˜¯é€é ç¨‹å¼ï¼ŒæŠŠç¾å¯¦ä¸–ç•Œéœ€è¦è§£æ±ºçš„å•é¡Œè®Šæˆæ•¸å­¸å•é¡Œï¼Œä¸Ÿçµ¦é›»è…¦ä¾†å¹«æˆ‘å€‘åšé‹ç®—è™•ç†ï¼Œè€Œé€™å€‹è§£é¡Œçš„æ–¹æ³•å°±æ˜¯æ¼”ç®—æ³•ã€‚\næ‰€ä»¥èªªï¼Œæ¼”ç®—æ³•æ˜¯ç”¨ä»¥åŸ·è¡Œè¨ˆç®—æˆ–å®Œæˆä½œæ¥­çš„ç¨‹åºï¼Œæ‰€æœ‰æ­¥é©Ÿéƒ½è¦èƒ½ç”¨æ•¸å­¸æ–¹å¼è¡¨ç¾ï¼Œè€Œç¨‹å¼æ˜¯å¯¦ä½œæ¼”ç®—æ³•çš„æ–¹å¼ã€‚ä¹Ÿå°±æ˜¯èªªï¼š\n æ¼”ç®—æ³•ç›¸ç•¶æ–¼ã€Œæ€è€ƒç¨‹åºã€ ç¨‹å¼ç›¸ç•¶æ–¼ç‚ºäº†è¡¨ç¾æ¼”ç®—æ³•çš„ã€Œèªè¨€ã€  2. æ¼”ç®—æ³•çš„è¡¨ç¤ºæ–¹å¼  è¨­è¨ˆç¨‹å¼æ™‚ï¼Œé€šå¸¸æœƒä½¿ç”¨ è™›æ“¬ç¢¼ pseudocode ä¾†è¡¨ç¤ºï¼› è¨­è¨ˆé›»å­é›»è·¯ï¼Œæœƒä½¿ç”¨ æµç¨‹åœ– ä¾†è¡¨ç¤ºï¼› è€Œç‚ºäº†ç†è§£æ¼”ç®—æ³•ï¼Œæœƒä½¿ç”¨æ–‡å­—èˆ‡åœ–ç‰‡ä¾†è¼”åŠ©èªªæ˜ã€‚  æ¼”ç®—æ³•çš„å®šç¾© æ¼”ç®—æ³• æ˜¯å°ç‰¹å®šå•é¡Œæ±‚è§£æ­¥é©Ÿçš„ä¸€ç¨®æè¿°ï¼Œä¸€èˆ¬æ¼”ç®—æ³•åš´è¬¹çš„æ¢ä»¶å¿…é ˆç¬¦åˆäº”å€‹æ¨™æº–ï¼š\n è¼¸å…¥ï¼ˆInputï¼‰ï¼šè‡³å°‘æœ‰é›¶å€‹æˆ–ä»¥ä¸Šçš„è¼¸å…¥ï¼ˆå¯ä»¥æ²’è¼¸å…¥æˆ–å¤šå€‹è¼¸å…¥ï¼‰ã€‚ è¼¸å‡ºï¼ˆOutputï¼‰ï¼šè‡³å°‘æœ‰ä¸€å€‹æˆ–ä»¥ä¸Šå›å‚³çµæœï¼ˆç¶“éæ¼”ç®—æ³•è¨ˆç®—ç²å¾—ï¼‰ã€‚ ç¢ºå®šæ€§/æ˜ç¢ºæ€§ï¼ˆDefinitenessï¼‰ï¼šæ¯ä¸€å€‹æŒ‡ä»¤æ­¥é©Ÿå¿…é ˆæ˜ç¢ºè€Œä¸é€ æˆæ··æ·†ã€‚åœ¨ä¸€å®šæ¢ä»¶ä¸‹ï¼Œç›¸åŒçš„è¼¸å…¥åªèƒ½æœ‰å”¯ä¸€çµæœã€‚ æœ‰é™æ€§ï¼ˆFinitenessï¼‰ï¼šåœ¨æœ‰é™æ­¥é©Ÿå¾Œä¸€å®šæœƒçµæŸï¼ˆå®Œæˆæˆ–çµ‚æ­¢ï¼‰ï¼Œç¢ºä¿ä¸æœƒé€²å…¥ç„¡çª®è¿´åœˆã€‚ å¯è¡Œæ€§/æœ‰æ•ˆæ€§ï¼ˆEffectivenessï¼‰ï¼šæ­¥é©Ÿæ¸…æ¥šå¯è¡Œï¼Œèƒ½ä½¿ç”¨æ•¸å­¸é‹ç®—å‡ºçµæœï¼ˆè¡¨ç¤ºèƒ½å¤ å¯¦ç¾ï¼‰ã€‚  ä¸€å€‹å¥½çš„æ¼”ç®—æ³• ä¸€å€‹æ¼”ç®—æ³•å¦‚æœè¦è¨­è¨ˆå¥½ï¼Œå¿…é ˆé”åˆ°ä»¥ä¸‹ç›®æ¨™ï¼š\n æ­£ç¢ºæ€§ï¼ˆcorrectnessï¼‰ï¼šä¸å«èªæ³•éŒ¯èª¤ï¼Œå°å„ç¨®éœ€æ±‚çš„è¼¸å…¥æ•¸æ“šéƒ½èƒ½æ»¿è¶³ã€‚ å¯è®€æ€§ï¼ˆreadabilityï¼‰ï¼šç°¡æ½”æ˜“æ‡‚ã€‚ å¥å£¯æ€§ï¼ˆrobustnessï¼‰ï¼šéæ³•æ•¸æ“šè¢«è¼¸å…¥æ™‚ï¼Œä¸æœƒå¼•èµ·æ¼”ç®—æ³•å´©æ½°ã€å‡ºéŒ¯ã€‚ æ•ˆç‡èˆ‡ä½å­˜å„²é‡éœ€æ±‚ï¼šå³ï¼Œæ¼”ç®—æ³•åŸ·è¡Œæ™‚é–“çŸ­ æˆ– æ¼”ç®—æ³•è¨˜æ†¶é«”ä½¿ç”¨é‡ä½ã€‚  ç¸½çµ é€™é€±å°±ç°¡æ•˜è¿°ä½•è¬‚æ¼”ç®—æ³•ï¼Œä¸‹é€±å°‡èªªæ˜å¦‚ä½•åˆ†ææ¼”ç®—æ³•çš„å¥½å£ã€‚\nç›®éŒ„ å‰è¨€ï¼š\n ä½•è¬‚æ¼”ç®—æ³•ï¼Ÿ æ¼”ç®—æ³•åˆ†æ  è³‡æ–™çµæ§‹ï¼š\n è³‡æ–™çµæ§‹æ¦‚è¿° é™£åˆ— Array éˆçµä¸²åˆ— Linked list å †ç–Š ï¼† ä½‡åˆ— é›†åˆ \u0026amp; æ˜ å°„ æ¨¹ \u0026amp; äºŒå…ƒæ¨¹ äºŒå…ƒæœå°‹æ¨¹ AVL-Tree ç´…é»‘æ¨¹ï¼ˆä¸Šï¼‰ï¼šB æ¨¹ã€2-3-4 æ¨¹ ç´…é»‘æ¨¹ï¼ˆä¸­ï¼‰ï¼šæ–°å¢æ“ä½œ ç´…é»‘æ¨¹ï¼ˆä¸‹ï¼‰ï¼šåˆªé™¤æ“ä½œ æ¨¹å †  æ’åºæ¼”ç®—æ³•ï¼š\n æ’åºæ¼”ç®—æ³• åˆä½µæ’åº å¿«é€Ÿæ’åº å¸Œçˆ¾æ’åº å †ç©æ’åº  æœå°‹æ¼”ç®—æ³•ï¼š\n æœå°‹æ¼”ç®—æ³•  æ´—ç‰Œæ¼”ç®—æ³•ï¼š\n æ´—ç‰Œæ¼”ç®—æ³•  æ¼”ç®—æ³•è¨­è¨ˆï¼š\n éè¿´ åˆ†æ²»æ³•ã€å‹•æ…‹è¦åŠƒ ","description":"é€™é€±æ˜¯ å…­è§’é¼ å¹´éµäººè³½ ç¬¬ä¹é€±ï¼Œæ¥ä¸‹ä¾†å¹¾é€±å¤§æ¦‚ç”¨è¨˜éŒ„æˆ‘å­¸ç¿’æ¼”ç®—æ³•çš„ç­†è¨˜ï¼Œæ—¢ç„¶æ˜¯å­¸å‰ç«¯ï¼Œç•¶ç„¶å°±æ˜¯ä½¿ç”¨ JavaScriptã€‚","id":91,"section":"posts","tags":["æ¼”ç®—æ³• Algorithm","w3HexSchool"],"title":"JavaScript å­¸æ¼”ç®—æ³•ï¼ˆä¸€ï¼‰- ä½•è¬‚æ¼”ç®—æ³•ï¼Ÿ","uri":"https://chupai.github.io/posts/200404_algorithm/"},{"content":"é€™é€±æ˜¯ å…­è§’é¼ å¹´éµäººè³½ ç¬¬å…«é€±ï¼Œç´€éŒ„ Vue è¡¨å–®é©—è­‰å¥—ä»¶ - Vee Validate æ“ä½œæ–¹æ³•ã€‚\nå‰è¨€  VeeValidate å®˜ç¶²\n VeeValidate æ˜¯å°ˆç”¨æ–¼ Vue.js çš„è¡¨å–®é©—è­‰å¥—ä»¶ã€‚å®ƒæœ‰å¾ˆå¤šé è¨­é©—è­‰è¦å‰‡ï¼Œä¹Ÿæ”¯æŒè‡ªå®šç¾©é©—è­‰è¦å‰‡ã€‚\nç”±æ–¼ 2.xç‰ˆæœ¬ èˆ‡ 3.xç‰ˆæœ¬ çš„æ“ä½œéå¸¸ä¸åŒï¼Œæ‰€ä»¥ç°¡å–®ç´€éŒ„ä¸€ä¸‹ã€‚\nVeeValidate 2 1. å®‰è£ å®‰è£èˆŠç‰ˆæœ¬ï¼š\nnpm install vee-validate@2.2.15 --save å°å…¥ï¼š\n1 2 3  // main.js import VeeValidate from \u0026#39;vee-validate\u0026#39;; Vue.use(VeeValidate);   1.1 æœƒé‡åˆ°çš„å•é¡Œ å¦‚æœ Focus åˆ° input æ¨™ç±¤å†é»å¤–é¢ï¼Œä¸æœƒé€²è¡Œé©—è­‰ï¼Œå¯ä»¥ä¿®æ”¹ eventsï¼ŒåŠ ä¸Š blurï¼š\n1 2 3 4 5  // main.js  Vue.use(VeeValidate, { events: \u0026#39;input|blur\u0026#39;, });   1.2 ä¸­æ–‡åŒ– èˆŠæ–¹æ³• 2.1.0-beta.24ç‰ˆä¹‹å‰ï¼š\n1 2 3 4 5 6 7  // main.js  import VeeValidate from \u0026#39;vee-validate\u0026#39;; import zhTW from \u0026#39;vee-validate/dist/locale/zh_TW\u0026#39;; VeeValidate.Validator.localize(\u0026#39;zhTW\u0026#39;, zhTW); Vue.use(VeeValidate);   æ–°æ–¹æ³•ï¼Œå¿…é ˆå…ˆå®‰è£ vue-i18nï¼š\nnpm install vue-i18n --save 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25  // main.js import VeeValidate from \u0026#39;vee-validate\u0026#39;; import zhTW from \u0026#39;vee-validate/dist/locale/zh_TW\u0026#39;; import VueI18n from \u0026#39;vue-i18n\u0026#39;; Vue.use(VueI18n); const i18n = new VueI18n({ locale: \u0026#39;zhTW\u0026#39;, }); Vue.use(VeeValidate, { events: \u0026#39;input|blur\u0026#39;, i18n, dictionary: { zhTW, }, }); // è¨˜å¾—è¼‰å…¥ i18n new Vue({ i18n, router, render: (h) =\u0026gt; h(App), }).$mount(\u0026#39;#app\u0026#39;);   2. åŸºæœ¬ç”¨æ³• 1 2 3 4 5 6 7 8  \u0026lt;input type=\u0026#34;text\u0026#34; name=\u0026#34;name\u0026#34; placeholder=\u0026#34;è¼¸å…¥å§“å\u0026#34; v-validate=\u0026#34;\u0026#39;required\u0026#39;\u0026#34; :class=\u0026#34;{ \u0026#39;is-invalid\u0026#39;: errors.has(\u0026#39;name\u0026#39;) }\u0026#34; /\u0026gt; \u0026lt;span v-if=\u0026#34;errors.has(\u0026#39;name\u0026#39;)\u0026#34;\u0026gt;è«‹è¼¸å…¥å§“å\u0026lt;/span\u0026gt;    input æ¨™ç±¤å…§è¦è¨­å®š name é€™å€‹ç‰¹æ€§ï¼Œç‰¹æ€§å€¼çš„éƒ¨åˆ†å‰‡æ˜¯æ ¹æ“šè©²æ¬„ä½æ€§è³ªåšè¨­å®šï¼Œä¾‹ï¼šå§“åå°±æ˜¯ nameï¼Œåœ°å€å°±æ˜¯ addressã€‚ åŠ ä¸Š v-validate=\u0026quot;'required'\u0026quot;ï¼Œè¡¨ç¤ºé€™ä¸€å€‹æ¬„ä½æ˜¯å¿…å¡«çš„ã€‚ errors.has('name') ï¼Œå¡«å…¥ name ç‰¹æ€§å€¼ã€‚åˆå§‹å€¼ç‚º fasleï¼Œç•¶è§¸ç™¼ input æ¨™ç±¤æ™‚ï¼Œå°±æœƒé–‹å§‹é©—è­‰ï¼Œå¦‚æœæ¬„ä½æœªå¡«å¯«å€¼ç‚º trueã€‚  å¯ä»¥é…åˆ v-if é¡¯ç¤ºæå¼å­—ï¼› æˆ–æ˜¯æ­é… :class åŠ å…¥æå¼æ¨£å¼ã€‚    å‡è¨­è¦é©—è­‰ email æ ¼å¼ï¼Œå‰‡å¯ä»¥ä½¿ç”¨ v-validate=\u0026quot;'required|email'\u0026quot;ã€‚\nè€Œ errors.first('email') å®ƒæœƒæ ¹æ“š email é©—è­‰çš„å„ç¨®ç‹€æ…‹ä¾†é¡¯ç¤ºä¸åŒçš„æç¤ºæ–‡å­—ã€‚\n2.1 ç²å–éŒ¯èª¤è¨Šæ¯  errors.first('field')ï¼šç²å–é—œæ–¼ç•¶å‰ field çš„ç¬¬ä¸€å€‹éŒ¯èª¤è¨Šæ¯ collect('field')ï¼šç²å–é—œæ–¼ç•¶å‰ field çš„æ‰€æœ‰éŒ¯èª¤è¨Šæ¯ has('field')ï¼šç•¶å‰ filed æ˜¯å¦æœ‰éŒ¯èª¤ all()ï¼šç•¶å‰è¡¨å–®æ‰€æœ‰éŒ¯èª¤ any()ï¼šç•¶å‰è¡¨å–®æ˜¯å¦æœ‰ä»»ä½•éŒ¯èª¤  ï¼“. è¡¨å–®æäº¤å‰çš„è™•ç† æœ€å¾Œæˆ‘å€‘é‚„éœ€è¦è¨­å®šè¡¨å–®é©—è­‰æ–¹æ³•ï¼Œä¾†é¿å…é€å‡ºéŒ¯èª¤çš„è³‡æ–™æ ¼å¼ï¼š\n1 2 3 4 5 6 7  this.$validator.validate().then((result) =\u0026gt; { if (result) { // ç•¶é©—è­‰æˆåŠŸæ™‚åŸ·è¡Œ AJAX çš„è¡Œç‚º  } else { // é©—è­‰å¤±æ•—ç”¢ç”Ÿçš„è¡Œç‚º  } });   VeeValidate 3 VeeValidate åœ¨ v3.xç‰ˆæœ¬ä¹‹å¾Œçš„ä½¿ç”¨æ–¹æ³•èˆ‡ä¹‹å‰å®Œå…¨ä¸åŒã€‚\n1. å®‰è£ å®‰è£æœ€æ–°ç‰ˆæœ¬ vee-validateï¼š\nnpm install vee-validate --save å°å…¥ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13  // main.js import { ValidationObserver, ValidationProvider, extend, localize} from \u0026#39;vee-validate\u0026#39;; import * as rules from \u0026#39;vee-validate/dist/rules\u0026#39;; import TW from \u0026#39;vee-validate/dist/locale/zh_TW.json\u0026#39;; Object.keys(rules).forEach((rule) =\u0026gt; { extend(rule, rules[rule]); }); localize(\u0026#39;zh_TW\u0026#39;, TW); Vue.component(\u0026#39;ValidationObserver\u0026#39;, ValidationObserver); Vue.component(\u0026#39;ValidationProvider\u0026#39;, ValidationProvider);   å®‰è£å…§å®¹æœƒåœ¨ä¸‹æ–¹ä¾åºèªªæ˜ã€‚\n2. æ·»åŠ è¦å‰‡ é è¨­æƒ…æ³ä¸‹ï¼ŒVeeValidate ä¸é™„å¸¶ä»»ä½•é©—è­‰è¦å‰‡ï¼Œé€™æ˜¯ç‚ºäº†ä½¿æª”æ¡ˆè¼•é‡ã€‚\né¦–å…ˆå°å…¥å®šç¾©è¦å‰‡æ‰€éœ€çš„ extend å‡½å¼ï¼š\n1 2 3  import { extend } from \u0026#39;vee-validate\u0026#39;; // rules   æ¥ä¸‹ä¾†ï¼Œå°±æ˜¯åŠ å…¥è¦å‰‡ã€‚\n2.1 å®‰è£æ‰€æœ‰è¦å‰‡ å®‰è£æ‰€æœ‰è¦å‰‡æœ‰å…©ç¨®éæ­·ä½œæ³•ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14  import { extend } from \u0026#39;vee-validate\u0026#39;; import * as rules from \u0026#39;vee-validate/dist/rules\u0026#39;; // ä½œæ³•ä¸€ Object.keys(rules).forEach((rule) =\u0026gt; { extend(rule, rules[rule]); }); // ä½œæ³•äºŒ(with typescript) for (let [rule, validation] of Object.entries(rules)) { extend(rule, { ...validation, }); }   é™¤äº†ä¸Šè¿°æ–¹æ³•ï¼Œå¦ä¸€ç¨®æ–¹æ³•æ˜¯å®‰è£ vee-validate çš„å®Œæ•´æ†ç¶åŒ…ï¼Œè€Œä¸æ˜¯é è¨­æ†ç¶åŒ…ï¼Œè©²æ†ç¶åŒ…é è£äº†æ‰€æœ‰é©—è­‰è¦å‰‡åŠå…¶è‹±æ–‡æ¶ˆæ¯ã€‚\nå°‡ 'vee-validate' æ›¿æ›æˆ 'vee-validate/dist/vee-validate.full.esm'ï¼Œå°±å¯ä»¥ä¸€æ¬¡å®‰è£æ‰€æœ‰é©—è­‰è¦å‰‡ï¼Œè€Œä¸ç”¨å°å…¥ extend å‡½å¼ã€‚\n1  import { ValidationObserver, ValidationProvider } from \u0026#39;vee-validate/dist/vee-validate.full.esm\u0026#39;;   ä½†ä¸å»ºè­°ä¸€æ¬¡å®‰è£å…¨éƒ¨è¦å‰‡ï¼Œæ‡‰è©²ä½¿ç”¨ä¸‹é¢çš„æ–¹å¼ï¼ŒæŒ‰ç…§éœ€æ±‚å®‰è£ã€‚\r 2.2 å°å…¥è¦å‰‡ ç‚ºäº†é¿å…ä¸€æ¬¡åŠ è¼‰å…¨éƒ¨è¦å‰‡ï¼Œæˆ‘å€‘å¯ä»¥é¸æ“‡éœ€æ±‚ä¾†å°å…¥è¦å‰‡ï¼š\n1 2 3 4 5  import { extend } from \u0026#39;vee-validate\u0026#39;; import { required, email } from \u0026#39;vee-validate/dist/rules\u0026#39;; // æŒ‰éœ€æ±‚å°å…¥è¦å‰‡  extend(\u0026#39;required\u0026#39;, required); extend(\u0026#39;email\u0026#39;, email);   æ›´å¤šå¯ç”¨è¦å‰‡å¯ä»¥åƒè€ƒ å®˜æ–¹æ–‡ä»¶ã€‚\n3. åŸºæœ¬ç”¨æ³• å°å…¥ ValidationProvider å…ƒä»¶ï¼š\n1 2 3 4 5 6 7 8 9 10 11  import { ValidationProvider } from \u0026#39;vee-validate\u0026#39;; // åœ¨ main.js å…¨åŸŸè¨»å†Šå…ƒä»¶ Vue.component(\u0026#39;ValidationProvider\u0026#39;, ValidationProvider); // å€åŸŸè¨»å†Šå…ƒä»¶ï¼ˆæ¨è–¦ï¼‰ export default { components: { ValidationProvider, }, };   2.X ç‰ˆåŸæœ¬æ˜¯æ·»åŠ  v-validateï¼Œè€Œ 3.Xç‰ˆå‰‡æ”¹ç”¨ ValidationProvider å…ƒä»¶é€²è¡ŒåŒ…è£¹ï¼š\n1 2 3 4 5 6 7 8 9 10  \u0026lt;ValidationProvider v-slot=\u0026#34;{ failed, errors }\u0026#34; name=\u0026#34;name\u0026#34; rules=\u0026#34;required\u0026#34;\u0026gt; \u0026lt;label for=\u0026#34;username\u0026#34;\u0026gt;*æ”¶ä»¶äººå§“å\u0026lt;/label\u0026gt; \u0026lt;input type=\u0026#34;text\u0026#34; name=\u0026#34;name\u0026#34; :class=\u0026#34;{ \u0026#39;is-invalid\u0026#39;: failed }\u0026#34; placeholder=\u0026#34;è¼¸å…¥å§“å\u0026#34; /\u0026gt; \u0026lt;span v-if=\u0026#34;failed\u0026#34; class=\u0026#34;text-danger\u0026#34;\u0026gt;{{ errors[0] }}\u0026lt;/span\u0026gt; \u0026lt;/ValidationProvider\u0026gt;    name ç‚ºå ±éŒ¯æ™‚ï¼Œé¡¯ç¤ºçš„åç¨±ã€‚ åœ¨ rules ä¸Šï¼Œæ·»åŠ è¦é©—è­‰çš„è¦å‰‡ã€‚ æ’æ§½ç¯„åœå…§å¯ç”¨çš„å±¬æ€§ï¼Œå¯ä»¥åƒè€ƒ å®˜æ–¹æ–‡ä»¶ã€‚  errorsï¼šéŒ¯èª¤è¨Šæ¯åˆ—è¡¨ï¼Œerrors[0] å‰‡ä»£è¡¨é©—è­‰éŒ¯èª¤è¦å‰‡åº•ä¸‹å®šç¾©çš„ messages failedï¼šå¦‚æœç¶“éé©—è­‰ä¸”ç„¡æ•ˆï¼Œå‰‡å€¼ç‚º false    é è¨­æƒ…æ³ä¸‹ï¼ŒValidationProvider æ¸²æŸ“å™¨ç‚º span æ¨™ç±¤ï¼Œå¯ä»¥ä½¿ç”¨å¥—ä»¶æä¾›çš„ prop ä¾†æ”¹è®Šå‘ˆç¾æ¨™ç±¤ï¼š\n1  \u0026lt;ValidationProvider tag=\u0026#34;div\u0026#34;\u0026gt;\u0026lt;/ValidationProvider\u0026gt;   3.3 æ›´è©³ç´° æ›´å¤šå¯ç”¨ prop å¯ä»¥åƒè€ƒ å®˜æ–¹æ–‡ä»¶ã€‚\nå¦å¤–é‚„æä¾›äº†è¨±å¤šæ–¹æ³•å¯ä»¥ä½¿ç”¨ï¼Œå¯ä»¥åƒè€ƒ å®˜æ–¹æ–‡ä»¶ã€‚\n4. è¡¨å–®æäº¤å‰çš„è™•ç† 1 2 3 4 5 6 7 8 9 10 11  import { ValidationObserver } from \u0026#39;vee-validate\u0026#39;; // åœ¨ main.js å…¨åŸŸè¨»å†Šå…ƒä»¶ Vue.component(\u0026#39;ValidationObserver\u0026#39;, ValidationObserver); // å€åŸŸè¨»å†Šå…ƒä»¶ï¼ˆæ¨è–¦ï¼‰ export default { components: { ValidationObserver, }, };   è©³ç´°çš„è™•ç†è¡¨å–®ç¯„ä¾‹ï¼Œå¯ä»¥åƒè€ƒ å®˜æ–¹æ–‡ä»¶ã€‚\nåŸºæœ¬ç¯„ä¾‹ï¼š\n1 2 3 4 5 6  \u0026lt;ValidationObserver v-slot=\u0026#34;{ invalid }\u0026#34;\u0026gt; \u0026lt;form @submit.prevent=\u0026#34;onSubmit\u0026#34;\u0026gt; \u0026lt;!-- .... --\u0026gt; \u0026lt;button type=\u0026#34;submit\u0026#34; :disabled=\u0026#34;invalid\u0026#34;\u0026gt;Submit\u0026lt;/button\u0026gt; \u0026lt;/form\u0026gt; \u0026lt;/ValidationObserver\u0026gt;   æäº¤æŒ‰éˆ•ç›®å‰ç‚ºç¦ç”¨ï¼Œåªæœ‰ç•¶è¡¨å–®é€šéé©—è­‰æ‰å¯ä»¥é€å‡ºã€‚\næäº¤å‰é©—è­‰ï¼š\n1 2 3 4 5  \u0026lt;ValidationObserver v-slot=\u0026#34;{ handleSubmit }\u0026#34;\u0026gt; \u0026lt;form @submit.prevent=\u0026#34;handleSubmit(onSubmit)\u0026#34;\u0026gt; \u0026lt;!-- .... --\u0026gt; \u0026lt;button type=\u0026#34;submit\u0026#34;\u0026gt;Submit\u0026lt;/button\u0026gt; \u0026lt;/ValidationObserver\u0026gt;   ValidationObserver æä¾›äº†ä¸€å€‹ handleSubmit å¯ç”¨æ–¼ä¿è­·è¡¨å–®æäº¤çš„ handleSubmit åŠŸèƒ½ã€‚\né‡ç½®è¡¨å–®ï¼š\n1 2 3 4 5 6  \u0026lt;ValidationObserver v-slot=\u0026#34;{ reset }\u0026#34;\u0026gt; \u0026lt;form @reset.prevent=\u0026#34;reset\u0026#34;\u0026gt; \u0026lt;!-- .... --\u0026gt; \u0026lt;button type=\u0026#34;reset\u0026#34;\u0026gt;Reset\u0026lt;/button\u0026gt; \u0026lt;/form\u0026gt; \u0026lt;/ValidationObserver\u0026gt;   4.1 ä½¿ç”¨ $refs å…ˆé€šé $refs æ‰¾åˆ° ValidationObserver å…ƒä»¶ï¼Œå‘¼å«çµ„ä»¶ä¸­çš„æ–¹æ³• validate()ï¼Œå¦‚æœæ‰€æœ‰æ¢ä»¶éƒ½ç‚ºçœŸï¼ˆå°±æ˜¯èªªæ‰€æœ‰çš„æ ¡é©—éƒ½é€šéäº†ï¼‰å›å‚³ trueï¼Œå¦å‰‡å›å‚³ falseã€‚\n1 2 3 4 5  \u0026lt;ValidationObserver ref=\u0026#34;form\u0026#34;\u0026gt; \u0026lt;form @submit.prevent=\u0026#34;onSubmit\u0026#34;\u0026gt; \u0026lt;/form\u0026gt; \u0026lt;/ValidationObserver\u0026gt;   1 2 3 4 5 6 7 8 9  onSubmit () { this.$refs.form.validate().then((success) =\u0026gt; { if (success) { // è­‰æˆåŠŸå¾Œçš„è¡Œç‚ºåŒ…å« AJAXå‚³é€ã€é‡è£½è¡¨å–®ç­‰ç­‰  } else { // é©—è­‰å¤±æ•—ç”¢ç”Ÿçš„è¡Œç‚º  } }); },    å®˜æ–¹æ–‡ä»¶ã€‚\n 4.2 é¡¯ç¤ºåˆå§‹é©—è­‰ç‹€æ…‹ ä½¿ç”¨ immediateé¡¯ç¤ºã€€åˆå§‹é©—è­‰ç‹€æ…‹ï¼š\n1 2 3  \u0026lt;ValidationObserver rules=\u0026#34;required\u0026#34; v-slot=\u0026#34;{ errors }\u0026#34;ã€€immediate\u0026gt; \u0026lt;!-- ... --\u0026gt; \u0026lt;/ValidationObserver\u0026gt;   è©³ç´°çš„äº’å‹•å’Œç”¨æˆ¶é«”é©—ç¯„ä¾‹ï¼Œå¯ä»¥åƒè€ƒ å®˜æ–¹æ–‡ä»¶ã€‚\n4.3 æ›´è©³ç´° æ’æ§½ç¯„åœå…§å¯ç”¨çš„å±¬æ€§ï¼Œå¯ä»¥åƒè€ƒ å®˜æ–¹æ–‡ä»¶ã€‚\næ›´å¤šå¯ç”¨ prop å¯ä»¥åƒè€ƒ å®˜æ–¹æ–‡ä»¶ã€‚\n5. é©—è­‰ç‹€æ…‹ é©—è­‰ç‹€æ…‹\n6. ä¸­æ–‡åŒ– vee-validate é™„å¸¶äº†ä¸€å€‹å¾ˆå°çš„ i18n å­—å…¸ï¼Œå¯æ»¿è¶³åŸºæœ¬çš„ i18n éœ€æ±‚ã€‚vee-validate çš„é è¨­èªè¨€æ˜¯ enã€‚\né›–ç„¶ vee-validate å…·æœ‰ 40 å¤šå€‹å¯ç”¨æ–¼äº’å‹•çš„é©—è­‰çš„èªè¨€ç’°å¢ƒï¼Œä½†æ˜¯é è¨­æƒ…æ³ä¸‹ä¸æœƒå®‰è£å®ƒå€‘ï¼Œå› æ­¤æˆ‘å€‘éœ€è¦å°å…¥æ‰€éœ€çš„èªè¨€ç’°å¢ƒã€‚\nå°å…¥å®‰è£èªè¨€ç’°å¢ƒæ‰€éœ€çš„ localize å‡½å¼ï¼š\n1  import { localize } from \u0026#39;vee-validate\u0026#39;;   å®‰è£éœ€è¦çš„ä½¿ç”¨èªè¨€ç’°å¢ƒï¼Œä¸¦ä½¿ç”¨ localize() å¢åŠ æ–°çš„èªè¨€ç’°å¢ƒï¼š\n1 2 3  import TW from \u0026#39;vee-validate/dist/locale/zh_TW.json\u0026#39;; localize(\u0026#39;zh_TW\u0026#39;, TW);   ","description":"é€™é€±æ˜¯ å…­è§’é¼ å¹´éµäººè³½ ç¬¬å…«é€±ï¼Œç´€éŒ„ Vue è¡¨å–®é©—è­‰å¥—ä»¶ - Vee Validate æ“ä½œæ–¹æ³•ã€‚","id":92,"section":"posts","tags":["VeeValidate","Vue","w3HexSchool"],"title":"Vueç­†è¨˜ - è¡¨å–®é©—è­‰å¥—ä»¶ VeeValidate","uri":"https://chupai.github.io/posts/200328_vee-validate/"},{"content":"é€™é€±æ˜¯ å…­è§’é¼ å¹´éµäººè³½ ç¬¬ä¸ƒé€±ï¼ŒæŒ‘æˆ°å‰›é–‹å§‹æ™‚ï¼Œæˆ‘çš„æ–‡ç« æ˜¯æ”¾åœ¨ Bloggiï¼Œè€Œä¸”ç¬¬ä¸€é€±æ–‡ç« å°±æ˜¯ Bloggi å¦‚ä½•ä½¿ç”¨ï¼ˆæ˜é¡¯æ··åˆ†ğŸ˜‚ï¼‰ï¼Œä½†å¾Œä¾†æƒ³æƒ³ï¼ŒBloggi æ²’æœ‰ç•™è¨€ã€æ²’æœ‰å‚™ä»½ã€åµŒå…¥ CodePen æœƒè·‘ç‰ˆï¼Œç‚ºäº†é¿å…ä¹‹å¾Œä¸å¿…è¦çš„éº»ç…©ï¼Œé‚„æ˜¯ç”¨è‡ªå·±å»ºç«‹ä¸€å€‹ Blog å§ã€‚\n\rGitHub Pages æ¶è¨­éƒ¨è½æ ¼æœ€é ­ç—›çš„å•é¡Œå°±æ˜¯æ”¾ç¶²ç«™çš„ç©ºé–“ï¼Œé€šå¸¸æ¶è¨­ç¶²ç«™ä¸æ˜¯è‡ªå·±ç”¨ NAS ä¾†æ¶è¨­ï¼Œå°±æ˜¯èŠ±éŒ¢ç§Ÿä¸»æ©Ÿç©ºé–“ã€‚\nä»¥ä¸Šå…©ç¨®æ–¹æ³•éƒ½æ˜¯éœ€è¦ä¸€å®šçš„èŠ±è²»ï¼Œä½†æ˜¯é€é GitHub Pages ä¾†æ¶ç«™ï¼Œå‰‡å®Œå…¨å…è²»ï¼Œä½†ä¹Ÿæœ‰ä¸€å®šçš„ æ¢ä»¶ï¼š\n ç¶²ç«™å¤§å°ä¸èƒ½è¶…é 1 GB ç¶²ç«™æ¯æœˆæµé‡ä¸èƒ½è¶…é 100 GB ä¸€å°æ™‚å…§çš„ç¶²ç«™æ›´æ–°ä¸å¾—è¶…é 10 æ¬¡  ä»¥ä¸Šé™åˆ¶å°ä¸€èˆ¬éœ€æ±‚ä¸€å®šå¤ ç”¨ï¼Œè€Œä¸” GitHub æ˜¯è‘—åçš„è»Ÿé«”åŸå§‹ç¢¼ä»£ç®¡æœå‹™ï¼Œæœ‰ä¸€å®šçš„ç©©å®šæ€§ã€‚\nè¦èªªå”¯ä¸€çš„ç¼ºé»ï¼Œå°±æ˜¯ GitHub Pages åªèƒ½æ¶è¨­ã€Œéœæ…‹ç¶²ç«™ã€ï¼Œå› æ­¤ç„¡æ³•æ¶è¨­ Wordpress ä¹‹é¡çš„éƒ¨è½æ ¼ã€‚\né€™æ™‚å€™å°±éœ€è¦ä½¿ç”¨åˆ° éœæ…‹ç¶²é ç”¢ç”Ÿå™¨ ä¾†å»ºç«‹ Blogã€‚\n1. ç†±é–€éœæ…‹ç¶²é ç”¢ç”Ÿå™¨  Top 5 Static Site Generators for 2020 10 best static site generators  Hugo ç°¡ä»‹  Hugo å®˜ç¶²\n Hugo æ˜¯ä¸€å€‹ç”¨ Go èªè¨€ç·¨å¯«çš„éœæ…‹ç¶²ç«™ç”Ÿæˆå™¨ï¼Œæœ€å¤§çš„å„ªé»å°±æ˜¯ç·¨è­¯é€Ÿåº¦ç›¸å°æ–¼ Jekyllã€Hexo ç°¡ç›´æ˜¯é£›å¿«ã€‚\n åŸºæ–¼ go èªè¨€é–‹ç™¼ï¼Œæ²’æœ‰éŒ¯ç¶œè¤‡é›œçš„ä¾è³´é—œä¿‚ ç¤¾å€æ´»èº åŠŸèƒ½å®Œå–„ å‰ç«¯èªè¨€æ”¯æŒçš„ç¨®é¡è±å¯Œ æ•´é«”æ¡†æ¶éˆæ´»æ˜“æ‡‚ ä¿®æ”¹å³æ™‚é è¦½  è¿‘æœŸæœ‰è¶Šä¾†è¶Šå¤šäººå› ç‚º Hugo çš„ç·¨è­¯é€Ÿåº¦ï¼Œå°‡éƒ¨è½æ ¼å¾ Hexo æ¬ç§»åˆ° Hugoï¼Œä¸é Hugo ä¹Ÿæœ‰ä¸€å€‹å¾ˆå¤§çš„ç¼ºé»ï¼Œå°±æ˜¯ç›¸å° Hexo ä¾†èªªï¼ŒBlog çš„ä¸»é¡Œå¤ªå°‘ï¼Œä¹Ÿæ˜¯æœ‰äººå› ç‚º Hexo æœ‰å–œæ­¡çš„ä¸»é¡Œè€Œæ¨æ£„ Hugoã€‚\næ­å»º Hugo 1. å‰ç½®ä½œæ¥­ MacOS å¯ä»¥ç›´æ¥ä½¿ç”¨ Homebrew å®‰è£ Hugoã€‚\nbrew install hugo åœ¨ Windsow ç’°å¢ƒå¿…é ˆå…ˆä¸‹è¼‰ hugo_extended_0.67.0_Windows-64bit.zipã€‚\nè§£å£“ç¸®å¾Œï¼Œæœƒæœ‰ä¸€å€‹ hugo.exe æª”æ¡ˆã€‚å‰µå»ºä¸€å€‹æ–°è³‡æ–™å¤¾ï¼šC:\\hugoï¼Œä¸¦å°‡ hugo.exe æª”æ¡ˆæ”¾åˆ°è£¡é¢ã€‚\næ¥ä¸‹ä¾†é…ç½®ç’°å¢ƒè®Šæ•¸ï¼Œé»é¸æœ¬æ©Ÿï¼ˆå³éµï¼‰ \u0026gt; å…§å®¹ \u0026gt; é€²éšç³»çµ±è¨­å®š \u0026gt; ç’°å¢ƒè®Šæ•¸ \u0026gt; Path \u0026gt; ç·¨è¼¯ \u0026gt; æ–°å¢è·¯å¾‘ï¼šC:\\hugoã€‚\n2. å»ºç«‹ä¸€å€‹å°ˆæ¡ˆ é–‹å•Ÿçµ‚ç«¯æ©Ÿä¸¦åˆ‡æ›åˆ° hugo/ è³‡æ–™å¤¾ä¸‹ï¼ŒåŸ·è¡Œä»¥ä¸‹å‘½ä»¤ï¼š\nhugo new site myBlog myblog å¯ä»¥æ›¿æ›æˆä»»æ„åç¨±ã€‚\næ©Ÿå™¨ä¸Šæœƒç”¢ç”Ÿä¸€å€‹ myBlog è³‡æ–™å¤¾ï¼Œçµæ§‹å¦‚ä¸‹ï¼š\nmyBlog/ â”‚ â”œâ”€â”€ archetypes/ â”‚ â”‚ â”‚ â””â”€ default.md # é è¨­ markdown â”œâ”€â”€ content/ # é é¢ã€æ–‡ç« ï¼ˆmarkdownï¼‰ â”œâ”€â”€ data/ # è³‡æ–™åº« â”œâ”€â”€ layouts/ # è‡ªå®šç¾©çš„æ¨£æ¿ â”œâ”€â”€ static/ # éœæ…‹è³‡æº â”œâ”€â”€ themes/ # ç¶²ç«™çš„ä¸»é¡Œ â””â”€â”€ config.toml # ç¶²ç«™çš„é…ç½® 3. åŠ å…¥ä¸»é¡Œ å› ç‚º Hugo é è¨­æ²’æœ‰ä»»ä½•ä¸»é¡Œçš„ï¼Œå› æ­¤å¿…é ˆåœ¨ Hugo Themes é¸æ“‡ä¸€å€‹ä¾†å¥—ç”¨ã€‚\nè¨˜å¾—å…ˆå®‰è£ git å·¥å…·ï¼Œæ¥ä¸‹ä¾†åœ¨ myBlog/ è³‡æ–™å¤¾ä¸‹åŠ å…¥ git ç‰ˆæ§ï¼š\ngit init å¾ Github ä¸‹è¼‰ä¸»é¡Œä¸¦å°‡å…¶æ·»åŠ åˆ° theme ç›®éŒ„ä¸­ï¼š\ngit submodule add https://github.com/AmazingRise/hugo-theme-diary.git themes/diary å¦‚æœæ²’å®‰è£ gitï¼š\n å¯ä»¥ç›´æ¥ä¸‹è¼‰è©²ä¸»é¡Œæœ€æ–°ç‰ˆæœ¬ï¼Œä¸¦è§£å£“ç¸®ï¼› å°‡è³‡æ–™å¤¾é‡æ–°å‘½å ä¸¦å°‡å…¶ç§»è‡³ themes è³‡æ–™å¤¾ã€‚  æœ€å¾Œé–‹å•Ÿè·Ÿç›®éŒ„ä¸‹çš„ config.toml æª”æ¡ˆï¼Œè¨­å®šä½¿ç”¨ä¸»é¡Œï¼š\ntheme = \u0026quot;diary\u0026quot; æˆ–æ˜¯å°‡ theme/ å…§çš„ config.toml å–ä»£æ ¹ç›®éŒ„çš„ã€‚\næœ€åŸºæœ¬çš„ä¸»é¡Œå®‰è£æµç¨‹å¤§æ¦‚æ˜¯é€™æ¨£ã€‚\nä½†è¦æ³¨æ„ï¼Œå› ç‚º config é…ç½®æª”ï¼Œæ”¯æ´ tomlã€yamlã€json ä¸‰ç¨®æ ¼å¼ï¼Œä¹Ÿå¯ä»¥æ”¾åœ¨ config/ è³‡æ–™å¤¾å…§ï¼Œç„¶å¾Œæ‹†åˆ†ä¸åŒæ¨¡çµ„çš„é…ç½®ã€‚æ‰€ä»¥ä¸¦ä¸æ˜¯æ¯å€‹ä¸»é¡Œçš„å®‰è£æ–¹å¼éƒ½ç›¸åŒï¼Œå› æ­¤æœ€å¥½è©³ç´°é–±è®€æ¯å€‹ä¸»é¡Œä¸‹æ–¹çš„èªªæ˜ã€‚\n4. æ–°å¢é é¢ hugo new æœƒæ ¹æ“š archetypes/ è³‡æ–™å¤¾ä¸‹çš„ default.md ç”¢ç”Ÿåœ¨ content/ è³‡æ–™å¤¾ä¸‹ã€‚\nhugo new [è·¯å¾‘]é é¢å.md å–®é é¢ï¼Œä¸€èˆ¬æœƒæ”¾åœ¨ content/ è³‡æ–™å¤¾ä¸‹ï¼Œä¾‹å¦‚ï¼š\nhugo new about.md æ–‡ç« ä¸€èˆ¬æœƒæ”¾åœ¨ content/posts/ å…§ï¼Œä¾‹å¦‚ï¼š\nhugo new posts/my-first-post.md ä¸åŒçš„ä¸»é¡Œï¼Œæœƒæœ‰ä¸åŒçš„è³‡æ–™å¤¾çµæ§‹ï¼Œå–®é é¢èˆ‡æ–‡ç« çš„ Front Matter è¨­å®šä¹Ÿéƒ½ä¸ç›¸åŒï¼Œå› æ­¤å¯ä»¥æŸ¥çœ‹ä¸»é¡Œæ–‡ä»¶èªªæ˜ã€‚\n5. æœ¬åœ°ç«¯æ¸¬è©¦ é è¦½è‰ç¨¿ Draftï¼š\nhugo server -D é è¦½ï¼ˆä¸åŒ…å«è‰ç¨¿ï¼‰ï¼š\nhugo server é è¦½ç¶²å€ï¼šhttp://localhost:1313/\nå»ºè­°åœ¨æœ¬åœ°æ¸¬è©¦æ™‚ï¼Œconfig.toml è¨­å®šæª”å…§çš„ baseURL å…ˆè¨­ç‚ºç©ºå€¼ã€‚\nè‡ªå®šç¾© 1. Front Matter Front-matter æ˜¯ md æª”æ¡ˆæœ€ä¸Šæ–¹çš„åˆ†éš”å€åŸŸï¼Œç”¨æ–¼æŒ‡å®šå€‹åˆ¥æª”æ¡ˆçš„è®Šæ•¸ã€‚\né è¨­ä½¿ç”¨ yaml æ ¼å¼ï¼Œä½¿ç”¨ --- åˆ†éš”ï¼š\n1 2 3 4 5  --- title: \u0026#34;{{ replace .Name \u0026#34;-\u0026#34; \u0026#34; \u0026#34; | title }}\u0026#34; date: {{ .Date }} draft: true ---   å¦å¤–é‚„æ”¯æŒ tomlã€json æ ¼å¼ï¼Œåˆ†åˆ¥ä½¿ç”¨ +++ èˆ‡ {} åˆ†éš”ã€‚\né è¨­å±¬æ€§åˆ†åˆ¥ç‚ºï¼š\n titleï¼šæ¨™é¡Œåï¼Œä½¿ç”¨ hugo new å»ºç«‹æœƒèˆ‡æª”åç›¸åŒã€‚ dateï¼šæ—¥æœŸï¼Œä½¿ç”¨ hugo new å»ºç«‹ç‚ºç›®å‰æ™‚é–“ã€‚ draftï¼šè‰ç¨¿ï¼Œå¦‚æœæ˜¯ true ç”Ÿæˆç¶²ç«™æ™‚ï¼Œä¸åŒ…æ‹¬æ­¤é é¢ã€‚  1.1 å¸¸ç”¨ Front Matter å±¬æ€§ å¦å¤–ï¼Œåˆ—å‡ºå…¶ä»– Hugo æ”¯æŒçš„å¸¸ç”¨ Front Matter å±¬æ€§ï¼š\n descriptionï¼šå…§å®¹æè¿°ï¼Œä¸»è¦ç”¨æ–¼ SEO å„ªåŒ–ã€‚ tagsï¼šæ¨™ç±¤ã€‚ categoriesï¼šåˆ†é¡ã€‚ keywordsï¼šé—œéµå­—ã€‚ urlï¼šæ–‡ç«  url åç¨±ï¼Œé è¨­ä½¿ç”¨æª”æ¡ˆåç¨±ã€‚ weightï¼šåˆ—è¡¨é çš„æ–‡ç« æ’åºï¼Œè¶Šå°è¶Šé å‰ï¼Œç„¡è¨­å®šå‰‡ä¾ç…§æ™‚é–“æ’åºã€‚  å…¶ä»–å±¬æ€§ï¼Œä¸»è¦çœ‹ä½ ç”¨çš„ä¸»é¡Œæ‰€å°æ‡‰åˆ°æ¿æ¨¡ä¸Šçš„è®Šæ•¸ï¼Œä¸»é¡Œçš„æ–‡ä»¶éƒ½æœƒè©³ç´°èªªæ˜ã€‚\n1.2 Archetypes Archetypes æ„æ€ç‚ºåŸå‹ï¼Œå¯ä»¥ç•¶ä½œæ˜¯ç”Ÿæˆ md æª”æ¡ˆçš„æ¨¡æ¿ã€‚\nç•¶æˆ‘å€‘ä½¿ç”¨ hugo new å»ºç«‹ md æª”æ¡ˆæ™‚ï¼Œæœƒæ ¹æ“š archetypes/ è³‡æ–™å¤¾ä¸‹çš„æ¨¡æ¿ä¾†å»ºç«‹ã€‚\nèˆ‰ä¾‹ä¾†èªªï¼Œå¦‚æœ archetypes/ ä¸‹æœ‰ä¸€å€‹ about.mdï¼Œé‚£éº¼ä»¥ä¸‹æŒ‡ä»¤å°±æœƒæ ¹æ“šå®ƒä¾†ç”¢ç”Ÿæª”æ¡ˆã€‚\nhugo new about.md å¦‚æœæ²’æœ‰ç›¸åŒçš„æª”åï¼Œæœƒæ ¹æ“š default.md ä¾†ç”¢ç”Ÿæª”æ¡ˆã€‚\n2. Config Hugo å°‡æ•´å€‹ç¶²ç«™çš„è¨­å®šé…ç½®éƒ½é›†ä¸­åœ¨ config.toml æª”ä¸­ï¼Œé è¨­ç‚º toml æ ¼å¼ï¼Œä¸€æ¨£æ”¯æŒå¦å¤–å…©ç¨®æ ¼å¼ï¼ˆyamlã€jsonï¼‰ã€‚\n å®Œæ•´ Hugo Config å¯ä»¥è©³é–±å®˜æ–¹æ–‡ä»¶ Configure Hugoã€‚\n ç™¼ä½ˆåˆ° Github Pages ä¸Š  Host on GitHub\n äº‹å‰æº–å‚™ï¼š\n å®‰è£ Git 2.8 ä»¥ä¸Š GitHub å¸³è™Ÿ Hugo ç¶²ç«™  1. å»ºç«‹ repository åœ¨ GitHub å»ºç«‹ä¸€å€‹ repositoryï¼Œå‘½åç‚ºï¼šå¸³è™Ÿ.github.ioã€‚\n2. è¨­å®š baseURL å°‡ config.toml é…ç½®æª”å…§çš„ baseURL è¨­ç‚ºï¼š\n1  baseURL = \u0026#34;http://å¸³è™Ÿ.github.io/\u0026#34;   3. å»ºç«‹ public è³‡æ–™å¤¾ hugo åŸ·è¡Œ hugo å°±æœƒç”¢ç”Ÿ public/ çš„è³‡æ–™å¤¾ã€‚\n4. ä¸Šå‚³ åœ¨ public/ è³‡æ–™å¤¾ä¸‹åŸ·è¡Œä»¥ä¸‹å‘½ä»¤ï¼š\ngit init git remote add origin https://github.com/å¸³è™Ÿ/å¸³è™Ÿ.github.io.git git add . git commit -m \u0026quot;my Blog\u0026quot; git push -u origin master æ¥ä¸‹ä¾†å¯èƒ½æœƒè®“ä½ è¼¸å…¥ä½ çš„ Github å¸³è™Ÿå’Œå¯†ç¢¼ï¼Œä¹‹å¾Œå°±å¯ä»¥å» Github å’Œ http://å¸³è™Ÿ.github.io æŸ¥çœ‹æ˜¯å¦æˆåŠŸã€‚\n5. æ›´æ–° ä¹‹å¾Œæ·»åŠ æ–‡ç« ï¼Œåªéœ€è¦é‡æ–°ç·¨è­¯ Hugoï¼Œé‡æ–°æäº¤åˆ° Github å³å¯ã€‚\ngit add . git commit -m \u0026quot;æœ¬æ¬¡æ›´æ–°çš„èªªæ˜\u0026quot; git push origin master æ–°å¢ç•™è¨€æ¿ å› ç‚ºæ˜¯éœæ…‹ç¶²é ï¼Œæ‰€ä»¥ç•™è¨€æ¿å°±å€è¦ä¾è³´ç¬¬ä¸‰æ–¹ã€‚\nDisqus æ˜¯æ•´åˆæ€§ç•™è¨€ç®¡ç†ç³»çµ±ï¼Œç”¨ä¾†ç®¡ç†å„ç¨®ç¤¾ç¾¤çš„ç•™è¨€å¹³å°ã€‚\n1. è¨»å†Šå¸³è™Ÿ è¨»å†Šå¸³è™Ÿä¸¦å–å¾— shortnameã€‚\næµç¨‹è »ç°¡å–®çš„ï¼Œå¦‚æœä¸æ¸…æ¥šï¼Œå¯ä»¥è‡ªè¡Œæœå°‹ä¸€ä¸‹æ•™å­¸æµç¨‹ï¼Œé€™è£¡å°±ä¸å¤šåšèªªæ˜ã€‚\nLanguage å¦‚æœé¸æ“‡ Chinese åªæœ‰ç°¡é«”ã€‚\n2. åœ¨ Hugo å•Ÿç”¨ å‡è¨­ä½ çš„ä¸»é¡Œå·²ç¶“é è¨­ Disqus ç•™è¨€æ¿äº†ï¼Œé‚£éº¼åªéœ€è¦åœ¨config.toml é…ç½®æª”å¡«å…¥ Disqus çš„ shortnameã€‚\n1  disqusShortname = \u0026#34;yourdiscussshortname\u0026#34;   å¦‚æœæ²’æœ‰ï¼Œå°±éœ€è¦å°‡å®˜æ–¹æä¾›çš„æª”æ¡ˆåŠ åˆ°ä½ çš„ç¶²ç«™ä¸­ã€‚\nåœ¨ layouts/partials/ è³‡æ–™å¤¾ä¸‹ï¼ŒåŠ å…¥ disqus.html æª”æ¡ˆï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17  \u0026lt;div id=\u0026#34;disqus_thread\u0026#34;\u0026gt;\u0026lt;/div\u0026gt; \u0026lt;script type=\u0026#34;text/javascript\u0026#34;\u0026gt; (function() { // Don\u0026#39;t ever inject Disqus on localhost--it creates unwanted  // discussions from \u0026#39;localhost:1313\u0026#39; on your Disqus account...  if (window.location.hostname == \u0026#34;localhost\u0026#34;) return; var dsq = document.createElement(\u0026#39;script\u0026#39;); dsq.type = \u0026#39;text/javascript\u0026#39;; dsq.async = true; var disqus_shortname = \u0026#39;{{ .Site.DisqusShortname }}\u0026#39;; dsq.src = \u0026#39;//\u0026#39; + disqus_shortname + \u0026#39;.disqus.com/embed.js\u0026#39;; (document.getElementsByTagName(\u0026#39;head\u0026#39;)[0] || document.getElementsByTagName(\u0026#39;body\u0026#39;)[0]).appendChild(dsq); })(); \u0026lt;/script\u0026gt; \u0026lt;noscript\u0026gt;Please enable JavaScript to view the \u0026lt;a href=\u0026#34;https://disqus.com/?ref_noscript\u0026#34;\u0026gt;comments powered by Disqus.\u0026lt;/a\u0026gt;\u0026lt;/noscript\u0026gt; \u0026lt;a href=\u0026#34;https://disqus.com/\u0026#34; class=\u0026#34;dsq-brlink\u0026#34;\u0026gt;comments powered by \u0026lt;span class=\u0026#34;logo-disqus\u0026#34;\u0026gt;Disqus\u0026lt;/span\u0026gt;\u0026lt;/a\u0026gt;   å¦‚æœè¦åœ¨æœ¬åœ°ç«¯æ¸¬è©¦ Disqusï¼Œå¯ä»¥å°‡ if (window.location.hostname == \u0026quot;localhost\u0026quot;) return; è¨»è§£æ‰ã€‚\næœ€å¾Œé–‹å•Ÿä½ ä¸»é¡Œå…§çš„ layouts/_default/ è³‡æ–™å¤¾ä¸­çš„ single.html åœ¨é©ç•¶ä½ç½®è²¼ä¸Šä¸‹é¢é€™æ®µï¼š\n1  {{ partial \u0026#34;disqus.html\u0026#34; . }}   é€™æ¨£å°±å®Œæˆäº†ã€‚\nGoogle Analytics 1. å»ºç«‹å¸³æˆ¶ å‰å¾€ Google Analyticsï¼Œå¯ä»¥ä½¿ç”¨ Google å¸³è™Ÿï¼Œç›´æ¥è¨»å†Šã€‚\nå»ºç«‹å¸³æˆ¶å–å¾— Tracking IDã€‚\n2. Hugo è¨­å®š åœ¨ config.toml åŠ å…¥ Tracking IDï¼š\ngoogleAnalytics = \u0026quot;UA-XXXXX-Y\u0026quot; åœ¨ä¸»é¡Œå…§çš„ layouts/partials/ è³‡æ–™å¤¾ä¸­çš„ head.html åœ¨é©ç•¶ä½ç½®è²¼ä¸Šä¸‹é¢é€™æ®µï¼š\n1  {{ template \u0026#34;_internal/google_analytics_async.html\u0026#34; . }}   å®¹æ˜“é‡åˆ°çš„å•é¡Œ 1. Markdown åœ–ç‰‡è·¯å¾‘ åœ¨ Markdown åœ–ç‰‡è·¯å¾‘ä¸­ï¼Œæ˜¯ä»¥ static/ ç‚ºæ ¹ç›®éŒ„å¯«å…¨è·¯å¾‘ã€‚\nåœ–ç‰‡ä½ç½®ï¼š/static/imgae/cover/post1.pngï¼Œé‚£éº¼åœ¨ Markdown ä¸­å¯«ä½œï¼š\n1  ![åœ–ç‰‡èªªæ˜](/imgae/cover/post1.png)   ç¸½çµ ç›®å‰å°±å…ˆè¨˜éŒ„åˆ°é€™ï¼Œä¹‹å¾Œå¦‚æœæœ‰ç”¨åˆ° Hugo å…¶ä»–åŠŸèƒ½å†è£œä¸Šã€‚\næ–‡ç« éƒ¨åˆ†ï¼Œä¹‹å¾Œæœƒæ…¢æ…¢æŠŠ Blogger çš„èˆŠæ–‡æ¬éä¾†ï¼Œé‚„æœ‰ Hackmd çš„ç­†è¨˜æ•´ç†å¾Œä¸Ÿéä¾† ğŸ™‚\n","description":"é€™é€±æ˜¯ å…­è§’é¼ å¹´éµäººè³½ ç¬¬ä¸ƒé€±ï¼ŒHugo å»ºç«‹ Blogã€‚","id":93,"section":"posts","tags":["Hugo","w3HexSchool"],"title":"Hugo å»ºç«‹ Blog","uri":"https://chupai.github.io/posts/200316_hugo/"},{"content":"é€™é€±æ˜¯ å…­è§’é¼ å¹´éµäººè³½ ç¬¬å…­é€±ï¼Œä¸Šé€±å‰›å¥½æ¥è§¸åˆ° Lodashï¼Œå°±ç°¡å–®ç´€éŒ„ä¸€ä¸‹ã€‚\n\rç°¡ä»‹ ä½ å¾ˆå¯èƒ½éœ€è¦ç¶“å¸¸é‡è¤‡å¯«ä¸€äº›å·¥å…·å‡½å¼ï¼Œå°¤å…¶æ˜¯è™•ç†å­—ä¸²èˆ‡é™£åˆ—æˆ–æ˜¯ç‰©ä»¶ã€‚ç‚ºäº†ä½¿é–‹ç™¼å°ˆæ¡ˆæ›´æœ‰æ•ˆç‡ä¸”å¥½ç¶­è­·ï¼ŒLodash å¯èƒ½æ˜¯ä½ å¥½é¸æ“‡ã€‚\nLodash æ˜¯ä¸€å€‹ä¸€è‡´æ€§ã€æ¨¡çµ„åŒ–ã€é«˜æ€§èƒ½çš„ JavaScript å¯¦ç”¨å·¥å…·å‡½å¼åº«ï¼ŒåŒ…å«å°å­—ä¸²ã€é™£åˆ—ã€ç‰©ä»¶ç­‰å¸¸è¦‹å‹åˆ¥çš„è™•ç†å‡½å¼ã€‚\nå…¶ä¸­éƒ¨åˆ†æ˜¯ç›®å‰ ECMAScript å°šæœªåˆ¶è¨‚çš„è¦ç¯„ï¼Œä½†åŒæ™‚è¢«æ¥­ç•Œæ‰€èªå¯çš„è¼”åŠ©å‡½å¼ã€‚\n Lodash Lodash ä¸­æ–‡ç¶²  ç›®å‰åœ¨å¯«é€™ç¯‡æ–‡ç« æ™‚ï¼ŒLodash åœ¨ github ä¸Šæ˜Ÿæ•¸é«˜é” 43.8kï¼Œç‰ˆæœ¬ç‚º 4.17.15ã€‚\nå¦å¤–ï¼Œåœ¨ npm ä¸­ä¾è³´ Lodash çš„ package éå¸¸å¤šï¼špackages depending on lodashã€‚\nAPI Lodash æä¾›äº†éå¸¸å¤šçš„å·¥å…·æ–¹æ³•ï¼ŒåŒ…å«\n Arrayï¼šé©ç”¨æ–¼ é™£åˆ—ï¼Œä¾‹å¦‚åˆ†å‰²ã€åˆä½µã€åˆªé™¤ã€æŸ¥è©¢ã€é‡çµ„ç­‰æ“ä½œã€‚ Collectionï¼šé©ç”¨æ–¼ é™£åˆ— å’Œ ç‰©ä»¶ï¼Œéƒ¨åˆ†å¯ç”¨æ–¼å­—ä¸²ï¼Œä¾‹å¦‚éæ­·ã€åˆ†çµ„ã€æŸ¥è©¢ã€éæ¿¾ç­‰æ“ä½œã€‚ Dateï¼šåªæœ‰ä¸€å€‹ now æ–¹æ³•ã€‚ Functionï¼šå‡½å¼çš„æ“ä½œã€‚ Langï¼šå„ç¨®å‹åˆ¥çš„è½‰æ›ã€åˆ¤æ–·æˆ–æ˜¯æ·±æ‹·è²ã€‚ Mathï¼šåŸºæœ¬çš„æ•¸å­¸é‹ç®—ï¼Œä¾‹å¦‚æ•¸å€¼çš„å››æ¨äº”å…¥ã€æ•¸çµ„çš„æœ€å¤§ã€æœ€å°å€¼ç­‰ç­‰ã€‚ Numberï¼šå–å¾—éš¨æ©Ÿæ•¸ã€åˆ¤æ–·æ•¸å€¼å€é–“ã€æ±‚ä¸­é–“å€¼ã€‚ Objectï¼šé©ç”¨æ–¼ ç‰©ä»¶ï¼Œä¾‹å¦‚ç‰©ä»¶çš„å‰µå»ºã€æ“´å±•ã€è½‰æ›ã€æœç´¢ã€é›†åˆç­‰æ“ä½œã€‚ Seqï¼šå¸¸ç”¨æ–¼å‰µå»ºéˆå¼å‘¼å«ï¼Œæé«˜åŸ·è¡Œæ€§èƒ½ï¼ˆæƒ°æ€§è¨ˆç®—ï¼‰ã€‚ Stringï¼šé©ç”¨æ–¼ å­—ä¸² æ“ä½œã€‚ Utilï¼šå¯¦ç”¨å·¥å…·å‡½å¼ã€‚  1. ç‚ºä»€éº¼ä¸ç”¨ ES6 èªæ³•å°±å¥½ï¼Ÿ Lodash æœ‰å¾ˆå¤šæ–¹æ³• ES6 å·²ç¶“å°è£å¥½äº†ï¼Œè€Œä¸”éƒ¨åˆ†æ–¹æ³•ä¹Ÿå¯ä»¥ä½¿ç”¨ ES6 èªæ³•æ›¿æ›ã€‚åŠ ä¸Š ES6 è¶Šä¾†è¶Šå¤šä¸»æµç€è¦½å™¨æ”¯æŒï¼Œå¦å¤–é‚„å¯ä»¥ä½¿ç”¨ Babel å°‡ ES6 ç·¨è­¯æˆ ES5ã€‚é‚£éº¼æˆ‘å€‘é‚„éœ€è¦ä½¿ç”¨ Lodash å—ï¼Ÿ\nå¯ä»¥åƒè€ƒä»¥ä¸‹å…©ç¯‡æ–‡ç« ï¼š\n åœ¨ ES6 å¤§è¡Œå…¶é“çš„ä»Šå¤©ï¼Œé‚„æœ‰å¿…è¦ä½¿ç”¨ lodash ä¹‹é¡çš„åº«å—ï¼Ÿ ç‚ºä»€éº¼ä¸ç”¨ ES6 å®Œå…¨æ›¿æ› Lodash  2. æƒ°æ€§æ±‚å€¼ Lodash å¦ä¸€å€‹å„ªå‹¢å°±æ˜¯å…¶å„ªç•°çš„è¨ˆç®—æ€§èƒ½ã€‚å¾ˆå¤§éƒ¨åˆ†å°±ä¾†æºæ–¼å…¶ä½¿ç”¨çš„ç®—æ³•ã€Œæƒ°æ€§æ±‚å€¼ã€ã€‚\né—œæ–¼ æƒ°æ€§æ±‚å€¼ å¯ä»¥åƒè€ƒä»¥ä¸‹æ–‡ç« ï¼š\n æƒ°æ€§æ±‚å€¼â€”â€”lodashæºç¢¼è§£è®€  3. SameValueZero ç›¸ç­‰æ¯” éƒ¨åˆ†æ–¹æ³•ä½¿ç”¨ SameValueZero ç›¸ç­‰æ¯”ï¼Œé—œæ–¼ SameValueZero å¯ä»¥çœ‹é€™ç¯‡æ–‡ç« ï¼š ECMAScript 6ç›¸ç­‰æ¼”ç®— ã€‚\nå®‰è£ 1. ç€è¦½å™¨ ä¸‹è¼‰æª”æ¡ˆï¼Œç›´æ¥å¼•å…¥ï¼š\n1  \u0026lt;script src=\u0026#34;lodash.js\u0026#34;\u0026gt;\u0026lt;/script\u0026gt;   æˆ–æ˜¯ä½¿ç”¨ CDNã€‚\n2. åœ¨å°ˆæ¡ˆä¸­ä½¿ç”¨ lodash é€é npm å®‰è£ï¼š\nnpm i --save lodash æ¥è‘—åœ¨ä½ çš„ç¨‹å¼ç¢¼ä¸­ import å³å¯ï¼š\n1  import _ from \u0026#39;lodash\u0026#39;;   ä½†é€™æ¨£åšæœƒå°‡æ•´åŒ… Lodash æ‰“åŒ…é€²å»ã€‚å¦‚æœåªä½¿ç”¨ Lodash å…¶ä¸­ä¸€å…©å€‹æ–¹æ³•ï¼Œæœƒé€ æˆäº†ä¸å¿…è¦çš„è³‡æºæµªè²»ã€‚\nè§£æ±ºè¾¦æ³•æœ‰ä¸‰ç¨®ï¼š\n å–®ç¨å¼•å…¥ï¼šlodash æ¯å€‹å‡½å¼éƒ½å…·æœ‰å–®ç¨çš„æ¨¡çµ„ï¼Œå¯ä»¥åªå¼•å…¥éœ€è¦çš„æ¨¡çµ„ã€‚  1 2 3 4 5  import _map from \u0026#39;lodash.map\u0026#39;; import _random from \u0026#39;lodash.random\u0026#39;; // or import _map from \u0026#39;lodash/map\u0026#39;; import _random from \u0026#39;lodash/random\u0026#39;;    ä½¿ç”¨å¥—ä»¶å„ªåŒ–ï¼š  lodash-webpack-plugin babel-plugin-lodash   ä½¿ç”¨ lodash-esï¼š  1  import { mapm , random } from \u0026#39;lodash-es\u0026#39;;   ä¸éï¼Œæ˜¯å¦éœ€è¦å° Lodash å„ªåŒ–ï¼Œå¯ä»¥åƒè€ƒé€™ç¯‡æ–‡ç« ï¼šlodash åœ¨ webpack ä¸­çš„å„é …å„ªåŒ–çš„å˜—è©¦ã€‚\n2. Vue Cli Vue é™¤äº†ä¸Šè¿°æ–¹å¼ï¼Œé‚„å¯ä»¥ä½¿ç”¨ vue-lodash å¥—ä»¶ï¼š\n1 2 3 4 5  // main.js import Vue from \u0026#39;vue\u0026#39;; import VueLodash from \u0026#39;vue-lodash\u0026#39;; import lodash from \u0026#39;lodash\u0026#39;; Vue.use(VueLodash, { name: \u0026#39;custom\u0026#39;, lodash: lodash });   1 2 3 4 5 6 7 8 9 10 11 12 13  export default { methods: { test() { console.log( this.lodash.random(20) ); console.log( this._.random(20) ); console.log( this.custom.random(20) ); }, } }; console.log( Vue.lodash.random(20) ); console.log( Vue._.random(20) ); console.log( Vue.custom.random(20) );   å¸¸ç”¨æ–¹æ³• ç”±æ–¼ Lodash ä¸­ API å¤ªå¤šäº†ï¼Œé€™è£¡åªæœƒåˆ—å¹¾å€‹æœƒå¸¸ç”¨åˆ°çš„æ–¹æ³•ä¸¦ç°¡å–®èªªæ˜ã€‚æ›´è©³ç´°çš„ç”¨æ³•ã€åƒæ•¸å¯ä»¥çœ‹å®˜æ–¹ API æ–‡ä»¶ã€‚\n1. Array _.union() å°‡é™£åˆ—åˆä½µï¼Œä¸¦å»é™¤é‡è¤‡çš„å…ƒç´ ï¼ˆSameValueZero ç›¸ç­‰æ¯”è¼ƒï¼‰ï¼Œæœƒå›å‚³ä¸€å€‹æ–°é™£åˆ—ã€‚\n1  _.union([arrays])    [arrays] (...Array): é™£åˆ—çµ„ å›å‚³å€¼ï¼šå›å‚³æ–°çš„é™£åˆ—  1 2 3 4 5  let arr1 = [1, 2, 3, 4]; let arr2 = [2, 4, 6, 8]; let arr3 = [3, 5, 7, 9]; console.log( _.union(arr1, arr2, arr3) );   å¦‚æœå…ƒç´ æ˜¯ç‰©ä»¶ï¼Œå¯ä½¿ç”¨ _.unionByï¼Œå¦å¤–é‚„æœ‰ _.unionWith() å¯ä»¥å‘¼å«ä¸€å€‹æ¯”è¼ƒå‡½å¼ã€‚\n_.intersection() å–å¾—é™£åˆ—çµ„çš„äº¤é›†å…ƒç´ ï¼ˆä½¿ç”¨ SameValueZero ç›¸ç­‰æ¯”è¼ƒï¼‰ã€‚\n1  _.intersection([arrays])    [arrays] (...Array)ï¼šé™£åˆ—çµ„ å›å‚³å€¼ï¼šäº¤é›†å…ƒç´ é™£åˆ—  1 2 3 4 5 6 7  let arr1 = [0, 1, 2, 3, 4]; let arr2 = [0, 2, 4, 6, 8]; let arr3 = [0, 2, 3, 5, 7, 9]; console.log( _.intersection(arr1, arr2, arr3) ); // [0, 2]   å¦‚æœå…ƒç´ æ˜¯ç‰©ä»¶ï¼Œå¯ä½¿ç”¨ _.intersectionBy()ï¼Œå¦å¤–é‚„æœ‰ _.intersectionWith() å¯ä»¥å‘¼å«ä¸€å€‹æ¯”è¼ƒå‡½å¼ã€‚\n_.difference() æª¢æŸ¥ä¸€å€‹é™£åˆ—ï¼Œä¸¦å°‡æŒ‡å®šçš„å€¼æ’é™¤ï¼ˆSameValueZero ç›¸ç­‰æ¯”è¼ƒï¼‰ï¼Œæœƒå›å‚³ä¸€å€‹æ–°é™£åˆ—ã€‚\nèˆ‡ _.difference() é¡ä¼¼çš„æ–¹æ³•é‚„æœ‰ _.without() èˆ‡ _.pull()ã€‚\n1  _.difference(array, [values])    array (Array)ï¼šéœ€è¦è¢«æª¢æŸ¥çš„é™£åˆ— [values] (...Array)ï¼šéœ€è¦æ’é™¤çš„å€¼ï¼ˆæ”¾åœ¨é™£åˆ—ä¸­ï¼‰ å›å‚³å€¼ï¼šå›å‚³æ–°çš„é™£åˆ—  1 2 3  let arr = [0, 1, 2, 3, 4]; console.log( _.difference(arr, [2, 4, 6, 8]) ); // [0, 1, 3]   å¦‚æœå…ƒç´ æ˜¯ç‰©ä»¶ï¼Œå¯ä½¿ç”¨ _.differenceBy()ï¼Œå¦å¤–é‚„æœ‰ _.differenceWith() å¯ä»¥å‘¼å«ä¸€å€‹æ¯”è¼ƒå‡½å¼ã€‚\n_.uniq() é™£åˆ—é‡çµ„ï¼Œå»é™¤é‡è¤‡çš„å…ƒç´ ï¼ˆSameValueZero ç›¸ç­‰æ¯”è¼ƒï¼‰ï¼Œæœƒå›å‚³ä¸€å€‹æ–°é™£åˆ—ã€‚\n1  _.uniq(array)    array (Array): è¦æª¢æŸ¥çš„é™£åˆ— å›å‚³å€¼ï¼šå›å‚³æ–°çš„é™£åˆ—  1 2  console.log( _.uniq([1, 2, 2, 4, 1, 5]) ); // [1, 2, 4, 5]   å¦‚æœå…ƒç´ æ˜¯ç‰©ä»¶ï¼Œå¯ä½¿ç”¨ _.uniqBy()ï¼Œå¦å¤–é‚„æœ‰ _.uniqWith() å¯ä»¥å‘¼å«ä¸€å€‹æ¯”è¼ƒå‡½å¼ã€‚\n_.indexOf() æœå°‹é™£åˆ—æ˜¯å¦æœ‰å€¼ç‚º value çš„å…ƒç´ ï¼ˆä½¿ç”¨ SameValueZero ç­‰å€¼æ¯”è¼ƒï¼‰ï¼Œä¸¦å›å‚³ç¬¬ä¸€å€‹ç¬¦åˆçš„ç´¢å¼•å€¼ã€‚\n1  _.indexOf(array, value, [fromIndex=0])    array (Array)ï¼šè¦æŸ¥è©¢çš„é™£åˆ— value (*)ï¼šæ¢ä»¶å€¼ [fromIndex=0] (number)ï¼šåˆå§‹ä½ç½®  é è¨­å€¼ç‚º 0 ä¹Ÿå°±æ˜¯é–‹é ­ å¦‚æœ fromIndex ç‚ºè² å€¼ï¼Œå‰‡å¾é™£åˆ—çµå°¾æ•¸éä¾†   å›å‚³å€¼ï¼šåŒ¹é…å€¼çš„ç´¢å¼•å€¼ï¼Œå¦å‰‡å›å‚³ -1  1 2 3 4 5  let arr = [\u0026#39;a\u0026#39;, \u0026#39;b\u0026#39;, \u0026#39;c\u0026#39;, \u0026#39;a\u0026#39;, \u0026#39;b\u0026#39;, \u0026#39;c\u0026#39;]; console.log( _.indexOf(arr, \u0026#39;b\u0026#39;) ); // 1 console.log( _.indexOf(arr, \u0026#39;b\u0026#39;, -1) ); // -1 console.log( _.indexOf(arr, \u0026#39;b\u0026#39;, -2) ); // 4   _.lastIndexOf() é€™å€‹æ–¹æ³•é¡ä¼¼ indexOf ï¼Œå€åˆ¥æ˜¯å®ƒæ˜¯å¾å³åˆ°å·¦éæ­·é™£åˆ—çš„å…ƒç´ ï¼Œé è¨­èµ·å§‹ä½ç½®ç‚ºçµå°¾ã€‚\n1  _.lastIndexOf(array, value, [fromIndex=array.length-1])    array (Array)ï¼šè¦æŸ¥è©¢çš„é™£åˆ— value (*)ï¼šæ¢ä»¶å€¼ [fromIndex=array.length-1](number)ï¼šåˆå§‹ä½ç½®  é è¨­å€¼ç‚º array.length-1 ä¹Ÿå°±æ˜¯çµå°¾ å¦‚æœ fromIndex ç‚ºè² å€¼ï¼Œå‰‡å¾é™£åˆ—çµå°¾æ•¸éä¾†   å›å‚³å€¼ï¼šåŒ¹é…å€¼çš„ç´¢å¼•å€¼ï¼Œå¦å‰‡å›å‚³ -1  1 2 3 4 5 6  let arr = [\u0026#39;a\u0026#39;, \u0026#39;b\u0026#39;, \u0026#39;c\u0026#39;, \u0026#39;a\u0026#39;, \u0026#39;b\u0026#39;, \u0026#39;c\u0026#39;]; console.log( _.lastIndexOf(arr, \u0026#39;b\u0026#39;) ); // 4 console.log( _.lastIndexOf(arr, \u0026#39;b\u0026#39;, 0) ); // -1 console.log( _.lastIndexOf(arr, \u0026#39;b\u0026#39;, 2) ); // 1 console.log( _.lastIndexOf(arr, \u0026#39;b\u0026#39;, -2) ); // 4   2. Collection Collectionï¼ˆé›†åˆï¼‰çš„æ–¹æ³• é™£åˆ— æˆ– ç‰©ä»¶ éƒ½å¯ä»¥ä½¿ç”¨ï¼Œéƒ¨åˆ†æ–¹æ³•å­—ä¸²ä¹Ÿå¯ä»¥ã€‚\nå…¶ä¸­ map åŠ filter æ–¹æ³•æœ€å¸¸ä½¿ç”¨ï¼Œå› ç‚ºåŸç”Ÿ JavaScrtip ä¸­æ˜¯ä¸æ”¯æ´ç‰©ä»¶çš„ï¼Œå› æ­¤ç•¶éœ€è¦è¿­ä»£ç‰©ä»¶æ™‚ï¼Œæœƒä½¿ç”¨ for in æˆ– Object.keysã€‚\n_.map() è¿­ä»£çš„é›†åˆçš„æ–¹æ³•ï¼Œå›å‚³ä¸€å€‹æ–°é™£åˆ—ã€‚\n1  _.map(collection, [iteratee=_.identity])    collection (Array|Object)ï¼šç”¨ä¾†è¿­ä»£çš„é›†åˆã€‚ [iteratee=_.identity] (Array|Function|Object|string)ï¼šæ¯æ¬¡è¿­ä»£å‘¼å«çš„å‡½å¼ã€‚  åƒæ•¸ï¼š(value, index|key, collection)   å›å‚³å€¼ï¼šæ–°é™£åˆ—  Lodash ä¸­æœ‰è¨±å¤šæ–¹æ³•æ˜¯é˜²æ­¢ä½œç‚ºå…¶ä»–æ–¹æ³•çš„è¿­ä»£å‡½å¼ï¼ˆè¨»ï¼šå³ä¸èƒ½ä½œç‚º iteratee åƒæ•¸å‚³éçµ¦å…¶ä»–æ–¹æ³•ï¼‰ï¼Œä¾‹å¦‚ï¼š _.everyã€ _.filterã€ _.mapã€ _.mapValuesã€ _.reject å’Œ _.someã€‚\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18  console.log( _.map([4, 8], (n) =\u0026gt; n * n) ); // [16, 64]  const square = (n) =\u0026gt; n * n; let arr = [2, 4]; let obj = { a: 2, b: 4 }; console.log( _.map(arr, square) ); // [4, 16]  console.log( _.map(obj, square) ); // [4, 16]  let users = [{ user: \u0026#39;barney\u0026#39; }, { user: \u0026#39;fred\u0026#39; }]; console.log( _.map(users, \u0026#39;user\u0026#39;) ); // [\u0026#39;barney\u0026#39;, \u0026#39;fred\u0026#39;]   å¦å¤–å¯ä»¥åƒè€ƒé€™ç¯‡æ–‡ç« ï¼šmap () èª°æ¯”è¼ƒå¿«å’Œè¼•é‡ï¼Ÿ Lodash vs ES6ã€‚\n_.filter() æ ¹æ“šæ¢ä»¶éæ¿¾å‡ºç¬¦åˆæ¢ä»¶çš„å…ƒç´ ã€‚\n1  _.filter(collection, [predicate=_.identity])    collection (Array|Object)ï¼šä¸€å€‹ç”¨ä¾†è¿­ä»£çš„é›†åˆã€‚ [predicate=_.identity] (Array|Function|Object|string)ï¼šæ¯æ¬¡è¿­ä»£å‘¼å«çš„å‡½å¼ã€‚ å›å‚³å€¼ï¼šå›å‚³æ–°çš„é™£åˆ—  1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21  let users = [ { user: \u0026#39;barney\u0026#39;, age: 36, active: true }, { user: \u0026#39;fred\u0026#39;, age: 40, active: false }, ]; _.filter(users, function(o) { return !o.active; }); // =\u0026gt; objects for [\u0026#39;fred\u0026#39;]  // The `_.matches` iteratee shorthand. _.filter(users, { age: 36, active: true }); // =\u0026gt; objects for [\u0026#39;barney\u0026#39;]  // The `_.matchesProperty` iteratee shorthand. _.filter(users, [\u0026#39;active\u0026#39;, false]); // =\u0026gt; objects for [\u0026#39;fred\u0026#39;]  // The `_.property` iteratee shorthand. _.filter(users, \u0026#39;active\u0026#39;); // =\u0026gt; objects for [\u0026#39;barney\u0026#39;]   _.includes() æª¢æŸ¥ value æ˜¯å¦åœ¨ collectionä¸­ã€‚\n1  _.includes(collection, value, [fromIndex=0])   collection (Array|Object|string)ï¼šè¦æª¢ç´¢çš„é›†åˆã€‚\nvalue (*)ï¼šè¦æª¢ç´¢çš„å€¼ã€‚\n[fromIndex=0] (number)ï¼šè¦æª¢ç´¢çš„ç´¢å¼•ä½ç½®ã€‚\n å›å‚³å€¼ï¼šå¸ƒæ—å€¼  å¦‚æœ collection æ˜¯ä¸€ä¸²ï¼Œvalue å°±æ˜¯å­—å…ƒï¼Œå¦å‰‡ä½¿ç”¨ SameValueZero åšç­‰å€¼æ¯”è¼ƒã€‚\n1 2 3 4 5 6 7 8 9 10 11  _.includes([1, 2, 3], 1); // =\u0026gt; true  _.includes([1, 2, 3], 1, 2); // =\u0026gt; false  _.includes({ user: \u0026#39;fred\u0026#39;, age: 40 }, \u0026#39;fred\u0026#39;); // =\u0026gt; true  _.includes(\u0026#39;pebbles\u0026#39;, \u0026#39;eb\u0026#39;); // =\u0026gt; true   _.shuffle() å°‡é›†åˆæ‰“äº‚ï¼ˆä½¿ç”¨ Fisher-Yates shuffle æ´—ç‰Œç®—æ³•ï¼‰ã€‚\n1  _.shuffle(collection)    collection (Array|Object)ï¼šè¦æ‰“äº‚çš„é›†åˆ å›å‚³å€¼ï¼šå›å‚³éš¨æ©Ÿå…ƒç´ çš„é™£åˆ—  1 2 3 4 5 6 7 8 9  let arr = [0, 1, 2, 3, 4]; console.log( _.shuffle(arr) ); // [ 3, 4, 1, 0, 2 ] console.log( _.shuffle(arr) ); // [ 3, 0, 2, 4, 1 ]  let obj = { a: 1, b: 2, c: 3 }; console.log( _.shuffle(obj) ); // [ 2, 3, 1 ] console.log( _.shuffle(obj) ); // [ 1, 3, 2 ]   _.sampleSize() å¾é›†åˆä¸­ç²å¾— n å€‹éš¨æ©Ÿå…ƒç´ ã€‚\n1  _.sampleSize(collection, [n=1])    collection (Array|Object)ï¼šè¦å–æ¨£çš„é›†åˆ [n=1] (number)ï¼šå–æ¨£çš„å…ƒç´ å€‹æ•¸ã€‚ å›å‚³å€¼ï¼šå›å‚³éš¨æ©Ÿå…ƒç´ çš„é™£åˆ—  1 2 3 4 5 6  let arr = [0, 1, 2, 3, 4]; console.log( _.sampleSize(arr, 1) ); // [2] console.log( _.sampleSize(arr, 1) ); // [0] console.log( _.sampleSize(arr, 2) ); // [2, 1] console.log( _.sampleSize(arr, 2) ); // [0, 4]   _.sortBy() å‰µå»ºä¸€å€‹å…ƒç´ é™£åˆ—ã€‚ä»¥ iteratee è™•ç†çš„çµæœå‡åºæ’åºã€‚é€™å€‹æ–¹æ³•åŸ·è¡Œç©©å®šæ’åºï¼Œä¹Ÿå°±æ˜¯èªªç›¸åŒå…ƒç´ æœƒä¿æŒåŸå§‹æ’åº\n1  _.sortBy(collection, [iteratees=[_.identity]])    collection (Array|Object)ï¼šç”¨ä¾†è¿­ä»£çš„é›†åˆã€‚ [iteratees=[_.identity]] (...* (Array|Array[]|Function|Function[]|Object|Object[]|string|string[]))ï¼šé€™å€‹å‡½å¼æ±ºå®šæ’åºã€‚ å›å‚³å€¼ï¼šæ’åºå¾Œçš„é™£åˆ—  1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27  let arr = [1, 65, 44, 2, 3, 55]; console.log( _.sortBy(arr) ); let users = [ { user: \u0026#39;fred\u0026#39;, age: 48 }, { user: \u0026#39;barney\u0026#39;, age: 36 }, { user: \u0026#39;fred\u0026#39;, age: 40 }, { user: \u0026#39;barney\u0026#39;, age: 34 }, ]; console.log(_.sortBy(users, (item) =\u0026gt; item.user)); // [ { user: \u0026#39;barney\u0026#39;, age: 36 }, // { user: \u0026#39;barney\u0026#39;, age: 34 }, // { user: \u0026#39;fred\u0026#39;, age: 48 }, // { user: \u0026#39;fred\u0026#39;, age: 40 } ]  console.log(_.sortBy(users, \u0026#39;age\u0026#39;)); // [ { user: \u0026#39;barney\u0026#39;, age: 34 }, // { user: \u0026#39;barney\u0026#39;, age: 36 }, // { user: \u0026#39;fred\u0026#39;, age: 40 }, // { user: \u0026#39;fred\u0026#39;, age: 48 } ]  console.log(_.sortBy(users, [\u0026#39;user\u0026#39;, \u0026#39;age\u0026#39;])); // [ { user: \u0026#39;barney\u0026#39;, age: 34 }, // { user: \u0026#39;barney\u0026#39;, age: 36 }, // { user: \u0026#39;fred\u0026#39;, age: 40 }, // { user: \u0026#39;fred\u0026#39;, age: 48 } ]   3. Object _.get() æ ¹æ“šç‰©ä»¶çš„è·¯å¾‘å–å€¼ï¼Œæ²’æœ‰å‰‡å›å‚³ undefinedï¼Œå¯ä»¥è¨­å®šé è¨­å€¼ã€‚\n1  _.get(object, path, [defaultValue])    object (Object)ï¼šè¦æª¢ç´¢çš„ç‰©ä»¶ã€‚ path (Array|string)ï¼šè¦ç²å–å±¬æ€§çš„è·¯å¾‘ï¼Œå¯ä»¥æ˜¯å­—ä¸²æˆ–é™£åˆ—ã€‚ [defaultValue] (*)ï¼šé è¨­å€¼ã€‚ å›å‚³å€¼ï¼šè§£æçš„å€¼  1 2 3 4 5 6 7  let obj = { id: \u0026#39;1234\u0026#39;, list: [\u0026#39;a\u0026#39;, \u0026#39;b\u0026#39;, \u0026#39;c\u0026#39;, \u0026#39;d\u0026#39;] }; console.log( _.get(obj, \u0026#39;id\u0026#39;) ); // \u0026#39;1234\u0026#39; console.log( _.get(obj, \u0026#39;list[0]\u0026#39;) ); // \u0026#39;a\u0026#39; console.log( _.get(obj, [\u0026#39;list\u0026#39;, \u0026#39;3\u0026#39;]) ); // \u0026#39;d\u0026#39; console.log( _.get(obj, \u0026#39;name\u0026#39;); // undefined console.log( _.get(obj, \u0026#39;name\u0026#39;, \u0026#39;no-find\u0026#39;) ); // \u0026#39;no-find\u0026#39;   _.pick() å‰µå»ºä¸€å€‹å¾ object ä¸­é¸ä¸­çš„å±¬æ€§çš„ç‰©ä»¶ã€‚\n1  _.pick(object, [props])    object (Object)ï¼šä¾†æºç‰©ä»¶ã€‚ [props] (...(string|string[]))ï¼šé¸ä¸­çš„å±¬æ€§ã€‚ï¼ˆè¨»ï¼šå–®ç¨æŒ‡å®šæˆ–æŒ‡å®šåœ¨é™£åˆ—ä¸­ã€‚ï¼‰ å›å‚³å€¼ï¼šå›å‚³æ–°ç‰©ä»¶  1 2 3  let object = { a: 1, b: \u0026#39;2\u0026#39;, c: 3 }; console.log( _.pick(object, [\u0026#39;a\u0026#39;, \u0026#39;c\u0026#39;]) ); // { a:1, c:3 }   _.omit ç‚ºåå‘ç‰ˆçš„ _.pickã€‚\n_.pickBy() å‰µå»ºä¸€å€‹ç‰©ä»¶ï¼Œé€™å€‹ç‰©ä»¶çµ„æˆç‚ºå¾ object ä¸­ç¶“ predicate åˆ¤æ–·ç‚ºçœŸå€¼çš„å±¬æ€§ã€‚\n1  _.pickBy(object, [predicate=_.identity])    object (Object)ï¼šä¾†æºç‰©ä»¶ã€‚ [predicate=_.identity] (Function)ï¼šå‘¼å«æ¯ä¸€å€‹å±¬æ€§çš„å‡½å¼ã€‚  æœ‰ 2å€‹åƒæ•¸ï¼š(value, key)ã€‚   å›å‚³å€¼ï¼šå›å‚³æ–°ç‰©ä»¶  1 2 3 4  let obj = { a: 1, b: \u0026#39;2\u0026#39;, c: 3 }; console.log( _.pickBy(obj, _.isNumber) ); // { \u0026#39;a\u0026#39;: 1, \u0026#39;c\u0026#39;: 3 }   _.omitBy ç‚ºåå‘ç‰ˆçš„ _.pickByã€‚\n_.defaults() å®‰å…¨çš„åˆä½µç‰©ä»¶ï¼Œé‡åˆ°é‡è¤‡çš„å±¬æ€§å‰‡å¿½ç•¥ã€‚\n1  _.defaults(object, [sources])    object (Object)ï¼šç›®æ¨™ç‰©ä»¶ã€‚ [sources] (...Object)ï¼šä¾†æºç‰©ä»¶ã€‚ å›å‚³å€¼ï¼šé€™æ–¹æ³•æœƒæ”¹è®Šç›®æ¨™ç‰©ä»¶ï¼Œå›å‚³ç›®æ¨™ç‰©ä»¶  1 2 3 4 5 6 7 8  let obj1 = { foo: 1, boo: 2 }; let obj2 = { foo: 3, zoo: 4 }; let r = _.defaults(obj1, obj2); console.log(r); // { foo: 1, boo: 2, zoo: 4 } console.log(obj1); // { foo: 1, boo: 2, zoo: 4 } console.log(obj1 === r); // true   4. Lang _.cloneDeep() è³‡æ–™çš„æ·±æ‹·è²ã€‚\n1  _.cloneDeep(value)    value (*)ï¼šè¦æ‹·è²çš„è³‡æ–™ã€‚ å›å‚³å€¼ï¼šå›å‚³æ‹·è²çš„è³‡æ–™ã€‚  1 2 3 4  let obj = { a: { b: 1 } }; let newObj = _.cloneDeep(obj); console.log( obj.a === newObj.a ); // false   å¦å¤–ï¼Œå¯ä»¥åƒè€ƒä»¥ä¸‹æ–‡ç« ï¼š\n lodashæºç¢¼åˆ†æâ€”â€”deepcloneï¼ŒåŸºæ–¼4.17.10ç‰ˆæœ¬\n Lodash æ˜¯å¦‚ä½•å¯¦ç¾æ·±æ‹·è²çš„  _.isEqual() åŸ·è¡Œæ·±æ¯”è¼ƒä¾†ç¢ºå®šå…©è€…çš„å€¼æ˜¯å¦ç›¸ç­‰ã€‚\n1  _.isEqual(value, other)    value (*)ï¼šç”¨ä¾†æ¯”è¼ƒçš„å€¼ã€‚ other (*)ï¼šå¦ä¸€å€‹ç”¨ä¾†æ¯”è¼ƒçš„å€¼ã€‚ å›å‚³å€¼ï¼šå¸ƒæ—å€¼  å¦‚æœæ˜¯ç‰©ä»¶ï¼Œå‰‡æ¯”è¼ƒè‡ªèº«çš„å±¬æ€§ï¼Œä¸åŒ…æ‹¬ç¹¼æ‰¿çš„å’Œå¯åˆ—èˆ‰çš„å±¬æ€§ã€‚ä¸æ”¯æŒå‡½å¼å’ŒDOM ç¯€é»æ¯”è¼ƒã€‚\n1 2 3 4 5 6 7  let object = { a: 1 }; let other = { a: 1 }; console.log(object === other); // false console.log(_.isEqual(object, other)); // true   5. Number _.clamp() è¨­å®šæ•¸å€¼ä¸Šä¸‹é™ï¼Œè¶…å‡ºç¯„åœï¼Œå›å‚³ä¸Šé™æˆ–ä¸‹é™ï¼Œå¦å‰‡å›å‚³æ•¸å€¼æœ¬èº«ã€‚\n1  _.clamp(number, [lower], upper)    number (number)ï¼šè¢«é™åˆ¶çš„å€¼ã€‚ [lower] (number)ï¼šå¯é¸ï¼Œä¸‹é™å€¼ã€‚ upper (number)ï¼šä¸Šé™å€¼ã€‚ å›å‚³å€¼ï¼š  number å¤§æ–¼ upper å›å‚³ lower number å°æ–¼ lower å›å‚³ lower åœ¨ upper ä¹‹é–“ lower å›å‚³ number æœ¬èº«    1 2 3 4 5 6  console.log( _.clamp(5, 10) ); // 5 console.log( _.clamp(11, 10) ); // 10  console.log( _.clamp(11, -10, 10) ); // 10 console.log( _.clamp(-11, -10, 10) ); // -10 console.log( _.clamp(0, -10, 10) ); // 0   _.random() éš¨æ©Ÿç”¢ç”Ÿä¸€å€‹åŒ…æ‹¬ lower èˆ‡ upper ä¹‹é–“çš„æ•¸ï¼Œå¦‚æœåªè¨­ç½®ä¸€å€‹åƒæ•¸å‰‡å›å‚³ 0 åˆ°è©²æ•¸ä¹‹é–“çš„æ•¸å€¼ã€‚\n1  _.random([lower=0], [upper=1], [floating])    [lower=0] (number)ï¼šä¸‹é™ã€‚ [upper=1] (number)ï¼šä¸Šé™ã€‚ [floating] (boolean)ï¼šæŒ‡å®šæ˜¯å¦å›å‚³æµ®é»æ•¸ã€‚  lower èˆ‡ upper éæµ®é»æ•¸é è¨­ç‚º false    1 2 3 4 5 6 7 8 9 10  _.random(5); // between 0 and 5 _.random(-5); // between -5 and 0 _.random(5, 10); // between 5 and 10 _.random(5, true); // a floating-point number between 0 and 5 _.random(1.2, 5.2); // a floating-point number between 1.2 and 5.2   _.inRange() æª¢æŸ¥ number æ˜¯å¦åœ¨ start èˆ‡ end ä¹‹é–“ï¼ˆä½†ä¸åŒ…æ‹¬ endï¼‰ã€‚\n1  _.inRange(number, [start=0], end)    number (number)ï¼šè¦æª¢æŸ¥çš„å€¼ã€‚ [start=0] (number)ï¼šé–‹å§‹ç¯„åœã€‚  å¯é¸ï¼Œæ²’è¨­ç½®é è¨­å€¼ç‚º 0ã€‚   end (number)ï¼šçµæŸç¯„åœã€‚  å¦‚æœç¬¬äºŒå€‹åƒæ•¸å¤§æ–¼ç¬¬ä¸‰å€‹åƒæ•¸ï¼Œå¤§çš„ç‚º endã€‚    1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16  _.inRange(3, 2, 4); // 3 æ˜¯å¦åœ¨ 2~3 ä¹‹é–“ =\u0026gt; true _.inRange(4, 8); // 4 æ˜¯å¦åœ¨ 0~7 ä¹‹é–“ =\u0026gt; true _.inRange(4, 2); // 4 æ˜¯å¦åœ¨ 0~1 ä¹‹é–“ =\u0026gt; false _.inRange(2, 2); // 2 æ˜¯å¦åœ¨ 0~1 ä¹‹é–“ =\u0026gt; false _.inRange(1.2, 2); // 1.2 æ˜¯å¦åœ¨ 0~1 ä¹‹é–“ =\u0026gt; true _.inRange(3.2, 4); // 3.2 æ˜¯å¦åœ¨ 0~3 ä¹‹é–“ =\u0026gt; false _.inRange(0, 4, 0); // 0 æ˜¯å¦åœ¨ 0~3 ä¹‹é–“ =\u0026gt; true _.inRange(-3, -2, -6); // -3 æ˜¯å¦åœ¨ -6~-2 ä¹‹é–“ =\u0026gt; true   6. Util _.range() å»ºç«‹ä¸€å€‹æŒ‡å®šç¯„åœçš„æ•¸å€¼é™£åˆ—ã€‚\n1  _.range([start=0], end, [step=1])    [start=0] (numberï¼šé–‹å§‹çš„ç¯„åœã€‚ end (number)ï¼šçµæŸçš„ç¯„åœï¼ˆä¸åŒ…æ‹¬è‡ªå·±ï¼‰ã€‚ [step=1] (number)ï¼šç¯„åœçš„å¢é‡ æˆ–è€… æ¸›é‡ã€‚  åªæœ‰ä¸€å€‹åƒæ•¸ _.range(n) ç­‰åŒ _.range(0, n, 1)ï¼Œå¦‚æœæ˜¯è² æ•¸ _.range(-n) ç­‰åŒ _.range(0, n, -1)ã€‚\nend å°æ–¼ start è€Œä¸” step éè² æ•¸ï¼Œæœƒå‰µå»ºä¸€å€‹ç©ºé™£åˆ—ã€‚\n1 2 3 4 5 6  console.log( _.range(4) ); // [0, 1, 2, 3, 4] console.log( _.range(-4) ); // [0, -1, -2, -3] console.log( _.range(1, 4) ); // [1, 2, 3] console.log( _.range(0, 10, 5) ); // [0, 5, 10] console.log( _.range(0, -4, -1) ); // [0, -1, -2, -3] console.log( _.range(1, 4, 0) ); // [1, 1, 1]   _.times() å‘¼å« iteratee å‡½å¼ n æ¬¡ï¼Œä¸¦å°‡çµæœå­˜åˆ°é™£åˆ—ä¸­ï¼Œä¸¦å›å‚³è©²é™£åˆ—ã€‚\n1  _.times(n, [iteratee=_.identity])    n (number)ï¼šå‘¼å« iteratee çš„æ¬¡æ•¸ã€‚ [iteratee=_.identity] (Function)ï¼šæ¯æ¬¡è¿­ä»£å‘¼å«çš„å‡½å¼ï¼Œåƒæ•¸ç‚º indexã€‚  1 2 3 4  console.log(_.times(3, String)); // [\u0026#39;0\u0026#39;, \u0026#39;1\u0026#39;, \u0026#39;2\u0026#39;] console.log(_.times(3, (index) =\u0026gt; index * index)); // [0, 1, 4]   _.uniqueId() ç”Ÿæˆå”¯ä¸€ IDï¼Œå¯ä»¥æ·»åŠ å‰ç¶´ã€‚\n1  _.uniqueId([prefix=\u0026#39;\u0026#39;])    [prefix=''] (string)ï¼šè¦æ·»åŠ åˆ° ID å‰ç¶´çš„å€¼ã€‚ å›å‚³å€¼ï¼šå›å‚³ç”Ÿæˆçš„å”¯ä¸€ ID å­—ä¸²ã€‚  1 2 3  console.log( _.uniqueId() ); // \u0026#39;1\u0026#39; console.log( _.uniqueId() ); // \u0026#39;2\u0026#39; console.log( _.uniqueId(\u0026#39;book\u0026#39;) ); // \u0026#39;book3\u0026#39;   7. Math _.sum() é™£åˆ—çš„ç¸½å’Œã€‚\n1  _.sum(array)   1 2  _.sum([4, 2, 8, 6]); // =\u0026gt; 20   å¦‚æœå…ƒç´ æ˜¯ç‰©ä»¶ï¼Œå¯ä»¥ä½¿ç”¨ _.sumBy()ã€‚\nç¸½çµ é€™é€±å…ˆè¨˜éŒ„åˆ°é€™é‚Šï¼Œæœ‰ç©ºæ…¢æ…¢è£œä¸Šï¼Œä¸‹é€±è¦‹ã€‚\n","description":"é€™é€±æ˜¯ å…­è§’é¼ å¹´éµäººè³½ ç¬¬å…­é€±ï¼Œä¸Šé€±å‰›å¥½æ¥è§¸åˆ° Lodashï¼Œå°±ç°¡å–®ç´€éŒ„ä¸€ä¸‹ã€‚","id":94,"section":"posts","tags":["Lodash","w3HexSchool"],"title":"Lodash - JS å¯¦ç”¨å·¥å…·å‡½å¼åº«","uri":"https://chupai.github.io/posts/200315_lodash/"},{"content":"é€™é€±æ˜¯ å…­è§’é¼ å¹´éµäººè³½ ç¬¬äº”é€±ï¼Œç´€éŒ„ä¸€ä¸‹ Vue Transition ç”¨æ³•ã€‚\nå‰è¨€ åœ¨æ—¥å¸¸é–‹ç™¼ä¸­ï¼Œç¶²é å‹•æ…‹æ•ˆæœæ˜¯å¿…ä¸å¯å°‘çš„ä¸€éƒ¨åˆ†ï¼Œä¸åƒ…èƒ½è®“å…ƒç´ ç›´æ¥çš„åˆ‡æ›é¡¯å¾—æ›´åŠ è‡ªç„¶ï¼ŒåŒæ™‚ä¹Ÿèƒ½æ¥µå¤§çš„å¢å¼·ç”¨æˆ¶é«”é©—ã€‚\né›–ç„¶æˆ‘å€‘å¯ä»¥ä½¿ç”¨åŸç”Ÿ CSS æˆ– JS ä¾†å¯¦ç¾å‹•æ…‹æ•ˆæœï¼Œä½† Vue æä¾›äº†æ›´ç°¡å–®å’Œé«˜æ•ˆçš„æ–¹å¼ã€‚\n1. Vue çš„è½‰å ´å·¥å…· Vue åœ¨æ’å…¥ã€æ›´æ–°æˆ–è€…ç§»é™¤ DOM æ™‚ï¼Œæä¾›å¤šç¨®ä¸åŒæ–¹å¼çš„æ‡‰ç”¨è½‰å ´æ•ˆæœã€‚åŒ…æ‹¬ä»¥ä¸‹å·¥å…·ï¼š\n åœ¨ CSS transition å’Œ animation ä¸­è‡ªå‹•æ‡‰ç”¨ class åç¨±ï¼› ä¹Ÿå¯ä»¥é…åˆä½¿ç”¨ç¬¬ä¸‰æ–¹ CSS å‹•ç•«åº«ï¼Œä¾‹å¦‚ Animate.cssã€‚ åœ¨è½‰å ´é‰¤å­å‡½å¼ä¸­ä½¿ç”¨ JavaScript ç›´æ¥æ“ä½œ DOMï¼› ä¹Ÿå¯ä»¥é…åˆä½¿ç”¨ç¬¬ä¸‰æ–¹ JavaScript å‹•ç•«åº«ï¼Œä¾‹å¦‚ Velocity.jsã€‚  transition å…ƒä»¶ Vue æä¾›äº† transition çš„å°è£å…ƒä»¶ï¼Œåœ¨ä¸‹åˆ—æƒ…å½¢ä¸­ï¼Œå¯ä»¥çµ¦ä»»ä½•å…ƒç´ å’Œå…ƒä»¶æ·»åŠ é€²å…¥/é›¢é–‹çš„è½‰å ´æ•ˆæœï¼š\n å…ƒç´ æˆ–å…ƒä»¶åˆå§‹æ¸²æŸ“æ™‚ å…ƒç´ æˆ–å…ƒä»¶é¡¯ç¤º/éš±è—æ™‚ï¼ˆä½¿ç”¨ v-if æˆ– v-showï¼‰ å…ƒç´ æˆ–å…ƒä»¶åˆ‡æ›æ™‚  å…ˆçœ‹ä¸€å€‹ç°¡å–®çš„åŸºæœ¬ç¯„ä¾‹ï¼š\n1 2 3 4  \u0026lt;button v-on:click=\u0026#34;show = !show\u0026#34;\u0026gt;Toggle\u0026lt;/button\u0026gt; \u0026lt;transition\u0026gt; \u0026lt;div class=\u0026#34;box\u0026#34; v-if=\u0026#34;show\u0026#34;\u0026gt;2\u0026lt;/div\u0026gt; \u0026lt;/transition\u0026gt;   1 2 3  data: { show: true, },   1 2 3 4 5 6 7 8 9 10 11  .v-enter, .v-leave-to { opacity: 0; } .v-leave, .v-enter-to { opacity: 1; } .v-enter-active, .v-leave-active { transition: opacity 1s; }   ç•¶æˆ‘å€‘ä½¿ç”¨ transition å…ƒä»¶å°‡å…ƒç´ åŒ…ä½ï¼ŒVue æœƒåšä»¥ä¸‹è™•ç†ï¼š\n è‡ªå‹•åµæ¸¬ç›®æ¨™å…ƒç´ æ˜¯å¦æ‡‰ç”¨ CSS transition/animation å¦‚æœæ˜¯ï¼Œåœ¨æ°ç•¶çš„æ™‚æ©Ÿæ·»åŠ /åˆªé™¤ CSS é¡åˆ¥åç¨±ã€‚ å¦‚æœ transition å…ƒä»¶æä¾›äº† JavaScript é‰¤å­å‡½å¼ï¼Œé€™äº›é‰¤å­å‡½å¼å°‡åœ¨æ°ç•¶çš„æ™‚æ©Ÿè¢«å‘¼å«ã€‚ å¦‚æœæ²’æœ‰æ‰¾åˆ° JavaScript é‰¤å­ä¸¦ä¸”ä¹Ÿæ²’æœ‰æª¢æ¸¬åˆ° CSS transition/animationï¼ŒDOM æ“ä½œ (æ’å…¥/åˆªé™¤) åœ¨ä¸‹ä¸€å¹€ä¸­ç«‹å³åŸ·è¡Œã€‚  See the Pen Vue CSS è½‰å ´ åŸºæœ¬ç¯„ä¾‹ by CHUPAIWANG (@CHUPAIWANG) on CodePen.  1. CSS è½‰å ´çš„é¡åˆ¥åç¨± transition å…ƒä»¶å…±æä¾›äº†ï¼Œå…­ç¨®é¡åˆ¥åç¨±æä¾›åˆ‡æ›ã€‚\né€²å ´ï¼š\n v-enterï¼šå®šç¾©é€²å ´çš„é–‹å§‹ç‹€æ…‹ã€‚  åœ¨å…ƒç´ è¢«æ’å…¥ä¹‹å‰ç”Ÿæ•ˆï¼Œæ’å…¥ä¹‹å¾Œçš„ä¸‹ä¸€å¹€è¢«ç§»é™¤   v-enter-activeï¼šå®šç¾©é€²å ´ç”Ÿæ•ˆæ™‚çš„ç‹€æ…‹ï¼Œåœ¨æ•´å€‹é€²å ´çš„éšæ®µä¸­æ‡‰ç”¨ã€‚  åœ¨å…ƒç´ è¢«æ’å…¥ä¹‹å‰ç”Ÿæ•ˆï¼Œåœ¨ transition/animation å®Œæˆä¹‹å¾Œç§»é™¤ å¯ç”¨ä¾†å®šç¾©é€²å ´çš„éç¨‹æ™‚é–“ï¼Œå»¶é²å’Œæ›²ç·šå‡½æ•¸   v-enter-toï¼š2.1.8ç‰ˆåŠä»¥ä¸Š å®šç¾©é€²å ´çš„çµæŸç‹€æ…‹ã€‚  åœ¨å…ƒç´ è¢«æ’å…¥ä¹‹å¾Œä¸‹ä¸€å¹€ç”Ÿæ•ˆï¼ˆèˆ‡æ­¤åŒæ™‚ v-enter è¢«ç§»é™¤ï¼‰ï¼Œåœ¨ transition/animation å®Œæˆä¹‹å¾Œç§»é™¤    é›¢å ´ï¼š\n v-leaveï¼šå®šç¾©é›¢å ´çš„é–‹å§‹ç‹€æ…‹ã€‚  åœ¨é›¢å ´è¢«è§¸ç™¼æ™‚ç«‹åˆ»ç”Ÿæ•ˆï¼Œä¸‹ä¸€å¹€è¢«ç§»é™¤   v-leave-activeï¼šå®šç¾©é›¢å ´ç”Ÿæ•ˆæ™‚çš„ç‹€æ…‹ï¼Œåœ¨æ•´å€‹é›¢å ´çš„éšæ®µä¸­æ‡‰ç”¨ã€‚  åœ¨é›¢å ´è¢«è§¸ç™¼æ™‚ç«‹åˆ»ç”Ÿæ•ˆï¼Œåœ¨ transition/animation å®Œæˆä¹‹å¾Œç§»é™¤ é€™å€‹é¡å¯ä»¥è¢«ç”¨ä¾†å®šç¾©é›¢å ´çš„éç¨‹æ™‚é–“ï¼Œå»¶é²å’Œæ›²ç·šå‡½æ•¸   v-leave-toï¼š2.1.8ç‰ˆåŠä»¥ä¸Š å®šç¾©é›¢å ´çš„çµæŸç‹€æ…‹ã€‚  åœ¨é›¢é–‹è½‰å ´è¢«è§¸ç™¼ä¹‹å¾Œä¸‹ä¸€å¹€ç”Ÿæ•ˆï¼ˆèˆ‡æ­¤åŒæ™‚ v-leave è¢«ç§»é™¤ï¼‰ï¼Œåœ¨ transition/animation å®Œæˆä¹‹å¾Œç§»é™¤    é€šå¸¸æœƒè¨­å®š v-enter èˆ‡ v-leave-active ç›¸åŒçš„æ•ˆæœã€v-leave èˆ‡ v-enter-to ç›¸åŒçš„æ•ˆæœï¼Œé”åˆ°åŒå°¾ç›¸æ¥å½¢æˆä¸€å€‹å¾ªç’°ï¼Œè€Œ v-enter-to èˆ‡ v-leave-to æœƒç”¨ä¾†è¨­å®šè½‰å ´æ™‚é–“æˆ–å‹•ç•«ã€‚\nenter-to é è¨­ opacity: 1ã€transform: noneï¼Œæ‰€ä»¥ä¸ä¸€å®šè¦è¨­å®šã€‚\r1.1 CSS transition transition å…ƒä»¶é è¨­ä½¿ç”¨ä¸Šè¿° v- å‰ç¶´çš„é¡åˆ¥åç¨±ã€‚è«‹åƒè€ƒä¸€é–‹å§‹åŸºæœ¬ç¯„ä¾‹ã€‚\nå› ç‚ºä¸å¯èƒ½åªç”¨ä¸€ç¨®å‹•æ…‹æ•ˆæœï¼Œå› æ­¤ä½¿ç”¨è‡ªè¨‚ç¾©çš„å‰ç¶´ï¼Œéœ€è¦åŠ ä¸Š name ç‰¹æ€§ï¼Œèˆ‰ä¾‹ä¾†èªªï¼Œ\u0026lt;transition name=\u0026quot;fade\u0026quot;\u0026gt;ï¼Œå¥—ç”¨çš„é‚£éº¼é¡åˆ¥åç¨±çš„å‰ç¶´å°±æœƒæ˜¯ fade-enterã€‚\n1 2 3 4 5 6  \u0026lt;button v-on:click=\u0026#34;show = !show\u0026#34;\u0026gt; Toggle \u0026lt;/button\u0026gt; \u0026lt;transition name=\u0026#34;fade\u0026#34;\u0026gt; \u0026lt;div class=\u0026#34;box\u0026#34; v-if=\u0026#34;show\u0026#34;\u0026gt;\u0026lt;/div\u0026gt; \u0026lt;/transition\u0026gt;   è¨­å®šä¸€å€‹é€²å ´ç”±é€æ˜åº¦ 0 è®Š 1 ä¸¦ç”±å³æ¸¬ 100px è™•æ»‘å…¥ï¼Œä¸¦ä¸”é€²å ´ã€é›¢å ´åˆ†åˆ¥è¨­å®šä¸åŒçš„æ›²ç·šå‡½æ•¸ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15  .fade-enter, .fade-leave-to { opacity: 0; transform: translateX(100px); } .fade-leave, .fade-enter-to { opacity: 1; } .fade-enter-active { transition: all 0.3s ease; } .fade-leave-active { transition: all 0.8s cubic-bezier(1, 0.5, 0.8, 1); }   See the Pen Vue CSS è½‰å ´ è½‰å ´ç¯„ä¾‹ by CHUPAIWANG (@CHUPAIWANG) on CodePen.  å†èˆ‰ä¸€å€‹ä¾‹å­ï¼Œç”±ä¸‹å¾€ä¸Šé€²å ´ï¼Œç”±å³å‡ºå ´ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17  .fade-enter { opacity: 0; transform: translateY(100%); } .fade-enter-to, .fade-leave { opacity: 1; } .fade-leave-to { opacity: 0; transform: translateX(100%); } .fade-enter-active,.fade-leave-active { transition: all 0.8s ease; }   See the Pen Vue CSS è½‰å ´ è½‰å ´ç¯„ä¾‹2 by CHUPAIWANG (@CHUPAIWANG) on CodePen.  1.2 CSS animation CSS animation ç”¨æ³•åŒ CSS transitionï¼Œå€åˆ¥æ˜¯åœ¨å‹•ç•«ä¸­ v-enter é¡ååœ¨ç¯€é»æ’å…¥ DOM å¾Œä¸æœƒç«‹å³åˆªé™¤ï¼Œè€Œæ˜¯åœ¨ animationend äº‹ä»¶è§¸ç™¼æ™‚åˆªé™¤ã€‚\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18  .bounce-enter-active { animation: bounce-in 0.5s; } .bounce-leave-active { animation: bounce-in 0.5s reverse; } @keyframes bounce-in { 0% { transform: scale(0); } 50% { transform: scale(1.5); } 100% { transform: scale(1); } }   See the Pen Vue CSS è½‰å ´ å‹•ç•«ç¯„ä¾‹ by CHUPAIWANG (@CHUPAIWANG) on CodePen.  2. ä½¿ç”¨è‡ªè¨‚ç¾©é¡åˆ¥åç¨± æˆ‘å€‘å¯ä»¥é€šéä»¥ä¸‹ transition å…ƒä»¶ç‰¹æ€§ä¾†ä½¿ç”¨è‡ªè¨‚ç¾©é¡åˆ¥åç¨±ï¼š\n enter-class enter-active-class enter-to-class 2.1.8+ leave-class leave-active-class leave-to-class 2.1.8+  ä»–å€‘çš„å„ªå…ˆç´šé«˜æ–¼æ™®é€šçš„é¡åˆ¥åç¨±ã€‚\nèˆ‰å€‹ç°¡å–®å¾—ç¯„ä¾‹ï¼Œä¾†èªªæ˜ä½¿ç”¨æ–¹å¼ï¼š\n1 2 3 4 5 6 7  .opacity-0 { opacity: 0; } .trs-time-3 { transition-duration: 3s; }   1 2 3 4 5 6 7 8  \u0026lt;transition enter-class=\u0026#34;opacity-0\u0026#34; leave-to-class=\u0026#34;opacity-0\u0026#34; enter-active-class=\u0026#34;trs-time-3\u0026#34; leave-active-class=\u0026#34;trs-time-3\u0026#34; \u0026gt; \u0026lt;div class=\u0026#34;box\u0026#34; v-if=\u0026#34;show\u0026#34;\u0026gt;\u0026lt;/div\u0026gt; \u0026lt;/transition\u0026gt;   See the Pen Vue CSS è½‰å ´ è‡ªè¨‚ç¾© class by CHUPAIWANG (@CHUPAIWANG) on CodePen.  2.1 ç¬¬ä¸‰æ–¹ CSS å‹•ç•«åº« è‡ªè¨‚ç¾©é¡åˆ¥åç¨±ï¼Œå°æ–¼å¥—ç”¨ç¬¬ä¸‰æ–¹ CSS å‹•ç•«åº«çµåˆéå¸¸æ–¹ä¾¿ã€‚\nèˆ‰ä¾‹ä¾†èªªï¼Œä½¿ç”¨ Animate.css çš„å‹•ç•«æ•ˆæœï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15  \u0026lt;button v-on:click=\u0026#34;show = !show\u0026#34;\u0026gt; Toggle \u0026lt;/button\u0026gt; \u0026lt;transition enter-active-class=\u0026#34;animated tada\u0026#34; leave-active-class=\u0026#34;animated bounceOutRight\u0026#34; \u0026gt; \u0026lt;div class=\u0026#34;box\u0026#34; v-if=\u0026#34;show\u0026#34;\u0026gt;\u0026lt;/div\u0026gt; \u0026lt;/transition\u0026gt; \u0026lt;transition enter-active-class=\u0026#34;animated fadeInUp\u0026#34; leave-active-class=\u0026#34;animated flipInY\u0026#34; \u0026gt; \u0026lt;div class=\u0026#34;box\u0026#34; v-if=\u0026#34;show\u0026#34;\u0026gt;\u0026lt;/div\u0026gt; \u0026lt;/transition\u0026gt;   See the Pen Vue CSS è½‰å ´ Animate.css by CHUPAIWANG (@CHUPAIWANG) on CodePen.  æˆ–è€…æ˜¯ magic.cssï¼š\n1 2 3 4 5 6 7 8 9  \u0026lt;button v-on:click=\u0026#34;show = !show\u0026#34;\u0026gt; Toggle \u0026lt;/button\u0026gt; \u0026lt;transition enter-active-class=\u0026#34;magictime foolishIn\u0026#34; leave-active-class=\u0026#34;magictime tinDownOut\u0026#34; \u0026gt; \u0026lt;div class=\u0026#34;box\u0026#34; v-if=\u0026#34;show\u0026#34;\u0026gt;\u0026lt;/div\u0026gt; \u0026lt;/transition\u0026gt;   See the Pen Vue CSS è½‰å ´ magic by CHUPAIWANG (@CHUPAIWANG) on CodePen.  3. è½‰å ´æ™‚é–“ 3.1 åŒæ™‚ä½¿ç”¨ transition/animation Vue ç‚ºäº†çŸ¥é“è½‰å ´çš„å®Œæˆï¼Œå¿…é ˆè¨­ç½®ç›¸æ‡‰çš„äº‹ä»¶ç›£è½å™¨ã€‚å®ƒå¯ä»¥æ˜¯ transitionend æˆ– animationendï¼Œé€™å–æ±ºæ–¼çµ¦å…ƒç´ æ‡‰ç”¨çš„ CSS è¦å‰‡ã€‚å¦‚æœä½ ä½¿ç”¨å…¶ä¸­ä»»ä½•ä¸€ç¨®ï¼ŒVue èƒ½è‡ªå‹•è­˜åˆ¥é¡å‹ä¸¦è¨­ç½®ç›£è½ã€‚\nä½†æœ‰æ™‚å€™æœƒé‡åˆ°éœ€è¦åŒæ™‚è¨­ç½®çš„æƒ…æ³ï¼Œä½†å…©é‚Šçš„å®Œæˆæ™‚é–“ä¸ä¸€è‡´ï¼Œé€™æ™‚å€™å°±éœ€è¦æ‰‹å‹•è¨­ç½® transitionend æˆ– animationend ä¾†æ˜ç¢ºå‘ŠçŸ¥ Vue è¦ç›£è½çš„é¡å‹ã€‚\nèˆ‰ä¾‹ä¾†èªªï¼Œå‡è¨­ä½ åˆ†åˆ¥ä½¿ç”¨è‡ªè¨‚ç¾©çš„é¡åˆ¥åç¨±å’Œ Animate.css ï¼š\n1 2 3 4 5 6 7 8 9 10 11  .fade-enter,.fade-leave-to { opacity: 0; } .fade-enter-to, .fade-leave { opacity: 1; } .fade-enter-active,.fade-leave-active { transition: opacity 3s; }   1 2 3 4 5 6 7 8  \u0026lt;transition name=\u0026#34;fade\u0026#34; type=\u0026#34;transition\u0026#34; enter-active-class=\u0026#34;animated swing fade-enter-active\u0026#34; leave-active-class=\u0026#34;animated bounce fade-leave-active\u0026#34; \u0026gt; \u0026lt;div class=\u0026#34;box\u0026#34; v-if=\u0026#34;show\u0026#34;\u0026gt;\u0026lt;/div\u0026gt; \u0026lt;/transition\u0026gt;   é€™è£¡è¦æ³¨æ„ï¼Œä½¿ç”¨è‡ªè¨‚ç¾©é¡åˆ¥åç¨±å„ªå…ˆåº¦å¤§æ–¼æ™®é€šçš„é¡åˆ¥åç¨±ï¼Œæ‰€ä»¥fade-enter-active å’Œ fade-leave-active è¨˜å¾—è¦è£œä¸Šã€‚\nAnimate.css é è¨­å‹•ç•«æ™‚é–“ç‚º 1sï¼Œè€Œæˆ‘å€‘è¨­ç½®çš„ transition æ™‚é–“ç‚º 3sï¼ŒAnimate.css çš„å‹•ç•«å¾ˆå¤–å°±è§¸ç™¼å®Œæˆäº†ï¼Œè€Œè½‰å ´é‚„æ²’çµæŸã€‚åœ¨å¾ˆå¤šæƒ…æ³ä¸‹ï¼ŒVue å¯ä»¥è‡ªå‹•å¾—å‡ºè½‰å ´æ•ˆæœçš„å®Œæˆæ™‚æ©Ÿï¼Œä½†é‚„æ˜¯æœ‰å¯èƒ½å‡ºç¾ä¾‹å¤–ã€‚\nç‚ºäº†é¿å…å‡ºç¾ä¾‹å¤–ï¼Œä½ å°±éœ€è¦æ‰‹å‹•è¨­å®š type=\u0026quot;transition\u0026quot; ä»¥ transition çš„æ™‚é–“ç‚ºæº–ã€‚åä¹‹å‹•ç•«æ™‚é–“å¤§æ–¼è½‰å ´å°±ä»¥å‹•ç•«æ™‚é–“ç‚ºæº–ã€‚\nSee the Pen Vue CSS è½‰å ´ åŒæ—¶ä½¿ç”¨è½‰å ´å’Œå‹•ç•« by CHUPAIWANG (@CHUPAIWANG) on CodePen.  3.2 é¡¯æ€§çš„è½‰å ´æŒçºŒæ™‚é–“ ä¸Šé¢å·²ç¶“æéäº†ï¼Œåœ¨å¾ˆå¤šæƒ…æ³ä¸‹ï¼ŒVue å¯ä»¥è‡ªå‹•å¾—å‡ºè½‰å ´æ•ˆæœçš„å®Œæˆæ™‚æ©Ÿã€‚é è¨­æƒ…æ³ä¸‹ï¼ŒVue æœƒç­‰å¾…å…¶åœ¨è½‰å ´æ•ˆæœçš„æ ¹å…ƒç´ çš„ç¬¬ä¸€å€‹ transitionend æˆ– animationend äº‹ä»¶ã€‚\nä½†åœ¨æŸäº›æƒ…æ³ä¸‹ï¼Œé‚„å¯ä»¥è‡ªå®šç¾©æ•´å€‹å‹•æ…‹æ•ˆæœç¸½æ™‚é–“é•·ï¼Œä½¿ç”¨çš„æ˜¯ duration ç‰¹æ€§æ­é… v-bindã€‚\nèˆ‰ä¾‹ä¾†èªªï¼Œç¸½æ™‚å¸¸ç‚º 5sï¼š\n1  \u0026lt;transition :duration=\u0026#34;5000\u0026#34;\u0026gt;...\u0026lt;/transition\u0026gt;   ä¹Ÿå¯ä»¥åˆ†åˆ¥è¨­å®šé€²å…¥å’Œç§»é™¤æŒçºŒæ™‚é–“ï¼š\n1  \u0026lt;transition :duration=\u0026#34;{ enter: 500, leave: 800 }\u0026#34;\u0026gt;...\u0026lt;/transition\u0026gt;   é€™æ˜¯ä¸€å€‹ transition éœ€è¦ 5ç§’ï¼Œä½†ç¸½è½‰å ´æ™‚é–“å¼·åˆ¶è¨­ç‚º 1ç§’çš„ç¯„ä¾‹ï¼š\nSee the Pen Vue CSS è½‰å ´ é¡¯æ€§çš„è½‰å ´æŒçºŒæ™‚é–“ by CHUPAIWANG (@CHUPAIWANG) on CodePen.  4.åˆå§‹æ¸²æŸ“çš„è½‰å ´ é€éè¨­å®š appear ç‰¹æ€§ï¼Œè¨­ç½®ç¯€é»åœ¨åˆå§‹æ¸²æŸ“çš„è½‰å ´ã€‚\n1 2 3  \u0026lt;transition appear\u0026gt; \u0026lt;!-- ... --\u0026gt; \u0026lt;/transition\u0026gt;    CodePenï¼Œè¼‰å…¥ç•«é¢æ™‚ï¼Œæœƒæœ‰é€²å ´æ•ˆæœã€‚\n appear é è¨­ä½¿ç”¨é€²å ´çš„é¡åˆ¥ï¼Œå¦‚æœè¦èˆ‡é€²å ´å¥—ç”¨ä¸åŒçš„å‹•ç•«æ•ˆæœï¼Œéœ€è¦ä½¿ç”¨è‡ªå®šç¾©çš„é¡åˆ¥åç¨±ï¼š\n1 2 3  \u0026lt;transition appear\u0026gt; \u0026lt;!-- ... --\u0026gt; \u0026lt;/transition\u0026gt;    CodePenï¼Œè¼‰å…¥ç•«é¢æ™‚ï¼Œæœƒæœ‰é€²å ´æ•ˆæœã€‚\n appear é è¨­ä½¿ç”¨é€²å ´çš„é¡åˆ¥ï¼Œå¦‚æœè¦èˆ‡é€²å ´å¥—ç”¨ä¸åŒçš„å‹•ç•«æ•ˆæœï¼Œéœ€è¦ä½¿ç”¨è‡ªå®šç¾©çš„é¡åˆ¥åç¨±ï¼š\n1 2 3 4 5 6 7 8  \u0026lt;transition appear appear-class=\u0026#34;custom-appear-class\u0026#34; appear-to-class=\u0026#34;custom-appear-to-class\u0026#34; (2.1.8+) appear-active-class=\u0026#34;custom-appear-active-class\u0026#34; \u0026gt; \u0026lt;!-- ... --\u0026gt; \u0026lt;/transition\u0026gt;   å¤šå€‹å…ƒç´ çš„è½‰å ´ \u0026lt;transition\u0026gt; ä¹Ÿå¯ä»¥ç”¨åœ¨å¤šå€‹å…ƒç´ çš„è½‰å ´ã€‚\nèˆ‰ä¾‹ä¾†èªªï¼š\n1 2 3 4 5 6  \u0026lt;transition\u0026gt; \u0026lt;table v-if=\u0026#34;items.length \u0026gt; 0\u0026#34;\u0026gt; \u0026lt;!-- ... --\u0026gt; \u0026lt;/table\u0026gt; \u0026lt;p v-else\u0026gt;Sorry, no items found.\u0026lt;/p\u0026gt; \u0026lt;/transition\u0026gt;   ä½†è¦æ³¨æ„ï¼ŒVue åœ¨åˆ‡æ›ç•«é¢æ™‚ï¼Œä¸¦ä¸æœƒå®Œå…¨ç½®æ›å…ƒç´ ï¼Œæœƒä½¿ç”¨ä¸€ç¨®æœ€å¤§é™åº¦æ¸›å°‘å‹•æ…‹å…ƒç´ ä¸¦ä¸”å„˜å¯èƒ½çš„å˜—è©¦ä¿®å¾©/å†åˆ©ç”¨ç›¸åŒé¡å‹å…ƒç´ çš„ç®—æ³•ã€‚\nå› æ­¤ç•¶æœ‰ç›¸åŒæ¨™ç±¤çš„å…ƒç´ åœ¨åšåˆ‡æ›æ™‚ï¼Œéœ€è¦ä½¿ç”¨ key ç‰¹æ€§è¨­ç½®å”¯ä¸€çš„å€¼ä¾†æ¨™è¨˜ä»¥è®“ Vue å€åˆ†å®ƒå€‘ã€‚\n1 2 3 4 5 6 7 8  \u0026lt;transition\u0026gt; \u0026lt;button v-if=\u0026#34;isEditing\u0026#34; key=\u0026#34;save\u0026#34;\u0026gt; Save \u0026lt;/button\u0026gt; \u0026lt;button v-else key=\u0026#34;edit\u0026#34;\u0026gt; Edit \u0026lt;/button\u0026gt; \u0026lt;/transition\u0026gt;   åœ¨ä¸€äº›å ´æ™¯ä¸­ï¼Œä¹Ÿå¯ä»¥é€šéçµ¦åŒä¸€å€‹å…ƒç´ çš„ key ç‰¹æ€§è¨­ç½®ä¸åŒçš„ç‹€æ…‹ä¾†ä»£æ›¿ v-if å’Œ v-elseï¼Œä¸Šé¢çš„ç¯„ä¾‹å¯ä»¥é‡å¯«ç‚ºï¼š\n1 2 3 4 5  \u0026lt;transition\u0026gt; \u0026lt;button v-bind:key=\u0026#34;isEditing\u0026#34;\u0026gt; {{ isEditing ? \u0026#39;Save\u0026#39; : \u0026#39;Edit\u0026#39; }} \u0026lt;/button\u0026gt; \u0026lt;/transition\u0026gt;   ä½¿ç”¨å¤šå€‹ v-if çš„å¤šå€‹å…ƒç´ çš„è½‰å ´å¯ä»¥é‡å¯«ç‚ºç¶å®šäº†å‹•æ…‹å±¬æ€§çš„å–®å€‹å…ƒç´ è½‰å ´ã€‚ä¾‹å¦‚ï¼š\n1 2 3 4 5 6 7 8 9 10 11  \u0026lt;transition\u0026gt; \u0026lt;button v-if=\u0026#34;docState === \u0026#39;saved\u0026#39;\u0026#34; key=\u0026#34;saved\u0026#34;\u0026gt; Edit \u0026lt;/button\u0026gt; \u0026lt;button v-if=\u0026#34;docState === \u0026#39;edited\u0026#39;\u0026#34; key=\u0026#34;edited\u0026#34;\u0026gt; Save \u0026lt;/button\u0026gt; \u0026lt;button v-if=\u0026#34;docState === \u0026#39;editing\u0026#39;\u0026#34; key=\u0026#34;editing\u0026#34;\u0026gt; Cancel \u0026lt;/button\u0026gt; \u0026lt;/transition\u0026gt;   å¯ä»¥é‡å¯«ç‚ºï¼š\n1 2 3 4 5 6  \u0026lt;!-- .html --\u0026gt; \u0026lt;transition\u0026gt; \u0026lt;button :key=\u0026#34;docState\u0026#34;\u0026gt; {{ buttonMessage }} \u0026lt;/button\u0026gt; \u0026lt;/transition\u0026gt;   1 2 3 4 5 6 7 8 9 10  // ... computed: { buttonMessage: function () { switch (this.docState) { case \u0026#39;saved\u0026#39;: return \u0026#39;Edit\u0026#39; case \u0026#39;edited\u0026#39;: return \u0026#39;Save\u0026#39; case \u0026#39;editing\u0026#39;: return \u0026#39;Cancel\u0026#39; } } }   1. è½‰å ´æ¨¡å¼ è«‹è€ƒæ…®ä»¥ä¸‹ç¨‹å¼ç¢¼ï¼š\n1 2 3 4 5  \u0026lt;transition\u0026gt; \u0026lt;button :key=\u0026#34;isEditing\u0026#34; @click=\u0026#34;isEditing = !isEditing\u0026#34;\u0026gt; {{ isEditing ? \u0026#39;On\u0026#39; : \u0026#39;Off\u0026#39; }} \u0026lt;/button\u0026gt; \u0026lt;/transition\u0026gt;   See the Pen Vue CSS è½‰å ´ è½‰å ´æ¨¡å¼ å•é¡Œ by CHUPAIWANG (@CHUPAIWANG) on CodePen.  åœ¨ on æŒ‰éˆ•å’Œ off æŒ‰éˆ•çš„è½‰å ´ä¸­ï¼Œå…©å€‹æŒ‰éˆ•éƒ½è¢«é‡ç¹ªäº†ï¼Œä¸€å€‹é›¢é–‹è½‰å ´çš„æ™‚å€™å¦ä¸€å€‹é–‹å§‹é€²å…¥è½‰å ´ã€‚é€™æ˜¯ \u0026lt;transition\u0026gt; çš„é è¨­è¡Œç‚ºï¼Œé€²å…¥å’Œé›¢é–‹åŒæ™‚ç™¼ç”Ÿã€‚\nä½ å¯èƒ½æœƒæƒ³åˆ°ï¼Œå¯ä»¥åŠ ä¸Š position: absoluteï¼Œå› ç‚ºå…©è€…é‡ç–Šäº†ï¼Œæ‰€ä»¥ä¸æœƒç”¢ç”Ÿå…ƒç´ ä½ç§»çš„æƒ…æ³ï¼š\n1 2 3  button { position: absolute; }   See the Pen Vue CSS è½‰å ´ è½‰å ´æ¨¡å¼ çµ•å°å®šä½ by CHUPAIWANG (@CHUPAIWANG) on CodePen.  ä½†å¦‚æœåŠ ä¸Š translate è®“å®ƒå€‘é‹å‹•åƒæ»‘å‹•ï¼Œé‚„æ˜¯æœƒæœ‰å…©å€‹å…ƒç´ åŒæ™‚å‡ºç¾çš„ç ´ç¶»ï¼š\n1 2 3 4 5  .v-enter, .v-leave-to { opacity: 0; transform: translateX(100%); }   See the Pen Vue CSS è½‰å ´ è½‰å ´æ¨¡å¼ çµ•å°å®šä½ + æ»‘å‹• by CHUPAIWANG (@CHUPAIWANG) on CodePen.  åŒæ™‚ç”Ÿæ•ˆçš„é€²å…¥å’Œé›¢é–‹çš„è½‰å ´ä¸èƒ½æ»¿è¶³æ‰€æœ‰è¦æ±‚ï¼Œæ‰€ä»¥ Vue æä¾›äº†è½‰å ´æ¨¡å¼ï¼š\n in-outï¼šæ–°å…ƒç´ å…ˆé€²è¡Œè½‰å ´ï¼Œå®Œæˆä¹‹å¾Œç•¶å‰å…ƒç´ è½‰å ´é›¢é–‹ã€‚ out-inï¼šç•¶å‰å…ƒç´ å…ˆé€²è¡Œè½‰å ´ï¼Œå®Œæˆä¹‹å¾Œæ–°å…ƒç´ è½‰å ´é€²å…¥ã€‚  åŠ ä¸Š mode=\u0026quot;out-in\u0026quot; çš„æ•ˆæœï¼š\n1 2 3 4 5  \u0026lt;transition mode=\u0026#34;out-in\u0026#34;\u0026gt; \u0026lt;button :key=\u0026#34;isEditing\u0026#34; @click=\u0026#34;isEditing = !isEditing\u0026#34;\u0026gt; {{ isEditing ? \u0026#39;On\u0026#39; : \u0026#39;Off\u0026#39; }} \u0026lt;/button\u0026gt; \u0026lt;/transition\u0026gt;   1 2 3  .v-enter-active, .v-leave-active { transition: 1.5s opacity; }   See the Pen Vue CSS è½‰å ´ è½‰å ´æ¨¡å¼ out-in by CHUPAIWANG (@CHUPAIWANG) on CodePen.  in-out æ¨¡å¼çš„ç¯„ä¾‹ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15  button { position: absolute; } .v-enter,.v-leave-to { opacity: 0; } .v-enter { transform: translateX(100%); } .v-leave-to { transform: translateX(-100%); }   See the Pen Vue CSS è½‰å ´ è½‰å ´æ¨¡å¼ in-out by CHUPAIWANG (@CHUPAIWANG) on CodePen.  å¤šå€‹å…ƒä»¶çš„è½‰å ´ å¤šå€‹å…ƒä»¶çš„è½‰å ´ç°¡å–®å¾ˆå¤šï¼Œæˆ‘å€‘ä¸éœ€è¦ä½¿ç”¨ key ç‰¹æ€§ã€‚åªéœ€è¦ä½¿ç”¨ å‹•æ…‹åˆ‡æ› å…ƒä»¶ï¼š\n1 2 3 4 5 6 7 8  \u0026lt;!-- .html --\u0026gt; \u0026lt;div id=\u0026#34;app\u0026#34;\u0026gt; \u0026lt;input type=\u0026#34;radio\u0026#34; value=\u0026#34;v-a\u0026#34; v-model=\u0026#34;view\u0026#34; /\u0026gt;A \u0026lt;input type=\u0026#34;radio\u0026#34; value=\u0026#34;v-b\u0026#34; v-model=\u0026#34;view\u0026#34; /\u0026gt;B \u0026lt;transition name=\u0026#34;component-fade\u0026#34; mode=\u0026#34;out-in\u0026#34;\u0026gt; \u0026lt;component v-bind:is=\u0026#34;view\u0026#34;\u0026gt;\u0026lt;/component\u0026gt; \u0026lt;/transition\u0026gt; \u0026lt;/div\u0026gt;   1 2 3 4 5 6 7 8 9 10  .component-fade-enter, .component-fade-leave-to { opacity: 0; } .component-fade-enter-active, .component-fade-leave-active { transition: opacity 0.3s ease; }   1 2 3 4 5 6 7 8 9 10 11 12 13 14  const vm = new Vue({ el: \u0026#39;#app\u0026#39;, data: { view: \u0026#39;v-a\u0026#39;, }, components: { \u0026#39;v-a\u0026#39;: { template: \u0026#39;\u0026lt;div\u0026gt;Component A\u0026lt;/div\u0026gt;\u0026#39;, }, \u0026#39;v-b\u0026#39;: { template: \u0026#39;\u0026lt;div\u0026gt;Component B\u0026lt;/div\u0026gt;\u0026#39;, }, }, });   transition-group å…ƒä»¶ 1. å¤§é‡å…ƒç´ çš„è½‰å ´ ç›®å‰ç‚ºæ­¢ï¼Œéƒ½æ˜¯é‡å°å–®å€‹ç¯€é»ï¼Œæˆ–æ˜¯åŒä¸€æ™‚é–“æ¸²æŸ“å¤šå€‹ç¯€é»ä¸­çš„ä¸€å€‹ã€‚å¦‚æœè¦é‡å°ç”± v-for ç”¢ç”Ÿçš„å¤§é‡å…ƒç´ ï¼ˆä¾‹å¦‚ï¼šåˆ—è¡¨ï¼‰ï¼Œå°±è¦æ”¹ç‚ºä½¿ç”¨ transition-group å…ƒä»¶ã€‚\ntransition-group å…ƒä»¶æœ‰ä»¥ä¸‹å¹¾å€‹ç‰¹é»ï¼š\n ä¸åŒæ–¼ \u0026lt;transition\u0026gt;ï¼Œå®ƒæœƒä»¥ä¸€å€‹çœŸå¯¦å…ƒç´ å‘ˆç¾ï¼šé è¨­ç‚ºä¸€å€‹ \u0026lt;span\u0026gt;ã€‚å¯ä»¥é€šé tag ç‰¹æ€§æ›´æ›ç‚ºå…¶ä»–å…ƒç´ ã€‚ è½‰å ´æ¨¡å¼ï¼ˆin-out èˆ‡ out-inï¼‰ä¸å¯ç”¨ï¼Œå› ç‚ºæˆ‘å€‘ä¸å†ç›¸äº’åˆ‡æ›ç‰¹æœ‰çš„å…ƒç´ ã€‚ å…§éƒ¨å…ƒç´  ç¸½æ˜¯éœ€è¦ æä¾›å”¯ä¸€çš„ key å±¬æ€§å€¼ã€‚ CSS è½‰å ´çš„é¡å°‡æœƒæ‡‰ç”¨åœ¨å…§éƒ¨çš„å…ƒç´ ä¸­ï¼Œè€Œä¸æ˜¯é€™å€‹çµ„/å®¹å™¨æœ¬èº«ã€‚  1.1 é€²å…¥/é›¢é–‹çš„è½‰å ´ é¦–å…ˆæˆ‘å€‘çœ‹ä¸€æ®µç¨‹å¼ç¢¼ï¼š\n1 2 3 4 5 6 7  \u0026lt;button v-on:click=\u0026#34;add\u0026#34;\u0026gt;Add\u0026lt;/button\u0026gt; \u0026lt;button v-on:click=\u0026#34;remove\u0026#34;\u0026gt;Remove\u0026lt;/button\u0026gt; \u0026lt;ul\u0026gt; \u0026lt;li v-for=\u0026#34;item in items\u0026#34; :key=\u0026#34;item\u0026#34; class=\u0026#34;list-item\u0026#34;\u0026gt; {{ item }} \u0026lt;/ul\u0026gt;   æŒ‰ä¸‹ Add æœƒéš¨æ©Ÿæ’å…¥æ•¸å­—ï¼ŒæŒ‰ä¸‹ Remove æœƒéš¨æ©Ÿç§»é™¤æ•¸å­—ã€‚\nSee the Pen Vue å¤§é‡å…ƒç´ çš„è½‰å ´  by CHUPAIWANG (@CHUPAIWANG) on CodePen.  æ¥ä¸‹ä¾†æˆ‘å€‘æ”¹ç”¨ transition-group å…ƒä»¶ï¼Œå¢åŠ è½‰å ´æ•ˆæœã€‚\ntransition-group å…ƒä»¶é è¨­æœƒæœ‰ä¸€å€‹ \u0026lt;span\u0026gt; çš„æ ¹å…ƒç´ ï¼Œå®ƒæœƒåŒ…ä½ç”± v-for ç”¢ç”Ÿçš„å¤šå€‹å…ƒç´ ç•¶æˆå…¶å­å…ƒç´ ã€‚\næˆ‘å€‘é€é tag ç‰¹æ€§ï¼Œå°‡å…¶æ”¹æˆ \u0026lt;ul\u0026gt;ï¼š\n1 2 3 4 5  \u0026lt;transition-group name=\u0026#34;list\u0026#34; tag=\u0026#34;ul\u0026#34;\u0026gt; \u0026lt;li v-for=\u0026#34;item in items\u0026#34; v-bind:key=\u0026#34;item\u0026#34; class=\u0026#34;list-item\u0026#34;\u0026gt; {{ item }} \u0026lt;/li\u0026gt; \u0026lt;/transition-group\u0026gt;   ä¸¦åŠ ä¸Š CSSï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15  .list-enter, .list-leave-to { opacity: 0; transform: translateY(100%); } .list-leave, .list-enter-to { opacity: 1; } .list-enter-active, .list-leave-active { transition: all 1s; }   See the Pen Vue å¤§é‡å…ƒç´ çš„è½‰å ´ - transition-group by CHUPAIWANG (@CHUPAIWANG) on CodePen.  ä¸éé€™å€‹ç¯„ä¾‹æœ‰ä¸€å€‹æ˜é¡¯å•é¡Œï¼Œç•¶æ–°å¢å’Œç§»é™¤å…ƒç´ çš„æ™‚å€™ï¼Œå‘¨åœçš„å…ƒç´ æœƒç¬é–“ç§»å‹•åˆ°ä»–å€‘çš„æ–°ä½ˆå±€çš„ä½ç½®ï¼Œé€™æœƒé¡¯å¾—ä¸è‡ªç„¶ï¼Œæˆ‘å€‘å°‡æœƒåœ¨ä¹‹å¾Œè§£æ±ºé€™å€‹å•é¡Œã€‚\n1.2 æ’åºè½‰å ´ transition-group å…ƒä»¶é‚„æœ‰ä¸€å€‹ç‰¹æ®Šä¹‹è™•ã€‚ä¸åƒ…å¯ä»¥é€²å…¥å’Œé›¢é–‹å‹•ç•«ï¼Œé‚„å¯ä»¥æ”¹è®Šå®šä½ã€‚\nv-move ç‰¹æ€§ï¼Œå®ƒæœƒåœ¨å…ƒç´ çš„æ”¹è®Šå®šä½çš„éç¨‹ä¸­æ‡‰ç”¨ã€‚åƒä¹‹å‰çš„åˆ—åˆ¥åç¨±ä¸€æ¨£ï¼Œå¯ä»¥é€šé name å±¬æ€§ä¾†è‡ªå®šç¾©å‰ç¶´ï¼Œä¹Ÿå¯ä»¥é€šé move-class å±¬æ€§æ‰‹å‹•è¨­ç½®ã€‚\nv-move å°æ–¼è¨­ç½®è½‰å ´çš„åˆ‡æ›æ™‚æ©Ÿå’Œè½‰å ´æ›²ç·šéå¸¸æœ‰ç”¨ã€‚\n1 2 3 4 5 6 7 8 9  \u0026lt;button v-on:click=\u0026#34;items.reverse()\u0026#34;\u0026gt;Reverses\u0026lt;/button\u0026gt; \u0026lt;transition-group name=\u0026#34;flip-list\u0026#34; tag=\u0026#34;ul\u0026#34;\u0026gt; \u0026lt;li v-for=\u0026#34;item in items\u0026#34; :key=\u0026#34;item\u0026#34; class=\u0026#34;list-item\u0026#34;\u0026gt;{{ item }} \u0026lt;/li\u0026gt; \u0026lt;/transition-group\u0026gt;   1 2 3  .flip-list-move { transition: transform 1s; }   1 2 3 4 5 6  const vm = new Vue({ el: \u0026#39;#app\u0026#39;, data: { items: [1, 2, 3, 4, 5, 6, 7, 8, 9], }, });   See the Pen Vue å¤§é‡å…ƒç´ çš„è½‰å ´ - v-move by CHUPAIWANG (@CHUPAIWANG) on CodePen.  Vue ä½¿ç”¨äº†ä¸€å€‹å« FLIP ç°¡å–®çš„å‹•ç•«éšŠåˆ—ã€‚ä½¿ç”¨ transforms å°‡å…ƒç´ å¾ä¹‹å‰çš„ä½ç½®å¹³æ»‘è½‰å ´æ–°çš„ä½ç½®ã€‚\nè®“æˆ‘å€‘ä¿®æ­£ä¸Šç¯€ä¸è‡ªç„¶çš„çš„ç¨‹å¼ç¢¼ï¼š\n1 2 3 4 5 6 7  .list-leave-active { position: absolute; } .list-move { transition: 1s; }   See the Pen Vue å¤§é‡å…ƒç´ çš„è½‰å ´ - é€²å…¥/é›¢é–‹çš„è½‰å ´ v-move by CHUPAIWANG (@CHUPAIWANG) on CodePen.  å¦å¤–è¦æ³¨æ„ï¼ŒFLIP è½‰å ´çš„å…ƒç´ ä¸èƒ½è¨­ç½®ç‚º display: inlineã€‚ä½œç‚ºæ›¿ä»£æ–¹æ¡ˆï¼Œå¯ä»¥è¨­ç½®ç‚º display: inline-blockã€display: flex-block æˆ–è€…æ”¾ç½®æ–¼ FlexBox çˆ¶å®¹å™¨ä¸­\rSee the Pen Vue å¤§é‡å…ƒç´ çš„è½‰å ´ - æ‰“äº‚ by CHUPAIWANG (@CHUPAIWANG) on CodePen.  JavaScript é‰¤å­ transition/animation çš„æ ¸å¿ƒæ¦‚å¿µï¼Œå°±æ˜¯åœ¨å°æ‡‰çš„æ™‚é–“é»æ–°å¢ã€ç§»é™¤é¡åˆ¥ã€‚é™¤äº†é€™ç¨®åœ¨è¢«å‹•çš„æ™‚é–“é»åŠ ä¸Šé¡åˆ¥çš„æ–¹å¼å¤–ï¼ŒVue ä¹Ÿæä¾›å°æ‡‰æ™‚é–“çš„ JavaScript é‰¤å­è®“æˆ‘å€‘åœ¨è©²æ™‚é–“é»ä½¿ç”¨ JavaScriptã€‚\näº‹ä»¶é‰¤å­ï¼š\n before-enterï¼šé€²å ´å‰å•Ÿå‹•ã€‚ enterï¼šé€²å ´æ™‚å•Ÿå‹•ã€‚ after-enterï¼šé€²å ´çµæŸå¾Œå•Ÿå‹•ã€‚ enter-cancelledï¼šåœ¨æœªå®Œæˆé€²å ´æ™‚å–æ¶ˆå‹•ä½œã€‚ before-leaveï¼šé›¢å ´å‰å•Ÿå‹•ã€‚ leaveï¼šé›¢å ´æ™‚å•Ÿå‹•ã€‚ after-leaveï¼šé›¢å ´çµæŸå¾Œå•Ÿå‹•ã€‚ leave-cancelledï¼šåœ¨æœªå®Œæˆé›¢å ´æ™‚å–æ¶ˆå‹•ä½œã€‚ï¼ˆåªç”¨æ–¼ v-show ä¸­ï¼‰  1 2 3 4 5 6 7 8 9 10 11 12  \u0026lt;transition v-on:before-enter=\u0026#34;beforeEnter\u0026#34; v-on:enter=\u0026#34;enter\u0026#34; v-on:after-enter=\u0026#34;afterEnter\u0026#34; v-on:enter-cancelled=\u0026#34;enterCancelled\u0026#34; v-on:before-leave=\u0026#34;beforeLeave\u0026#34; v-on:leave=\u0026#34;leave\u0026#34; v-on:after-leave=\u0026#34;afterLeave\u0026#34; v-on:leave-cancelled=\u0026#34;leaveCancelled\u0026#34; \u0026gt; \u0026lt;/transition\u0026gt;   1 2 3 4 5 6 7 8 9 10 11 12 13 14 15  methods: { beforeEnter: function(el) {}, enter: function(el, done) { done(); }, afterEnter: function(el) {}, enterCancelled: function(el) {}, beforeLeave: function(el) {}, leave: function(el, done) { done(); }, afterLeave: function(el) {}, leaveCancelled: function(el) {}, }    å¦‚æœåªè¦å–®ç¨ä½¿ç”¨ JS é‰¤å­è½‰å ´ï¼Œå¯ä»¥è¨­ç½® v-bind:css=\u0026quot;false\u0026quot;ï¼ŒVue æœƒè·³é CSS çš„æª¢æ¸¬ï¼Œé¿å…è½‰å ´éç¨‹å—åˆ° CSS çš„å½±éŸ¿ã€‚ enter å’Œ leave çš„å›å‘¼å‡½å¼ done æ˜¯å¯é¸çš„ï¼š  åƒæ•¸ä¸æ³¨å…¥ done æ™‚ï¼Œé è¨­ç‚ºåŒæ­¥å‘¼å«ï¼Œæœƒè‡ªå‹•å‘¼å« done()ã€‚ å¦‚æœæœ‰ done åƒæ•¸ï¼Œå°±éœ€è¦æ‰‹å‹•å‘¼å« done()ï¼Œæ²’å‘¼å«å°±ä¸æœƒé€²å…¥ã€€after-enterï¼after-leaveã€‚ å¦‚æœæƒ³è¦æ­é… CSS åŒæ­¥è‡ªå‹• call done çš„è©±ï¼Œå°±ä¸è¦å¸¶ done åƒæ•¸ åªä½¿ç”¨ JavaScript é‰¤å­çš„æ™‚å€™ï¼Œè¦è¨˜å¾—å‘¼å« done()ã€‚    åˆå§‹æ¸²æŸ“ä¹Ÿæœ‰äº‹ä»¶é‰¤å­ï¼š\n before-appearï¼šè¼‰å…¥å‰ã€‚ appearï¼šè¼‰å…¥æ™‚ã€‚ after-appearï¼šè¼‰å…¥å¾Œã€‚ appear-cancelledï¼šè¼‰å…¥é–‹å§‹å¾Œï¼ŒåŸ·è¡Œå–æ¶ˆè¼‰å…¥ã€‚  è·¯ç”±è½‰å ´ \u0026lt;router-view\u0026gt; ä¸€æ¨£å¯ä»¥ä½¿ç”¨ \u0026lt;transition\u0026gt; å…ƒä»¶ï¼š\n1 2 3  \u0026lt;transition\u0026gt; \u0026lt;router-view\u0026gt;\u0026lt;/router-view\u0026gt; \u0026lt;/transition\u0026gt;   1. å–®å€‹è·¯ç”±çš„è½‰å ´ å¦‚æœè¦è®“æ¯å€‹è·¯ç”±å…ƒä»¶æœ‰å„è‡ªçš„è½‰å ´æ•ˆæœï¼Œå¯ä»¥åœ¨å…ƒä»¶å…§ä½¿ç”¨ \u0026lt;transition\u0026gt; å…ƒä»¶ä¸¦è¨­ç½®ä¸åŒçš„ nameã€‚\n1 2 3 4 5 6  \u0026lt;!-- Views1.vue --\u0026gt; \u0026lt;template \u0026gt; \u0026lt;transition name=\u0026#34;slide\u0026#34;\u0026gt; ... \u0026lt;/transition\u0026gt; \u0026lt;/template\u0026gt;   1 2 3 4 5 6  \u0026lt;!-- Views2.vue --\u0026gt; \u0026lt;template \u0026gt; \u0026lt;transition name=\u0026#34;fade\u0026#34;\u0026gt; ... \u0026lt;/transition\u0026gt; \u0026lt;/template\u0026gt;   2. å‹•æ…‹è½‰å ´ 1 2 3  \u0026lt;transition :name=\u0026#34;transitionName\u0026#34;\u0026gt; \u0026lt;router-view\u0026gt;\u0026lt;/router-view\u0026gt; \u0026lt;/transition\u0026gt;   åœ¨æ¥è‘—åœ¨çˆ¶å…ƒä»¶å…§ï¼Œç›£è½ $route æ±ºå®šä½¿ç”¨å“ªç¨®è½‰å ´æ•ˆæœï¼š\n1 2 3 4 5 6 7  watch: { \u0026#39;$route\u0026#39; (to, from) { const toDepth = to.path.split(\u0026#39;/\u0026#39;).length const fromDepth = from.path.split(\u0026#39;/\u0026#39;).length this.transitionName = toDepth \u0026lt; fromDepth ? \u0026#39;slide-right\u0026#39; : \u0026#39;slide-left\u0026#39; } }   3. Vueg  Vueg\nç‚º vue-router æ·»åŠ è½‰å ´æ•ˆæœçš„é–‹æº Vue å¥—ä»¶ã€‚\n äº¤éŒ¯è½‰å ´ é€™è£¡æœ‰ä¸€æ®µç¨‹å¼ç¢¼ï¼š\n1 2 3 4 5 6  \u0026lt;button @click=\u0026#34;show = !show\u0026#34;\u0026gt;show\u0026lt;/button\u0026gt; \u0026lt;ul v-if=\u0026#34;show\u0026#34;\u0026gt; \u0026lt;li v-for=\u0026#34;n in num\u0026#34; :key=\u0026#34;n\u0026#34;\u0026gt; {{ n }} \u0026lt;/li\u0026gt; \u0026lt;/ul\u0026gt;   1 2 3 4  data: { num: 5, show: false, },   See the Pen äº¤éŒ¯è½‰å ´ ç¯„ä¾‹ by CHUPAIWANG (@CHUPAIWANG) on CodePen.  æˆ‘å€‘è¦å¦‚ä½•å°‡å®ƒæ”¹æˆäº¤éŒ¯è½‰å ´ï¼Ÿ\n1. transition-delay æœ€ç°¡å–®çš„æ–¹å¼ï¼Œå°±æ˜¯é€é transition-delay ä¾†å¯¦ç¾åˆ—è¡¨çš„äº¤éŒ¯è½‰å ´ã€‚\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16  .custom-appear-active-class { transition: opacity 0.3s; } .custom-appear-active-class:nth-child(5n + 2) { transition-delay: 0.3s; } .custom-appear-active-class:nth-child(5n + 3) { transition-delay: 0.5s; } .custom-appear-active-class:nth-child(5n + 4) { transition-delay: 0.7s; } .custom-appear-active-class:nth-child(5n + 5) { transition-delay: 0.9s; }   ä½†ç¼ºé»ä¹Ÿå¾ˆæ˜é¡¯ï¼Œè¦å¯«å¤§é‡çš„ CSSï¼Œä¿®æ”¹èµ·ä¾†ä¹Ÿä¸éˆæ´»ã€‚\nSee the Pen äº¤éŒ¯è½‰å ´ transition-delay by CHUPAIWANG (@CHUPAIWANG) on CodePen.  2. é€é data å±¬æ€§èˆ‡ JavaScript äº¤æµ é€é data å±¬æ€§å–å¾—å…ƒç´ çš„ indexï¼Œæ‰€ä»¥è£œä¸Š :data-index = indexï¼š\n1 2 3 4 5 6 7 8 9  \u0026lt;transition-group tag=\u0026#34;ul\u0026#34; v-if=\u0026#34;show\u0026#34; v-bind:css=\u0026#34;false\u0026#34; @appear=\u0026#34;appear\u0026#34; appear \u0026gt; \u0026lt;li v-for=\u0026#34;(n,index) in num\u0026#34; :key=\u0026#34;n\u0026#34; :data-index = index \u0026gt; {{ n }} \u0026lt;/li\u0026gt; \u0026lt;/transition-group\u0026gt;   åˆ©ç”¨ el.dataset å–å–å¾—å…ƒç´ çš„ data å±¬æ€§ã€‚\n1 2 3 4 5 6 7 8 9 10 11 12  methods:{ appear(el, done) { const index = el.dataset.index; // å–å¾— index  const delay = index * 0.3; gsap.from(el,{ duration: 0.3, opacity: 0, delay: delay, }) done(); }, },   æˆ‘é€™è£¡ä½¿ç”¨ GSAP3 å‹•ç•«ä¾†è¨­ç½®å‹•ç•«ã€‚\nSee the Pen äº¤éŒ¯è½‰å ´ GSAP3 by CHUPAIWANG (@CHUPAIWANG) on CodePen.  æˆ–æ˜¯ä½¿ç”¨ Velocity.js æ­é… setTimeoutï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16  methods:{ beforeAppear(el) { el.style.opacity = 0; }, appear(el, done) { const index = el.dataset.index; const delay = index * 300; setTimeout(function () { Velocity( el, { opacity: 1 }, { complete: done } ); }, delay); }, },   See the Pen äº¤éŒ¯è½‰å ´ Velocity by CHUPAIWANG (@CHUPAIWANG) on CodePen. ","description":"é€™é€±æ˜¯ å…­è§’é¼ å¹´éµäººè³½ ç¬¬äº”é€±ï¼Œç´€éŒ„ä¸€ä¸‹ Vue Transition ç”¨æ³•ã€‚","id":95,"section":"posts","tags":["Vue Transition","Vue","w3HexSchool"],"title":"Vueç­†è¨˜ - Transition","uri":"https://chupai.github.io/posts/200307_vue-transition/"},{"content":"é€™é€±æ˜¯ å…­è§’é¼ å¹´éµäººè³½ ç¬¬å››é€±ï¼Œä¹‹å‰æ²’ç¢°é TweenMaxï¼Œä½† GSAP å·²ç¶“å‡ç´š GSAP3ï¼Œå°±ç°¡å–®ç ”ç©¶ä¸€ä¸‹ GSAP3ã€‚\nGSAP3 GSAP æ˜¯ GreenSock Animation Platform çš„ç°¡ç¨±ï¼Œæ˜¯ä¸€å¥—å°ˆé–€è™•ç†å‹•ç•«èˆ‡ç‰¹æ•ˆçš„ JS å¥—ä»¶ã€‚\nGSAP æ¡ç”¨æ¨¡çµ„åŒ–èˆ‡æ’ä»¶å¼çš„çµæ§‹ï¼Œä¿æŒäº†æ ¸å¿ƒå¼•æ“çš„è¼•é‡ã€‚æœ‰å››å€‹æ ¸å¿ƒ APIï¼ŒTweenLiteã€TimelinLiteã€TimelineMaxã€TweenMaxï¼Œè€Œ TweenMax æ˜¯æ‰€æœ‰ API èˆ‡ Plugin çš„é›†åˆã€‚\nä½† 2019å¹´åº• GSAP å¾ GSAP2 å‡ç´šåˆ° GSAP3ï¼Œä¸å†å€åˆ† TweenLiteã€TimelineLiteã€TimelineMaxã€TweenMaxï¼Œå…¨éƒ¨åˆä¸¦ç‚º gsap ç‰©ä»¶ã€‚\nGSAP3 çš„å„ªé»ï¼š\n æª”æ¡ˆå¤§å°ç‚º TweenMax çš„ä¸€åŠï¼Œä½†æ–°å¢äº† 50å¤šå€‹åŠŸèƒ½ã€‚ å…¨éƒ¨åˆä¸¦ç‚º gsap ç‰©ä»¶ï¼Œä¸ç”¨åœ¨å€åˆ† TweenLite å’Œ TimelineMax ç‰©ä»¶ã€‚ æ–°ç‰ˆæœ¬ç›¸å®¹èˆŠç‰ˆæœ¬å¯«æ³•ï¼Œæ‰€ä»¥å¯ä»¥æ²¿ç”¨ï¼Œæ–°å¯«æ³•æä¾›æ›´å¥½çš„å¯è®€æ€§ã€‚  å®˜ç¶²ï¼š\n GreenSock è‹±æ–‡å®˜ç¶² TweenMax ä¸­æ–‡å®˜ç¶²  ä¸‹è¼‰å®‰è£  GSAP Installation\n npm install gsap // or yarn add gsap CDN\nhttps://cdnjs.cloudflare.com/ajax/libs/gsap/3.1.1/gsap.min.js ç‰ˆæœ¬å·®ç•° 1. gsap ç‰©ä»¶ åŸæœ¬é ˆè¦ç”¨ Tweensï¼ˆè£œé–“ï¼‰ï¼Œå°±è¦ä½¿ç”¨ TweenLite/TweenMax ç‰©ä»¶ã€‚è¦ç”¨åˆ° Timelinesï¼ˆæ™‚é–“è»¸ï¼‰ï¼Œå°±è¦ä½¿ç”¨ TimelineLite/TimelineMax ç‰©ä»¶ã€‚\nGSAP3 çµ±ä¸€ä½¿ç”¨ gsap ç‰©ä»¶ã€‚gsap ç‰©ä»¶ï¼Œå…·æœ‰å„ç¨®æ–¹æ³•å’Œå±¬æ€§ï¼Œå¯ç”¨ä¾†å‰µå»º Tweensï¼ˆè£œé–“ï¼‰å’Œ Timelinesï¼ˆæ™‚é–“è»¸ï¼‰ã€‚\nèˆŠçš„ Tween çš„å‰µå»ºæ–¹å¼ï¼š\n1 2 3  TweenMax.method(\u0026#39;selector\u0026#39;, {}); // or TweenLite.method(\u0026#39;selector\u0026#39;,{});   ç¾åœ¨çµ±ä¸€ä½¿ç”¨ gsap ç‰©ä»¶ï¼š\n1  gsap.method(\u0026#39;selector\u0026#39;, {});   èˆŠçš„ Timeline çš„å‰µå»ºæ–¹å¼ï¼š\n1 2 3 4 5 6 7  const tl = new TimelineMax(); tl.method(\u0026#39;selector\u0026#39;, {}); // or const tl = new TimelineLite(); tl.method(\u0026#39;selector\u0026#39;, {});   ç¾åœ¨ Timeline ä¸€æ¨£ä¹Ÿåªéœ€è¦ä½¿ç”¨ gsap ç‰©ä»¶ï¼š\n1 2 3  const tl = gsap.timeline(); tl.method(\u0026#39;selector\u0026#39;, {});   2. duration åƒæ•¸ åŸä¾†çš„å¯«æ³• duration ç‚ºæ–¹æ³•çš„åƒæ•¸ï¼š\n1  TweenMax.to(\u0026#39;.box\u0026#39;, 1, { x: 100 });   æ–°å¯«æ³•è¢«æ•´åˆåˆ°äº† vars ç‰©ä»¶ä¸­äº†ï¼š\n1 2 3 4  gsap.to(\u0026#39;.box\u0026#39;, { duration: 1, x: 100, });   æ“æœ‰æ›´ä½³çš„å¯è®€æ€§ã€‚\n3. Timeline é è¨­å€¼ åŸæœ¬çš„ Timeline å¯«æ³•ï¼š\n1 2 3 4 5 6 7 8 9  const t = new TimelineMax(); t.to(\u0026#39;.box1\u0026#39;, 1, { x: 100, ease: \u0026#39;elastic\u0026#39; }).to(\u0026#39;.box2\u0026#39;, 1, { y: 100, ease: \u0026#39;elastic\u0026#39; });   ä½¿ç”¨æ–°çš„å¯«æ³•ï¼Œå¦‚æœ‰æœ‰ç›¸åŒçš„åƒæ•¸ï¼Œå¯ä»¥è¨­å®šé è¨­å€¼ï¼š\n1 2 3 4 5 6 7 8 9  const t = gsap.timeline({ defaults: { duration: 1, ease: \u0026#39;elastic\u0026#39; } }); t.to(\u0026#39;.box1\u0026#39;, { x: 100 }) .to(\u0026#39;.box2\u0026#39;, { y: 100 });   4. äº¤éŒ¯å±¬æ€§ åŸæœ¬äº¤éŒ¯å‹•ç•«ï¼Œè¦ä½¿ç”¨åˆ°é¡å¤–çš„æ–¹æ³•å‰µå»º Tween å¯¦é«”ï¼Œä¾‹å¦‚staggerTo()ã€staggerFrom()ã€staggerFromTo()ï¼š\n1  TweenMax.staggerTo(\u0026#39;.box\u0026#39;, 1, {rotation:360, x:100}, 0.5);   ç¾åœ¨åªéœ€è¦è¨­ç½® stagger å±¬æ€§å³å¯ï¼š\n1 2 3 4 5 6  gsap.to(\u0026#39;.box\u0026#39;, { duration: 1, stagger: 0.5, rotation: 360, x: 100 });   5. å…¨æ–°çš„äº‚æ•¸åŠŸèƒ½ 1 ~ 400 ä¹‹é–“ï¼š\n1 2 3  gsap.to(\u0026#39;.box\u0026#39;, { x: \u0026#39;random(100, 400)\u0026#39;, });   éš¨æ©Ÿé¸æ“‡ä¸€å€‹æ•¸å­—ï¼Œå¯ä»¥ä½¿ç”¨é™£åˆ—è¡¨ç¤ºï¼š\n1 2 3  gsap.to(\u0026#39;.box\u0026#39;, { x: \u0026#39;random([0ï¼Œ100ï¼Œ400ï¼Œ500])\u0026#39;, });   6. å…¨æ–°çš„å½±æ ¼åŠŸèƒ½ Keyframes å¤§å®¶ä¸€å®šéƒ½çŸ¥é“ CSS å‹•ç•«çš„ keyframesã€‚é‚£ GSAP ä¸­çš„ keyframes æ˜¯ä»€éº¼ï¼Ÿ\nåŸæœ¬è¦å»ºç«‹ä¸€é€£ä¸²çš„å‹•ç•«ï¼ˆä¾‹å¦‚ï¼Œå…ˆç§»å‹•ï¼Œå†ä¸‹ç§»ï¼Œæœ€å¾Œæ—‹è½‰ï¼‰ï¼Œéœ€è¦ç‚ºæ¯å€‹å‹•ä½œå»ºç«‹ Tween æˆ–ä½¿ç”¨ Timelineã€‚è€Œ keyframes å¯ä»¥åœ¨åŒä¸€å€‹ Tween å…§å®Œæˆã€‚\n1 2 3 4 5 6 7  gsap.to(\u0026#39;.box\u0026#39;, { keyframes: [ { duration: 1, x: 100, }, { duration: 1, y: 100 }, { duration: 1, rotation: 360 }, ] });   7. å…¨æ–°çš„ repeatRefresh é–‹å•Ÿ repeatRefresh: trueï¼Œæœƒåœ¨é‡è¤‡åŸ·è¡Œæ™‚ï¼ˆè¨­å®š repeatï¼‰ï¼Œç´€éŒ„ç•¶å‰ç‹€æ…‹å†åŸ·è¡Œï¼Œè€Œä¸æœƒå›åˆ°åˆå§‹ç‹€æ…‹ã€‚\n1 2 3 4 5 6  gsap.to(\u0026#39;.box\u0026#39;, { duration: 1, repeat: 5, repeatRefresh: true, x: \u0026#39;random(100, 400)\u0026#39;, });   8. å…¨æ–°çš„å…¨åŸŸå‹•ç•« Global timeline å¯ä»¥æ§åˆ¶å…¨éƒ¨çš„å‹•ç•«å¯¦é«”ã€‚\n1 2 3 4  gsap.globalTimeline.timeScale(0.1); // æ§åˆ¶æ‰€æœ‰å‹•ç•«çš„é€Ÿç‡ 0 ~ 1 gsap.globalTimeline.pause(); // åœæ­¢ç›®å‰æ‰€æœ‰å‹•ç•« gsap.globalTimeline.play(); // æ’­æ”¾ç›®å‰æ‰€æœ‰å‹•ç•« gsap.globalTimeline.paused(); // å›å‚³ç›®å‰å‹•ç•«ç‹€æ…‹ true:æš«åœ / false:æ’­æ”¾   9. æ–°çš„å‹•ç•«è¼”åŠ©å·¥å…·  Utility Methods\n  gsap.utils.checkPrefix() gsap.utils.clamp() gsap.utils.distribute() gsap.utils.getUnit() gsap.utils.interpolate() gsap.utils.mapRange() gsap.utils.normalize() gsap.utils.pipe() gsap.utils.random() gsap.utils.snap() gsap.utils.splitColor() gsap.utils.toArray() gsap.utils.unitize() gsap.utils.wrap() gsap.utils.wrapYoyo()  10. ç›¸å°å‹•ç•«æ™‚é–“ åŸæœ¬æœƒéœ€è¦æ¨™ç±¤ä¾†æ·»åŠ ç›¸å°å‹•ç•«æ™‚é–“ï¼š\n1 2 3 4 5 6  gsap.timeline() .add(\u0026#39;s\u0026#39;) .to(\u0026#39;.box1\u0026#39;, { ... }, \u0026#39;s\u0026#39;) .to(\u0026#39;.box2\u0026#39;, { ... }, \u0026#39;s\u0026#39;) .to(\u0026#39;.box3\u0026#39;, { ... }, \u0026#39;s+=0.8\u0026#39;) .to(\u0026#39;.box4\u0026#39;, { ... }, \u0026#39;s+=0.8\u0026#39;);   GSAP3 æ–°å¢äº†æœ€è¿‘çš„å‹•ç•«æ™‚é–“ï¼š\n \u0026gt;ï¼šæœ€è¿‘æ·»åŠ çš„å‹•ç•«çš„é–‹å§‹æ™‚é–“ \u0026lt;ï¼šæœ€è¿‘æ·»åŠ çš„å‹•ç•«çš„çµæŸæ™‚é–“  1 2 3 4 5  gsap.timeline() .to(\u0026#39;.box1\u0026#39;, { ... }) .to(\u0026#39;.box2\u0026#39;, { ... }, \u0026#39;\u0026lt;\u0026#39;) .to(\u0026#39;.box3\u0026#39;, { ... }, \u0026#39;\u0026lt;0.8\u0026#39;) .to(\u0026#39;.box4\u0026#39;, { ... }, \u0026#39;\u0026lt;\u0026#39;);   è£œé–“å‹•ç•« Tween è£œé–“æ˜¯ flash æ™‚ä»£çš„å°ˆæ¥­è©å½™ï¼Œæ„æ€æ˜¯åœ¨èµ·å§‹ç‹€æ…‹å’Œçµ‚é»ç‹€æ…‹ä¹‹é–“è£œå…¨ä¸­é–“éç¨‹ã€‚\nåŒ…å«å››å€‹è¦ç´ ï¼š\n å‹•ç•«ç›®æ¨™ï¼ˆtargetï¼‰ èµ·å§‹ç‹€æ…‹ çµ‚é»ç‹€æ…‹ è£œé–“æ•ˆæœ  1. å‰µå»º Tween å‰µå»º Tween çš„å¸¸ç”¨æ–¹æ³•ï¼ˆæ‰€æœ‰é€™äº›æ–¹æ³•éƒ½æœƒå›å‚³ Tween å¯¦é«”ï¼‰ï¼š\n gsap.to(target, vars) gsap.from(target, vars) gsap.fromTo(target, fromVars , toVars )  åƒæ•¸èªªæ˜ï¼š\n targetï¼šéœ€è¦å‹•ç•«çš„å…ƒç´   target ä½¿ç”¨ document.querySelectorAll()ï¼Œæ‰€æœ‰ç¬¦åˆçš„ CSS é¸æ“‡å™¨éƒ½æœƒæ˜¯è¨­ç½®å‹•ç•«çš„å°è±¡ã€‚ å¦‚æœæœ‰å¤šå€‹å…ƒç´ å°è±¡ï¼Œå‰‡ä½¿ç”¨é™£åˆ— [element1, element2]   varsï¼šè¨­ç½®è£œé–“æ•ˆæœåŠå±¬æ€§ç‹€æ…‹  Timeline Timeline å°±æ˜¯ã€Œæ™‚é–“è»¸ã€ï¼Œå¯ä»¥ç”¨ä¾†æ§åˆ¶ã€ç®¡ç†ä¸€é€£ä¸²çš„å‹•ç•«ã€‚\n æ§åˆ¶å¤šæ®µå‹•ç•« / åºåˆ—å‹•ç•« è‡ªç”±èˆ‡é‡ç–Šæ’åº æ·»åŠ  Tag æŒæ¡å‹•ç•«ç‰‡æ®µ  èˆ‰ä¾‹ä¾†èªªï¼Œæˆ‘å€‘è¦å°å¤šå€‹å…ƒç´ ä½œä¸€é€£ä¸²çš„å‹•ç•«ï¼Œéœ€è¦å»ºç«‹å¤šå€‹ Tween ä¸¦ç”¨ delay è¨­ç½®å»¶é²æ™‚é–“ï¼Œéå¸¸éº»ç…©ï¼š\n1 2 3  gsap.to(\u0026#39;.box1\u0026#39;, { duration: 1, x: 100, }); gsap.to(\u0026#39;.box2\u0026#39;, { delay: 1, duration: 1, y: 100 }); gsap.to(\u0026#39;.box1\u0026#39;, { delay: 2, duration: 1, rotation: 360 });   è€Œä¸”é‚„ç„¡æ³•å°é€™ä¸€é€£ä¸²çš„å‹•ç•«åšæ§åˆ¶ã€‚é»æˆ‘çœ‹ç¯„ä¾‹ã€‚\né€™æ™‚å€™å¯ä»¥ä½¿ç”¨ Timelineï¼Œå»ºç«‹ä¸€å€‹æ™‚é–“è»¸ï¼Œä¾†ç®¡ç†é€™äº›å‹•ç•«ã€‚\n1 2 3 4 5  const t1 = gsap.timeline(); t1.to(\u0026#39;.box1\u0026#39;, { duration: 1, x: 100, }) .to(\u0026#39;.box2\u0026#39;, { duration: 1, y: 100 }) .to(\u0026#39;.box1\u0026#39;, { duration: 1, rotation: 360 });   é»æˆ‘çœ‹ç¯„ä¾‹ã€‚\nå¦‚æœæœ‰ç›¸åŒå‹•ç•«ç‹€æ…‹ï¼Œå¯ä»¥è¨­å®šé è¨­å€¼ï¼Œä½¿ç¨‹å¼ç¢¼æ›´ç°¡æ½”ï¼š\n1 2 3 4 5 6 7 8 9  const t1 = gsap.timeline({ defaults: { duration: 1, }, }); t1.to(\u0026#39;.box1\u0026#39;, { x: 100, }) .to(\u0026#39;.box2\u0026#39;, { y: 100, }) .to(\u0026#39;.box1\u0026#39;, { rotation: 360, });   1. åœ¨æ™‚é–“è»¸ä¸­æ”¾ç½®å‹•ç•« åœ¨æ™‚é–“è»¸å»ºç«‹å‹•ç•«ï¼š\n to() from fromTo set()  1 2 3  const tl = gsap.timeline(); tl.to(element, {duration: 1, x: 100, opacity: 0.5});   Timeline å¯ä»¥éˆå¼å‘¼å«ï¼š\n1 2 3 4  const tl = gsap.timeline(); tl.from(element, {duration: 1, x: -100}) .to(element, {duration: 1, y: 50});   åœ¨æ™‚é–“è»¸ä¸­ï¼ŒåŠ å…¥ä¸€æ®µå·²å»ºç«‹çš„å‹•ç•«ï¼Œä½¿ç”¨ add()ï¼š\n1 2 3 4  const tween = tween = gsap.to(element, {duration: 1, x: 100, opacity: 0.5}); const tl = gsap.timeline(); tl.add(tween);   Timeline è¨±å¤šæ–¹æ³•éƒ½å¤š position åƒæ•¸ï¼Œå¯ç”¨ä¾†æ§åˆ¶å‹•ç•«æ’å…¥é»ï¼š\n ç„¡è¨­ç½®ï¼šæ™‚é–“è»¸æœ«å°¾ 1ï¼šçµ•å°æ™‚é–“ï¼ŒæŒ‡å®šæ™‚é–“è™• '+=1'ã€-=1ï¼šç›¸å°æ™‚é–“ï¼Œç›¸å°æ–¼æ™‚é–“è»¸çš„çµå°¾ 'someLabel'ï¼šæŒ‡å®šæ¨™ç±¤è™•ï¼ˆå»ºç«‹æ¨™ç±¤ä½¿ç”¨ addLabel()ï¼‰ â€µsomeLabel+=1'ã€â€µsomeLabel-=1'ï¼šç›¸å°æ–¼æŒ‡å®šæ¨™ç±¤ \u0026lt;ï¼šæœ€è¿‘å‹•ç•«çš„é–‹é ­ \u0026gt;ï¼šæœ€è¿‘å‹•ç•«çš„çµå°¾ \u0026lt;1ã€\u0026lt;-1ï¼šç›¸å°æ–¼æœ€è¿‘å‹•ç•«çš„é–‹é ­ \u0026gt;1ã€\u0026gt;-1ï¼šç›¸å°æ–¼æœ€è¿‘å‹•ç•«çš„çµå°¾  1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23  // æ’å…¥è‡³æ™‚é–“è»¸æœ«å°¾ tl.to(element, 1, {}); // æ’å…¥è‡³æ™‚é–“è»¸2ç§’è™• tl.to(element, 1, {}, 2); // åœ¨æ™‚é–“è»¸çµæŸå¾Œ2ç§’é˜æ’å…¥ tl.to(element, 1, {}, \u0026#39;+=2\u0026#39;); // åœ¨æ™‚é–“è»¸çµæŸå‰2ç§’é˜æ’å…¥ tl.to(element, 1, {}, \u0026#39;-=2\u0026#39;); // åœ¨3ç§’è™•å»ºç«‹spinæ¨™ç±¤ t1.addLabel(\u0026#39;spin\u0026#39;, 3); // åœ¨spinæ¨™ç±¤è™•æ’å…¥å‹•ç•« tl.to(element, 1, {}, \u0026#39;spin\u0026#39;); // åœ¨spinæ¨™ç±¤è™•å‰ä¸‰ç§’å…¥å‹•ç•« tl.to(element, 1, {}, \u0026#39;spin+=3\u0026#39;); // åœ¨æœ€è¿‘ä¸€æ¬¡å‹•ç•«çš„é–‹é ­æ’å…¥ tl.to(element, {x: 100}, \u0026#39;\u0026lt;\u0026#39;); // åœ¨æœ€è¿‘ä¸€æ¬¡å‹•ç•«çš„é–‹å§‹å¾Œ1ç§’æ’å…¥ tl.to(element, {x: 100}, \u0026#39;\u0026lt;1\u0026#39;);   åŸºæœ¬ç”¨æ³• 1. æ•¸å­—å‹•ç•« 0~100 æœ€åŸºæœ¬çš„ç”¨æ³•ï¼Œå°ç‰©ä»¶çš„å±¬æ€§å»åšè®ŠåŒ–ã€‚\nSee the Pen GSAP3 Demo - åŸºæœ¬æ•¸å­—å‹•ç•« by CHUPAIWANG (@CHUPAIWANG) on CodePen.  2. CSS å‹•ç•« See the Pen GSAP3 Demo - CSS å‹•ç•« by CHUPAIWANG (@CHUPAIWANG) on CodePen.  3. å‹•ç•«æ§åˆ¶  .play()ï¼šæ’­æ”¾å‹•ç•« .pause()ï¼šæš«åœå‹•ç•«æ’­æ”¾ .paused()ï¼šç²å–æˆ–è¨­ç½®å‹•ç•«æš«åœç‹€æ…‹  myAnimation.paused(!myAnimation.paused()) æš«åœå‹•ç•«åˆ‡æ›   .resume()ï¼šç¹¼çºŒå‹•ç•«æ’­æ”¾ .restart()ï¼šé‡æ–°é–‹å§‹å‹•ç•« .reverse()ï¼šåè½‰æ’­æ”¾å‹•ç•« .reversed()ï¼šç²å–æˆ–è¨­ç½®å‹•ç•«åè½‰ç‹€æ…‹  myAnimation.reversed( !myAnimation.reversed() ) å‹•ç•«æ’¥æ”¾æ–¹å‘åˆ‡æ›ã€‚   .seek()ï¼šä¸æ”¹è®Šç‹€æ…‹ä¸‹ï¼Œè·³è‡³å‹•ç•«æŸå€‹æ™‚é–“é»  See the Pen GSAP3 Demo - å‹•ç•«æ§åˆ¶ by CHUPAIWANG (@CHUPAIWANG) on CodePen.  4. é‡è¤‡æ’¥æ”¾ã€ä¾†å›æ’¥æ”¾ 1 2 3  repeat: 10, // è¨­ç½®å‹•ç•«é‡è¤‡æ¬¡æ•¸ repeatDelay: 0.5, // è¨­ç½®é‡è¤‡çš„é–“éš”æ™‚é–“(ç§’) yoyo: true, // è¨­ç‚ºtrueæ™‚ï¼Œå‹•ç•«æœƒåè½‰é‡è¤‡   See the Pen GSAP3 Demo - é‡è¤‡ã€ä¾†å› by CHUPAIWANG (@CHUPAIWANG) on CodePen.  5. éŒ¯é–‹å‹•ç•« 1  stagger: 0.5, // è¨­ç½®éŒ¯é–‹æ™‚é–“   See the Pen GSAP3 Demo - é‡è¤‡ã€ä¾†å› by CHUPAIWANG (@CHUPAIWANG) on CodePen.  6. é€±æœŸ GSAP2 çš„ cycle å±¬æ€§ï¼Œè¢« GSAP3 çš„ gsap.utils.wrap() çµ¦å–ä»£ï¼Œè€Œä¸”æ›´åŠ éˆæ´»ã€‚\nSee the Pen GSAP3 Demo - é€±æœŸ by CHUPAIWANG (@CHUPAIWANG) on CodePen.  ç°¡æ˜“æ‡‰ç”¨ Mousemove Event 1. Image Trail Effects See the Pen GSAP3 - Image Trail Effects by Chupai@Design (@chupai) on CodePen.  2. Slinky Text See the Pen GSAP3 - Slinky Text by Chupai@Design (@chupai) on CodePen.  Image Block Reveal See the Pen GSAP3 - Image Block Reveal by Chupai@Design (@chupai) on CodePen.  Text Animation  SplitText å•†æ¥­æ’ä»¶\n 1. é‡çµ„æ–‡å­— See the Pen GSAP3 - é‡çµ„æ–‡å­— by Chupai@Design (@chupai) on CodePen. ","description":"é€™é€±æ˜¯ å…­è§’é¼ å¹´éµäººè³½ ç¬¬å››é€±ï¼Œä¹‹å‰æ²’ç¢°é TweenMaxï¼Œä½† gsap å·²ç¶“å‡ç´š GSAP3ï¼Œå°±ç°¡å–®ç ”ç©¶ä¸€ä¸‹ GSAP3ã€‚","id":96,"section":"posts","tags":["GSAP3","TweenMax","w3HexSchool"],"title":"GSAP3 - å°ˆé–€è™•ç†å‹•ç•«èˆ‡ç‰¹æ•ˆçš„ JS å¥—ä»¶","uri":"https://chupai.github.io/posts/200229_gsap3/"},{"content":"é€™é€±æ˜¯ å…­è§’é¼ å¹´éµäººè³½ ç¬¬ä¸‰é€±ï¼Œä¸çŸ¥é“è¦å¯«å•¥ï¼Œå°±é‡æ–°æ•´ç†äº†ä¸€ä¸‹ Flexbox çš„ç­†è¨˜ã€‚\nFlexbox æ¦‚è¿° Flexbox å…¨ç¨±ç‚º CSS Flexible Box Layoutï¼Œä¹Ÿå°±æ˜¯ CSS å½ˆæ€§ç›’å­ä½ˆå±€ã€‚æ˜¯ä¸€ç¨®æ–°çš„ CSS3 ä½ˆå±€æ¨¡å¼ï¼Œåœ¨å½ˆæ€§ç›’å­ä½ˆå±€ä¸­ï¼Œå½ˆæ€§å®¹å™¨çš„å­é …ç›®å€‘å¯ä»¥ä¼¸å±•åˆ°ä»»ä½•æ–¹å‘ã€ä¸¦è®“ä»–å€‘çš„å°ºå¯¸æ›´åŠ ã€Œå½ˆæ€§ã€ã€æˆ–è€…æŒçºŒå¢å¤§ï¼Œä»¥å¡«è£œæœªä½¿ç”¨çš„ç©ºé–“ï¼ŒæŠ‘æˆ–ç¸®å°ï¼Œä»¥é¿å…çˆ¶å…ƒç´ æº¢å‡ºã€‚å­å…ƒç´ çš„æ©«å‘æˆ–ç¸±å‘å°é½Šéƒ½å¾ˆå®¹æ˜“æ“ä½œã€‚\n1. ç‚ºä½•æµè¡Œï¼Ÿ ç‚ºä½•é–‹å§‹æµè¡Œäº†å‘¢ï¼Ÿæœ€ä¸»è¦ä¹Ÿæ˜¯å› ç‚º CSS3 çš„è¦ç¯„çµ‚æ–¼æ™®åŠï¼ŒåŠ ä¸Šè¡Œå‹•è£ç½®çš„ç™¼å±•ä¿ƒæˆäº†éŸ¿æ‡‰å¼ä½ˆå±€èˆˆèµ·ï¼Œè‡ªé©æ‡‰é•·å¯¬å½ˆæ€§ç›¸ç•¶å¤§çš„ Flexbox å°±è¶å‹¢è€Œèµ·äº†ã€‚\n éå¸¸é©åˆå–®å‘æ’ç‰ˆï¼Œä¾‹å¦‚å°è¦½åˆ—ã€Gird-Layout è¨±å¤š CSS æ¡†æ¶ä¹Ÿä½¿ç”¨ï¼ˆBootstrapã€Foundation ç­‰ï¼‰  è·Ÿæ¯’å“ä¸€æ¨£ï¼Œç”¨éå°±å›ä¸å»äº†ã€‚\n2. ç€è¦½å™¨çš„æ”¯æ´ ç€è¦½å™¨æ”¯æ´é«˜é” 97%ã€‚\n Can I use CSS Flexible Box Layout Module ?\n 3. Flexbox è¦æ ¼æ­·å²  2009 å¹´çš„ç‰ˆæœ¬ï¼šdisplay: box ç¾åœ¨å·²ç¶“ä¸å†è·Ÿ Flexbox æœ‰ä»»ä½•é—œä¿‚ã€‚ 2011 éæ¸¡æœŸç‰ˆæœ¬ï¼šdisplay: flexbox åªæ˜¯è‰ç¨¿ï¼Œåªè¢« IE10 å¯¦ä½œ, å¦‚æœå¯èƒ½çš„è©±æ‡‰è©²é¿å…ä½¿ç”¨ã€‚ 2012 æœ€çµ‚ç‰ˆï¼šdisplay: flex  æ¨¡å‹æ¦‚å¿µ ä¾†æºï¼šCSSå½ˆæ€§ç›’å­ç”¨æ³•ï½œMDN \nå®¹å™¨èˆ‡é …ç›®ï¼š\n å½ˆæ€§å®¹å™¨ï¼ˆFlex containerï¼‰\nå°‡å…ƒç´ çš„ display å±¬æ€§è¨­ç‚º flex æˆ– inline-flexï¼Œå°±æœƒè®Šå½ˆæ€§å®¹å™¨ã€‚ å½ˆæ€§é …ç›®ï¼ˆFlex itemï¼‰\næ‰€æœ‰å½ˆæ€§å®¹å™¨çš„å­å…ƒç´ éƒ½æœƒè®Šæˆå½ˆæ€§é …ç›®ï¼ŒåŒ…å«æ–‡å­—ã€‚  å½ˆæ€§å®¹å™¨å…·æœ‰ä¸»è»¸èˆ‡äº¤éŒ¯è»¸ï¼š\n ä¸»è»¸ï¼ˆmain axisï¼‰ äº¤éŒ¯è»¸ï¼ˆcross axisï¼‰  æ–¹å‘ï¼š\n ä¸»è»¸èµ·é»èˆ‡çµ‚é»ï¼ˆmain start/main endï¼‰ äº¤éŒ¯è»¸é»èˆ‡çµ‚é»ï¼ˆcross start/cross endï¼‰  å½ˆæ€§é …ç›®å…·æœ‰ï¼š\n æ°´å¹³å°ºå¯¸èˆ‡å‚ç›´å°ºå¯¸ï¼ˆmain sizeã€cross sizeï¼‰  å±¬æ€§ä»‹ç´¹ Flexbox å¯åˆ†æˆå¤–å±¤å…ƒç´ ï¼ˆå½ˆæ€§å®¹å™¨ï¼‰èˆ‡å…§å±¤å…ƒç´ ï¼ˆå½ˆæ€§é …ç›®ï¼‰ã€‚\nå¤–å®¹å™¨å±¬æ€§ï¼š\n displayï¼šflexã€inline-flexï¼Œå•Ÿç”¨ Flexbox çš„å¿…å‚™å±¬æ€§ flex-flow  flex-directionï¼šæ±ºå®šä¸»è»¸ç·šçš„æ–¹å‘ flex-wrapï¼šæ±ºå®šæ˜¯å¦æ›è¡Œ   justify-contentï¼šä¸»è»¸ç·šçš„å°é½Š align-itemsï¼šäº¤éŒ¯è»¸çš„å°é½Š align-contentï¼šæ•´é«”çš„å°é½Š  å…§å±¤å…ƒç´ å±¬æ€§ï¼š\n align-selfï¼šå–®ä¸€å€‹ç‰©ä»¶çš„äº¤éŒ¯è»¸å°é½Š orderï¼šæ’åº flex  flex-growï¼šä¼¸å±•æ¯”ï¼Œå…¶æ•¸å€¼èˆ‡å…¶å®ƒç‰©ä»¶å¯åˆ†é…ä¼¸å±•æ¯”æœ‰é—œ flex-shrinkï¼šæ”¶ç¸®æ¯” flex-basisï¼šçµ•å°å€¼    1. Emmet é€Ÿå¯«æ ¼å¼ Flexbox ç›¸é—œå±¬æ€§çš„ Emmet é€Ÿå¯«æ ¼å¼ï¼š\ndisplay\n d:fï¼šdisplay:flex; d:ifï¼šdisplay:inline-flex;  flex-direction\n fxdï¼šflex-direction:; fxd:cï¼šflex-direction:column; fxd:crï¼šflex-direction:column-reverse; fxd:rï¼šflex-direction:row; fxd:rrï¼šflex-direction:row-reverse;  justify-content\n jcï¼šjustify-content:; jc:cï¼šjustify-content:center; jc:feï¼šjustify-content:flex-end; jc:fsï¼šjustify-content:flex-start; jc:saï¼šjustify-content:space-around; jc:sbï¼šjustify-content:space-between;  flex-wrap\n fxwï¼šflex-wrap: ; fxw:nï¼šflex-wrap:nowrap; fxw:wï¼šflex-wrap:wrap; fxw:wrï¼šflex-wrap:wrap-reverse;  align-items\n aiï¼šalign-items:; ai:bï¼šalign-items:baseline; ai:cï¼šalign-items:center; ai:feï¼šalign-items:flex-end; ai:fsï¼šalign-items:flex-start; ai:sï¼šalign-items:stretch;  align-content\n acï¼šalign-content:; ac:cï¼šalign-content:center; ac:feï¼šalign-content:flex-end; ac:fsï¼šalign-content:flex-start; ac:sï¼šalign-content:stretch; ac:saï¼šalign-content:space-around; ac:sbï¼šalign-content:space-between;  align-self\n asï¼šalign-self:; as:aï¼šalign-self:auto; as:bï¼šalign-self:baseline; as:cï¼šalign-self:center; as:feï¼šalign-self:flex-end; as:fsï¼šalign-self:flex-start; as:sï¼šalign-self:stretch;  order\n ordï¼šorder:;  flex\n fxï¼šflex:; fxbï¼šflex-basis:; fxdï¼šflex-direction:; fxd:cï¼šflex-direction:column; fxd:crï¼šflex-direction:column-reverse; fxd:rï¼šflex-direction:row; fxd:rrï¼šflex-direction:row-reverse; fxfï¼šflex-flow:; fxgï¼šflex-grow:; fxshï¼šflex-shrink:; fxwï¼šflex-wrap: ; fxw:nï¼šflex-wrap:nowrap; fxw:wï¼šflex-wrap:wrap; fxw:wrï¼šflex-wrap:wrap-reverse;  å¤–å®¹å™¨å±¬æ€§ 1. å¿…å‚™å±¬æ€§ ä½¿ç”¨ Flexbox å°±æ˜¯è¦å°‡ display è¨­ç‚º flex æˆ– inline-blockã€‚\n display: flex å…¶å¸ƒå±€æ–¹å¼èˆ‡ block ä¸€æ¨£ï¼Œéƒ½æœƒå¼·è¿«æ›è¡Œï¼› è€Œ inline-flex å’Œ inline-block ä¹Ÿ ä¸€æ¨£ï¼Œåœ¨å¾Œæ–¹çš„å…ƒç´ ä¸æœƒæ›è¡Œã€‚  å”¯ä¸€ä¸åŒçš„æ˜¯ï¼Œflex èˆ‡ inline-flex çš„å­å…ƒç´ å…·å‚™äº†æ›´å¤šå½ˆæ€§çš„è¨­å®šã€‚\n1 2 3 4  \u0026lt;div class=\u0026#34;container\u0026#34;\u0026gt; \u0026lt;div class=\u0026#34;box\u0026#34;\u0026gt;\u0026lt;/div\u0026gt; \u0026lt;div class=\u0026#34;text\u0026#34;\u0026gt;\u0026lt;/div\u0026gt; \u0026lt;/div\u0026gt;   1 2 3 4 5 6 7 8 9  .container { display: block; } .box { display: flex; /* or inline-flex */ width: 100px; height: 100px; }   See the Pen Flex - demo1 by CHUPAIWANG (@CHUPAIWANG) on CodePen.  2. ä¸»è»¸æ–¹å‘ flex-direction å¯ä»¥æ±ºå®šä¸»è»¸çš„æ–¹å‘ï¼Œä¸»è»¸çš„æ–¹å‘å°‡æœƒå½±éŸ¿å®¹å™¨å…§çš„å…ƒç´ æ’åºé †åºã€æ–¹å‘ã€‚\nflex-direction è¨­å®šå€¼å…±æœ‰ä»¥ä¸‹å››ç¨®ï¼š\n rowï¼šé è¨­å€¼ï¼Œç”±å·¦åˆ°å³ï¼Œå¾ä¸Šåˆ°ä¸‹ row-reverseï¼šèˆ‡ row ç›¸å columnï¼šå¾ä¸Šåˆ°ä¸‹ï¼Œå†ç”±å·¦åˆ°å³ column-reverseï¼šèˆ‡ column ç›¸å  1 2 3 4 5  \u0026lt;div class=\u0026#34;container\u0026#34;\u0026gt; \u0026lt;div class=\u0026#34;item\u0026#34;\u0026gt;\u0026lt;/div\u0026gt; \u0026lt;div class=\u0026#34;item\u0026#34;\u0026gt;\u0026lt;/div\u0026gt; \u0026lt;div class=\u0026#34;item\u0026#34;\u0026gt;\u0026lt;/div\u0026gt; \u0026lt;/div\u0026gt;   1 2 3 4 5 6 7 8 9  .container { display: flex; flex-direction: row; } .item { width: 50px; height: 50px; }   See the Pen flex-direction demo by CHUPAIWANG (@CHUPAIWANG) on CodePen.  3. ä¸»è»¸å°é½Š justify-content æ±ºå®šäº†å…§å®¹å…ƒç´ èˆ‡æ•´å€‹ Flexbox çš„ã€Œä¸»è»¸å°é½Šã€ä½ç½®ï¼Œè¨­å®šå€¼å…±æœ‰ä»¥ä¸‹äº”ç¨®ï¼š\n flex-startï¼šé è¨­å€¼ï¼Œå°é½Šä¸»è»¸ç·šæœ€å‰ç«¯ flex-endï¼šå°é½Šä¸»è»¸ç·šæœ€çµ‚ç«¯ centerï¼šå°é½Šä¸»è»¸ç·šä¸­å¤® space-betweenï¼šå¹³å‡åˆ†é…å¯¬åº¦ï¼Œç¬¬ä¸€é …å’Œæœ€å¾Œä¸€é …è²¼é½Šé‚Šç·£ space-aroundï¼šå¹³å‡åˆ†é…å¯¬åº¦ã€é–“è·  1 2 3 4 5  \u0026lt;div class=\u0026#34;container\u0026#34;\u0026gt; \u0026lt;div class=\u0026#34;item\u0026#34;\u0026gt;\u0026lt;/div\u0026gt; \u0026lt;div class=\u0026#34;item\u0026#34;\u0026gt;\u0026lt;/div\u0026gt; \u0026lt;div class=\u0026#34;item\u0026#34;\u0026gt;\u0026lt;/div\u0026gt; \u0026lt;/div\u0026gt;   1 2 3 4 5 6 7 8 9  .container { display: flex; justify-content: flex-start; } .item { width: 50px; height: 50px; }   See the Pen justify-content demo by CHUPAIWANG (@CHUPAIWANG) on CodePen.  4. äº¤éŒ¯è»¸å°é½Š align-items å‰›å¥½å’Œ justify-content ç›¸åï¼Œalign-items æ±ºå®šäº†å…§å®¹å…ƒç´ èˆ‡æ•´å€‹ Flexbox çš„ã€Œäº¤éŒ¯è»¸å°é½Šã€ä½ç½®ï¼Œè¨­å®šå€¼ç¸½å…±æœ‰ä¸‹åˆ—äº”å€‹ï¼š\n stretchï¼šé è¨­å€¼ï¼Œå¦‚æœå­å…ƒç´  height: autoï¼Œæœƒå°‡æ’é–‹è‡³çˆ¶å…ƒç´ çš„é«˜åº¦ flex-startï¼šå°é½Šäº¤éŒ¯è»¸ç·šæœ€å‰ç«¯ flex-endï¼šå°é½Šäº¤éŒ¯è»¸ç·šæœ€æœ«ç«¯ centerï¼šå°é½Šäº¤éŒ¯è»¸ç·šä¸­å¤® baselineï¼šå°é½Šå­å…ƒç´ çš„åŸºç·š  1 2 3 4 5  \u0026lt;div class=\u0026#34;container\u0026#34;\u0026gt; \u0026lt;div class=\u0026#34;item\u0026#34;\u0026gt;\u0026lt;/div\u0026gt; \u0026lt;div class=\u0026#34;item h100\u0026#34;\u0026gt;\u0026lt;/div\u0026gt; \u0026lt;div class=\u0026#34;item h-auto\u0026#34;\u0026gt;\u0026lt;/div\u0026gt; \u0026lt;/div\u0026gt;   1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17  .container { display: flex; justify-content: flex-start; } .item { width: 50px; height: 50px; } .h-100 { height: 100px; } .h-auto { height: auto; }   See the Pen align-items demo by CHUPAIWANG (@CHUPAIWANG) on CodePen.  5. æ›è¡Œ ç•¶æˆ‘å€‘æŠŠçˆ¶å®¹å™¨çš„ display è¨­å®šç‚º flex æˆ– inline-flex çš„æ™‚å€™ï¼Œå­å…ƒç´ å°±æ˜¯ä»¥å–®è¡Œçš„æ–¹å¼æ’åˆ—ï¼Œå› ç‚ºé è¨­ä¸æœƒè¡Œï¼Œå› æ­¤ç•¶é‡åˆ°é‚Šç•Œæœƒå½ˆæ€§èª¿æ•´å…ƒç´ ã€‚\nflex-wrap å¯ä»¥èª¿æ•´å…ƒç´ æ˜¯å¦æ›è¡Œï¼Œå…±æœ‰ä¸‰å€‹è¨­å®šå€¼ï¼š\n nowrapï¼šé è¨­å€¼ï¼Œä¸æ–·è¡Œ wrapï¼šå¤šè¡Œ wrap-reverseï¼šå¤šè¡Œï¼Œä½†ä¸»è»¸ç·šèµ·é»èˆ‡çµ‚é»ç›¸å  1 2 3 4 5 6  \u0026lt;div class=\u0026#34;container\u0026#34;\u0026gt; \u0026lt;div class=\u0026#34;item\u0026#34;\u0026gt;\u0026lt;/div\u0026gt; \u0026lt;div class=\u0026#34;item\u0026#34;\u0026gt;\u0026lt;/div\u0026gt; \u0026lt;div class=\u0026#34;item\u0026#34;\u0026gt;\u0026lt;/div\u0026gt; ... \u0026lt;/div\u0026gt;   1 2 3 4 5 6 7 8 9  .container { display: flex; flex-wrap: nowrap; } .item { width: 50px; height: 50px; }   See the Pen flex-wrap by CHUPAIWANG (@CHUPAIWANG) on CodePen.  6. å¤šè¡Œäº¤éŒ¯è»¸å°é½Š align-items æ˜¯é‡å°å…§å®¹ç‚ºå–®è¡Œçš„å­å…ƒç´ é€²è¡Œè™•ç†ï¼Œå¦‚æœé‡åˆ°å¤šè¡Œçš„å­å…ƒç´ ï¼ˆflex-wrap: wrapï¼‰ï¼Œå°±è¦ä½¿ç”¨ align-content é€™å€‹å±¬æ€§ï¼Œé€™å€‹å±¬æ€§ç¸½å…±æœ‰å…­å€‹è¨­å®šå€¼ï¼š\n stretchï¼šé è¨­å€¼ï¼Œæœƒå¹³å‡åˆ†é…è¡Œè·ï¼Œheight: auto æœƒæ’é–‹å¡«æ»¿æ•´è¡Œã€‚ flex-startï¼šå°é½Šäº¤éŒ¯è»¸ç·šæœ€å‰ç«¯ flex-endï¼šå°é½Šäº¤éŒ¯è»¸ç·šæœ€æœ«ç«¯ centerï¼šå°é½Šäº¤éŒ¯è»¸ç·šä¸­å¤® space-betweenï¼šç¬¬ä¸€è¡Œèˆ‡æœ€å¾Œä¸€è¡Œåˆ†åˆ¥å°é½Šäº¤éŒ¯è»¸ç·šæœ€ä¸Šæ–¹èˆ‡æœ€ä¸‹æ–¹ space-aroundï¼šå¹³å‡åˆ†é…è¡Œè·ï¼Œå…©ç«¯æœƒæœ‰è¡Œè·ä¸€åŠçš„é–“è·  1 2 3 4 5 6  \u0026lt;div class=\u0026#34;container\u0026#34;\u0026gt; \u0026lt;div class=\u0026#34;item\u0026#34;\u0026gt;\u0026lt;/div\u0026gt; \u0026lt;div class=\u0026#34;item\u0026#34;\u0026gt;\u0026lt;/div\u0026gt; \u0026lt;div class=\u0026#34;item\u0026#34;\u0026gt;\u0026lt;/div\u0026gt; ... \u0026lt;/div\u0026gt;   1 2 3 4 5 6 7 8 9 10  .container { display: flex; flex-wrap: wrap; align-content: stretch, } .item { width: 50px; height: 50px; }   See the Pen align-content demo by CHUPAIWANG (@CHUPAIWANG) on CodePen.  å…§å±¤å…ƒç´ å±¬æ€§ 1. äº¤éŒ¯è»¸ä½ç½® align-self ä½œç”¨æ–¼å…§å±¤å®¹å™¨ï¼Œä¹Ÿå°±æ˜¯å­å…ƒç´ æœ¬èº«ï¼Œæœƒè¦†è“‹å¤–å±¤å®¹å™¨çš„ align-itemsã€‚\nè¨­å®šå€¼èˆ‡ align-items ç›¸åŒï¼š\n stretchï¼šé è¨­å€¼ï¼Œå¦‚æœå­å…ƒç´  height: autoï¼Œæœƒå°‡æ’é–‹è‡³çˆ¶å…ƒç´ çš„é«˜åº¦ flex-startï¼šå°é½Šäº¤éŒ¯è»¸ç·šæœ€å‰ç«¯ flex-endï¼šå°é½Šäº¤éŒ¯è»¸ç·šæœ€æœ«ç«¯ centerï¼šå°é½Šäº¤éŒ¯è»¸ç·šä¸­å¤® baselineï¼šå°é½Šå­å…ƒç´ çš„åŸºç·š  1 2 3 4 5 6  \u0026lt;div class=\u0026#34;container\u0026#34;\u0026gt; \u0026lt;div class=\u0026#34;item\u0026#34;\u0026gt;\u0026lt;/div\u0026gt; \u0026lt;div class=\u0026#34;item\u0026#34;\u0026gt;\u0026lt;/div\u0026gt; \u0026lt;div class=\u0026#34;item\u0026#34;\u0026gt;\u0026lt;/div\u0026gt; ... \u0026lt;/div\u0026gt;   1 2 3  .item { align-self: stretch; }   See the Pen align-self demo by CHUPAIWANG (@CHUPAIWANG) on CodePen.  2. æ’åº order å±¬æ€§å¯ä»¥ç›´æ¥æŒ‡å®šä¸€å€‹æ•¸å­—ï¼Œå°±å¯ä»¥ç”±å°åˆ°å¤§çš„æ’åˆ—é †åºã€‚\n é è¨­å€¼ç‚º 0ï¼Œåªçµ¦ä¸€å€‹å…ƒç´ è¨­ç½®æœƒè·‘åˆ°æœ€å¾Œé¢ è¦è¨­ç½®åˆ°æœ€å‰é ­ï¼Œå¯ä»¥è¨­å€¼è² å€¼ ç›¸åŒçš„æ•¸å­—ï¼Œçœ‹å…ƒç´ æ’åº  æ³¨æ„ï¼Œorder åƒ…åƒ…å°å…ƒç´ çš„è¦–è¦ºé †åº (visual order) ç”¢ç”Ÿä½œç”¨ï¼Œä¸¦ä¸æœƒå½±éŸ¿å…ƒç´ çš„é‚è¼¯æˆ–é †åºã€‚\n1 2 3 4 5 6  \u0026lt;div class=\u0026#34;container\u0026#34;\u0026gt; \u0026lt;div class=\u0026#34;item item1\u0026#34;\u0026gt;1\u0026lt;/div\u0026gt; \u0026lt;div class=\u0026#34;item item2\u0026#34;\u0026gt;2\u0026lt;/div\u0026gt; \u0026lt;div class=\u0026#34;item item3\u0026#34;\u0026gt;3\u0026lt;/div\u0026gt; \u0026lt;div class=\u0026#34;item item4\u0026#34;\u0026gt;4\u0026lt;/div\u0026gt; \u0026lt;/div\u0026gt;   1 2 3  .item1 { order: 2; }   See the Pen align-self demo by CHUPAIWANG (@CHUPAIWANG) on CodePen.  3. ä¼¸ç¸®æ¯” FlexBox æœ€é‡è¦çš„å±¬æ€§ã€Œflexã€ï¼Œå€‹åˆ¥èª¿æ•´å­å…ƒç´ é•·åº¦ã€Œä¼¸å±•ã€ã€ã€Œå£“ç¸®ã€çš„æ¯”ä¾‹ä»¥åŠåŸºæœ¬å¤§å°ã€‚\nflex æ˜¯ç°¡å¯«ï¼Œè£¡é¢ä¾åºåŒ…å«ä¸‰å€‹å±¬æ€§ï¼š\n flex-growï¼šé è¨­å€¼ç‚º 0ï¼Œè² å€¼ç„¡æ•ˆ flex-shrinkï¼šé è¨­å€¼ç‚º 1ï¼Œè² å€¼ç„¡æ•ˆ flex-basisï¼šé è¨­å€¼ç‚º autoï¼Œè‹¥å€¼ç‚º 0ï¼Œå‰‡å¿…é ˆåŠ ä¸Šå–®ä½ï¼Œä»¥å…è¢«è¦–ä½œä¼¸ç¸®æ€§  1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16  /* å–®å€¼èªæ³• ç„¡å–®ä½æ•¸å€¼ unitless number: flex-grow */ flex: 2; /* å–®å€¼èªæ³• æœ‰æ•ˆå¯¬é«˜å–®ä½ width/height: flex-basis */ flex: 10em; flex: 30px; /* é›™å€¼èªæ³• flex-grow | flex-basis */ flex: 2 2; /* ä¸‰å€¼èªæ³• flex-grow | flex-shrink | flex-basis */ flex: 2 2 10%;   ä¸‰å€‹å±¬æ€§å¯ä»¥åˆ†é–‹è¨­å®šï¼Œä¹Ÿå¯ä»¥åˆåœ¨ä¸€èµ·ç”¨ä¸€å€‹ flex çµ±ä¸€è¨­å®šã€‚\n3.1 ä¼¸å±•æ¯” flex-grow å…ƒç´ çš„ä¼¸å±•æ€§ï¼Œæ˜¯ä¸€å€‹æ•¸å€¼ï¼Œç•¶å­å…ƒç´ çš„å¯¬åº¦ã€Œå°ã€æ–¼å®ƒè‡ªå·±åœ¨çˆ¶å…ƒç´ åˆ†é…åˆ°çš„å¯¬åº¦ï¼ŒæŒ‰ç…§æ•¸å­—åšç›¸å°æ‡‰çš„ã€Œä¼¸å±•ã€æ¯”ä¾‹åˆ†é…ï¼ˆå‰©é¤˜ç©ºé–“ï¼‰ã€‚\né è¨­å€¼ç‚º 0ï¼Œä¸æœƒé€²è¡Œå½ˆæ€§è®ŠåŒ–ï¼Œä¸å¯ç‚ºè² å€¼ï¼Œè¨­ç‚º 1 å‰‡æœƒé€²è¡Œå½ˆæ€§è®ŠåŒ–ã€‚\nSee the Pen flex-grow  by CHUPAIWANG (@CHUPAIWANG) on CodePen.  3.2 å£“ç¸®æ¯” flex-shrink å…ƒç´ æ”¶ç¸®æ€§ï¼Œæ˜¯ä¸€å€‹æ•¸å€¼ï¼Œç•¶å­å…ƒç´ çš„å¯¬åº¦ã€Œå¤§ã€æ–¼å®ƒè‡ªå·±åœ¨çˆ¶å…ƒç´ åˆ†é…åˆ°çš„å¯¬åº¦æ™‚ï¼Œæœƒé€²è¡Œå£“ç¸®ã€‚\né è¨­å€¼ç‚º 1ï¼Œè¨­ç‚º 0 çš„è©±ä¸æœƒé€²è¡Œå½ˆæ€§è®ŠåŒ–ï¼ˆå…¨éƒ¨éƒ½ 0 å¯èƒ½è¶…å‡ºé‚Šç•Œï¼‰ï¼Œä¸å¯ç‚ºè² å€¼ã€‚\nSee the Pen flex-shrink by CHUPAIWANG (@CHUPAIWANG) on CodePen.  3.3 åŸºæœ¬å¤§å° flex-basis flex-basis ç‚ºå­å…ƒç´ çš„åŸºæœ¬å¤§å°ï¼Œä½œç‚ºçˆ¶å®¹å™¨çš„å¤§å°æ¯”è¼ƒåŸºæº–ï¼Œé è¨­å€¼ç‚º autoã€‚\nåœ¨åˆ†é…ç©ºé–“ä¹‹å‰ï¼Œå­å…ƒç´ æœƒä¾ flex-basis æˆ–è€… width/heightï¼Œé ç´„ç©ºé–“ï¼Œå‰©é¤˜ç©ºé–“æœƒä¾ flex-grow åˆ†é…ã€‚\nä¸»è»¸æ–¹å‘ flex-directionï¼š\n æ°´å¹³ rowï¼š flex-basis ç‚º width çš„æ›¿ä»£ å‚ç›´ columnï¼šflex-basis ç‚º height çš„æ›¿ä»£  å„ªå…ˆç´šï¼š\n å¦‚æœåŒæ™‚è¨­ç½®ï¼Œé‚£éº¼ width/height æœƒè¢«è¦†è“‹ï¼ˆflex-basis çš„å„ªå…ˆç´šè¼ƒé«˜ï¼‰ï¼› å…¶ä¸­æœ‰ä¸€å€‹æ˜¯ autoï¼Œé‚£éº¼å¦å¤–ä¸€å€‹é auto çš„å±¬æ€§å„ªå…ˆç´šæœƒæ›´é«˜ã€‚  ä¸€äº›å¸¸è¦‹å•é¡Œ ä¸€äº›æ–°æ‰‹ä½¿ç”¨ FlexBoxï¼Œæ²’æ³¨æ„åˆ°çš„å•é¡Œã€‚\n1. å­å…ƒç´ é«˜åº¦è¢«å¼·åˆ¶æ‹‰ä¼¸å°é½Š å¸¸è¦‹çš„æƒ…æ³æ˜¯ï¼Œç•¶å­å…ƒç´  col å…§ï¼Œæ”¾ç½®ä¸åŒé«˜åº¦çš„å…ƒç´  boxï¼Œæ¯å€‹å­å…ƒç´  col éƒ½æœƒè¢«å¼·åˆ¶æ‹‰ä¼¸å°é½Šã€‚\n1 2 3 4 5 6 7 8 9 10 11  \u0026lt;div class=\u0026#34;container\u0026#34;\u0026gt; \u0026lt;div class=\u0026#34;col\u0026#34;\u0026gt; \u0026lt;div class=\u0026#34;box1\u0026#34;\u0026gt;\u0026lt;/div\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;div class=\u0026#34;col\u0026#34;\u0026gt; \u0026lt;div class=\u0026#34;box2\u0026#34;\u0026gt;\u0026lt;/div\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;div class=\u0026#34;col\u0026#34;\u0026gt; \u0026lt;div class=\u0026#34;box3\u0026#34;\u0026gt;\u0026lt;/div\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;/div\u0026gt;   1 2 3  .container { display: flex; }   See the Pen å­å…ƒç´ é«˜åº¦è¢«å¼·åˆ¶æ‹‰ä¼¸å°é½Š by CHUPAIWANG (@CHUPAIWANG) on CodePen.  é€™æ˜¯å› ç‚º align-items é è¨­ stretchã€‚å› æ­¤å¯ä»¥é€éæ”¹è®Š align-items çš„å€¼è§£æ±ºï¼Œæˆ–æ˜¯ä½¿ç”¨ align-self å€‹åˆ¥èª¿æ•´ã€‚\n2. å…ƒç´ è¢«å£“ç¸® æˆ‘å€‘éƒ½çŸ¥é“ FlexBox é è¨­ä¸æ›è¡Œï¼Œå› æ­¤ç•¶å®¹å™¨å¤§å°ä¸è¶³æ™‚ï¼Œå„å€‹å­å…ƒç´ æœƒè¢«å£“ç¸®ã€‚æœƒè¢«å£“ç¸®çš„åŸå› æ˜¯ flex-shrink é è¨­ç‚º 1ã€‚\næ‰€ä»¥å¦‚æœä¸å¸Œæœ›å…ƒç´ è¢«å£“ç¸®ï¼Œå¯ä»¥å°‡ flex-shrink è¨­ç‚º 0ã€‚\n1 2 3 4 5 6 7  \u0026lt;div class=\u0026#34;container\u0026#34;\u0026gt; \u0026lt;div class=\u0026#34;col flex-shrink-0\u0026#34;\u0026gt; \u0026lt;img src=\u0026#34;https://picsum.photos/300/300\u0026#34; alt=\u0026#34;\u0026#34;\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;div class=\u0026#34;col\u0026#34;\u0026gt;\u0026lt;/div\u0026gt; \u0026lt;div class=\u0026#34;col\u0026#34;\u0026gt;\u0026lt;/div\u0026gt; \u0026lt;/div\u0026gt;   See the Pen å­å…ƒç´ é«˜åº¦è¢«å¼·åˆ¶æ‹‰ä¼¸å°é½Š by CHUPAIWANG (@CHUPAIWANG) on CodePen. ","description":"é€™é€±æ˜¯ å…­è§’é¼ å¹´éµäººè³½ ç¬¬ä¸‰é€±ï¼Œä¸çŸ¥é“è¦å¯«å•¥ï¼Œå°±é‡æ–°æ•´ç†äº†ä¸€ä¸‹ Flexbox çš„ç­†è¨˜ã€‚","id":97,"section":"posts","tags":["Flex","CSSæ’ç‰ˆ","w3HexSchool"],"title":"CSSç­†è¨˜ - Flexbox","uri":"https://chupai.github.io/posts/200220_flex/"},{"content":"é€™é€±æ˜¯ å…­è§’é¼ å¹´éµäººè³½ ç¬¬äºŒé€±ï¼Œå°±ç°¡å–®çš„æ•´ç† Swiper å¦‚ä½•ä½¿ç”¨ã€‚\nç°¡ä»‹ Swiper æ˜¯ä¸€æ¬¾å…è²»ä»¥åŠè¼•é‡ç´šçš„ JS æ¡†æ¶ï¼Œå¸¸ç”¨æ–¼ç§»å‹•è¨­å‚™çš„å…§å®¹è§¸æ‘¸æ»‘å‹•ã€‚\næœ€é‡è¦çš„æ˜¯ ã€Œä¸éœ€è¦ä½¿ç”¨åˆ° jQueryã€ã€‚\næ›´è©³ç´°ä»‹ç´¹ï¼Œè«‹è¦‹å®˜æ–¹ï¼š\n Swiper Swiper ä¸­æ–‡ç¶²  ç›®å‰ Swiper ç‰ˆæœ¬ç‚º Swiper5ï¼ŒSwiper5 å°æ¯” Swiper4 çš„ API ä¸¦ç„¡å¤ªå¤§è®ŠåŒ–ã€‚Swiper5 å¢åŠ äº† cssModeï¼Œä¸¦ä¸”å¯ä»¥é€šé CSS ä¿®æ”¹ Swiper é¡è‰²é¢¨æ ¼ã€‚\n ä¸€äº›åŸºæœ¬ç¯„ä¾‹ï¼Œå¯ä»¥åƒè€ƒ Swiper Demosã€‚\n å®‰è£ éœ€è¦ç”¨åˆ°çš„æª”æ¡ˆæœ‰ swiper.min.js å’Œswiper.min.css æª”æ¡ˆã€‚\nä¸‹è¼‰ï¼š\n Swiper GitHub repository NPMï¼š  $ npm install swiper CDNï¼š\n1 2 3 4 5  \u0026lt;link rel=\u0026#34;stylesheet\u0026#34; href=\u0026#34;https://unpkg.com/swiper/css/swiper.css\u0026#34;\u0026gt; \u0026lt;link rel=\u0026#34;stylesheet\u0026#34; href=\u0026#34;https://unpkg.com/swiper/css/swiper.min.css\u0026#34;\u0026gt; \u0026lt;script src=\u0026#34;https://unpkg.com/swiper/js/swiper.js\u0026#34;\u0026gt;\u0026lt;/script\u0026gt; \u0026lt;script src=\u0026#34;https://unpkg.com/swiper/js/swiper.min.js\u0026#34;\u0026gt;\u0026lt;/script\u0026gt;    cdnjs - Swiper\n é…ç½®ï¼š\n1 2 3 4 5 6 7 8 9 10 11  \u0026lt;!DOCTYPE html\u0026gt; \u0026lt;html\u0026gt; \u0026lt;head\u0026gt; ... \u0026lt;link rel=\u0026#34;stylesheet\u0026#34; href=\u0026#34;https://unpkg.com/swiper/css/swiper.min.css\u0026#34;\u0026gt; \u0026lt;/head\u0026gt; \u0026lt;body\u0026gt; ... \u0026lt;script src=\u0026#34;https://unpkg.com/swiper/js/swiper.min.js\u0026#34;\u0026gt;\u0026lt;/script\u0026gt; \u0026lt;/body\u0026gt; \u0026lt;/html\u0026gt;   åˆå§‹åŒ– Swiper 1  new Swiper(swiperContainer, parameters);    swiperContainerï¼šè¦æ§åˆ¶çš„ Swiper å®¹å™¨ï¼Œå¯ä»¥æ˜¯ DOM å…ƒç´  æˆ– å­—ä¸²ï¼ˆCSS é¸æ“‡å™¨ï¼‰ parametersï¼šä¸€å€‹ç‰©ä»¶ï¼Œç‚º Swiper çš„é…ç½®åƒæ•¸  1 2 3  var mySwiper = new Swiper(\u0026#39;.swiper-container\u0026#39;, { // é…ç½®åƒæ•¸ });    è©³ç´°é…ç½®åƒæ•¸ï¼Œå¯ä»¥åƒè€ƒ Swiper APIã€‚\n å‡è¨­åˆå§‹åŒ–æ™‚ï¼Œæ²’æœ‰å®šç¾© Swiper å¯¦é«”ï¼Œå¯ä»¥é€é Swiper çš„HTML å…ƒç´ ä¾†ç²å–è©²å¯¦é«”ã€‚\n1 2 3  new Swiper(\u0026#39;.swiper-container\u0026#39;); var mySwiper = document.querySelector(\u0026#39;.swiper-container\u0026#39;).swiper;   Swiper å¯¦é«”æœ‰å±¬æ€§èˆ‡æ–¹æ³•å¯ä»¥ä½¿ç”¨ï¼Œé‚„å¯ä»¥ç›£è½äº‹ä»¶ã€‚\nLayout 1. Swiper å®¹å™¨ ä¸€å€‹ Swiper å°±å°æ‡‰åˆ°ä¸€å€‹ containerã€‚\n1 2  \u0026lt;div class=\u0026#34;swiper-container\u0026#34;\u0026gt; \u0026lt;/div\u0026gt;   1  var mySwiper = new Swiper (\u0026#39;.swiper-container\u0026#39;);   å¦‚æœä¸€å€‹é é¢æœ‰å¾ˆå¤šå€‹ Swiperï¼Œå¯ä»¥çµ¦æ¯å€‹å®¹å™¨åŠ ä¸Š ID æˆ– Class å€åˆ†ã€‚\n1 2 3  \u0026lt;div class=\u0026#34;swiper-container\u0026#34; id=\u0026#34;swiper1\u0026#34;\u0026gt;....\u0026lt;/div\u0026gt; \u0026lt;div class=\u0026#34;swiper-container\u0026#34; id=\u0026#34;swiper2\u0026#34;\u0026gt;....\u0026lt;/div\u0026gt; \u0026lt;div class=\u0026#34;swiper-container\u0026#34; id=\u0026#34;swiper3\u0026#34;\u0026gt;....\u0026lt;/div\u0026gt;   1 2 3  var swiper1 = new Swiper(\u0026#39;#swiper1\u0026#39;); var swiper2 = new Swiper(\u0026#39;#swiper2\u0026#39;); var swiper3 = new Swiper(\u0026#39;#swiper3\u0026#39;);   æˆ‘å€‘å¯ä»¥ç‚ºé€™å€‹å®¹å™¨è¨­ç½®å¤§å°ï¼š\n1 2 3 4  .swiper-container { width: 600px; height: 300px; }   2. slide å…ƒä»¶ Swiper çš„æ¯å€‹å±•ç¤ºå€å¡Šç‚ºä¸€å€‹ slideï¼Œå…¨éƒ¨çš„ slide æœƒæ”¾åœ¨ä¸€å€‹ wrapper ä¸­ã€‚\n1 2 3 4 5 6 7  \u0026lt;div class=\u0026#34;swiper-container\u0026#34;\u0026gt; \u0026lt;div class=\u0026#34;swiper-wrapper\u0026#34;\u0026gt; \u0026lt;div class=\u0026#34;swiper-slide\u0026#34;\u0026gt;Slide 1\u0026lt;/div\u0026gt; \u0026lt;div class=\u0026#34;swiper-slide\u0026#34;\u0026gt;Slide 2\u0026lt;/div\u0026gt; \u0026lt;div class=\u0026#34;swiper-slide\u0026#34;\u0026gt;Slide 3\u0026lt;/div\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;/div\u0026gt;   See the Pen Swiper - åŸºæœ¬ç¯„ä¾‹ by CHUPAIWANG (@CHUPAIWANG) on CodePen.  3. æ§åˆ¶å…ƒä»¶ é™¤äº† slide å¤–ï¼Œé‚„å¯ä»¥åŒ…å«å…¶ä»–æ§åˆ¶å…ƒä»¶ï¼Œå¯ä»¥è‡ªç”±é¸æ“‡ä½ éœ€è¦çš„ã€‚ã€‚\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17  \u0026lt;div class=\u0026#34;swiper-container\u0026#34;\u0026gt; \u0026lt;div class=\u0026#34;swiper-wrapper\u0026#34;\u0026gt; \u0026lt;div class=\u0026#34;swiper-slide\u0026#34;\u0026gt;Slide 1\u0026lt;/div\u0026gt; \u0026lt;div class=\u0026#34;swiper-slide\u0026#34;\u0026gt;Slide 2\u0026lt;/div\u0026gt; \u0026lt;div class=\u0026#34;swiper-slide\u0026#34;\u0026gt;Slide 3\u0026lt;/div\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;!-- Pagination --\u0026gt; \u0026lt;div class=\u0026#34;swiper-pagination\u0026#34;\u0026gt;\u0026lt;/div\u0026gt; \u0026lt;!-- Navigation --\u0026gt; \u0026lt;div class=\u0026#34;swiper-button-prev\u0026#34;\u0026gt;\u0026lt;/div\u0026gt; \u0026lt;div class=\u0026#34;swiper-button-next\u0026#34;\u0026gt;\u0026lt;/div\u0026gt; \u0026lt;!-- Scrollbar --\u0026gt; \u0026lt;div class=\u0026#34;swiper-scrollbar\u0026#34;\u0026gt;\u0026lt;/div\u0026gt; \u0026lt;/div\u0026gt;   1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18  var mySwiper = new Swiper (\u0026#39;.swiper-container\u0026#39;, { // Pagination  pagination: { el: \u0026#39;.swiper-pagination\u0026#39;, }, // Navigation  navigation: { nextEl: \u0026#39;.swiper-button-next\u0026#39;, prevEl: \u0026#39;.swiper-button-prev\u0026#39;, }, // Scrollbar  scrollbar: { el: \u0026#39;.swiper-scrollbar\u0026#39;, }, });   See the Pen Swiper - æ§åˆ¶å…ƒä»¶ by CHUPAIWANG (@CHUPAIWANG) on CodePen.  æ§åˆ¶å…ƒä»¶å¯ä»¥æ”¾åœ¨ container ä¹‹å¤–ï¼Œä½†éœ€è¦è¨­ç½® uniqueNavElements: falseã€‚\n3. å°æ‡‰çš„ class åç¨± å®¹å™¨ã€å…ƒä»¶ã€ç‹€æ…‹ï¼Œå°æ‡‰çš„ class åç¨±ï¼Œéƒ½å¯ä»¥é€éé¸é …æ›´æ”¹ã€‚\nèˆ‰ä¾‹ä¾†èªªï¼Œå°‡é è¨­çš„ swiper-wrapper æ›¿æ›æˆ my-wrapperï¼š\n1 2 3  var mySwiper = new Swiper(\u0026#39;.swiper-container\u0026#39;,{ wrapperClass : \u0026#39;my-wrapper\u0026#39;, });   å®¹å™¨ï¼š\n swiper-containerï¼šSwiper å®¹å™¨  é¸é …ï¼šcontainerModifierClass   swiper-wrapperï¼šslide å®¹å™¨  é¸é …ï¼šwrapperClass    slide å…ƒä»¶ï¼š\n swiper-containerï¼šslide å…ƒä»¶  é¸é …ï¼šslideClass   swiper-slide-activeï¼šactive ç‹€æ…‹çš„ slide å…ƒä»¶  é¸é …ï¼šslideActiveClass   swiper-slide-visibleï¼šå¯è¦–å€å¡Šçš„ slide å…ƒä»¶  é¸é …ï¼šslideVisibleClass   swiper-slide-nextï¼šactive slide çš„ä¸‹ä¸€å€‹ slide å…ƒä»¶  é¸é …ï¼šslideNextClass   swiper-slide-prevï¼šactive slide çš„ä¸Šä¸€å€‹ slide å…ƒä»¶  é¸é …ï¼šslidePrevClass    åŸºæœ¬é…ç½® 1. background-img 1 2 3 4 5 6  \u0026lt;div class=\u0026#34;swiper-container\u0026#34;\u0026gt; \u0026lt;div class=\u0026#34;swiper-wrapper\u0026#34;\u0026gt; \u0026lt;div class=\u0026#34;swiper-slide\u0026#34; style=\u0026#34;background-image:url(\u0026#39;\u0026#39;)\u0026#34;\u0026gt;\u0026lt;/div\u0026gt; ... \u0026lt;/div\u0026gt; \u0026lt;/div\u0026gt;   1 2 3 4 5 6 7 8 9 10  .swiper-container { width: 600px; height: 300px; } .swiper-slide { background-repeat: no-repeat; background-position: center center; background-size: cover; }   See the Pen Swiper Demos - background-img by Chupai@Design (@chupai) on CodePen.  2. \u0026lt;img\u0026gt; 1 2 3 4 5 6 7 8  \u0026lt;div id=\u0026#34;swiper1\u0026#34; class=\u0026#34;swiper-container\u0026#34;\u0026gt; \u0026lt;div class=\u0026#34;swiper-wrapper\u0026#34;\u0026gt; \u0026lt;div class=\u0026#34;swiper-slide\u0026#34;\u0026gt; \u0026lt;img src=\u0026#34;\u0026#34; alt=\u0026#34;\u0026#34; /\u0026gt; \u0026lt;/div\u0026gt; ... \u0026lt;/div\u0026gt; \u0026lt;/div\u0026gt;   1 2 3 4 5 6 7 8 9 10 11  .swiper-container { width: 600px; height: 300px; } .swiper-slide \u0026gt; img { display: block; width: 100%; height: 100%; object-fit: cover; }   1  const mySwiper = new Swiper(\u0026#39;.swiper-container\u0026#39;);   See the Pen Swiper Demos - img by Chupai@Design (@chupai) on CodePen.  3. slidesPerView slidesPerView èƒ½è¨­ç½®åŒæ™‚é¡¯ç¤ºçš„ slide æ•¸é‡ï¼Œslide çš„å¤§å°ç”± container å¯¬å»ç­‰åˆ†ã€‚\n1 2 3  const mySwiper = new Swiper(\u0026#39;.swiper-container\u0026#39;, { slidesPerView: 2, });   See the Pen Swiper Demos - slidesPerView by Chupai@Design (@chupai) on CodePen.  4. ä¾ slide å¤§å°é¡¯ç¤º å¦‚æœæƒ³è¦ä¾ slide å¤§å°ä¾†é¡¯ç¤ºï¼Œå¯ä»¥å°‡ slidesPerView è¨­ç‚º 'auto'ã€‚\n1 2 3 4 5 6 7 8 9 10  .swiper-slide { width: 300px; height: 200px; } .swiper-slide \u0026gt; img { width: 100%; height: 100%; object-fit: cover; }   1 2 3  const mySwiper = new Swiper(\u0026#39;.swiper-container\u0026#39;, { slidesPerView: \u0026#39;auto\u0026#39;, });   See the Pen Swiper Demos - ä¾ slide å¤§å°é¡¯ç¤º by Chupai@Design (@chupai) on CodePen.  3D Cube Effect 3D Cube Effectï¼šeffect: 'cube'ã€‚\ncubeEffect åƒæ•¸ï¼š\n slideShadowsï¼šslide é™°å½±ã€‚é è¨­ç‚º trueã€‚ shadowï¼šæŠ•å½±ã€‚é è¨­ç‚º trueã€‚ shadowOffsetï¼šæŠ•å½±è·é›¢ï¼ˆpxï¼‰ã€‚é è¨­ç‚º 20ã€‚ shadowScaleï¼š æŠ•å½±ç¸®æ”¾æ¯”ä¾‹ã€‚é è¨­ç‚º 0.94ã€‚  1 2 3 4 5 6 7 8 9  const mySwiper = new Swiper(\u0026#39;.swiper-container\u0026#39;, { effect: \u0026#39;cube\u0026#39;, cubeEffect: { slideShadows: true, // slide é™°å½±  shadow: true, // æŠ•å½±  shadowOffset: 20, // æŠ•å½±è·é›¢ï¼ˆpxï¼‰  shadowScale: 0.94, // æŠ•å½±ç¸®æ”¾æ¯”ä¾‹  }, });   1. åŸºæœ¬ å°‡ container è¨­ç‚ºæ–¹å¡Šå¤§å°ã€‚\n1 2 3 4 5 6 7  \u0026lt;div class=\u0026#34;swiper-container\u0026#34;\u0026gt; \u0026lt;div class=\u0026#34;swiper-wrapper\u0026#34;\u0026gt; \u0026lt;div class=\u0026#34;swiper-slide\u0026#34; style=\u0026#34;background-image:url(\u0026#39;\u0026#39;)\u0026#34;\u0026gt;\u0026lt;/div\u0026gt; \u0026lt;div class=\u0026#34;swiper-slide\u0026#34; style=\u0026#34;background-image:url(\u0026#39;\u0026#39;)\u0026#34;\u0026gt;\u0026lt;/div\u0026gt; ... \u0026lt;/div\u0026gt; \u0026lt;/div\u0026gt;   1 2 3 4 5 6 7 8 9 10  .swiper-container { width: 300px; height: 300px; } .swiper-slide { background-repeat: no-repeat; background-position: center center; background-size: cover; }   1 2 3  const mySwiper = new Swiper(\u0026#39;.swiper-container\u0026#39;, { effect: \u0026#39;cube\u0026#39;, });   See the Pen 3D Cube Effect - Basic by Chupai@Design (@chupai) on CodePen.  2. å¡ç‰‡ slide å…§æ”¾ç½® card å…ƒä»¶ï¼Œå°‡ container çš„å¯¬è¨­ç‚º card çš„å¯¬ï¼Œcard ä¸éœ€è¨­ç½®å¯¬åº¦ï¼šã€‚\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19  \u0026lt;div class=\u0026#34;swiper-container\u0026#34;\u0026gt; \u0026lt;div class=\u0026#34;swiper-wrapper\u0026#34;\u0026gt; \u0026lt;div class=\u0026#34;swiper-slide\u0026#34;\u0026gt; \u0026lt;div class=\u0026#34;card\u0026#34;\u0026gt; \u0026lt;div class=\u0026#34;card__img\u0026#34;\u0026gt; \u0026lt;img src=\u0026#34;\u0026#34; alt=\u0026#34;\u0026#34; /\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;div class=\u0026#34;card__body\u0026#34;\u0026gt; \u0026lt;h2 class=\u0026#34;card__title\u0026#34;\u0026gt; Lorem ipsum \u0026lt;span\u0026gt;Web Designer\u0026lt;/span\u0026gt; \u0026lt;/h2\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;div class=\u0026#34;swiper-slide\u0026#34;\u0026gt;...\u0026lt;/div\u0026gt; ... \u0026lt;/div\u0026gt; \u0026lt;/div\u0026gt;   1 2 3 4 5 6 7 8 9  .swiper-container { width: 300px; height: auto; } .card { background-color: white; } .card ...   See the Pen 3D Cube Effect - Card by Chupai@Design (@chupai) on CodePen.  3D Coverflow Effect 3D Coverflowï¼šeffect : 'coverflow'ã€‚\ncoverflowEffect åƒæ•¸ï¼š\n slideShadowsï¼šslide é™°å½±ã€‚é è¨­ç‚º trueã€‚ rotateï¼šslide åš 3D æ—‹è½‰æ™‚ Y è»¸çš„æ—‹è½‰è§’åº¦ã€‚é è¨­ç‚º 50ã€‚ stretchï¼šæ¯å€‹ slide ä¹‹é–“çš„æ‹‰ä¼¸ç›´ï¼Œè¶Šå¤§ slide é å¾—è¶Šç·Šã€‚é è¨­ç‚º 0ã€‚ depthï¼šslide çš„ä½ç½®æ·±åº¦å€¼ï¼Œå€¼è¶Šå¤§ z è»¸è·é›¢è¶Šé ï¼Œçœ‹èµ·ä¾†è¶Šå°ã€‚é è¨­ç‚º 100ã€‚ modifierï¼šdepth å’Œ rotate å’Œ stretch çš„å€ç‡ã€‚é è¨­ç‚º 1ã€‚  1 2 3 4 5 6 7 8 9 10 11 12  const mySwiper = new Swiper(\u0026#39;.swiper-container\u0026#39;,{ slidesPerView: \u0026#39;auto\u0026#39;, centeredSlides: true, effect : \u0026#39;coverflow\u0026#39;, coverflowEffect: { slideShadows : true, rotate: 50, stretch: 0, depth: 100, modifier: 1, }, });   1. åŸºæœ¬ 1 2 3 4 5 6 7  \u0026lt;div class=\u0026#34;swiper-container\u0026#34;\u0026gt; \u0026lt;div class=\u0026#34;swiper-wrapper\u0026#34;\u0026gt; \u0026lt;div class=\u0026#34;swiper-slide\u0026#34; style=\u0026#34;background-image:url(\u0026#39;\u0026#39;)\u0026#34;\u0026gt;\u0026lt;/div\u0026gt; \u0026lt;div class=\u0026#34;swiper-slide\u0026#34; style=\u0026#34;background-image:url(\u0026#39;\u0026#39;)\u0026#34;\u0026gt;\u0026lt;/div\u0026gt; ... \u0026lt;/div\u0026gt; \u0026lt;/div\u0026gt;   1 2 3 4 5 6 7 8 9 10 11  .swiper-container { width: 100%; } .swiper-slide { width: 200px; height: 200px; background-repeat: no-repeat; background-position: center center; background-size: cover; }   1 2 3 4 5  const mySwiper = new Swiper(\u0026#39;.swiper-container\u0026#39;, { effect: \u0026#39;coverflow\u0026#39;, slidesPerView: \u0026#39;auto\u0026#39;, centeredSlides: true, });   å¿…è¨­åƒæ•¸ï¼š\n slidesPerView: 'auto'ï¼Œæ ¹æ“š slide çš„å¯¬åº¦ä¾†è¨­å®š slide å¯è¦–æ•¸é‡ã€‚ centeredSlidesï¼Œactive slide æœƒç½®ä¸­ï¼Œè€Œä¸æ˜¯é è¨­ç‹€æ…‹ä¸‹çš„é å·¦ã€‚  See the Pen coverflowEffect - Basic by Chupai@Design (@chupai) on CodePen.  2. Card å°‡ card å…ƒä»¶åŠ ä¸Š swiper-slideï¼Œä¸¦è¨­ç½®å¯¬åº¦ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14  \u0026lt;div id=\u0026#34;mySwiper\u0026#34; class=\u0026#34;swiper-container\u0026#34;\u0026gt; \u0026lt;div class=\u0026#34;swiper-wrapper\u0026#34;\u0026gt; \u0026lt;div class=\u0026#34;card swiper-slide\u0026#34;\u0026gt; \u0026lt;img src=\u0026#34;\u0026#34; alt=\u0026#34;\u0026#34; class=\u0026#34;card__img\u0026#34;/\u0026gt; \u0026lt;div class=\u0026#34;card__body\u0026#34;\u0026gt; \u0026lt;h3\u0026gt;Lorem ipsum0\u0026lt;/h3\u0026gt; \u0026lt;span\u0026gt;Web Designer\u0026lt;/span\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;div class=\u0026#34;card swiper-slide\u0026#34;\u0026gt;...\u0026lt;/div\u0026gt; \u0026lt;div class=\u0026#34;card swiper-slide\u0026#34;\u0026gt;...\u0026lt;/div\u0026gt; \u0026lt;div class=\u0026#34;card swiper-slide\u0026#34;\u0026gt;...\u0026lt;/div\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;/div\u0026gt;   1 2 3 4 5 6 7 8 9 10  .swiper-container { width: 100%; } .card { width: 240px; border-radius: 8px; background: white; overflow: hidden; }   å¦‚æœ Card å…ƒä»¶è¦æ”¾åœ¨ swiper-slide å…§æœ‰å…©ç¨®åšæ³•ï¼š\n å°‡ slide çš„å¯¬è¨­ç‚º card å¯¬åº¦ï¼Œcard å¯¬åº¦è¨­ç‚º 100%ã€‚ å°‡ slide çš„å¯¬è¨­ç‚º auto !importantï¼Œä¸¦è¨­ç½® card å¯¬åº¦ã€‚  1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18  \u0026lt;div id=\u0026#34;mySwiper\u0026#34; class=\u0026#34;swiper-container\u0026#34;\u0026gt; \u0026lt;div class=\u0026#34;swiper-wrapper\u0026#34;\u0026gt; \u0026lt;div class=\u0026#34;swiper-slide\u0026#34;\u0026gt; \u0026lt;div class=\u0026#34;card\u0026#34;\u0026gt; \u0026lt;img src=\u0026#34;\u0026#34; alt=\u0026#34;\u0026#34; class=\u0026#34;card__img\u0026#34;/\u0026gt; \u0026lt;div class=\u0026#34;card__body\u0026#34;\u0026gt; \u0026lt;h3\u0026gt;Lorem ipsum0\u0026lt;/h3\u0026gt; \u0026lt;span\u0026gt;Web Designer\u0026lt;/span\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;div class=\u0026#34;swiper-slide\u0026#34;\u0026gt; \u0026lt;div class=\u0026#34;card\u0026#34;\u0026gt; ... \u0026lt;/div\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;/div\u0026gt;   1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18  /* ä½œæ³•ä¸€ */ .swiper-slide { width: 240px; } .card { width: 100%; /* ... */ } /* ä½œæ³•äºŒ */ .swiper-slide { width: auto !important; } .card { width: 240px; /* ... */ }   é€™å€‹ç¯„ä¾‹ç¨å¾®ä¿®æ”¹ä¸€ä¸‹ coverflow åƒæ•¸ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12  const mySwiper = new Swiper(\u0026#39;.swiper-container\u0026#39;, { effect: \u0026#39;coverflow\u0026#39;, slidesPerView: \u0026#39;auto\u0026#39;, centeredSlides: true, coverflowEffect: { slideShadows: true, rotate: 20, stretch: 0, depth: 350, modifier: 1, }, });   See the Pen coverflowEffect - Card by Chupai@Design (@chupai) on CodePen.  3D Flip Effect 3D Flip Effectï¼šeffect: 'cube'ã€‚\nflipEffect åƒæ•¸ï¼š\n slideShadowsï¼šslide çš„é™°å½±ã€‚é è¨­ç‚º trueã€‚ limitRotationï¼šé™åˆ¶æœ€å¤§æ—‹è½‰è§’åº¦ç‚º 180 åº¦ã€‚é è¨­ç‚º trueã€‚  1 2 3 4 5 6 7  const mySwiper = new Swiper(\u0026#39;.swiper-container\u0026#39;,{ effect : \u0026#39;flip\u0026#39;, flipEffect: { slideShadows : true, limitRotation : true, } });   1. åŸºæœ¬ é…ç½®è·Ÿ 3D Cube Effect é…ç½®ä¸€æ¨£ï¼š\n1 2 3  const mySwiper = new Swiper(\u0026#39;.swiper-container\u0026#39;,{ effect : \u0026#39;flip\u0026#39;, });   See the Pen 3D Flip Effect - Basic by Chupai@Design (@chupai) on CodePen.  2. å¡ç‰‡ See the Pen 3D Flip Effect - Card by Chupai@Design (@chupai) on CodePen.  Fade Effect Fade Effect effect: 'fade'ã€‚\nfadeEffect æ•ˆæœåƒæ•¸ï¼š\n crossFadeï¼šæ·¡å‡ºæ•ˆæœï¼Œé è¨­ç‚º falseã€‚  é è¨­ crossFade æ˜¯é—œé–‰çš„ï¼Œä¹Ÿå°±æ˜¯æ‰€æœ‰ slide æ˜¯é‡ç–Šåœ¨ä¸€èµ·çš„ã€‚\n1 2 3 4 5 6  const mySwiper = new Swiper(\u0026#39;.swiper-container\u0026#39;, { effect: \u0026#39;fade\u0026#39;, fadeEffect: { crossFade: false }, });   1. åŸºæœ¬ é…ç½®è·Ÿ 3D Cube Effect é…ç½®ä¸€æ¨£ï¼š\n1 2 3  const mySwiper = new Swiper(\u0026#39;.swiper-container\u0026#39;, { effect: \u0026#39;fade\u0026#39;, });   See the Pen Fade Effect - Basic by Chupai@Design (@chupai) on CodePen.  Thumbs Thumbs å…ƒä»¶ç‚ºå°ˆé–€ç”¨æ–¼è£½ä½œå¸¶ç¸®ç•¥åœ–çš„ Swiperï¼Œæ¯”ä½¿ç”¨ Controller æ›´ç‚ºç°¡ä¾¿ï¼Œä¸”åœ¨ loop ç‹€æ…‹ä¸‹æ›´å‹å¥½ã€‚\næœ‰å…©ç¨®å¯«æ³•ï¼š\n1 2 3 4 5 6 7 8 9 10  var thumbsSwiper = new Swiper(\u0026#39;.swiper-container-thumbs\u0026#39;, { slidesPerView: 5, }); var mySwiper = new Swiper(\u0026#39;.swiper-container\u0026#39;, { ... thumbs: { swiper: thumbsSwiper } });   æˆ–æ˜¯ï¼š\n1 2 3 4 5 6 7 8 9 10  var mySwiper = new Swiper(\u0026#39;.swiper-container\u0026#39;, { ... thumbs: { swiper: { el: \u0026#39;.swiper-container-thumbs\u0026#39;, slidesPerView: 5, ... } } });   ç¸®åœ–çš„ Swiper active ç‹€æ…‹ slide æœƒè¢«åŠ ä¸Š .swiper-slide-thumb-active çš„é¡åã€‚\nä½†ä¸çŸ¥é“ç‚ºä»€éº¼ï¼Œæˆ‘ä½¿ç”¨ 4.5.1 ç‰ˆæœ¬çš„ CDNï¼Œ.swiper-slide-thumb-active ä¸æœƒåŠ ä¸Šå»ã€‚\n1. Thumbs Gallery 1 2 3 4 5 6 7 8  \u0026lt;div class=\u0026#34;wrapper\u0026#34;\u0026gt; \u0026lt;div class=\u0026#34;swiper-container gallery-top\u0026#34;\u0026gt; ... \u0026lt;/div\u0026gt; \u0026lt;div class=\u0026#34;swiper-container gallery-thumbs\u0026#34;\u0026gt; ... \u0026lt;/div\u0026gt; \u0026lt;/div\u0026gt;   1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28  .wrapper { width: 600px; } .swiper-slide { background-repeat: no-repeat; background-size: cover; background-position: center center; } .gallery-top { width: 100%; height: 400px; bottom: 10px; } .gallery-thumbs { width: 100%; height: 100px; } .gallery-thumbs .swiper-slide { opacity: 0.4; } .gallery-thumbs .swiper-slide-thumb-active { opacity: 1; }   1 2 3 4 5 6 7 8 9 10 11 12 13 14 15  const mySwiper = new Swiper(\u0026#39;.gallery-top\u0026#39;, { spaceBetween: 10, thumbs: { swiper: { el: \u0026#39;.gallery-thumbs\u0026#39;, spaceBetween: 10, slidesPerView: 4, freeMode: true, }, }, navigation: { nextEl: \u0026#39;.swiper-button-next\u0026#39;, prevEl: \u0026#39;.swiper-button-prev\u0026#39;, }, });   See the Pen Thumbs Gallery by Chupai@Design (@chupai) on CodePen.  ç¸½çµ é€™é€±å°±å…ˆæ•´ç†åˆ°é€™ï¼Œæœ‰ç©ºè£œä¸Šè‡ªå‹•æ’¥æ”¾ã€å¾ªç’°æ¨¡å¼ï¼Œæˆ‘å€‘ä¸‹é€±è¦‹ã€‚\n2020-03-04\nè¢«åˆ†äº«äº†ï¼Œæœ‰é»é©šè¨ï¼Œæ˜¯ä¸æ˜¯è¦ä¾†åŠ ä¸Šå°é¢åœ–äº† ğŸ¤£ã€‚\n","description":"é€™é€±æ˜¯ å…­è§’é¼ å¹´éµäººè³½ ç¬¬äºŒé€±ï¼Œå°±ç°¡å–®çš„æ•´ç† Swiper å¦‚ä½•ä½¿ç”¨ã€‚","id":98,"section":"posts","tags":["Swiper.js","w3HexSchool"],"title":"Swiper - ä¸éœ€è¦ä½¿ç”¨åˆ° jQuery çš„è¼ªæ’­å¥—ä»¶","uri":"https://chupai.github.io/posts/200212_swiper/"},{"content":"å‰è¨€ ä¹‹å‰éƒ½æ˜¯ä½¿ç”¨ Blogger ä¾†æ”¾ç­†è¨˜ï¼Œä½† Blogger æ²’è¾¦æ³•ä½¿ç”¨ Markdown èªæ³•ï¼Œæ‰€ä»¥ç­†è¨˜å¹¾ä¹éƒ½ä½¿ç”¨ HackMD ä¾†å¯«ä½œï¼Œæœ‰ç©ºæ™‚æ‰æœƒå°‡æ–‡ç« è½‰å¥½ä¸Ÿåˆ° Blogger ä¸Šï¼Œå¦‚æœæ–‡ç« ä½œä¿®æ”¹è¦åŒæ­¥å¾ˆéº»ç…©ã€‚\næœ€è¿‘å…­è§’å­¸é™¢èˆ‰è¾¦çš„ w3HexSchool é¼ å¹´å…¨é¦¬éµäººæŒ‘æˆ° é–‹è·‘äº†ï¼Œæœ‰æƒ³éä½¿ç”¨ Hexo + GitHub pages å»ºç«‹ Blogï¼Œä½†å¯¦åœ¨æ˜¯æ²’ç©ºã€‚\nå°±åœ¨ä¸çŸ¥é“è¦å°‡æ–‡ç« ä¸Ÿå“ªæ™‚ï¼Œç™¼ç¾äº†æ”¯æ´ Markdown èªæ³•çš„ç°¡æ˜“éƒ¨è½æ ¼ã€ŒBloggiã€ã€‚\n2020-03-16 ç¬¬ä¸ƒé€±å·²ç¶“æ‰¾æ™‚é–“å°‡å…¨éƒ¨æ–‡ç« æ¬åˆ° Hugo äº†ï¼Œå¯ä»¥åƒè€ƒ ç¬¬ä¸ƒé€±çš„æ–‡ç« ã€‚\n åŸ Blog æ–° Blog  æœ‰ç©ºå†æŠŠ Blogger çš„æ–‡ç« å…¨éƒ¨æ¬éä¾†ã€‚\n\rBloggi Bloggi æ˜¯ä¸€å€‹å…è²»çš„ç¶²èªŒç¶²èªŒå¯«ä½œå¹³å°ï¼Œæ”¯æ´ Markdown èªæ³•ï¼Œä»‹é¢ç°¡æ½”ã€ç„¡å»£å‘Šï¼Œåªéœ€è¦ç°¡å–®çš„è¨»å†Šå°±å¯ä»¥ç«‹å³ä½¿ç”¨ã€‚\n Bloggi å®˜ç¶²\n 1. ç°¡å–®è¨»å†Š  éƒ¨è½æ ¼åç¨± é›»å­éƒµä»¶ å¯†ç¢¼  2. æ•™å­¸æ‰‹å†Š å¸³è™Ÿè¨»å†Šå®Œæˆå¾Œï¼Œé€²åˆ°ã€ŒPostsã€ï¼Œæœƒå…©ç¯‡é è¨­æ–‡ç« ï¼Œç‚ºæ•™å­¸æ‰‹å†ŠåŠ Bloggi çš„ä»‹ç´¹ã€‚çœ‹å®Œä¹‹å¾Œå°±å¯ä»¥åˆªé™¤äº†ã€‚\n3. è¨­å®š æ¥ä¸‹ä¾†é€²åˆ°ã€ŒSettingsã€ï¼Œå¯ä»¥ç·¨è¼¯éƒ¨è½æ ¼åç¨±ã€ç°¡ä»‹ã€LOGOã€ç¶²å€åç¨±ç­‰ç­‰è³‡è¨Šã€‚\néƒ¨åˆ†åŠŸèƒ½å‰‡éœ€è¦ä»˜è²»æ‰ä½¿ç”¨ï¼Œä¾‹å¦‚è‡ªè¨‚ç¶²åŸŸåç¨±ã€Faviconã€Navigation ç­‰ç­‰ã€‚\n4. æ–°å¢æ–‡ç«  æ¥ä¸‹ä¾†å›åˆ°ã€ŒPostsã€ï¼Œå¦‚æœè¦æ–°å¢æ–‡ç« é»é¸ã€ŒNew postã€å³å¯ã€‚\nç·¨è¼¯å™¨å¾ˆç°¡æ˜“ï¼Œåªæœ‰æ¨™é¡Œå’Œå…§æ–‡ï¼Œå¯«ä½œæ ¼å¼ç‚º Markdown èªæ³•ã€‚\nå·¦ä¸Šåˆ†åˆ¥æ˜¯ï¼š\n Publish ç™¼å¸ƒæ–‡ç«  Preview é è¦½æ–‡ç«  Settimgs æ–‡ç« è¨­å®š  5. é è¦½  æˆ‘çš„ Bloggi\n ç¸½çµ å„ªé»ï¼š\n æ”¯æ´ Markdown èªæ³• å…è²»ã€ç„¡å»£å‘Š ç°¡å–®å¥½æ‡‚çš„ä»‹é¢ ç°¡æ˜“å®¢è£½åŒ–èˆ‡è¨­å®š  ç¼ºé»ï¼š\n éœ€è¦ç¬¬ä¸‰æ–¹åœ–ç‰‡ç©ºé–“ï¼Œç®¡ç†ä¸Šç•¥éº»ç…© åŒ¯å…¥åŒ¯å‡ºåŠŸèƒ½ï¼ŒæœŸå¾…æœªä¾†åŠ å…¥  ","description":"é€™é€±æ˜¯ å…­è§’é¼ å¹´éµäººè³½ ç¬¬ä¸€é€±ï¼Œæ”¯æ´ Markdown èªæ³•çš„ç°¡æ˜“éƒ¨è½æ ¼ã€ŒBloggiã€ã€‚","id":99,"section":"posts","tags":["Bloggi","w3HexSchool"],"title":"Bloggi - æ”¯æ´ Markdown èªæ³•çš„ç°¡æ˜“éƒ¨è½æ ¼","uri":"https://chupai.github.io/posts/200205_bloggi/"},{"content":"\råŸºæœ¬èªæ³•èˆ‡æ–‡æ³•  è®Šæ•¸  è³‡æ–™æ“ä½œ  é™£åˆ— è¿­ä»£é™£åˆ— Sliceã€Spliceã€Split çš„å€åˆ¥ é€£çºŒçš„æ•¸å­—é™£åˆ— æ—¥æœŸæ™‚é–“ ç‰©ä»¶å­—é¢å€¼æ“´å……åŠŸèƒ½ å±•é–‹ï¼å…¶é¤˜é‹ç®—å­ è§£æ§‹æŒ‡å®š  å‡½å¼  å‡½å¼å‘¼å«èˆ‡ this  éåŒæ­¥  éåŒæ­¥ å›å‘¼å‡½å¼ Promise Async/Await  AJAX  AJAX JSON XMLHttpRequest Fetch  BOM  window.location ","description":"JavaScriptç­†è¨˜ ç›®éŒ„","id":100,"section":"posts","tags":["JavaScript"],"title":"JavaScriptç­†è¨˜ ç›®éŒ„","uri":"https://chupai.github.io/posts/190620_javascript/"},{"content":"åˆ‡ç‰ˆç·´ç¿’ï¼Œä½¿ç”¨ BEM å‘½å + Sass æ¨¡çµ„åŒ– + Bootstrap4 Grid Systemã€‚\n èˆŠ Blog åŸæ–‡\n \rä½ç½®  ç¶²é  Github è¨­è¨ˆç¨¿  CSS æ’åº  Concentric-CSS  å‘½åè¦ç¯„  å‰ç¶´  l- layout m- modules e- element p- pages h- helpers   BEM  Block__Element_Modifier    Grid System  Bootstrap4  å…¶ä»–  ä½¿ç”¨rem å–®ä½ flex æ’ç‰ˆ ","description":"åˆ‡ç‰ˆç·´ç¿’ï¼Œä½¿ç”¨ BEM å‘½å + Sass æ¨¡çµ„åŒ– + Bootstrap4 Grid Systemã€‚","id":101,"section":"posts","tags":["èˆŠæ–‡ç« æ¬é‹","SASS","BEM"],"title":"ç”œé»é›»å•† - åˆ‡ç‰ˆç·´ç¿’","uri":"https://chupai.github.io/posts/old/1905/190524_sweetaste/"},{"content":"åˆ‡ç‰ˆç·´ç¿’ï¼Œä½¿ç”¨ BEM å‘½å + Sass æ¨¡çµ„åŒ– + Bootstrap4 Grid Systemã€‚\n èˆŠ Blog åŸæ–‡\n \rä½ç½®  ç¶²é  Github è¨­è¨ˆç¨¿  CSS æ’åº  Concentric-CSS  å‘½åè¦ç¯„  å‰ç¶´  l- layout m- modules e- element p- pages h- helpers   BEM  Block__Element_Modifier    Grid System  Bootstrap4  å…¶ä»–  ä½¿ç”¨rem å–®ä½ flex æ’ç‰ˆ  å¾Œè¨˜ ç¬¬ä¸€æ¬¡åˆ‡ç‰ˆå°±ç²å¾—é«˜è©•åƒ¹ï¼Œæœ‰é»é©šåš‡ ğŸ˜±ğŸ˜±\n","description":"åˆ‡ç‰ˆç·´ç¿’ï¼Œä½¿ç”¨ BEM å‘½å + Sass æ¨¡çµ„åŒ– + Bootstrap4 Grid Systemã€‚","id":102,"section":"posts","tags":["èˆŠæ–‡ç« æ¬é‹","SASS","BEM"],"title":"å…­è§’è¥¿é¤å»³ - åˆ‡ç‰ˆç·´ç¿’","uri":"https://chupai.github.io/posts/old/1905/190518_hex-restaurant/"}]